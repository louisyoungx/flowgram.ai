/**
 * Copyright (c) 2025 Bytedance Ltd. and/or its affiliates
 * SPDX-License-Identifier: MIT
 */

const USER_AGENT = navigator?.userAgent ?? '';
export const IN_CHROME = USER_AGENT.includes('Chrome');
export const IN_SAFARI = USER_AGENT.includes('AppleWebKit') && !IN_CHROME;
export const IN_FIREFOX = USER_AGENT.includes('Firefox');
const IS_OVERSEA = true;

export const EXPORT_IMAGE_WATERMARK_SVG = IS_OVERSEA
  ? `<svg width="105" height="36" viewBox="0 0 105 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M29.0435 0H6.34654C2.84144 0 0 2.84144 0 6.34654V29.0435C0 32.5486 2.84144 35.39 6.34654 35.39H29.0435C32.5486 35.39 35.39 32.5486 35.39 29.0435V6.34654C35.39 2.84144 32.5486 0 29.0435 0Z" fill="#4D53E6"/>
<path d="M30.3342 17.6411C30.2939 17.6411 30.2401 17.6411 30.1998 17.6411C29.514 17.6815 27.4702 17.8159 27.4702 17.8159V14.3334C27.4702 8.92811 23.0868 4.53125 17.6815 4.53125C12.2762 4.53125 7.89278 8.91466 7.89278 14.3334V17.8159C7.89278 17.8159 5.84898 17.6815 5.17667 17.6411C5.13634 17.6411 5.08255 17.6411 5.04221 17.6411C3.76484 17.6411 2.72949 18.6765 2.72949 19.9539C2.72949 21.2312 3.37491 21.8094 4.26234 22.1321C5.16323 22.4548 7.89278 23.4498 7.89278 23.4498L7.83899 25.5071C7.83899 27.3089 9.30461 28.7745 11.1064 28.7745C12.9081 28.7745 12.6661 28.4787 13.2309 27.9812C14.0107 29.6619 15.7184 30.8317 17.6949 30.8317C19.6715 30.8317 21.3792 29.6619 22.159 27.9812C22.7372 28.4787 23.4767 28.7745 24.2835 28.7745C26.0853 28.7745 27.5509 27.3089 27.5509 25.5071L27.4971 23.4498C27.4971 23.4498 30.2132 22.4548 31.1275 22.1321C32.0284 21.8094 32.6604 20.9489 32.6604 19.9539C32.6604 18.9589 31.6251 17.6411 30.3477 17.6411H30.3342ZM13.0561 19.6849V17.7353C13.0561 17.2109 13.4863 16.7806 14.0107 16.7806C14.5351 16.7806 14.9654 17.2109 14.9654 17.7353V19.6849C14.9654 20.2093 14.5351 20.6396 14.0107 20.6396C13.4863 20.6396 13.0561 20.2093 13.0561 19.6849ZM21.0833 22.9254C20.2497 23.9608 19.0127 24.5659 17.6815 24.5659C16.3503 24.5659 15.1133 23.9742 14.2797 22.9254C13.9838 22.5624 14.0511 22.0246 14.4141 21.7288C14.7772 21.4329 15.315 21.5002 15.6108 21.8632C16.1083 22.4952 16.8613 22.8582 17.668 22.8582C18.4748 22.8582 19.2278 22.4952 19.7253 21.8632C20.0211 21.5002 20.559 21.4329 20.922 21.7288C21.285 22.0246 21.3523 22.5624 21.0565 22.9254H21.0833ZM21.3523 20.6396C20.7472 20.6396 20.2497 20.1421 20.2497 19.537C20.2497 18.932 20.7472 18.4345 21.3523 18.4345C21.9573 18.4345 22.4548 18.932 22.4548 19.537C22.4548 20.1421 21.9573 20.6396 21.3523 20.6396Z" fill="white"/>
<path d="M49.1186 13.5548C49.7775 13.1783 50.5305 12.9766 51.3776 12.9766C52.2247 12.9766 52.776 13.1111 53.3945 13.3665C54.013 13.622 54.5374 14.0119 54.9677 14.5229L57.1594 12.2909C56.4602 11.4706 55.6131 10.8252 54.6046 10.3815C53.6096 9.93779 52.5205 9.72266 51.3641 9.72266C50.2078 9.72266 48.5674 10.0588 47.3841 10.7446C46.2009 11.4303 45.2596 12.3446 44.5873 13.5144C43.9016 14.6842 43.5654 16.002 43.5654 17.4541C43.5654 18.9063 43.9016 20.2106 44.5873 21.3804C45.2731 22.5502 46.2009 23.4914 47.3841 24.1637C48.5674 24.8495 49.8985 25.1856 51.3641 25.1856C52.8298 25.1856 53.5962 24.957 54.6046 24.5268C55.5996 24.083 56.4602 23.4511 57.1594 22.6174L54.9677 20.4257C54.5374 20.9367 54.013 21.3266 53.3945 21.5821C52.776 21.8375 52.1037 21.972 51.3776 21.972C50.6515 21.972 49.7775 21.7703 49.1186 21.3804C48.4598 20.9904 47.9488 20.4526 47.5724 19.7803C47.1959 19.108 47.0211 18.3281 47.0211 17.4407C47.0211 16.5532 47.2093 15.7734 47.5724 15.1011C47.9488 14.4288 48.4598 13.9044 49.1186 13.5279V13.5548Z" fill="black"/>
<path d="M70.3768 10.7563C69.207 10.0705 67.8758 9.73438 66.4102 9.73438C64.9446 9.73438 63.6538 10.084 62.484 10.7697C61.3142 11.4555 60.3729 12.3832 59.6872 13.5396C59.0014 14.696 58.6519 16.0002 58.6519 17.439C58.6519 18.8777 59.0014 20.1954 59.6872 21.3652C60.3729 22.535 61.3142 23.4762 62.484 24.162C63.6538 24.8477 64.9715 25.1973 66.4102 25.1973C67.8489 25.1973 69.1936 24.8477 70.3768 24.162C71.5466 23.4762 72.4878 22.535 73.1736 21.3652C73.8593 20.1954 74.2089 18.8777 74.2089 17.439C74.2089 16.0002 73.8593 14.696 73.1736 13.5262C72.4878 12.3564 71.5466 11.442 70.3768 10.7563ZM70.2155 19.792C69.839 20.4778 69.328 21.0156 68.6826 21.4055C68.0372 21.7955 67.2708 21.9972 66.4102 21.9972C65.5497 21.9972 64.837 21.7955 64.1782 21.4055C63.5193 21.0156 63.0084 20.4778 62.6319 19.792C62.2554 19.1063 62.0806 18.3264 62.0806 17.439C62.0806 16.5515 62.2688 15.7985 62.6319 15.1397C63.0084 14.4674 63.5193 13.943 64.1782 13.5665C64.837 13.19 65.5766 12.9883 66.4102 12.9883C67.2439 12.9883 68.0238 13.1766 68.6692 13.5665C69.3146 13.943 69.8255 14.4808 70.202 15.1397C70.5785 15.812 70.7802 16.5784 70.7802 17.439C70.7802 18.2995 70.5919 19.1063 70.2289 19.792H70.2155Z" fill="black"/>
<path d="M75.9697 13.1106H82.8541L75.4185 23.0741V24.9028H87.4796V21.864H80.2456L87.6678 11.8736V10.0449H75.9697V13.1106Z" fill="black"/>
<path d="M103.131 13.3245C102.526 12.2084 101.692 11.3345 100.63 10.689C99.568 10.0436 98.3444 9.73438 96.9594 9.73438C95.5745 9.73438 94.2433 10.0705 93.0735 10.7563C91.9037 11.442 90.9894 12.3564 90.3037 13.5262C89.6179 14.696 89.2817 16.0137 89.2817 17.4659C89.2817 18.918 89.6313 20.2492 90.3171 21.4324C91.0028 22.6022 91.9441 23.53 93.1273 24.2023C94.3106 24.8746 95.6552 25.2108 97.1342 25.2108C98.6133 25.2108 99.3797 24.9956 100.415 24.5654C101.45 24.1351 102.324 23.4897 103.05 22.6426L100.913 20.4778C100.455 21.0156 99.9041 21.419 99.2587 21.6879C98.6133 21.9568 97.8872 22.0913 97.1073 22.0913C96.3275 22.0913 95.4266 21.8896 94.7408 21.4997C94.0551 21.1097 93.5173 20.5584 93.1408 19.8592C92.966 19.5231 92.8181 19.1466 92.7374 18.7432H103.857C103.924 18.434 103.965 18.1516 103.992 17.8961C104.019 17.6407 104.032 17.3852 104.032 17.1431C104.032 15.7179 103.723 14.4539 103.118 13.3379L103.131 13.3245ZM93.1139 14.9649C93.4635 14.2791 93.961 13.7547 94.6198 13.3917C95.2652 13.0152 96.0317 12.8404 96.8922 12.8404C97.7528 12.8404 98.4385 13.0018 99.0167 13.3379C99.5814 13.6741 100.025 14.1447 100.348 14.7766C100.536 15.1397 100.671 15.5431 100.765 16.0002H92.7508C92.8315 15.6372 92.966 15.2876 93.1273 14.9783L93.1139 14.9649Z" fill="black"/>
</svg>
`
  : `
      <svg width="89" height="36" viewBox="0 0 89 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_14709_56757)">
<path d="M51.527 8.81641H48.5378V11.5763H46.2294V14.3471H48.5414V18.699H46.2294V21.4698H48.5414V24.4718C48.5414 24.6885 48.3664 24.8634 48.1497 24.8634H46.1396V27.8473H48.1497C50.0138 27.8473 51.5307 26.3331 51.5307 24.4727V19.4869H53.8354V16.7162H51.5307V14.3516H53.8354V11.5808H51.5307V8.81731H51.527V8.81641Z" fill="black"/>
<path d="M63.3027 8.72656H58.016C56.2534 8.72656 54.8218 10.1582 54.8218 11.9153V24.6512C54.8218 26.411 56.257 27.8399 58.016 27.8399H63.3027C65.0653 27.8399 66.4969 26.4083 66.4969 24.6512V11.9153C66.4969 10.1555 65.0616 8.72656 63.3027 8.72656ZM63.5085 24.6512C63.5085 24.7673 63.4142 24.8561 63.3036 24.8561H58.0169C57.9017 24.8561 57.812 24.7627 57.812 24.6512V11.9153C57.812 11.8002 57.9062 11.7104 58.0169 11.7104H63.3036C63.4188 11.7104 63.5085 11.8038 63.5085 11.9153V24.6512Z" fill="black"/>
<path d="M88.9974 16.5117H82.2999L86.1215 11.6556L86.0952 8.97461H71.6312V11.9584H82.0841L78.501 16.5117H69.6782V19.4955H78.3677V24.4704C78.3677 24.6871 78.1927 24.8621 77.976 24.8621H73.6494V27.8459H77.976C79.8401 27.8459 81.357 26.3318 81.357 24.4713V19.4964H89.0038V16.5126H89.0001L88.9974 16.5117Z" fill="black"/>
<path d="M29.8305 0.609375H7.14303C3.63437 0.609375 0.790039 3.45371 0.790039 6.96237V29.6498C0.790039 33.1585 3.63437 36.0028 7.14303 36.0028H29.8305C33.3391 36.0028 36.1835 33.1585 36.1835 29.6498V6.96237C36.1835 3.45371 33.3391 0.609375 29.8305 0.609375Z" fill="#4E53DF"/>
<path d="M31.135 18.2559C31.0906 18.2559 31.0462 18.2568 31.0018 18.2596C30.319 18.3004 28.2727 18.4282 28.2727 18.4282L28.28 14.9475C28.28 9.53564 23.8944 5.1483 18.4826 5.14648C13.0716 5.1483 8.68514 9.53564 8.68514 14.9475L8.6924 18.4282C8.6924 18.4282 6.64606 18.3004 5.96334 18.2596C5.91891 18.2568 5.87448 18.2559 5.83006 18.2559C4.54985 18.2559 3.51172 19.2941 3.51172 20.5743C3.51172 21.5807 4.15454 22.4347 5.04942 22.7584C5.95699 23.0857 8.67426 24.0776 8.67426 24.0776L8.62621 26.1357C8.62621 27.9409 10.0896 29.4034 11.8938 29.4034C12.7071 29.4034 13.4506 29.106 14.0218 28.6155C14.8006 30.2982 16.5042 31.4651 18.4807 31.4651C20.4573 31.4651 22.16 30.2982 22.9397 28.6155C23.5118 29.1069 24.2553 29.4034 25.0676 29.4034C26.8728 29.4034 28.3353 27.94 28.3353 26.1357L28.2872 24.0776C28.2872 24.0776 31.0054 23.0857 31.9121 22.7584C32.8078 22.4357 33.4498 21.5816 33.4498 20.5743C33.4498 19.2941 32.4116 18.2559 31.1314 18.2559H31.135ZM13.8504 20.3005V18.3502C13.8504 17.8235 14.2774 17.3973 14.8033 17.3973C15.3292 17.3973 15.7562 17.8244 15.7562 18.3502V20.3005C15.7562 20.8272 15.3292 21.2534 14.8033 21.2534C14.2774 21.2534 13.8504 20.8263 13.8504 20.3005ZM21.8807 23.5427C21.052 24.5854 19.8135 25.1828 18.4826 25.1828C17.1516 25.1828 15.9122 24.5844 15.0835 23.5409C14.7897 23.171 14.8514 22.6333 15.2213 22.3395C15.5912 22.0458 16.1289 22.1074 16.4226 22.4774C16.9249 23.1102 17.6765 23.4729 18.4835 23.4729C19.2904 23.4729 20.0402 23.1102 20.5434 22.4783C20.8372 22.1083 21.3748 22.0476 21.7447 22.3414C22.1146 22.6351 22.1754 23.1728 21.8816 23.5427H21.8807ZM22.1536 21.2534C21.5453 21.2534 21.052 20.7601 21.052 20.1518C21.052 19.5434 21.5453 19.0502 22.1536 19.0502C22.762 19.0502 23.2552 19.5434 23.2552 20.1518C23.2552 20.7601 22.762 21.2534 22.1536 21.2534Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_14709_56757">
<rect width="88.2111" height="35.3934" fill="white" transform="translate(0.790039 0.609375)"/>
</clipPath>
</defs>
</svg>
    `;

/**
 * safari/firefox 中指定样式表
 * 1. 样式计算会导致所有css变量被生成到dom元素中，导致svg过大无法正常序列化
 * 2. boxShadow 渲染效果有问题排除掉
 */
export const EXPORT_IMAGE_STYLE_PROPERTIES = [
  'width',
  'height',
  'box-sizing',
  'display',
  'align-items',
  'justify-content',
  'font-size',
  'gap',
  'color',
  'background',
  'background-color',
  'font',
  'font-family',
  'fill',
  'stroke',
  'stroke-width',
  'margin',
  'padding',
  'padding-left',
  'padding-top',
  'padding-bottom',
  'padding-right',
  'flex-direction',
  'filter',
  'position',
  'top',
  'left',
  'bottom',
  'right',
  'content',
  'line-height',
  'text-decoration',
  'border-radius',
  'opacity',
  'border-right',
  'border-left',
  'border-width',
  'border-style',
  'border-color',
  'margin-right',
  'margin-left',
  'margin-top',
  'margin-bottom',
  'white-space',
  'overflow',
  'text-overflow',
  'font-weight',
  'min-width',
  'min-height',
  'transform',
  'z-index',
  'flex',
  'border-width',
  'text-wrap',
  'word-break',
  'vertical-align',
  'aspect-ratio',
  'object-fit',
  'align-content',
  'align-self',
  'background-attachment',
  'background-clip',
  'background-image',
  'background-origin',
  'background-repeat',
  'background-size',
  'block-size',
  'border-block-end-color',
  'border-block-end-style',
  'border-block-end-width',
  'border-block-start-color',
  'border-block-start-style',
  'border-block-start-width',
  'border-bottom-color',
  'border-bottom-style',
  'border-bottom-width',
  'border-bottom-left-radius',
  'border-bottom-right-radius',
  'border-end-end-radius',
  'border-end-start-radius',
  'border-inline-end-color',
  'border-inline-end-style',
  'border-inline-end-width',
  'border-inline-start-color',
  'border-inline-start-style',
  'border-inline-start-width',
  'border-right-color',
  'border-right-style',
  'border-right-width',
  'border-start-end-radius',
  'border-start-start-radius',
  'border-top-color',
  'border-top-style',
  'border-top-width',
  'border-top-left-radius',
  'border-top-right-radius',
  'flex-basis',
  'flex-grow',
  'flex-shrink',
  'flex-wrap',
  'font-kerning',
  'font-palette',
  'font-stretch',
  'font-style',
  'inline-size',
  'inset-block-end',
  'inset-block-start',
  'inset-inline-end',
  'inset-inline-start',
  'justify-items',
  'justify-self',
  'line-break',
  'margin-trim',
  'margin-inline-end',
  'margin-inline-start',
  'min-block-size',
  'min-inline-size',
  'overflow-wrap',
  'overflow-x',
  'overflow-y',
  'perspective-origin',
  'transform-box',
  'transform-origin',
  'transform-style',
  'grid-template',
  'grid-template-rows',
  'grid-template-columns',
  'grid-template-areas',
];
