(()=>{"use strict";var e={420188:function(e,t,i){i.d(t,{g2:()=>_.g2,O9:()=>_.O9,zx:()=>_.zx,TJ:()=>N,ZB:()=>_.ZB,ls:()=>_.ls,Os:()=>M,pU:()=>_.pU,xB:()=>_.xB,WG:()=>_.WG,SU:()=>_.SU,ol:()=>_.ol,mi:()=>_.mi,EG:()=>_.EG,xK:()=>_.xK,qx:()=>_.qx,KO:()=>_.KO,OK:()=>_.OK,Ar:()=>_.Ar,Qe:()=>_.Qe,mQ:()=>_.mQ,BZ:()=>_.BZ,JL:()=>_.JL,Vp:()=>_.Vp,rU:()=>_.rU,QZ:()=>_.QZ});var a=i(110239),r=i(868009),n=i(295852),o=i(27419),s=i(744260),d=i(658132),l=i(908600);i(344254);class c{constructor(e){this.createTrailParticle=()=>{let e=this.parentMeteor.radius*(.6+.3*Math.random()),t=-.8+3*Math.random(),i=this.parentMeteor.angle+t,a=.15*e;return{x:this.parentMeteor.x+(Math.random()-.5)*this.parentMeteor.radius,y:this.parentMeteor.y+(Math.random()-.5)*this.parentMeteor.radius,vx:a*Math.cos(i),vy:a*Math.sin(i),size:e,tick:0,life:Math.floor(25+20*Math.random()),alpha:.8+.2*Math.random(),color:this.parentMeteor.color}},this.step=()=>(this.particle.tick++,!(this.particle.tick>this.particle.life)&&(this.particle.x+=this.particle.vx,this.particle.y+=this.particle.vy,this.particle.vx*=.98,this.particle.vy*=.98,!0)),this.draw=e=>{let t=1-this.particle.tick/this.particle.life,i=this.particle.size*t,a=this.particle.alpha*t;if(i<=0||a<=0)return;let r=Math.floor(255*a).toString(16).padStart(2,"0"),n=e.createRadialGradient(this.particle.x,this.particle.y,0,this.particle.x,this.particle.y,2*i);n.addColorStop(0,this.particle.color+"FF"),n.addColorStop(.4,this.particle.color+r),n.addColorStop(.8,this.particle.color+"33"),n.addColorStop(1,this.particle.color+"00"),e.beginPath(),e.arc(this.particle.x,this.particle.y,i,0,2*Math.PI),e.fillStyle=n,e.fill(),e.shadowColor=this.particle.color,e.shadowBlur=2*i,e.fill(),e.shadowBlur=0},this.parentMeteor=e,this.particle=this.createTrailParticle()}}let h=()=>{let e=(0,l.useRef)(null),t=(0,l.useRef)(0),i=(0,l.useRef)([]),r=(0,l.useRef)({x:0,y:0}),n=(0,l.useRef)(0),[o,d]=(0,l.useState)({width:0,height:0}),h=(0,s.e7)(),f=(0,l.useMemo)(()=>(()=>{let e;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||!document.createElement("canvas").getContext("2d"))return{enabled:!1,meteorCount:0,maxFlameTrails:0,trailLength:0,animationQuality:"low",frameSkip:0};let t=navigator.hardwareConcurrency||2,i=navigator.deviceMemory||4;return(e=0+(t>=4?2:+(t>=2))+(i>=8?2:+(i>=4))+(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?-1:1))>=4?{enabled:!0,meteorCount:12,maxFlameTrails:15,trailLength:20,animationQuality:"high",frameSkip:1}:e>=2?{enabled:!0,meteorCount:8,maxFlameTrails:8,trailLength:12,animationQuality:"medium",frameSkip:2}:{enabled:!1,meteorCount:0,maxFlameTrails:0,trailLength:0,animationQuality:"low",frameSkip:0}})(),[]);if(!f.enabled)return null;let u=h?["#6B8CFF","#8DA9FF","#7FDBDA","#A8EDEA"]:["#4062A7","#5482BE","#5ABAC2","#86C8C5"],b=(0,l.useCallback)(()=>{i.current=[];for(let e=0;e<f.meteorCount;e++){let e=.25*Math.PI,t=1.2*Math.random()+1.8,a=(t-1.8)*3+2,r=Math.floor(Math.random()*(.5*f.trailLength)+.5*f.trailLength);i.current.push({x:Math.random()*o.width,y:Math.random()*o.height,vx:Math.cos(e)*a,vy:Math.sin(e)*a,radius:t,color:u[Math.floor(Math.random()*u.length)],alpha:.3*Math.random()+.7,trail:[],trailLength:r,speed:a,angle:e,flameTrails:[],maxFlameTrails:Math.floor(t*f.maxFlameTrails*.5+.3*f.maxFlameTrails)})}},[f,o.width,o.height,u]),g=(0,l.useCallback)(e=>{e.trail.unshift({x:e.x,y:e.y,alpha:e.alpha}),e.trail.length>e.trailLength&&e.trail.pop(),"high"===f.animationQuality&&e.trail.forEach((t,i)=>{t.alpha=e.alpha*(1-i/e.trailLength)})},[f.animationQuality]),p=(0,l.useCallback)(e=>{let t="high"===f.animationQuality?.3:"medium"===f.animationQuality?.21:.12;if(e.flameTrails.length<e.maxFlameTrails&&Math.random()<t){let t=new c(e);e.flameTrails.push(t)}e.flameTrails=e.flameTrails.filter(e=>e.step&&e.step())},[f.animationQuality]),y=(0,l.useCallback)((e,t)=>{"low"!==f.animationQuality&&t.flameTrails.forEach(t=>{t.draw&&t.draw(e)});let i="high"===f.animationQuality?1:"medium"===f.animationQuality?2:3;for(let a=0;a<t.trail.length;a+=i){let i=t.trail[a],r=t.radius*(1-a/t.trail.length)*.8,n=Math.floor(255*("high"===f.animationQuality?i.alpha:t.alpha*(1-a/t.trail.length))).toString(16).padStart(2,"0");e.beginPath(),e.arc(i.x,i.y,r,0,2*Math.PI),e.fillStyle=t.color+n,e.fill(),"high"===f.animationQuality&&(e.shadowColor=t.color,e.shadowBlur=2*r+t.radius,e.fill(),e.shadowBlur=0)}if(e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI),"high"===f.animationQuality){let i=e.createRadialGradient(t.x,t.y,0,t.x,t.y,2.5*t.radius);i.addColorStop(0,t.color+"FF"),i.addColorStop(.5,t.color+"DD"),i.addColorStop(.8,t.color+"77"),i.addColorStop(1,t.color+"00"),e.fillStyle=i}else e.fillStyle=t.color+"DD";e.fill(),e.beginPath(),e.arc(t.x,t.y,.7*t.radius,0,2*Math.PI),e.fillStyle=t.color+"FF",e.fill(),"high"===f.animationQuality&&(e.shadowColor=t.color,e.shadowBlur=5*t.radius+3,e.fill(),e.shadowBlur=0)},[f.animationQuality]),m=e=>{let t=r.current.x-e.x,i=r.current.y-e.y,a=Math.sqrt(t*t+i*i);if(a<120){let r=(120-a)/120*.008,n=Math.atan2(i,t);e.vx+=Math.cos(n)*r,e.vy+=Math.sin(n)*r}g(e),p(e),e.x+=e.vx,e.y+=e.vy,e.x>o.width+3*e.radius&&(e.x=-(3*e.radius),e.trail=[],e.flameTrails=[]),e.x<-(3*e.radius)&&(e.x=o.width+3*e.radius,e.trail=[],e.flameTrails=[]),e.y>o.height+3*e.radius&&(e.y=-(3*e.radius),e.trail=[],e.flameTrails=[]),e.y<-(3*e.radius)&&(e.y=o.height+3*e.radius,e.trail=[],e.flameTrails=[]);let n=.25*Math.PI;e.vx+=.003*Math.cos(n),e.vy+=.003*Math.sin(n),e.vx*=.999,e.vy*=.999,.5>Math.sqrt(e.vx*e.vx+e.vy*e.vy)&&(e.vx=.8*Math.cos(n),e.vy=.8*Math.sin(n)),e.angle=Math.atan2(e.vy,e.vx)},E=(0,l.useCallback)(()=>{let a=e.current;if(!a)return;let r=a.getContext("2d");if(r){if(n.current++,n.current%f.frameSkip!=0){t.current=requestAnimationFrame(E);return}r.clearRect(0,0,o.width,o.height),"low"!==f.animationQuality&&(r.fillStyle=h?"rgba(13, 17, 23, 0.015)":"rgba(237, 243, 248, 0.015)",r.fillRect(0,0,o.width,o.height)),i.current.forEach(e=>{m(e),y(r,e)}),t.current=requestAnimationFrame(E)}},[f,o,h,m,y]);return(0,l.useEffect)(()=>{let e=()=>{d({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{let e=null,t=t=>{e||(e=setTimeout(()=>{r.current={x:t.clientX,y:t.clientY},e=null},"high"===f.animationQuality?16:"medium"===f.animationQuality?32:64))};return window.addEventListener("mousemove",t),()=>{window.removeEventListener("mousemove",t),e&&clearTimeout(e)}},[f.animationQuality]),(0,l.useEffect)(()=>{if(0!==o.width&&0!==o.height)return b(),E(),()=>{t.current&&cancelAnimationFrame(t.current)}},[o,h,b,E]),(0,a.jsx)("canvas",{ref:e,width:o.width,height:o.height,className:"background2-canvas",style:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",zIndex:-1}})};i(388683),i(530371);var f=i(640898);i(857230);let u={1:{x:0,y:0},2:{x:110,y:0},3:{x:220,y:0},4:{x:330,y:0}},b=[{1:{x:60,y:0},2:{x:120,y:0},3:{x:180,y:0},4:{x:240,y:0}},u,{1:{x:0,y:-40},2:{x:110,y:40},3:{x:220,y:-40},4:{x:330,y:40}},u,{1:{x:50,y:-30},2:{x:120,y:-50},3:{x:190,y:-50},4:{x:260,y:-30}},u,{1:{x:30,y:60},2:{x:180,y:-40},3:{x:80,y:-60},4:{x:280,y:40}},u,{1:{x:0,y:75},2:{x:110,y:25},3:{x:220,y:-25},4:{x:330,y:-75}},u,{1:{x:0,y:0},2:{x:110,y:80},3:{x:220,y:40},4:{x:330,y:-20}},u,{1:{x:165,y:-60},2:{x:165,y:-20},3:{x:165,y:20},4:{x:165,y:60}},u,{1:{x:165,y:-40},2:{x:110,y:0},3:{x:165,y:40},4:{x:220,y:0}},u],g=async e=>{let{ctx:t,positionGroup:i}=e;return new Promise(e=>{(0,f.p4c)({from:{d:0},to:{d:100},duration:1e3,onUpdate:e=>{t.document.getAllNodes().forEach(t=>{let{transform:a}=t.transform,r=i[t.id]??{x:a.position.x,y:a.position.y};a.update({position:{x:a.position.x+(r.x-a.position.x)*e.d/100,y:a.position.y+(r.y-a.position.y)*e.d/100}})})},onComplete:()=>{e()}})})},p=async e=>{let t=0;for(;;)await (0,f.gw0)(2e3),await g({ctx:e,positionGroup:b[t]}),t=(t+1)%b.length},y={1:"#4161A6",2:"#5681BD",3:"#5DBBC1",4:"#8BC9C5"},m={1:"#294685",2:"#365f99",3:"#39959c",4:"#599e99"},E=l.memo(e=>{let t=(0,f.G2Z)(f.XHk),{entity:i}=e,{relativePosition:r}=i,[n,o]=(0,l.useState)(i.targetElement),[s,d]=(0,l.useState)(r.x),[c,h]=(0,l.useState)(r.y),[u,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{i.validate();let e=i.onEntityChange(()=>{if(i.targetElement){i.targetElement!==n&&o(i.targetElement);return}let e=i.relativePosition;d(Math.round(e.x)),h(Math.round(e.y))}),a=t.onHoveredChange(e=>{b(t.isHovered(i.id))});return()=>{e.dispose(),a.dispose()}},[t,i,n]);let g={};return e.primaryColor&&(g["--g-workflow-port-color-primary"]=e.primaryColor),e.secondaryColor&&(g["--g-workflow-port-color-secondary"]=e.secondaryColor),e.errorColor&&(g["--g-workflow-port-color-error"]=e.errorColor),e.backgroundColor&&(g["--g-workflow-port-color-background"]=e.backgroundColor),(0,a.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",marginTop:"-12px",marginLeft:"-12px",position:"absolute",background:"#fff",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",left:s,top:c},"data-port-entity-id":i.id,"data-port-entity-type":i.portType,"data-testid":"sdk.workflow.canvas.node.port",children:(0,a.jsx)("div",{style:{width:u?"20px":"16px",height:u?"20px":"16px",borderRadius:"50%",background:y[i.node.id]??"#fff",transition:"width 0.2s ease, height 0.2s ease"}})})}),C=e=>{let{selected:t,node:i,ports:r}=(0,f.PVB)(),n=y[i.id]??"#fff",o=m[i.id]??"#fff";return(0,a.jsx)(f.IxS,{style:{width:60,minHeight:150,height:"auto",background:n,border:t?`2px solid ${o}`:`2px solid ${n}`,borderRadius:16,boxShadow:"0 2px 6px 0 rgba(0, 0, 0, 0.04), 0 4px 12px 0 rgba(0, 0, 0, 0.02)",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",padding:12,cursor:"move"},portStyle:{display:"none"},node:e.node,children:r.map(e=>(0,a.jsx)(E,{entity:e},e.id))})},S=[{type:"start",meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"output"}]}},{type:"end",meta:{deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"input"}]}},{type:"custom",meta:{},defaultPorts:[{type:"output"},{type:"input"}]}],w={nodes:[{id:"1",type:"start",meta:{position:{x:0,y:0}}},{id:"2",type:"custom",meta:{position:{x:110,y:0}}},{id:"3",type:"custom",meta:{position:{x:220,y:0}}},{id:"4",type:"end",meta:{position:{x:330,y:0}}}],edges:[{sourceNodeID:"1",targetNodeID:"2"},{sourceNodeID:"2",targetNodeID:"3"},{sourceNodeID:"3",targetNodeID:"4"}]},x=()=>{let e=(0,s.e7)();return(0,a.jsx)("div",{className:"flowgram-logo-mask",style:{backgroundImage:e?"conic-gradient(from 180deg at 50% 50%, #0095ff 0deg, 180deg, #42d392 1turn)":"conic-gradient(from 180deg at 50% 50%, #3473fb 0deg, 180deg, #46cbc2 1turn)"}})},D=()=>{let e=(0,l.useMemo)(()=>({background:!1,materials:{renderDefaultNode:C},isHideArrowLine:(e,t)=>!!t.from&&!!t.to,nodeRegistries:S,initialData:w,onInit:e=>{e.get(f.dmf).getLineColor=e=>{var t,i;return y[(null==(t=e.from)?void 0:t.id)??(null==(i=e.to)?void 0:i.id)??""]??"#000"}},onAllLayersRendered:async e=>{await e.tools.fitView(!1),e.get(f.ERL).updateConfig=()=>{};let t=window.document.querySelector(".flowgram-logo-container");t instanceof HTMLDivElement&&(t.style.opacity="1"),p(e)},getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0},formMeta:{render:()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f.gNt,{name:"title",children:e=>{let{field:t}=e;return(0,a.jsx)("div",{children:t.value})}})})}})}),[]);return(0,a.jsxs)("div",{className:"flowgram-logo-container",children:[(0,a.jsx)(x,{}),(0,a.jsx)(f.EhS,{...e,children:(0,a.jsx)(f.R6T,{})})]})};var _=i(41625);function N(){let{h1:e,...t}=(0,n.T)();return{...t,h1:t=>{let{...i}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e,{...i}),(0,a.jsxs)(r.GX,{children:[(0,a.jsx)(r.Lp,{}),(0,a.jsx)(r.TO,{})]})]})}}}function M(e){let t=(0,s.e7)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"home-layout-container",children:[(0,a.jsxs)(d.r,{children:[t&&(0,a.jsx)(h,{}),(0,a.jsx)(D,{})]}),(0,a.jsx)(o.O,{...e,afterHero:null,afterHeroActions:null})]})})}},893740:function(e,t,i){i.d(t,{yT:()=>e7,Fw:()=>t2,YZ:()=>u,Lk:()=>tx,Qc:()=>m.Qc,z2:()=>tv,JA:()=>m.JA,Ho:()=>T,UJ:()=>b,ER:()=>tA,Zs:()=>tP,WV:()=>j,Yv:()=>tS,wY:()=>tF,Tj:()=>tT,yy:()=>p,VO:()=>W,Wi:()=>ia,JH:()=>$,XQ:()=>t1,VD:()=>k,mh:()=>tB,s5:()=>Q,nn:()=>ty,W6:()=>t9,iX:()=>ir,qY:()=>tW,p4:()=>ee,v2:()=>to,KV:()=>m.KV,M1:()=>tq,cv:()=>tn,W4:()=>tU,yb:()=>m.yb,_z:()=>X,km:()=>t7,Zn:()=>tZ,Rm:()=>tj,H$:()=>ie,KU:()=>t6,G2:()=>it,Dc:()=>t5,RX:()=>tb,JW:()=>tO,RD:()=>z,bP:()=>ii,xm:()=>te,mY:()=>h,rQ:()=>tY,el:()=>ti,aI:()=>tg,O0:()=>tu,d3:()=>t0});var a,r,n,o,s,d,l,c,h,f,u,b,g,p,y,m=i(832176),E=i(129034),C=i(9163),S=i(661881),w=i(550570);i(543789);var x=i(908600),D=i(473732),_=i(89802),N=Object.defineProperty,M=Object.getOwnPropertyDescriptor,L=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?M(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&N(t,i,n),n};(r=(a=h||(h={})).Default||(a.Default={})).ZOOM_IN="ZOOM_IN",r.ZOOM_OUT="ZOOM_OUT",r.DELETE="DELETE",r.COPY="COPY",r.PASTE="PASTE",r.UNDO="UNDO",r.REDO="REDO",r.VIEW_CLOSE_ALL_WIDGET="view.closeAllWidget",r.VIEW_CLOSE_CURRENT_WIDGET="view.closeCurrentWidget",r.VIEW_REOPEN_LAST_WIDGET="view.reopenLastWidget",r.VIEW_CLOSE_OTHER_WIDGET="view.closeOtherWidget",r.VIEW_CLOSE_BOTTOM_PANEL="view.closeBottomPannel",r.VIEW_OPEN_NEXT_TAB="view.openNextTab",r.VIEW_OEPN_LAST_TAB="view.openLastTab",r.VIEW_FULL_SCREEN="view.fullScreen",r.VIEW_SAVING_WIDGET_CLOSE_CONFIRM="view.savingWidgetCloseConfirm",r.VIEW_SHORTCUTS="view.shortcuts",r.VIEW_PREFERENCES="view.preferences",r.VIEW_LOG="view.log",r.VIEW_PROBLEMS="view.problems",a.is=function(e){return!!e&&e===Object(e)&&"id"in e};var I=Symbol("CommandContribution");(f||(f={})).findSimple=function(e,t){for(let i of e.values())if(i.id===t.id&&i.args.length===t.args.length&&i.args.every((e,i)=>t[i]===e))return i};var T=class{init(){for(let e of this.contributions)e.registerCommands(this)}get commands(){let e=[];for(let t of this.commandIds){let i=this.getCommand(t);i&&e.push(i)}return e}get commandIds(){return Object.keys(this._commands)}registerCommand(e,t){let i="string"==typeof e?{id:e}:e;if(this._commands[i.id])return console.warn(`A command ${i.id} is already registered.`),m.JT.NULL;let a=new m.K4(this.doRegisterCommand(i));return t&&a.push(this.registerHandler(i.id,t)),this.toUnregisterCommands.set(i.id,a),a.push(m.JT.create(()=>this.toUnregisterCommands.delete(i.id))),a}unregisterCommand(e){let t=h.is(e)?e.id:e,i=this.toUnregisterCommands.get(t);i&&i.dispose()}registerHandler(e,t){let i=this._handlers[e];return i||(this._handlers[e]=i=[]),i.unshift(t),{dispose:()=>{let e=i.indexOf(t);e>=0&&i.splice(e,1)}}}isVisible(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return void 0!==this.getVisibleHandler(e,...i)}isEnabled(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return void 0!==this.getActiveHandler(e,...i)}isToggled(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return void 0!==this.getToggledHandler(e,...i)}async executeCommand(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let r=this.getActiveHandler(e,...i),n={id:e,args:i};if(f.findSimple(this._commandExecutings,n))return n.promise;if(r)try{this._commandExecutings.add(n),this.onWillExecuteCommandEmitter.fire({commandId:e,args:i});let t=r.execute(...i);n.promise=t;let a=await t;return this.onDidExecuteCommandEmitter.fire({commandId:e,args:i}),a}finally{this._commandExecutings.delete(n)}}getVisibleHandler(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let r=this._handlers[e];if(r)for(let e of r)try{if(!e.isVisible||e.isVisible(...i))return e}catch(e){console.error(e)}}getActiveHandler(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let r=this._handlers[e];if(r)for(let e of r)try{if(!e.isEnabled||e.isEnabled(...i))return e}catch(e){console.error(e)}}getAllHandlers(e){let t=this._handlers[e];return t?t.slice():[]}getToggledHandler(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let r=this._handlers[e];if(r)for(let e of r)try{if(e.isToggled&&e.isToggled(...i))return e}catch(e){console.error(e)}}getCommand(e){return this._commands[e]}doRegisterCommand(e){return this._commands[e.id]=e,{dispose:()=>{delete this._commands[e.id]}}}updateCommand(e,t){this._commands[e]&&(this._commands[e]={...this._commands[e],...t})}dispose(){this.onWillExecuteCommandEmitter.dispose(),this.onDidExecuteCommandEmitter.dispose()}constructor(){this._handlers={},this._commands={},this._commandExecutings=new Set,this.toUnregisterCommands=new Map,this.onDidExecuteCommandEmitter=new m.Q5,this.onDidExecuteCommand=this.onDidExecuteCommandEmitter.event,this.onWillExecuteCommandEmitter=new m.Q5,this.onWillExecuteCommand=this.onWillExecuteCommandEmitter.event}};L([(0,C.nx)(I),(0,C.jt)()],T.prototype,"contributions",2),T=L([(0,C.b2)()],T);var k=Symbol("CommandService"),P=new C.nZ(e=>{(0,m.yb)(e,I),e(T).toSelf().inSingletonScope(),e(k).toService(T),e("CommandRegistryFactory").toFactory(e=>()=>e.container.get(T))}),O=Object.defineProperty,R=Object.getOwnPropertyDescriptor,A=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?R(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&O(t,i,n),n},V=(e,t)=>(i,a)=>t(i,a,e),B=Object.__proto__,F=0,$=class{getDefaultDataRegistries(){return[]}get changeLocked(){return this._changeLockedTimes>0}set changeLocked(e){this._changeLockedTimes=e?this._changeLockedTimes+1:this._changeLockedTimes-1,this._changeLockedTimes<0&&(this._changeLockedTimes=0)}get type(){if(!this.constructor.type)throw Error(`Entity Registry need a type: ${this.constructor.name}`);return this.constructor.type}get context(){return this.entityManager.context}addInitializeData(e,t){this.isInitialized=!0,e.forEach(e=>this.addData(e,t)),this.isInitialized=!1}get version(){return this._version}toJSON(){let e=[];for(let t of this.dataManager.values())e.push({type:t.type,data:t.toJSON()});return{type:this.type,id:this.id,dataList:e}}fromJSON(e){e&&e.id&&e.type&&(this.changeLocked=!0,this.reset(),e.dataList&&e.dataList.forEach(e=>{let t=this.entityManager.getDataRegistryByType(e.type);t&&this.addData(t).update(e.data)}),this.changeLocked=!1,this.fireChange())}get id(){return this._id}dispose(){this.preDispose.dispose(),this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}reset(){for(let e of(this.changeLocked=!0,this.dataManager.values()))this.initializeDataKeys.includes(e.type)||e.dispose();this.register(),this.changeLocked=!1,this.fireChange()}get onDispose(){return this.toDispose.onDispose}fireChange(){this.changeLocked||this.isInitialized||this.disposed||(this._version++,this._version>=Number.MAX_SAFE_INTEGER&&(this._version=0),this.onEntityChangeEmitter.fire(this))}addData(e,t){this.entityManager.registerEntityData(e);let i=this.dataManager.get(e.type);if(i)return t&&this.updateData(e,t),i;let a=this.entityManager.getDataInjector(e);i=new e(this,null==a?void 0:a()),this.isInitialized&&this.initializeDataKeys.push(i.type),this.dataManager.set(e.type,i),this.toDispose.push(i),i.onDataChange(()=>{let e={type:"update",data:i,entity:this};this.onDataChangeEmitter.fire(e),this.fireChange()}),i.toDispose.push(m.JT.create(()=>{this.initializeDataKeys.includes(e.type)||this.dataManager.delete(e.type);let t={type:"delete",data:i,entity:this};this.onDataChangeEmitter.fire(t),this.fireChange()})),i.changeLocked=!0,this.updateData(e,t||i.getDefaultData()),i.changeLocked=!1;let r={type:"add",data:i,entity:this};return this.onDataChangeEmitter.fire(r),i}get savedInManager(){return this._savedInManager}updateData(e,t){let i=this.dataManager.get(e.type);i&&i.update(t)}getData(e){return this.dataManager.get(e.type)}hasData(e){return this.dataManager.has(e.type)}removeData(e){if(this.initializeDataKeys.includes(e.type))return;let t=this.dataManager.get(e.type);t&&t.dispose()}getService(e){return this.entityManager.getService(e)}register(){this.getDefaultDataRegistries().forEach(e=>this.addData(e))}constructor(e){this.onEntityChangeEmitter=new m.Q5,this.onDataChangeEmitter=new m.Q5,this.initializeDataKeys=[],this.dataManager=new Map,this.toDispose=new m.K4,this.preDispose=new m.K4,this.onEntityChange=this.onEntityChangeEmitter.event,this.onDataChange=this.onDataChangeEmitter.event,this._changeLockedTimes=0,this.isInitialized=!0,this._version=F++,this._savedInManager=!0,this.entityManager=e.entityManager,this._id=e.id||(0,E.x0)(),this._savedInManager=void 0===e.savedInManager||e.savedInManager,this.isInitialized=!0,this.toDispose.push(this.onEntityChangeEmitter),this.toDispose.push(this.onDataChangeEmitter),this.register(),e.datas&&e.datas.forEach(e=>this.addData(e.registry,e.data)),this.isInitialized=!1}};$.type="Entity",(n=$||($={})).getType=function(e){return e.type},n.checkDataChanged=function(e,t){return m.XJ.isChanged(e,t)},n.isRegistryOf=function(e,t){if(e===t)return!0;let i=e.__proto__;for(;i&&i!==B;){if(i.prototype===t.prototype)return!0;i=i.__proto__}return!1};var z=class extends m.Pq{get type(){if(!this.constructor.type)throw Error(`Entity Data Registry need a type: ${this.constructor.name}`);return this.constructor.type}get data(){return this._data}update(e,t){2==arguments.length?this._data[e]!==t&&(this.fireWillChange(),this._data[e]=t,this.fireChange()):this.checkChanged(e)&&(this.fireWillChange(),"object"!=typeof e?this._data=e:this._data={...this._data,...e},this.fireChange())}fullyUpdate(e){m.XJ.isChanged(this._data,e,1,!1)&&(this.fireWillChange(),this._data=e,this.fireChange())}checkChanged(e){return $.checkDataChanged(this._data,e)}toJSON(){return this.data}fromJSON(e){this.update(e)}get changeLocked(){return this._changeLocked}set changeLocked(e){this._changeLocked=e}fireWillChange(){this.onWillChangeEmitter.fire(this)}fireChange(){this._changeLocked||(this._version++,this._version>=Number.MAX_SAFE_INTEGER&&(this._version=0),this.onDataChangeEmitter.fire(this))}bindChange(e,t){this.toDispose.push(e.onDataChange(()=>{t&&t(),this.fireChange()}))}get version(){return this._version}constructor(e,t){super(),this.opts=t,this.onDataChangeEmitter=new m.Q5,this.onWillChangeEmitter=new m.Q5,this._changeLocked=!1,this._version=0,this.onDataChange=this.onDataChangeEmitter.event,this.onWillChange=this.onWillChangeEmitter.event,this.entity=e,this._data=this.getDefaultData(),this.toDispose.push(this.onDataChangeEmitter),this.toDispose.push(this.onWillChangeEmitter)}};z.type="EntityData";var G=class extends z{getDefaultData(){return m.V_.createDefault(m.i1)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};G.type="OriginData";var j=class extends z{getDefaultData(){return m.V_.createDefault(m.Zp)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};j.type="PositionData";var H=class extends z{getDefaultData(){return m.V_.createDefault(m.z)}};H.type="RotationData";var J=class extends z{getDefaultData(){return m.V_.createDefault(m.Of)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};J.type="ScaleData";var X=class extends z{getDefaultData(){return m.V_.createDefault(m.gE)}get width(){return this.data.width}get height(){return this.data.height}set width(e){this.update("width",e)}set height(e){this.update("height",e)}get locked(){return!!this.data.locked}set locked(e){this.update("locked",e)}};X.type="SizeData";var Y=class extends z{getDefaultData(){return m.V_.createDefault(m.S9)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};Y.type="SkewData";var{fixZero:U}=m.E9;(e=>{function t(e,t){return t&&t.apply(e,e),U(e),e}function i(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x),y:-(a.height*r.y)},i)}function a(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x)+a.width,y:-(a.height*r.y)},i)}function r(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x),y:-(a.height*r.y)+a.height},i)}function n(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x)+a.width,y:-(a.height*r.y)+a.height},i)}e.getPointWithMatrix=t,e.getBounds=function(e,t){let o=new m.Ae;if(!t||t.isSimple()){let{size:i,origin:a}=e;o.x=-(i.width*a.x)+((null==t?void 0:t.tx)||0),o.y=-(i.height*a.y)+((null==t?void 0:t.ty)||0),o.width=i.width,o.height=i.height,U(o)}else{let s=i(e,t),d=a(e,t),l=r(e,t),c=n(e,t);o.x=Math.min(s.x,d.x,l.x,c.x),o.y=Math.min(s.y,d.y,l.y,c.y),o.width=Math.max(s.x,d.x,l.x,c.x)-o.x,o.height=Math.max(s.y,d.y,l.y,c.y)-o.y}return o},e.applyMatrix=function(e,i){let a=new m.Ae;if(i.isSimple())a.x=e.x+i.tx,a.y=e.y+i.ty,a.width=e.width,a.height=e.height,U(a);else{let r=t(e.leftTop,i),n=t(e.rightTop,i),o=t(e.leftBottom,i),s=t(e.rightBottom,i);a.x=Math.min(r.x,n.x,o.x,s.x),a.y=Math.min(r.y,n.y,o.y,s.y),a.width=Math.max(r.x,n.x,o.x,s.x)-a.x,a.height=Math.max(r.y,n.y,o.y,s.y)-a.y}return a},e.getLeftPointFromBounds=function(e,t){let o=i(e,t),s=a(e,t);return[o,s,r(e,t),n(e,t)].sort((e,t)=>e.x-t.x)[0]},e.getTopPointFromBounds=function(e,t){let o=i(e,t),s=a(e,t);return[o,s,r(e,t),n(e,t)].sort((e,t)=>e.y-t.y)[0]},e.getCenter=function(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x)+a.width/2,y:-(a.height*r.y)+a.height/2},i)},e.getTopLeft=i,e.getTopCenter=function(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x)+a.width/2,y:-(a.height*r.y)},i)},e.getTopRight=a,e.getLeftCenter=function(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x),y:-(a.height*r.y)+a.height/2},i)},e.getRightCenter=function(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x)+a.width,y:-(a.height*r.y)+a.height/2},i)},e.getBottomLeft=r,e.getBottomCenter=function(e,i){let{size:a,origin:r}=e;return t({x:-(a.width*r.x)+a.width/2,y:-(a.height*r.y)+a.height},i)},e.getBottomRight=n})(u||(u={}));var W=class extends z{get children(){return this._children||[]}clearChildren(){this._children&&this._children.slice().forEach(e=>{e.setParent(void 0)})}get isContainer(){return!!this._children&&this._children.length>0}fireChange(){this.changeLocked||(this._localID++,this.mutationCache.clear(),super.fireChange())}get localTransform(){return this.updateLocalTransformMatrix(),this._localTransform}get worldTransform(){return this.updateTransformMatrix(),this._worldTransform}getDefaultData(){return m.V_.createDefault(m.hY)}update(e){e.position&&this.entity.updateData(j,e.position),e.size&&this.entity.updateData(X,e.size),e.origin&&this.entity.updateData(G,e.origin),e.scale&&this.entity.updateData(J,e.scale),e.skew&&this.entity.updateData(Y,e.skew),void 0!==e.rotation&&this.entity.updateData(H,e.rotation)}get position(){return this.entity.getData(j)}set position(e){this.entity.updateData(j,e)}get size(){return this.entity.getData(X)}set size(e){this.entity.updateData(X,e)}get origin(){return this.entity.getData(G)}set origin(e){this.entity.updateData(G,e)}get scale(){return this.entity.getData(J)}set scale(e){this.entity.updateData(J,e)}get skew(){return this.entity.getData(Y)}set skew(e){this.entity.updateData(Y,e)}get rotation(){return this.entity.getData(H).data}set rotation(e){this.entity.updateData(H,e)}get data(){return m.pL.toJSON(this)}updateSkew(){let{rotation:e}=this;this._cx=Math.cos(e+this.skew.y),this._sx=Math.sin(e+this.skew.y),this._cy=-Math.sin(e-this.skew.x),this._sy=Math.cos(e-this.skew.x),this._localID++}updateLocalTransformMatrix(){let e=this._localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x,e.ty=this.position.y,this._currentLocalID=this._localID,this._parentID=-1)}get localID(){return this._localID}get worldID(){return this._worldID}updateTransformMatrix(){let e=this._localTransform;this.updateLocalTransformMatrix();let t=m.y3.TEMP_MATRIX,i=0;if(this.parent&&(t=this.parent.worldTransform,i=this.parent._worldID),this._parentID!==i){let a=t,r=this._worldTransform;r.a=e.a*a.a+e.b*a.c,r.b=e.a*a.b+e.b*a.d,r.c=e.c*a.a+e.d*a.c,r.d=e.c*a.b+e.d*a.d,r.tx=e.tx*a.a+e.ty*a.c+a.tx,r.ty=e.tx*a.b+e.ty*a.d+a.ty,this._parentID=i,this._worldID++}}setFromMatrix(e){let{a:t,b:i,c:a,d:r}=e,n=-Math.atan2(-a,r),o=Math.atan2(i,t),s=Math.abs(n+o);s<1e-5||1e-5>Math.abs(m._b-s)?(this.rotation=o,this.skew.x=this.skew.y=0):(this.rotation=0,this.skew.x=n,this.skew.y=o),this.scale.x=Math.sqrt(t*t+i*i),this.scale.y=Math.sqrt(a*a+r*r),this.position.x=e.tx,this.position.y=e.ty,this.fireChange()}getMutationCache(e,t){if(this.mutationCache.has(e))return this.mutationCache.get(e);let i=t();return this.mutationCache.set(e,i),i}get bounds(){if(this.isContainer){let e=this._children;return m.Ae.enlarge(e.map(e=>e.bounds))}return u.getBounds(this,this.worldTransform)}get boundsWithoutRotation(){let{center:e}=this.bounds,{worldScale:t}=this,i=this.localSize,a=t.x*i.width,r=t.y*i.height,n={x:e.x-a/2,y:e.y-r/2};return new m.Ae(n.x,n.y,a,r)}get localSize(){let{size:e}=this;if(this.isContainer){let t=m.Ae.enlarge(this.children.map(e=>e.localBounds));e={width:t.width,height:t.height}}return{width:e.width,height:e.height}}get worldSize(){let{localSize:e}=this,{worldScale:t}=this;return{width:e.width*t.x,height:e.height*t.y}}get localBounds(){if(this.isContainer){let e=this._children,t=m.Ae.enlarge(e.map(e=>e.localBounds));return u.applyMatrix(t,this.localTransform)}return this.getMutationCache("localBounds",()=>u.getBounds(this,this.localTransform))}contains(e,t,i){if(this.isContainer)return this.bounds.contains(e,t);let a=this.worldTransform.applyInverse({x:e,y:t}),{width:r,height:n}=this.size;if(0===r||0===n)return!1;let o=-r*this.origin.x,s=-n*this.origin.y;return i?new m.Cd(o+r/2,s+n/2,Math.min(r/2,n/2)).contains(a.x,a.y):!!(a.x>=o)&&!!(a.x<o+r)&&!!(a.y>=s)&&!!(a.y<s+n)}get parent(){return this._parent}isParent(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}isParentTransform(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}setParent(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this._parent!==e&&(this.entityDispose&&(this.entityDispose.dispose(),this.entityDispose=void 0),this._parentChangedDispose&&(this._parentChangedDispose.dispose(),this._parentChangedDispose=void 0),this._parentID=-1,e&&t&&(e._children||(e._children=[]),e._children.push(this),this._parentChangedDispose=new m.K4,this.toDispose.push(this._parentChangedDispose),this.entityDispose=this.entity.onDispose(()=>{e.fireChange()}),this._parentChangedDispose.pushAll([e.onDispose(()=>{this.setParent(void 0)}),m.JT.create(()=>{let t=e._children.indexOf(this);-1!==t&&e._children.splice(t,1)})])),this._parent=e,this.fireChange())}intersects(e){return(!!this.isContainer||0!==this.size.width&&0!==this.size.height)&&m.Ae.intersectsWithRotation(this.boundsWithoutRotation,this.worldRotation,e,0)}get worldScale(){let{parent:e}=this,t=e?e.worldScale:{x:1,y:1};return{x:this.scale.x*t.x,y:this.scale.y*t.y}}get worldRotation(){let{parent:e}=this;return e?m.RZ.wrap(this.rotation+e.worldRotation):m.RZ.wrap(this.rotation)}get worldDegree(){return Math.round(this.worldRotation*m.jl)}get localOrigin(){let e=this.localTransform,t=this.localBounds;return e.apply({x:this.origin.x*t.width,y:this.origin.y*t.height})}get worldOrigin(){let e=this.worldTransform,{bounds:t}=this;return e.apply({x:this.origin.x*t.width,y:this.origin.y*t.height})}widthToScaleX(e,t){return e/(t&&this.parent?this.parent.worldScale.x:1)/this.localSize.width}heightToScaleY(e,t){return e/(t&&this.parent?this.parent.worldScale.y:1)/this.localSize.height}sizeToScaleValue(e,t){return{x:this.widthToScaleX(e.width,t),y:this.heightToScaleY(e.height,t)}}constructor(e){super(e),this._worldTransform=new m.y3,this._localTransform=new m.y3,this.mutationCache=new Map,this.sizeToScale=!1,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0,this.bindChange(this.entity.addData(j)),this.bindChange(this.entity.addData(X)),this.bindChange(this.entity.addData(G)),this.bindChange(this.entity.addData(J)),this.bindChange(this.entity.addData(Y),()=>this.updateSkew()),this.bindChange(this.entity.addData(H),()=>this.updateSkew())}};W.type="TransformData",(o=W||(W={})).isParentOrChildrenTransform=function(e,t){let i=t.getData(o);if(!i)return!1;for(let t of e.values()){let e=t.getData(o);if(e&&(e.isParent(i)||i.isParent(e)))return!0}return!1};var K=class{push(e,t){let{execMap:i}=this,a=i.get(e);a||(a=(0,S.Z)(t,0),i.set(e,a)),a()}dispose(){this.execMap.clear()}constructor(){this.execMap=new Map}};function Z(e,t,i){let a=document.createEvent("MouseEvent");return a.initMouseEvent(e,!0,!0,void 0,0,0,0,t,i,!1,!1,!1,!1,0,null),a}(s=b||(b={})).isTouchEvent=e=>"touches"in e,s.touchToMouseEvent=e=>{if(!(0,s.isTouchEvent)(e))return e;let t=e.touches[0]||e.changedTouches[0];"touchmove"===e.type&&(0,s.preventDefault)(e);let i={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touchcancel:"mouseup"}[e.type];if(!i)throw Error(`Unknown touch event type: ${e.type}`);return new MouseEvent(i,{bubbles:e.bubbles,cancelable:e.cancelable,view:e.view,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey})},s.getEventCoord=e=>(0,s.isTouchEvent)(e)?0===e.touches.length?{clientX:0,clientY:0}:{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:(e instanceof MouseEvent,{clientX:e.clientX,clientY:e.clientY}),s.preventDefault=e=>{e.cancelable&&e.preventDefault()},s.onTouched=(e,t)=>{let i=e.changedTouches[0],a=e=>{let r=e.changedTouches[0],n=r.clientX-i.clientX,o=r.clientY-i.clientY;5>Math.abs(n)&&5>Math.abs(o)&&t((0,s.touchToMouseEvent)(e)),document.removeEventListener("touchend",a),document.removeEventListener("touchcancel",a)};document.addEventListener("touchend",a),document.addEventListener("touchcancel",a)};var Q=class{get isStarted(){return!!this._promise}start(e,t,i,a){if(this._disposed)return Promise.resolve();if(this._promise)return this._promise;this.context=a,this.localId=(0,m.oN)(),this._addListeners(),this._promise=new Promise(e=>{this._resolve=e}),this._playgroundConfigEntity=i;let r=Z("mousedown",e,t);return this._startPos=this.getRelativePos(r),this.onDragStartEmitter.fire(this.getDragEvent(r)),this._promise}stop(e,t){if(this._disposed||!this._promise)return;let i=Z("mouseup",e,t);this.handleEvent(i)}dispose(){this._disposed||(this._stopScrollX(),this._stopScrollY(),this._disposed=!0,this.onDragEmitter.dispose(),this.onDragStartEmitter.dispose(),this.onDragEndEmitter.dispose(),this._finalize())}handleEvent(e){let t=b.touchToMouseEvent(e);switch(t.type){case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._stopScrollX(),this._stopScrollY(),this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":let i=Z("mouseup",t.clientX,t.clientY);this._evtMouseUp(i);break;default:b.preventDefault(t),t.stopPropagation()}}get scale(){return this._playgroundConfigEntity?this._playgroundConfigEntity.finalScale:1}getRelativePos(e){return this._playgroundConfigEntity?this._playgroundConfigEntity.getPosFromMouseEvent(e,!1):{x:e.clientX,y:e.clientY}}getDragEvent(e){let t=this._startPos,{scale:i}=this;switch(e.type){case"mousedown":return this._lastPos=t,Object.assign(e,{id:this.localId,startPos:t,endPos:t,scale:i,movingDelta:{x:0,y:0},isStart:!0,isMoving:!1});case"mousemove":let a=this.getRelativePos(e),r={x:a.x-this._lastPos.x,y:a.y-this._lastPos.y};return this._lastPos=a,Object.assign(e,{id:this.localId,startPos:t,endPos:a,scale:i,isStart:!0,movingDelta:r,isMoving:!0});case"mouseup":return this._lastPos={x:0,y:0},Object.assign(e,{id:this.localId,startPos:t,endPos:this.getRelativePos(e),movingDelta:{x:0,y:0},scale:i,isStart:!1,isMoving:!1});default:throw Error("unknown event")}}_finalize(){let e=this._resolve;this._removeListeners(),this._startPos=void 0,this._promise=void 0,this._resolve=void 0,e&&e()}_evtMouseMove(e){e.preventDefault(),e.stopPropagation(),this._lastMouseMoveEvent=e;let t=this.getDragEvent(e);this._updateDragScroll(t),this.onDragEmitter.fire(t)}_evtMouseUp(e){this._lastMouseMoveEvent=void 0,e.preventDefault(),e.stopPropagation(),(0===e.button||1===e.button)&&(this.onDragEndEmitter.fire(this.getDragEvent(e)),this._finalize())}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.stop(NaN,NaN)}_addListeners(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("touchstart",this,!0),document.addEventListener("touchmove",this,{passive:!1}),document.addEventListener("touchend",this,!0),document.addEventListener("touchcancel",this,!0),this._stopGlobalEventNames.forEach(e=>{document.addEventListener(e,this,!0)})}_removeListeners(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("touchstart",this,!0),document.removeEventListener("touchmove",this),document.removeEventListener("touchend",this,!0),document.removeEventListener("touchcancel",this,!0),this._stopGlobalEventNames.forEach(e=>{document.removeEventListener(e,this,!0)})}_startScrollX(e,t){if(this._scrollXInterval)return;let i=window.setInterval(()=>{this._scrollXInterval&&this.fireScroll("scrollX",t)},6);this._scrollXInterval={interval:i,origin:e}}_stopScrollX(){this._scrollXInterval&&(clearInterval(this._scrollXInterval.interval),this._scrollXInterval=void 0)}_startScrollY(e,t){if(this._scrollYInterval)return;let i=window.setInterval(()=>{this.fireScroll("scrollY",t)},6);this._scrollYInterval={interval:i,origin:e}}_stopScrollY(){this._scrollYInterval&&(clearInterval(this._scrollYInterval.interval),this._scrollYInterval=void 0)}fireScroll(e,t){let i="scrollY"===e?this._scrollYInterval:this._scrollXInterval;if(!i)return;let a=i.origin=t?i.origin+4:i.origin-4,r=this._playgroundConfigEntity.config[e];this._playgroundConfigEntity.updateConfig({[e]:a});let n=this._playgroundConfigEntity.config[e];if(n!==r){let t=this._lastMouseMoveEvent,a={x:"scrollX"===e?n-i.origin:0,y:"scrollY"===e?n-i.origin:0},r=Z("mousemove",t.clientX+a.x,t.clientY+a.y),o=this.getDragEvent(r);this.onDragEmitter.fire(o)}}constructor(e={}){this.onDragStartEmitter=new m.Q5,this.onDragEndEmitter=new m.Q5,this.onDragEmitter=new m.Q5,this._stopGlobalEventNames=["mouseenter","mouseleave","mouseover","mouseout","contextmenu"],this.onDrag=this.onDragEmitter.event,this.onDragStart=this.onDragStartEmitter.event,this.onDragEnd=this.onDragEndEmitter.event,this._lastPos={x:0,y:0},this._updateDragScroll=e=>{if(!this._playgroundConfigEntity)return;let t=this._playgroundConfigEntity.config,i=e.endPos,{scrollX:a,width:r,height:n,scrollY:o}=t;i.x>r+a-20?this._startScrollX(a,!0):i.x<a+20?this._startScrollX(a,!1):this._stopScrollX(),i.y>n+o-20?this._startScrollY(o,!0):i.y<o+20?this._startScrollY(o,!1):this._stopScrollY()},this._disposed=!1,e.onDragStart&&this.onDragStart(t=>e.onDragStart(t,this.context)),e.onDrag&&this.onDrag(t=>e.onDrag(t,this.context)),e.onDragEnd&&this.onDragEnd(t=>e.onDragEnd(t,this.context)),e.stopGlobalEventNames&&(this._stopGlobalEventNames=e.stopGlobalEventNames)}};(d=Q||(Q={})).startDrag=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g&&g.stop(NaN,NaN);let a=g=new d({onDragStart(e,t){i.onDragStart&&i.onDragStart(e,t)},onDrag(e,t){i.onDrag&&i.onDrag(e,t)},onDragEnd(e,t){i.onDragEnd&&i.onDragEnd(e,t),a.dispose(),g===a&&(g=void 0)}});return a.start(e,t,i.config,i.context),m.JT.create(()=>{a.stop(0,0),a.dispose(),g===a&&(g=void 0)})};var q=0;function ee(e){q++,requestAnimationFrame(function e(t){q<=0||(requestAnimationFrame(e),w.ZP.update(t))});let t=!1,i=new w.ZP.Tween(e.from).to(e.to,e.duration).easing(e.easing||w.ZP.Easing.Quadratic.Out).onUpdate(()=>{!t&&e.onUpdate&&e.onUpdate(e.from)}).onComplete(()=>{!t&&(t=!0,q--,e.onComplete&&e.onComplete(e.from))}).start();return m.JT.create(()=>{!t&&(t=!0,q--,i.stop(),e.onDispose&&e.onDispose(e.from))})}function et(e){let[t,i]=e.overflow,[a,r]=e._delta,[n,o]=e._direction;(t<0&&a>0&&n<0||t>0&&a<0&&n>0)&&(e._movement[0]=e._movementBound[0]),(i<0&&r>0&&o<0||i>0&&r<0&&o>0)&&(e._movement[1]=e._movementBound[1])}var ei={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function ea(e,t,i){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*i):e*t*i/(t+i*e)}function er(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===a?Math.max(t,Math.min(e,i)):e<t?-ea(t-e,i-t,a)+t:e>i?+ea(e-i,i-t,a)+i:e}var en={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function eo(e){return e?e[0].toUpperCase()+e.slice(1):""}var es=["enter","leave"],ed=["gotpointercapture","lostpointercapture"];function el(e){return"touches"in e}function ec(e){return el(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function eh(e){return el(e)?("touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches)[0]:e}function ef(e,t){try{let i=t.clientX-e.clientX,a=t.clientY-e.clientY,r=(t.clientX+e.clientX)/2,n=(t.clientY+e.clientY)/2,o=Math.hypot(i,a);return{angle:-(180*Math.atan2(i,a))/Math.PI,distance:o,origin:[r,n]}}catch{}return null}function eu(e,t){let[i,a]=Array.from(e.touches).filter(e=>t.includes(e.identifier));return ef(i,a)}function eb(e){let t=eh(e);return el(e)?t.identifier:t.pointerId}function eg(e){let t=eh(e);return[t.clientX,t.clientY]}function ep(e){let{deltaX:t,deltaY:i,deltaMode:a}=e;return 1===a?(t*=40,i*=40):2===a&&(t*=800,i*=800),[t,i]}function ey(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return"function"==typeof e?e(...i):e}function em(){}function ev(e,t){return Object.assign({},t,e||{})}var eE=class{get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:i,args:a}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=a,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?ey(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:i,shared:a}=this;t.args=this.args;let r=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,a.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,a.locked=!!document.pointerLockElement,Object.assign(a,function(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:i,altKey:a,metaKey:r,ctrlKey:n}=e;Object.assign(t,{shiftKey:i,altKey:a,metaKey:r,ctrlKey:n})}return t}(e)),a.down=a.pressed=a.buttons%2==1||a.touches>0,r=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);ei.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[n,o]=t._movement,[s,d]=i.threshold,{_step:l,values:c}=t;if(i.hasCustomTransform?(!1===l[0]&&(l[0]=Math.abs(n)>=s&&c[0]),!1===l[1]&&(l[1]=Math.abs(o)>=d&&c[1])):(!1===l[0]&&(l[0]=Math.abs(n)>=s&&Math.sign(n)*s),!1===l[1]&&(l[1]=Math.abs(o)>=d&&Math.sign(o)*d)),t.intentional=!1!==l[0]||!1!==l[1],!t.intentional)return;let h=[0,0];if(i.hasCustomTransform){let[e,t]=c;h[0]=!1!==l[0]?e-l[0]:0,h[1]=!1!==l[1]?t-l[1]:0}else h[0]=!1!==l[0]?n-l[0]:0,h[1]=!1!==l[1]?o-l[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(h);let f=t.offset,u=t._active&&!t._blocked||t.active;u&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=a[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=ey(i.bounds,t)),this.setup&&this.setup()),t.movement=h,this.computeOffset()));let[b,g]=t.offset,[[p,y],[m,E]]=t._bounds;t.overflow=[b<p?-1:+(b>y),g<m?-1:+(g>E)],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);let C=t._active&&i.rubberband||[0,0];if(t.offset=function(e,t,i){let[a,r]=t,[n,o]=i,[[s,d],[l,c]]=e;return[er(a,s,d,n),er(r,l,c,o)]}(t._bounds,t.offset,C),t.delta=ei.sub(t.offset,f),this.computeMovement(),u&&(!t.last||r>32)){t.delta=ei.sub(t.offset,f);let e=t.delta.map(Math.abs);ei.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&r>0&&(t.velocity=[e[0]/r,e[1]/r],t.timeDelta=r)}}emit(){let e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;let a=this.handler({...t,...e,[this.aliasKey]:e.values});void 0!==a&&(e.memo=a)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}},eC=class extends eE{reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ei.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ei.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,i=this.config;if(!t.axis&&e){let a="object"==typeof i.axisThreshold?i.axisThreshold[ec(e)]:i.axisThreshold;t.axis=function(e,t){let[i,a]=e,r=Math.abs(i),n=Math.abs(a);return r>n&&r>t?"x":n>r&&n>t?"y":void 0}(t._movement,a)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}constructor(){super(...arguments),this.aliasKey="xy"}},eS=class extends eC{wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){let t=this.state;t._delta=ep(e),ei.addTo(t._movement,t._delta),et(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}constructor(){super(...arguments),this.ingKey="wheeling"}},ew=class extends eC{scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();let t=this.state,i=function(e){let{scrollX:t,scrollY:i,scrollLeft:a,scrollTop:r}=e.currentTarget;return[t??a??0,i??r??0]}(e);t._delta=ei.sub(i,t._values),ei.addTo(t._movement,t._delta),this.computeValues(i),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}constructor(){super(...arguments),this.ingKey="scrolling"}},ex=class extends eE{init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:t,lastOffset:i}=this.state;"wheel"===e?this.state.offset=ei.add(t,i):this.state.offset=[(1+t[0])*i[0],t[1]+i[1]]}computeMovement(){let{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){let e=this.state,[t,i]=e._movement;if(!e.axis){let a=30*Math.abs(t)-Math.abs(i);a<0?e.axis="angle":a>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){let e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let t=this.state,i=this.ctrl.touchIds;if(t._active&&t._touchIds.every(e=>i.has(e))||i.size<2)return;this.start(e),t._touchIds=Array.from(i).slice(0,2);let a=eu(e,t._touchIds);a&&this.pinchStart(e,a)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let t=this.state,i=t._pointerEvents,a=this.ctrl.pointerIds;if(t._active&&Array.from(i.keys()).every(e=>a.has(e))||(i.size<2&&i.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);let r=ef(...Array.from(i.values()));r&&this.pinchStart(e,r)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let t=eu(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){let t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;let i=ef(...Array.from(t.values()));i&&this.pinchMove(e,i)}pinchMove(e,t){let i=this.state,a=i._values[1],r=t.angle-a,n=0;Math.abs(r)>270&&(n+=Math.sign(r)),this.computeValues([t.distance,t.angle-360*n]),i.origin=t.origin,i.turns=n,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];let i=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=ei.sub(t._movement,i),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let t=this.config.modifierKey;(!t||(Array.isArray(t)?t.find(t=>e[t]):e[t]))&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();let t=this.state,i=-ep(e)[1]/100*t.offset[0];Math.abs(i)>.1&&(i=.1*Math.sign(i)),t._delta=[i,0],ei.addTo(t._movement,t._delta),et(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}constructor(){super(...arguments),this.ingKey="pinching",this.aliasKey="da"}},eD=class extends eC{move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(eg(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;let t=eg(e),i=this.state;i._delta=ei.sub(t,i._values),ei.addTo(i._movement,i._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}constructor(){super(...arguments),this.ingKey="moving"}},e_=class extends eC{enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(eg(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;let t=this.state;if(!t._active)return;t._active=!1;let i=eg(e);t._movement=t._delta=ei.sub(i,t._values),this.computeValues(i),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}constructor(){super(...arguments),this.ingKey="hovering"}},eN=e=>e,eM={enabled(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e},eventOptions:(e,t,i)=>({...i.shared.eventOptions,...e}),preventDefault(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return ei.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?ei.toVector(e):void 0,transform(e,t,i){let a=e||i.shared.transform;return this.hasCustomTransform=!!a,a||eN},threshold:e=>ei.toVector(e,0)},eL={...eM,axis(e,t,i){let{axis:a}=i;if(this.lockDirection="lock"===a,!this.lockDirection)return a},axisThreshold(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof e)return t=>eL.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:i=1/0,top:a=-1/0,bottom:r=1/0}=e;return[[t,i],[a,r]]}},eI={ArrowRight:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[e*t,0]},ArrowLeft:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[-1*e*t,0]},ArrowUp:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,-1*e*t]},ArrowDown:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,e*t]}},eT=class extends eC{reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),a={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=eL.bounds(a)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,i=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;let a=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),a&&a.size>1&&i._pointerActive||(this.start(e),this.setupPointer(e),i._pointerId=eb(e),i._pointerActive=!0,this.computeValues(eg(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==ec(e)?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,i=this.config;if(!t._pointerActive)return;let a=eb(e);if(void 0!==t._pointerId&&a!==t._pointerId)return;let r=eg(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ei.sub(r,t._values),this.computeValues(r)),ei.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(!t.axis)return;else if(t.axis===i.preventScrollAxis||"xy"===i.preventScrollAxis){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}let t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;let a=eb(e);if(void 0!==t._pointerId&&a!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[r,n]=t._distance;if(t.tap=r<=i.tapsThreshold&&n<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{let[e,a]=t._delta,[r,n]=t._movement,[o,s]=i.swipe.velocity,[d,l]=i.swipe.distance,c=i.swipe.duration;if(t.elapsedTime<c){let i=Math.abs(e/t.timeDelta),c=Math.abs(a/t.timeDelta);i>o&&Math.abs(r)>d&&(t.swipe[0]=Math.sign(e)),c>s&&Math.abs(n)>l&&(t.swipe[1]=Math.sign(a))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){var t;this.state._preventScroll=!1,"persist"in(t=e)&&"function"==typeof t.persist&&t.persist();let i=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",i),this.eventStore.add(this.sharedConfig.window,"touch","cancel",i),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=eI[e.key];if(t){let i=this.state,a=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,a),i._keyboardActive=!0,ei.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in eI&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}constructor(){super(...arguments),this.ingKey="dragging"}},ek="undefined"!=typeof window&&window.document&&window.document.createElement;function eP(){return ek&&"ontouchstart"in window}var eO={isBrowser:ek,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:eP(),touchscreen:eP()||ek&&window.navigator.maxTouchPoints>1,pointer:ek&&"onpointerdown"in window,pointerLock:ek&&"exitPointerLock"in window.document},eR={...eM,device(e,t,i){let{shared:a,pointer:{touch:r=!1}={}}=i;if(a.target&&!eO.touch&&eO.gesture)return"gesture";if(eO.touch&&r)return"touch";if(eO.touchscreen){if(eO.pointer)return"pointer";if(eO.touch)return"touch"}},bounds(e,t,i){let{scaleBounds:a={},angleBounds:r={}}=i,n=e=>{let t=ev(ey(a,e),{min:-1/0,max:1/0});return[t.min,t.max]},o=e=>{let t=ev(ey(r,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof a&&"function"!=typeof r?[n(),o()]:e=>[n(e),o(e)]},threshold(e,t,i){return this.lockDirection="lock"===i.axis,ei.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e}},eA={...eL,mouseOnly:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e}},eV={...eL,mouseOnly:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e}},eB={mouse:0,touch:0,pen:8},eF={...eL,device(e,t,i){let{pointer:{touch:a=!1,lock:r=!1,mouse:n=!1}={}}=i;return(this.pointerLock=r&&eO.pointerLock,eO.touch&&a)?"touch":this.pointerLock?"mouse":eO.pointer&&!n?"pointer":eO.touch?"touch":"mouse"},preventScrollAxis(e,t,i){let{preventScroll:a}=i;if(this.preventScrollDelay="number"==typeof a?a:a||void 0===a&&e?250:void 0,eO.touchscreen&&!1!==a)return e||(void 0!==a?"y":void 0)},pointerCapture(e,t,i){let{pointer:{capture:a=!0,buttons:r=1,keys:n=!0}={}}=i;return this.pointerButtons=r,this.keys=n,!this.pointerLock&&"pointer"===this.device&&a},threshold(e,t,i){let{filterTaps:a=!1,tapsThreshold:r=3,axis:n}=i,o=ei.toVector(e,a?r:+!!n);return this.filterTaps=a,this.tapsThreshold=r,o},swipe(){let{velocity:e=.5,distance:t=50,duration:i=250}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{velocity:this.transform(ei.toVector(e)),distance:this.transform(ei.toVector(t)),duration:i}},delay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?{...eB,...e}:eB,keyboardDisplacement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return e}},e$=new Map,ez=new Map;function eG(e){e$.set(e.key,e.engine),ez.set(e.key,e.resolver)}var ej={key:"drag",engine:eT,resolver:eF},eH={key:"hover",engine:e_,resolver:eV},eJ={key:"move",engine:eD,resolver:eA},eX={key:"pinch",engine:ex,resolver:eR},eY={key:"scroll",engine:ew,resolver:eL},eU={key:"wheel",engine:eS,resolver:eL},eW=class{add(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;for(var a=arguments.length,r=Array(a>3?a-3:0),n=3;n<a;n++)r[n-3]=arguments[n];this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}constructor(){this._timeouts=new Map}},eK=class{add(e,t,i,a,r){let n=this._listeners,o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=en[e];return e+(i&&i[t]||t)}(t,i),s={...this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},...r};e.addEventListener(o,a,s);let d=()=>{e.removeEventListener(o,a,s),n.delete(d)};return n.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}constructor(e,t){this._listeners=new Set,this._ctrl=e,this._gestureKey=t}},eZ={target(e){if(e)return()=>"current"in e?e.current:e},enabled(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e},window(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eO.isBrowser?window:void 0;return e},eventOptions(){let{passive:e=!0,capture:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{passive:e,capture:t}},transform:e=>e};function eQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i={};for(let[a,r]of Object.entries(t))switch(typeof r){case"function":i[a]=r.call(i,e[a],a,e);break;case"object":i[a]=eQ(e[a],r);break;case"boolean":r&&(i[a]=e[a])}return i}var eq=class{setEventIds(e){if(el(e))return this.touchIds=new Set(Array.from(e.touches).filter(t=>{var i,a;return t.target===e.currentTarget||(null==(a=e.currentTarget)||null==(i=a.contains)?void 0:i.call(a,t.target))}).map(e=>e.identifier)),this.touchIds;if("pointerId"in e)return"pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{target:a,eventOptions:r,window:n,enabled:o,transform:s,...d}=e;if(i.shared=eQ({target:a,eventOptions:r,window:n,enabled:o,transform:s},eZ),t){let e=ez.get(t);i[t]=eQ({shared:i.shared,...d},e)}else for(let e in d){let t=ez.get(e);t&&(i[e]=eQ({shared:i.shared,...d[e]},t))}return i}(e,t,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(){let e;for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];let r=this.config.shared,n={};if(!r.target||(e=r.target())){if(r.enabled){for(let t of this.gestures){let a=this.config[t],r=e1(n,a.eventOptions,!!e);a.enabled&&new(e$.get(t))(this,i,t).bind(r)}let t=e1(n,r.eventOptions,!!e);for(let e in this.nativeHandlers)t(e,"",t=>this.nativeHandlers[e]({...this.state.shared,event:t,args:i}),void 0,!0)}for(let e in n)n[e]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?em:1===t.length?t[0]:function(){let e;for(let i of t)e=i.apply(this,arguments)||e;return e}}(...n[e]);if(!e)return n;for(let t in n){let{device:i,capture:a,passive:r}=function(e){let t=e.substring(2).toLowerCase(),i=!!~t.indexOf("passive");i&&(t=t.replace("passive",""));let a=ed.includes(t)?"capturecapture":"capture",r=!!~t.indexOf(a);return r&&(t=t.replace("capture","")),{device:t,capture:r,passive:i}}(t);this._targetEventStore.add(e,i,"",n[t],{capture:a,passive:r})}}}constructor(e){this.gestures=new Set,this._targetEventStore=new eK(this),this.gestureEventStores={},this.gestureTimeoutStores={},this.handlers={},this.config={},this.pointerIds=new Set,this.touchIds=new Set,this.state={shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}},function(e,t){t.drag&&e0(e,"drag"),t.wheel&&e0(e,"wheel"),t.scroll&&e0(e,"scroll"),t.move&&e0(e,"move"),t.pinch&&e0(e,"pinch"),t.hover&&e0(e,"hover")}(this,e)}};function e0(e,t){e.gestures.add(t),e.gestureEventStores[t]=new eK(e,t),e.gestureTimeoutStores[t]=new eW}var e1=(e,t,i)=>function(a,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=o.capture??t.capture,l=o.passive??t.passive,c=s?a:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=en[e],r=a&&a[t]||t;return"on"+eo(e)+eo(r)+(!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&!es.includes(t)}(i,r)?"":"Capture")}(a,r,d);i&&l&&(c+="Passive"),e[c]=e[c]||[],e[c].push(n)},e2=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function e3(e,t,i,a,r,n){if(!e.has(i)||!e$.has(a))return;let o=i+"Start",s=i+"End";r[a]=e=>{let a;return e.first&&o in t&&t[o](e),i in t&&(a=t[i](e)),e.last&&s in t&&t[s](e),a},n[a]=n[a]||{}}var e4=class{destroy(){this._ctrl.clean()}setConfig(e){this._ctrl.clean(),this._ctrl.applyConfig({...e,target:this._target},this._gestureKey),this._ctrl.effect()}constructor(e,t,i,a,r){this._target=e,this._gestureKey=a,this._ctrl=new eq(t),this._ctrl.applyHandlers(t,r),this._ctrl.applyConfig({...i,target:e},a),this._ctrl.effect()}},e8=function(e,t,i){return([ej,eX,eY,eU,eJ,eH].forEach(eG),function(e,t,i){let{handlers:a,nativeHandlers:r,config:n}=function(e,t){let[i,a,r]=function(e){let t={},i={},a=new Set;for(let r in e)e2.test(r)?(a.add(RegExp.lastMatch),i[r]=e[r]):t[r]=e[r];return[i,t,a]}(e),n={};return e3(r,i,"onDrag","drag",n,t),e3(r,i,"onWheel","wheel",n,t),e3(r,i,"onScroll","scroll",n,t),e3(r,i,"onPinch","pinch",n,t),e3(r,i,"onMove","move",n,t),e3(r,i,"onHover","hover",n,t),{handlers:n,config:t,nativeHandlers:a}}(t,i||{});return new e4(e,a,n,void 0,r)})(e,t,i||{})},e9=class extends m.Pq{handlePinch(e){let{first:t,last:i,originX:a,originY:r,newScale:n}=e;if(Number.isNaN(e.newScale))return;t&&(this._pinching=!0),i&&(this._pinching=!1);let o=this.config.finalScale,s=this.config.getPosFromMouseEvent({clientX:a,clientY:r},!1),d={x:s.x/o*n,y:s.y/o*n};this.config.updateConfig({scrollX:this.config.config.scrollX+d.x-s.x,scrollY:this.config.config.scrollY+d.y-s.y,zoom:n})}getScaleBounds(){return{min:this.config.config.minZoom,max:this.config.config.maxZoom}}preventDefault(){let e=e=>e.preventDefault();document.addEventListener("gesturestart",e),document.addEventListener("gesturechange",e),this.toDispose.push(m.JT.create(()=>{document.removeEventListener("gesturestart",e),document.removeEventListener("gesturechange",e)}))}get pinching(){return this._pinching}constructor(e,t){super(),this.target=e,this.config=t,this._pinching=!1,this.preventDefault();let i=new e8(e,{onPinch:e=>{let{origin:[t,i],first:a,last:r,movement:[n],offset:[o,s]}=e;this.handlePinch({first:a,last:r,originX:t,originY:i,newScale:o})}},{pinch:{scaleBounds:()=>this.getScaleBounds(),from:()=>[this.config.finalScale,0],modifierKey:["metaKey","ctrlKey"]}});this.toDispose.push(m.JT.create(()=>{i.destroy()}))}},e5=Symbol("LazyInjectContext"),e6=Symbol("IS_LAZY_INJECT_CONTEXT_INJECTED"),e7=e=>function(t,i){if(!e)throw Error(`ServiceIdentifier ${e} in @lazyInject is Empty, it might be caused by file circular dependency, please check it.`);return Reflect.hasMetadata(e6,t)||((0,C.f3)(e5)(t,e5),Reflect.defineMetadata(e6,!0,t)),{get(){return this[e5].get(e)},set(){},configurable:!0,enumerable:!0}},te=Symbol("PlaygroundContext"),tt=Symbol("PlaygroundContextProvider"),ti=()=>function(e,t){let i=`${t}Provider`;return(0,C.f3)(tt)(e,i),(0,C.jt)()(e,i),{get(){var e;return null==(e=this[i])?void 0:e.call(this)},configurable:!0,enumerable:!0}},ta=Symbol("PlaygroundContainerFactory"),tr=Symbol("EntityManagerContribution"),tn=class extends ${getDefaultConfig(){return{}}checkChanged(e,t){return $.checkDataChanged(e,t)}get config(){return this.getData(this.ConfigDataRegistry).data}updateConfig(e){this.updateData(this.ConfigDataRegistry,e)}onConfigChanged(e){return this.getData(this.ConfigDataRegistry).onDataChange(t=>e(t.data))}constructor(e){super(e),this.isInitialized=!0,this.ConfigDataRegistry=function(e){class t extends z{getDefaultData(){return e.getDefaultConfig()}checkChanged(t){return e.checkChanged(this.data,t)}toJSON(){return super.toJSON()}}return Object.defineProperty(t,"type",{value:`_${e.type}DataMixin`}),t}(this),this.addData(this.ConfigDataRegistry),this.isInitialized=!1}};tn.type="ConfigEntity";var to=class{init(){this.contributions.forEach(e=>{var t;return null==(t=e.registerEntityManager)?void 0:t.call(e,this)})}createEntity(e,t){if(!e.type)throw Error(`[EntityManager] createEntity need a type: ${e}`);if(this.configEntities.has(e.type))return this.configEntities.get(e.type);let i={entityManager:this,savedInManager:!0,...t},a=new e(i);return i.savedInManager&&this.saveEntity(a),a}isConfigEntity(e){return this.configEntities.has(e)}removeEntities(e){for(let t of this.getEntities(e).values())t.dispose()}removeEntityById(e){let t=this.getEntityById(e);return!!t&&(t.dispose(),!0)}resetEntities(e){this.getEntities(e).forEach(e=>{e.reset()})}resetEntity(e,t){let i=this.getEntity(e,t);null==i||i.reset()}updateConfigEntity(e,t){let i=this.configEntities.get(e.type);i&&i.updateConfig(t)}getRegistryByType(e){return this.registryMap.get(e)}registerEntity(e){if(!e.type)throw Error(`Registry entity need a type: ${e.name}`);let t=this.registryMap.get(e.type);if(t){if(t!==e)throw Error(`Entity registry ${e.type} need a new type`);return}this.registryMap.set(e.type,e)}registerEntityData(e,t){if(!e.type)throw Error(`Registry entity data need a type: ${e.name}`);this.dataRegistryMap.get(e.type)||this.dataRegistryMap.set(e.type,e),!this.dataInjectorMap.get(e.type)&&t&&this.dataInjectorMap.set(e.type,t)}getDataRegistryByType(e){return this.dataRegistryMap.get(e)}getEntityById(e){return this.entityInstanceMap.get(e)}getEntity(e,t){let i=this.getEntities(e)[0];return!i&&t?this.createEntity(e):i}getEntities(e){return this.entityInstanceMapByType.get(e.type)||[]}getEntityDatas(e,t){return this.getEntities(e).map(e=>e.getData(t)).filter(e=>!!e)}hasEntity(e){return!!this.getEntity(e)}storeState(){let{configOnly:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(let i of this.entityInstanceMap.values())if((!e||i instanceof tn)&&i.toJSON&&i.toJSON){let e=i.toJSON();e&&t.push(e)}return t}restoreState(e){e&&Array.isArray(e)&&e.forEach(e=>{if(!e||!e.type||!e.id)return;let t=this.getRegistryByType(e.type);if(!t)return void console.warn(`Playground entity registry lost: ${e.type}`);let i=this.createEntity(t,{id:e.id});i.fromJSON&&i.fromJSON(e)})}saveEntity(e){let{id:t}=e;if(t&&this.entityInstanceMap.has(t))return void console.error(`Entity ${e.type} ${t} is created before`);this.entityInstanceMap.set(e.id,e);let i=this.entityInstanceMapByType.get(e.type);i||(i=[],this.entityInstanceMapByType.set(e.type,i)),e instanceof tn&&this.configEntities.set(e.type,e),i.push(e),e.onEntityChange(e=>{this.fireEntityChanged(e),this.fireEntityLifeCycleChanged({type:"update",entity:e})}),e.onDataChange(t=>{this.fireEntityDataChanged(e.type,t.data.type)}),e.toDispose.push(m.JT.create(()=>{this.removeEntity(e),this.fireEntityLifeCycleChanged({type:"delete",entity:e})})),e.getDefaultDataRegistries().forEach(t=>this.fireEntityDataChanged(e.type,t.type)),this.fireEntityChanged(e),this.fireEntityLifeCycleChanged({type:"add",entity:e})}removeEntity(e){if(this.entityInstanceMap.has(e.id)&&this.entityInstanceMapByType.has(e.type)){let t=this.entityInstanceMapByType.get(e.type);-1!==t.indexOf(e)&&(this.entityInstanceMapByType.set(e.type,t.filter(t=>t!==e)),this.entityInstanceMap.delete(e.id),this.configEntities.has(e.type)&&this.configEntities.delete(e.type),this.fireEntityChanged(e))}}reset(){for(let e of this.entityInstanceMap.values())e.reset()}getEntityVersion(e){return this.entityVersionMap.get("string"==typeof e?e:e.type)||0}getEntityDataVersion(e){return this.entityDataVersionMap.get("string"==typeof e?e:e.type)||0}dispose(){this.toDispose.dispose()}getDataInjector(e){return this.dataInjectorMap.get("string"==typeof e?e:e.type)}getService(e){var t;return null==(t=this.containerFactory)?void 0:t.get(e)}constructor(){this.toDispose=new m.K4,this.onEntityChangeEmitter=new m.Q5,this.onEntityLifeCycleEmitter=new m.Q5,this.onEntityDataChangeEmitter=new m.Q5,this.registryMap=new Map,this.dataRegistryMap=new Map,this.dataInjectorMap=new Map,this.entityInstanceMap=new Map,this.entityVersionMap=new Map,this.entityDataVersionMap=new Map,this.entityInstanceMapByType=new Map,this.configEntities=new Map,this.onEntityChange=this.onEntityChangeEmitter.event,this.onEntityDataChange=this.onEntityDataChangeEmitter.event,this.onEntityLifeCycleChange=this.onEntityLifeCycleEmitter.event,this.changeEntityLocked=!1,this.schedule=new K,this.fireEntityChanged=e=>{let t="string"==typeof e?e:e.type,i=this.entityVersionMap.get(t)||0;i===Number.MAX_SAFE_INTEGER&&(i=0),this.entityVersionMap.set(t,i+1),this.changeEntityLocked||this.schedule.push(t,()=>{this.onEntityChangeEmitter.fire(t)})},this.fireEntityDataChanged=(e,t)=>{let i=this.entityDataVersionMap.get(t)||0;i===Number.MAX_SAFE_INTEGER&&(i=0),this.entityDataVersionMap.set(t,i+1),this.schedule.push(`${e}/${t}`,()=>{this.onEntityDataChangeEmitter.fire({entityType:e,entityDataType:t})})},this.fireEntityLifeCycleChanged=e=>{let{type:t,entity:i}=e;this.schedule.push(`${t}/${i.id}`,()=>{this.onEntityLifeCycleEmitter.fire({type:t,entity:i})})},this.toDispose.pushAll([this.onEntityChangeEmitter,this.schedule])}};A([(0,C.nx)(tr),(0,C.jt)()],to.prototype,"contributions",2),A([ti()],to.prototype,"context",2),A([(0,C.f3)(ta),(0,C.jt)()],to.prototype,"containerFactory",2),A([(0,C.zY)()],to.prototype,"init",1),to=A([(0,C.b2)()],to);var ts=Symbol("EntitiesDecorator"),td=Symbol("EntitiesByDataDecorator"),tl=Symbol("PropertiesInjected");function tc(e,t){return Reflect.getMetadata(t,e.prototype)||[]}function th(e){return Reflect.getMetadata(tl,e)||[]}function tf(e,t,i,a){return(r,n)=>{let o=Reflect.getMetadata(e,r);if(o||Reflect.defineMetadata(e,o=[],r),Array.isArray(t)||(t=[t]),t.forEach(e=>{o.includes(e)||o.push(e)}),a&&a(r,n),n&&i){let e=th(r);return e.push(n),Reflect.defineMetadata(tl,e,r),{enumerable:!1,configurable:!1,get(){return i(this,n)}}}}}function tu(e){return tf(ts,e,t=>t.observeManager.get(e))}function tb(e){return tf(ts,e,t=>t.observeManager.getEntities(e))}function tg(e,t){return tf(td,{entity:e,data:t},i=>i.observeManager.getEntityDatas(e,t))}var tp=Symbol("ProtectWheelArea"),ty=((l=ty||{})[l.BASE_LAYER=-2]="BASE_LAYER",l[l.TOOL_LAYER=-1]="TOOL_LAYER",l[l.NORMAL_LAYER=0]="NORMAL_LAYER",l),tm=Symbol("PipelineLayerFactory"),tv=class{get selection(){return this.currentSelection}isEmpty(){return 0===this.currentSelection.length}set selection(e){m.XJ.isArrayShallowChanged(this.currentSelection,e)&&(this.disposers.forEach(e=>e.dispose()),this.changeSelection(e),this.disposers=this.currentSelection.map(e=>e.onDispose(()=>{let t=this.currentSelection.filter(t=>t!==e);this.changeSelection(t)})))}changeSelection(e){this.currentSelection=e,this.onSelectionChangedEmitter.fire(this.currentSelection)}dispose(){this.onSelectionChangedEmitter.dispose()}constructor(){this.onSelectionChangedEmitter=new m.Q5,this.onSelectionChanged=this.onSelectionChangedEmitter.event,this.currentSelection=[],this.disposers=[]}};tv=A([(0,C.b2)()],tv);var tE=Symbol("StorageService"),tC=class{setData(e,t){this.storage[this.prefix(e)]=JSON.stringify(t)}getData(e,t){let i=this.storage[this.prefix(e)];return void 0===i?t:JSON.parse(i)}prefix(e){return`${this._prefix}${e}`}setPrefix(e){this._prefix=e}init(){"undefined"!=typeof window&&window.localStorage?this.storage=window.localStorage:this.storage={}}constructor(){this._prefix="__gedit:"}};A([(0,C.zY)()],tC.prototype,"init",1),tC=A([(0,C.b2)()],tC);var tS=Symbol("ClipboardService"),tw=class{readText(){return this._currentData}writeText(e){this._currentData!==e&&(this._currentData=e,this.onClipboardChangedEmitter.fire(e))}constructor(){this.onClipboardChangedEmitter=new m.Q5,this.onClipboardChanged=this.onClipboardChangedEmitter.event}};tw=A([(0,C.b2)()],tw);var tx=class{get rightPanelVisible(){return this.isRightPanelVisible}set rightPanelVisible(e){this.isRightPanelVisible=e}};tx=A([(0,C.b2)()],tx);var tD=class{onAllLayersRendered(){this.onLoggerEmitter.fire({event:0})}onFlushRequest(e){e<=0||this.onLoggerEmitter.fire({event:1,props:{rfi:e,fps:1e3/e}})}dispose(){this.onLoggerEmitter.dispose()}constructor(){this.onLoggerEmitter=new m.Q5,this.onLogger=this.onLoggerEmitter.event}};function t_(e){let{originRenderer:t,renderedCb:i}=e;return(0,x.useEffect)(()=>{i()},[]),t()||null}tD=A([(0,C.b2)()],tD);var tN=class{subscribeEntities(e,t){let i=this.getSelector(e);t.forEach(t=>{i.entities.includes(t)||i.entities.push(t);let a=this.entityLayerMap.get(t.type);a||(a=new Set,this.entityLayerMap.set(t.type,a)),a.add(e)})}subscribleEntityByData(e,t,i){let a=this.getSelector(e),r=this.entityLayerMap.get(t.type);r||(r=new Set,this.entityLayerMap.set(t.type,r)),r.add(e);let n=[t,i];a.datas.find(e=>e[0]===t&&e[1]===i)||a.datas.push(n)}getSelector(e){let t=this.layerEntitiesSelectorMap.get(e);return t||(t={entities:[],datas:[]},this.layerEntitiesSelectorMap.set(e,t)),t}getLayerEntities(e){let t=this.layerEntitiesSelectorMap.get(e);if(!t)return{entities:[],changed:!1};let i=new Set,a=new Map,r=!1;t.entities.forEach(e=>{let t=this.entityManager.getEntities(e),r=this.entityManager.getEntityVersion(e);for(let n of(a.set(e.type,r),t))i.add(n)});let n=[];for(let e of i.values())n.push(e);return tM(a,t.lastEntityVersion)&&(t.lastEntityVersion=a,r=!0),{entities:n,changed:r}}getLayerEntityDatas(e){let t=this.layerEntitiesSelectorMap.get(e);if(!t)return{datas:[],changed:!1};let i=[],a=new Map,r=!1;return t.datas.forEach(e=>{let[t,r]=e,n=this.entityManager.getEntityDatas(t,r),o=this.entityManager.getEntityDataVersion(r);for(let e of(a.set(r.type,o),n))i.push(e)}),tM(a,t.lastDataVersion)&&(t.lastDataVersion=a,r=!0),{datas:i,changed:r}}getLayerData(e){let t=this.getLayerEntities(e),i=this.getLayerEntityDatas(e);return{observeEntities:t.entities,observeDatas:i.datas,changed:i.changed||t.changed}}constructor(){this.layerEntitiesSelectorMap=new WeakMap,this.entityLayerMap=new Map,this.ableLayerMap=new Map}};function tM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(e.size!==t.size)return!0;for(let i of e.keys())if(e.get(i)!==t.get(i))return!0;return!1}A([(0,C.f3)(to)],tN.prototype,"entityManager",2),tN=A([(0,C.b2)()],tN);var tL=0,tI=class extends D.ConflatableMessage{constructor(e){super(`flush-layer-request_layer${tL++}`),this.layer=e}},tT=class{reportLayerRendered(e){this.layerRenderedMap.set(e,!0),Array.from(this.layerRenderedMap.values()).every(e=>e)&&(this.loggerService.onAllLayersRendered(),this.onAllLayersRenderedEmitter.fire(),window.REPORT_TTI_FOR_E2E&&window.REPORT_TTI_FOR_E2E(performance.now(),performance.getEntriesByType("resource")))}addLayer(e){if(this.layers.push(e),this.toDispose.push(e),this.layerFlushMessages.set(e,new tI(e)),e.pipelineNode=this.node,e.playgroundNode=this.node.parentElement,(e.autorun||e.render)&&!e.node&&(e.node=document.createElement("div")),e.node&&(this.node.appendChild(e.node),e.node.classList.add("gedit-playground-layer")),e.autorun){let t=e.autorun.bind(e);this.layerAutorunMap.set(e,t),e.autorun=()=>{this.updateLayer(e,!0)}}else if(e.render){this.layerRenderedMap.set(e,!1);let t=e.render.bind(e),i=function(e,t,i,a){let r=m.dG;function n(){let n,[,o]=(0,x.useState)({}),s=(0,x.useCallback)(()=>{i(e)},[e]);(0,x.useEffect)(()=>(r=()=>o({}),()=>{r=m.dG}));try{n=a.isReady?x.createElement(t_,{originRenderer:t,renderedCb:s}):x.createElement(x.Fragment,null)}catch(t){console.error(`Render Layer "${e.constructor.name}" error `,t),n=x.createElement(x.Fragment,null)}return _.createPortal(n,e.node)}return{autorun:()=>r(),portal:e.renderWithReactMemo?x.memo(n):n}}(e,t,this.reportLayerRendered.bind(this),this);this.reactPortals.push(i.portal),this.layerAutorunMap.set(e,i.autorun),e.render=()=>{this.updateLayer(e,!0)}}}flush(e){this.layers.forEach(t=>{this.updateLayer(t,e)})}ready(){this.layers.forEach(e=>{this.loadLayerEntities(e),e.onReady&&e.onReady()}),this.isReady=!0,this.flush(!0)}dispose(){this.toDispose.dispose(),this.node.remove()}processMessage(e){e instanceof tI&&this.onFlushRequest(e.layer)}loadLayerEntities(e){let t=this.selector.getLayerData(e);return t.changed&&e.observeManager.load(t.observeEntities,t.observeDatas),t.changed}onFlushRequest(e){if(!this.isReady||this.toDispose.disposed)return!1;let t=performance.now(),i=()=>{let e=performance.now()-t;e<4||this.loggerService.onFlushRequest(e)},a=this.layerAutorunMap.get(e),r=this.loadLayerEntities(e);if(a&&(r||this.forceUpdates.has(e))){this.forceUpdates.delete(e);try{a()}catch(e){console.error(e)}return i(),!0}return i(),!1}updateLayer(e,t){t&&this.forceUpdates.add(e),D.MessageLoop.postMessage(this,this.layerFlushMessages.get(e))}toReactComponent(){if(this.reactComp)return this.reactComp;let e=this.reactPortals,t=()=>x.createElement(x.Fragment,null,e.map((e,t)=>x.createElement(e,{key:t})));return this.reactComp=t,t}constructor(e,t){this.selector=e,this.isReady=!1,this.onAllLayersRenderedEmitter=new m.Q5,this.toDispose=new m.K4,this.layers=[],this.forceUpdates=new Set,this.layerAutorunMap=new Map,this.layerRenderedMap=new Map,this.layerFlushMessages=new Map,this.reactPortals=[],this.node=m.xF.createDivWithClass("gedit-playground-pipeline"),this.onAllLayersRendered=this.onAllLayersRenderedEmitter.event,this.toDispose.push(t.onEntityChange(e=>{let t=this.selector.entityLayerMap.get(e);t&&t.forEach(e=>this.updateLayer(e))})),this.toDispose.push(this.onAllLayersRenderedEmitter)}};A([(0,C.f3)(tD)],tT.prototype,"loggerService",2),tT=A([(0,C.b2)(),V(0,(0,C.f3)(tN)),V(1,(0,C.f3)(to))],tT),(c=p||(p={})).STATE_SELECT={id:"STATE_SELECT",cursor:"",shortcut:"",cancelMode:"hold"},c.STATE_MOUSE_FRIENDLY_SELECT={id:"STATE_MOUSE_FRIENDLY_SELECT",cursor:"grab",shortcut:"",cancelMode:"hold"},c.STATE_GRAB={id:"STATE_GRAB",cursor:"grab",shortcut:"SPACE",shortcutAutoEsc:!0,shortcutWorksOnlyOnStateChanged:!0,cancelMode:"hold"};var tk=[p.STATE_SELECT,p.STATE_MOUSE_FRIENDLY_SELECT,p.STATE_GRAB],tP=class extends tn{get isPressingSpaceBar(){return this._isPressingSpaceBar}set isPressingSpaceBar(e){this._isPressingSpaceBar=e}get isPressingShift(){return this._isPressingShift}set isPressingShift(e){this._isPressingShift=e}onCancel(e,t){return this.onStateChange(i=>{i.lastState&&i.lastState.id===e&&t()})}getCurrentState(){return this.states.find(e=>e.id===this.selected)}is(e){return this.selected===e}changeState(e,t){let i=this.states.find(t=>t.id===e);if(!i)throw Error(`Unknown editor state ${e}`);if(this.selected!==e){let a=this.getCurrentState();this.selected=e,this.onStateChangeEmitter.fire({state:i,event:t,lastState:a}),this.fireChange()}}toDefaultState(){this.changeState(p.STATE_SELECT.id)}registerState(e){this.states.push(e),this.fireChange()}getStates(){return this.states}isMouseFriendlyMode(){return this.getCurrentState()===p.STATE_MOUSE_FRIENDLY_SELECT}getStateFromShortcut(e){return this.states.find(t=>{if(("SPACE"===t.shortcut?" ":(t.shortcut||"").toLowerCase())===e.key.toLowerCase())return t})}constructor(e){super(e),this._isPressingSpaceBar=!1,this._isPressingShift=!1,this.states=tk.slice(),this.selected=p.STATE_SELECT.id,this.onStateChangeEmitter=new m.Q5,this.onStateChange=this.onStateChangeEmitter.event,this.toDispose.push(this.onStateChangeEmitter)}};tP.type="EditorStateConfigEntity";var tO=0,tR=e=>e/20,tA=class extends tn{get grabDisable(){return this.config.grabDisable}set grabDisable(e){this.updateConfig({grabDisable:e})}get scrollDisable(){return this.config.scrollDisable}set scrollDisable(e){this.updateConfig({scrollDisable:e})}get zoomDisable(){return this.config.zoomDisable}set zoomDisable(e){this.updateConfig({zoomDisable:e})}getDefaultConfig(){return{scrollX:0,scrollY:0,originX:0,originY:0,width:0,height:0,minZoom:.25,maxZoom:2,zoom:1,reverseScroll:!0,overflowX:"scroll",overflowY:"scroll",disabled:!1,readonly:!1,grabDisable:!1,scrollDisable:!1,zoomDisable:!1,mouseScrollDelta:tR}}addScrollLimit(e){this._scrollLimitFn=e}updateConfig(e){void 0!==e.zoom&&(e={...e,zoom:this.normalizeZoom(e.zoom)}),!(e={...this.config,...e}).reverseScroll&&(e.scrollX<this.config.originX&&(e.scrollX=this.config.originX),e.scrollY<this.config.originY&&(e.scrollY=this.config.originY)),void 0!==e.scrollLimitX&&e.scrollX<e.scrollLimitX&&(e.scrollX=e.scrollLimitX),void 0!==e.scrollLimitY&&e.scrollY<e.scrollLimitY&&(e.scrollY=e.scrollLimitY),"hidden"===e.overflowX&&(e.scrollX=this.config.originX),"hidden"===e.overflowY&&(e.scrollY=this.config.originY);let t=e.scrollDisable||this.scrollDisable,{readonly:i,disabled:a,grabDisable:r}=this;t&&(e.scrollX=this.config.scrollX,e.scrollY=this.config.scrollY),super.updateConfig(this._scrollLimitFn?{...e,...this._scrollLimitFn({scrollX:e.scrollX,scrollY:e.scrollY})}:e),(i!==this.readonly||a!==this.disabled)&&this._onReadonlyOrDisabledChangeEmitter.fire({readonly:this.readonly,disabled:this.disabled}),r!==this.grabDisable&&this._onGrabDisableChangeEmitter.fire(this.grabDisable)}get finalScale(){return this.zoomEnable?this.config.zoom:1}get zoom(){return this.zoomEnable?this.config.zoom:1}get scrollData(){return{scrollX:this.config.scrollX,scrollY:this.config.scrollY}}normalizeZoom(e){return this.zoomEnable?this.zoomDisable?this.config.zoom:(e<this.config.minZoom?e=this.config.minZoom:e>this.config.maxZoom&&(e=this.config.maxZoom),e):1}updateCursor(e){this.cursor!==e&&(this.cursor=e,this.fireChange())}getPosFromMouseEvent(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{config:i}=this,a=t?this.zoom:1,{clientX:r,clientY:n}=b.getEventCoord(e),o=this.playgroundDomNode.getBoundingClientRect();return{x:(r+i.scrollX-o.x)/a,y:(n+i.scrollY-o.y)/a}}getClientBounds(){let e=this.playgroundDomNode.getBoundingClientRect();return new m.Ae(e.x,e.y,e.width,e.height)}toFixedPos(e){let{config:t}=this,i=this.playgroundDomNode.getBoundingClientRect();return{x:e.x-t.scrollX+i.x,y:e.y-t.scrollY+i.y}}getViewport(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{config:t}=this,i=e?this.finalScale:1;return new m.Ae(t.scrollX/i,t.scrollY/i,t.width/i,t.height/i)}isViewportVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m.Ae.isViewportVisible(e,this.getViewport(),t,i)}scrollToView(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{scrollDelta:i,position:a,easing:r=!0,easingDuration:n=300,entities:o}=t,{config:s}=this,d=t.zoom?t.zoom:this.finalScale;if(o&&o.length>0){let t=o.map(e=>{let t=e.getData(W);if(t)return t.bounds;let i=e.getData(j),a=e.getData(X)||{width:0,height:0};if(i)return new m.Ae(i.x,i.y,a.width,a.height||0)}).filter(e=>!!e);t.length>0&&(e=m.Ae.enlarge(t))}else a?e=new m.Ae(a.x,a.y,0,0):t.bounds&&(e=t.bounds);if(!e){let t=this.getDefaultConfig();e=new m.Ae((t.scrollX+s.width/2)/d,(t.scrollY+s.height/2)/d,0,0)}if(!t.scrollToCenter&&this.getViewport().containsRectangle(e))return Promise.resolve();let l={scrollX:(e.x+e.width/2+(i?i.x:0))*d-s.width/2,scrollY:(e.y+e.height/2+(i?i.y:0))*d-s.height/2,zoom:t.zoom};return this.scroll(l,r,n)}setPageBounds(e){this.updateConfig({pageBounds:{x:e.x,y:e.y,width:e.width,height:e.height}})}getPageBounds(){let{pageBounds:e}=this.config;if(e)return new m.Ae(e.x,e.y,e.width,e.height)}scrollPageBoundsToCenter(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=this.getPageBounds();if(a){let r,n=2*t;return e&&(r=m.rM.fixSize({width:a.width,height:a.height},{width:n>this.config.width?n:this.config.width-n,height:n>this.config.height?n:this.config.height-n})),this.scrollToView({bounds:a,zoom:r,scrollToCenter:!0,easing:i})}return this.scrollToView({easing:i})}scroll(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=new m.cO;if(this.cancelScrollTeeen&&this.cancelScrollTeeen.dispose(),t){let t={scrollX:this.config.scrollX,scrollY:this.config.scrollY,zoom:this.config.zoom};this.cancelScrollTeeen=ee({from:t,to:{...t,...e},onUpdate:e=>{this.updateConfig(e)},onComplete:()=>{this.cancelScrollTeeen=void 0,a.resolve()},onDispose:()=>{a.resolve()},duration:i})}else this.updateConfig(e),a.resolve();return a.promise}fixLayerPosition(e){m.xF.setStyle(e,{left:this.config.scrollX,top:this.config.scrollY})}get loading(){return this._loading}set loading(e){this.loading!==e&&(this._loading=e,this.fireChange())}get zoomEnable(){return this._zoomEnable}set zoomEnable(e){this._zoomEnable!==e&&(this._zoomEnable=e,this.fireChange())}zoomin(e,t){let i=this.config.zoom/10,a=Math.ceil((this.config.zoom+i)*10)/10;this.updateZoom(a,e,t)}zoomout(e,t){let i=this.config.zoom/10,a=Math.floor((this.config.zoom-i)*10)/10;this.updateZoom(a,e,t)}updateZoom(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;e=this.normalizeZoom(e);let{center:a}=this.getViewport(),r=this.finalScale,n=this.zoomEnable?e:r;if(n!==r){let o={x:a.x*n-a.x*r,y:a.y*n-a.y*r};this.scroll({scrollX:this.config.scrollX+o.x,scrollY:this.config.scrollY+o.y,zoom:e},t,i)}}get disabled(){return this.config.disabled}get readonly(){return this.config.readonly}get readonlyOrDisabled(){return this.config.readonly||this.config.disabled}set readonly(e){this.updateConfig({readonly:e})}set disabled(e){this.updateConfig({disabled:e})}fitView(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,r=this.getViewport(!1),n=m.rM.fixSize(e.clone().pad(i,i),r);return this.scrollToView({bounds:e,zoom:n,easing:t,easingDuration:a,scrollToCenter:!0})}constructor(e){super(e),this._loading=!1,this._zoomEnable=!0,this._onReadonlyOrDisabledChangeEmitter=new m.Q5,this._onGrabDisableChangeEmitter=new m.Q5,this.onGrabDisableChange=this._onGrabDisableChangeEmitter.event,this.onReadonlyOrDisabledChange=this._onReadonlyOrDisabledChangeEmitter.event,this.playgroundDomNode=document.createElement("div"),this.cursor="default",this.toDispose.push(this._onReadonlyOrDisabledChangeEmitter)}};tA.type="PlaygroundConfigEntity";var tV=Symbol("LayerOptions"),tB=class{dispose(){this.toDispose.dispose()}createDOMCache(e,t){if(!this.node)throw Error("DomCache need a parent dom node.");return m.xF.createDOMCache(this.node,e,t)}getPosFromMouseEvent(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.config.getPosFromMouseEvent(e,t);return{x:i.x,y:i.y}}constructor(){this.toDispose=new m.K4,this.renderWithReactMemo=!0}};A([(0,C.f3)(tV)],tB.prototype,"options",2),A([(0,C.f3)(to)],tB.prototype,"entityManager",2),A([ti()],tB.prototype,"context",2),tB=A([(0,C.b2)()],tB);var tF=class extends tB{onReady(){if(this.options={preventGlobalGesture:!1,...this.options},this.options.preventGlobalGesture){let e=new e8(document.body,{onPinch:()=>{}});document.documentElement&&(document.documentElement.style.overscrollBehaviorX="none"),document.body.style.overscrollBehaviorX="none",this.toDispose.push(m.JT.create(()=>e.destroy()))}this.toDispose.pushAll([this.config.onGrabDisableChange(e=>{e&&this.grabDragger.stop(0,0)}),m.xF.addStandardDisposableListener(this.playgroundNode,"wheel",e=>{this.getScrollParent(e.target)||(e.preventDefault(),e.stopPropagation())}),this.listenPlaygroundEvent("wheel",this.handleWheelEvent.bind(this),-2,{passive:!0}),this.listenPlaygroundEvent("touchstart",e=>{var t,i;let{clientX:a,clientY:r}=b.getEventCoord(e);(null==(t=this.options)?void 0:t.hoverService)&&(this.options.hoverService.updateHoverPosition({x:a,y:r},e.target),(null==(i=this.options.hoverService)?void 0:i.isSomeHovered())||this.grabDragger.start(a,r))},0),this.listenPlaygroundEvent("touchend",e=>{var t;null==(t=this.options.hoverService)||t.clearHovered()}),this.listenPlaygroundEvent("touchcancel",e=>{var t;null==(t=this.options.hoverService)||t.clearHovered()}),this.listenPlaygroundEvent("mousedown",e=>{let t=1===e.button;t&&!this.isMouseMode()&&this.editorStateConfig.changeState(p.STATE_GRAB.id),this.isGrab()&&(this.editorStateConfig.isPressingSpaceBar||t)&&this.grabDragger.start(e.clientX,e.clientY)},-2),this.listenPlaygroundEvent("mousedown",e=>{var t,i;let a=null==(i=this.options)||null==(t=i.hoverService)?void 0:t.isSomeHovered();!this.isMouseMode()||a||this.editorStateConfig.isPressingShift||this.grabDragger.start(e.clientX,e.clientY)},0),this.editorStateConfig.onStateChange(this.onStateChanged.bind(this)),this.listenGlobalEvent("keydown",e=>{e.shiftKey&&(this.editorStateConfig.isPressingShift=!0,this.isMouseMode()&&this.config.updateCursor(""))},-2),this.listenGlobalEvent("keypress",e=>{if(!this.isFocused||e.target!==this.playgroundNode||this.isMouseMode())return;let t=this.editorStateConfig.getStateFromShortcut(e);" "===e.key&&(this.editorStateConfig.isPressingSpaceBar=!0),((null==t?void 0:t.shortcutWorksOnlyOnStateChanged)!==!0||t!==this.editorStateConfig.getCurrentState())&&(this.lastShortcutState=t,t&&this.editorStateConfig.changeState(t.id))},-2),this.listenGlobalEvent("keyup",e=>{" "===e.key&&(this.editorStateConfig.isPressingSpaceBar=!1),this.editorStateConfig.isPressingShift=!1,this.lastShortcutState&&this.lastShortcutState.shortcutAutoEsc&&this.editorStateConfig.toDefaultState(),this.lastShortcutState=void 0}),{dispose:()=>{this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode),this.cursorStyle.parentNode&&this.cursorStyle.parentNode.removeChild(this.cursorStyle)}}]),"MOUSE"===this.options.ineractiveType&&this.editorStateConfig.changeState(p.STATE_MOUSE_FRIENDLY_SELECT.id)}getCursor(e){var t,i,a;return e?(null==(i=(a=this.playgroundConfigEntity).getCursors)||null==(t=i.call(a))?void 0:t[e])??e:""}isMouseMode(){return this.editorStateConfig.isMouseFriendlyMode()}onStateChanged(e){let{state:t}=e;if(this.cancelStateListen&&(this.cancelStateListen.dispose(),this.cancelStateListen=void 0),t.handle&&t.handle(this.config,e),t.cursor?(this.playgroundConfigEntity.updateCursor(t.cursor),this.currentGesture&&(this.playgroundNode.style.cursor=this.getCursor(t.cursor))):(this.playgroundConfigEntity.updateCursor(""),this.playgroundNode.style.cursor=""),"grab"===t.cursor||"grabbing"===t.cursor){if(t===p.STATE_MOUSE_FRIENDLY_SELECT)return;this.maskNode.style.cssText=`
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 100;
      `,this.playgroundNode.appendChild(this.maskNode)}else this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode);"esc"===t.cancelMode?this.cancelStateListen=m.xF.addStandardDisposableListener(document.body,"keydown",e=>{("Escape"===e.key||"Enter"===e.key)&&this.editorStateConfig.toDefaultState()},!0):"once"===t.cancelMode&&this.editorStateConfig.toDefaultState()}isGrab(){let e=this.editorStateConfig.getCurrentState();return e===p.STATE_GRAB||e===p.STATE_MOUSE_FRIENDLY_SELECT}createGesture(){this.currentGesture||(this.currentGesture=new e9(this.playgroundNode,this.config),this.currentGesture.onDispose(()=>{this.currentGesture=void 0}),this.toDispose.push(this.currentGesture))}handleScrollEvent(e){let{playgroundConfigEntity:t}=this,i=t.config.scrollX+e.deltaX,a=t.config.scrollY+e.deltaY;t.updateConfig({scrollX:i,scrollY:a})}getMouseScaleDelta(){let{mouseScrollDelta:e,zoom:t}=this.config.config;return"function"==typeof e?e(t):e}handleWheelEvent(e){if((!this.currentGesture||!this.currentGesture.pinching)&&!e.ctrlKey&&!e.metaKey&&!this.getScrollParent(e.target)){if(this.isMouseMode()){let{zoom:t,minZoom:i,maxZoom:a,scrollX:r,scrollY:n}=this.playgroundConfigEntity.config,o=this.getMouseScaleDelta(),s=(Math.abs(e.deltaY)>0?e.deltaY:e.deltaX)>0?-o:o,d=this.config.finalScale,l=e.clientX,c=e.clientY,h=Math.max(i,Math.min(a,t+s)),f=this.config.getPosFromMouseEvent({clientX:l,clientY:c},!1),u={x:f.x/d*h,y:f.y/d*h};this.config.updateConfig({scrollX:r+u.x-f.x,scrollY:n+u.y-f.y,zoom:h});return}this.handleScrollEvent(e)}}getScrollParent(e){var t;if(!e||e===this.pipelineNode.parentElement)return null;let i=e.scrollWidth>e.clientWidth,a=e.scrollHeight>e.clientHeight,r=window.getComputedStyle(e).overflowX,n=window.getComputedStyle(e).overflowY,o=["auto","scroll","overlay"].includes(r),s=["auto","scroll","overlay"].includes(n);return i&&o||a&&s||(null==(t=this.protectWheelArea)?void 0:t.call(this,e))?e:this.getScrollParent(e.parentElement)}autorun(){let e=this.playgroundConfigEntity.config,{cursor:t}=this.playgroundConfigEntity,i=this.getCursor(t);if(this.config.zoomEnable?this.createGesture():this.currentGesture&&this.currentGesture.dispose(),m.xF.setStyle(this.pipelineNode,{left:-e.scrollX,top:-e.scrollY,width:e.width,height:e.height}),this.playgroundNode.style.cursor=i,"grab"===t||"grabbing"===t){let e="";this.playgroundNode.classList.forEach(t=>{e+=`.${t}`}),this.cursorStyle.innerText=`.${e} * { cursor: ${i} }`,this.cursorStyle.parentNode||document.head.appendChild(this.cursorStyle)}else this.cursorStyle.parentNode&&this.cursorStyle.parentNode.removeChild(this.cursorStyle)}constructor(){super(...arguments),this.startGrabScroll={scrollX:0,scrollY:0},this.cursorStyle=document.createElement("style"),this.maskNode=document.createElement("div"),this.grabDragger=new Q({onDragStart:e=>{this.config.grabDisable||(this.config.updateCursor("grabbing"),this.startGrabScroll={scrollX:this.config.config.scrollX,scrollY:this.config.config.scrollY})},onDrag:e=>{this.config.grabDisable||this.config.updateConfig({scrollX:this.startGrabScroll.scrollX-e.endPos.x+e.startPos.x,scrollY:this.startGrabScroll.scrollY-e.endPos.y+e.startPos.y})},onDragEnd:e=>{this.isGrab()&&this.config.updateCursor("grab"),1===e.button&&(this.isMouseMode()?(this.editorStateConfig.changeState(p.STATE_MOUSE_FRIENDLY_SELECT.id),this.config.updateCursor("grab")):(this.editorStateConfig.toDefaultState(),this.config.updateCursor("")))}})}};A([tu(tA)],tF.prototype,"playgroundConfigEntity",2),A([tu(tP)],tF.prototype,"editorStateConfig",2),A([(0,C.jt)(),(0,C.f3)(tp)],tF.prototype,"protectWheelArea",2),tF=A([(0,C.b2)()],tF);var t$=class{get size(){return this.observeEntities.length}load(e,t){this.observeEntities=e,this.observeDatas=t,this.entitiesTypeCache.clear(),this.entitiesAbleCache.clear(),this.entitiyDataCache.clear()}get(e,t){let i=this.getEntities(e);return void 0!==t?i.find(e=>e.id===t):i[0]}has(e){return!!this.get(e)}getEntities(e){let t=this.entitiesTypeCache.get(e);return t||(t=[],this.observeEntities.forEach(i=>{i.type===e.type&&t.push(i)}),this.entitiesTypeCache.set(e,t)),t.filter(e=>!e.disposed)}getEntityDatas(e,t){let i=`${e.type}:${t.type}`,a=this.entitiyDataCache.get(i);return a||(a=this.observeDatas.filter(i=>i.type===t.type&&i.entity.type===e.type),this.entitiyDataCache.set(i,a)),a}updateConfig(e,t){let i=this.get(e);i&&i.updateConfig&&i.updateConfig(t)}getConfig(e){let t=this.get(e);if(t)return t.config}createEntity(e,t){return this.entityManager.createEntity(e,t)}removeEntities(e){this.entityManager.removeEntities(e)}[Symbol.iterator](){let e=0,t=this.observeEntities.length;return{next:()=>{let i=e++;return{value:this.observeEntities[i],done:i===t}}}}constructor(e){this.entityManager=e,this.observeEntities=[],this.observeDatas=[],this.entitiesTypeCache=new Map,this.entitiesAbleCache=new Map,this.entitiyDataCache=new Map}},tz=new D.ConflatableMessage("PIPELINE_ZOOM"),tG=new D.ConflatableMessage("PIPELINE_SCROLL"),tj=class{_listenEvent(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,n=i?this.globalEvents:this.playgroundEvents,o=i?document:this.renderer.node.parentNode,s=n[e];if(!s){let t={handleEvent:e=>{let t=s.handlers;for(let i=0,a=t.length;i<a;i++)if(t[i].handle(e))return}};o.addEventListener(e,t,r),s=n[e]={handlers:[],dispose:()=>{o.removeEventListener(e,t),delete n[e]}}}let{handlers:d}=s,l={handle:t,priority:a};d.unshift(l),d.sort((e,t)=>t.priority-e.priority);let c=m.JT.create(()=>{let e=s.handlers.indexOf(l);-1!==e&&s.handlers.splice(e,1),0===s.handlers.length&&s.dispose()});return this.toDispose.push(c),c}listenPlaygroundEvent(e,t,i,a){return this._listenEvent(e,t,!1,i,a)}listenGlobalEvent(e,t,i,a){return this._listenEvent(e,t,!0,i,a)}registerLayer(e,t){if(this.allLayersMap.has(e))return;let i=this.layerFactory(e,t);this.allLayersMap.set(e,i);let a=tc(e,ts),r=tc(e,td);if(a.forEach(e=>{this.entityManager.registerEntity(e),$.isRegistryOf(e,tn)&&this.entityManager.createEntity(e)}),r.forEach(e=>{this.entityManager.registerEntity(e.entity),this.entityManager.registerEntityData(e.data)}),this.selector.subscribeEntities(i,a),r.forEach(e=>this.selector.subscribleEntityByData(i,e.entity,e.data)),i.observeManager=new t$(this.entityManager),i.reloadEntities=()=>{let e=this.selector.getLayerData(i);return e.changed&&i.observeManager.load(e.observeEntities,e.observeDatas),e.changed},i.listenPlaygroundEvent=this.listenPlaygroundEvent.bind(this),i.listenGlobalEvent=this.listenGlobalEvent.bind(this),i.config=this.configEntity,i.getOtherLayer=this.getLayer.bind(this),Object.defineProperty(i,"isFocused",{get:()=>this._isFocused}),i.onResize&&this.onResize(i.onResize.bind(i)),i.onBlur&&this.onBlurEmitter.event(i.onBlur.bind(i)),i.onFocus&&this.onFocusEmitter.event(i.onFocus.bind(i)),i.onZoom&&this.onZoomEmitter.event(i.onZoom.bind(i)),i.onScroll&&this.onScrollEmitter.event(i.onScroll.bind(i)),i.onViewportChange){let e=i.onViewportChange.bind(i);this.onResize(e),this.onZoomEmitter.event(e),this.onScrollEmitter.event(e)}i.onReadonlyOrDisabledChange&&this.configEntity.onReadonlyOrDisabledChange(i.onReadonlyOrDisabledChange.bind(i)),this.renderer.addLayer(i)}getLayer(e){return this.allLayersMap.get(e)}get configEntity(){return this.entityManager.getEntity(tA,!0)}ready(){let e=this.configEntity,t=e.finalScale,i=e.scrollData;e.onConfigChanged(()=>{let a=e.finalScale,r=e.scrollData;a!==t&&(t=a,D.MessageLoop.postMessage(this,tz)),(i.scrollX!==r.scrollX||i.scrollY!==r.scrollY)&&(i=r,D.MessageLoop.postMessage(this,tG))})}processMessage(e){let t=this.configEntity;switch(e.type){case"PIPELINE_SCROLL":this.onScrollEmitter.fire(t.scrollData);break;case"PIPELINE_ZOOM":this.onZoomEmitter.fire(t.finalScale)}}dispose(){this.toDispose.dispose()}constructor(){this._isFocused=!1,this.toDispose=new m.K4,this.allLayersMap=new Map,this.onResizeEmitter=new m.Q5,this.onFocusEmitter=new m.Q5,this.onBlurEmitter=new m.Q5,this.onZoomEmitter=new m.Q5,this.onScrollEmitter=new m.Q5,this.onFocus=this.onFocusEmitter.event,this.onBlur=this.onBlurEmitter.event,this.onZoom=this.onZoomEmitter.event,this.onScroll=this.onScrollEmitter.event,this.playgroundEvents={},this.globalEvents={},this.onResize=this.onResizeEmitter.event,this.toDispose.pushAll([this.onResizeEmitter,this.onFocusEmitter,this.onZoomEmitter,this.onBlurEmitter,this.onScrollEmitter]),this.onFocusEmitter.event(()=>{this._isFocused=!0}),this.onBlurEmitter.event(()=>{this._isFocused=!1})}};A([(0,C.f3)(tT)],tj.prototype,"renderer",2),A([(0,C.f3)(tN)],tj.prototype,"selector",2),A([(0,C.f3)(to)],tj.prototype,"entityManager",2),A([ti()],tj.prototype,"context",2),A([(0,C.f3)(tm)],tj.prototype,"layerFactory",2),tj=A([(0,C.b2)()],tj);var tH=x.createContext({}),tJ=x.createContext({}),tX=x.createContext({}),tY=x.createContext(void 0),tU=Symbol("PlaygroundConfig"),tW=Symbol("PlaygroundContribution"),tK=class{config(e){Object.assign(this.playgroundConfig,e)}registerLayer(e){this.pipeline.registerLayer(e)}registerEntity(e){this.entityManager.registerEntity(e)}registerEditorState(e){let t=this.entityManager.getEntity(tP);null==t||t.registerState(e)}};A([(0,C.f3)(tj)],tK.prototype,"pipeline",2),A([(0,C.f3)(to)],tK.prototype,"entityManager",2),A([(0,C.f3)(tU)],tK.prototype,"playgroundConfig",2),tK=A([(0,C.b2)()],tK);var tZ=Symbol("PluginContext");Symbol("Plugin");var tQ=0;function tq(e){let{contributionKeys:t,singleton:i=!1}=e;tQ+=1;let a=`Playground_${tQ}`;return r=>{let n=[],o=!1;return{pluginId:a,singleton:i,initPlugin:()=>{!o&&(o=!0,e.containerModules&&n.push(...e.containerModules),e.onBind&&n.push(new C.nZ((t,i,a,n)=>{e.onBind({bind:t,unbind:i,isBound:a,rebind:n},r)})),(e.onInit||e.onDispose||e.onReady||e.onAllLayersRendered)&&n.push(new C.nZ(t=>{t(tW).toDynamicValue(t=>{let i=t.container.get(tZ);return{onInit:()=>{var t;null==(t=e.onInit)||t.call(e,i,r)},onReady:()=>{var t;null==(t=e.onReady)||t.call(e,i,r)},onDispose:()=>{var t;null==(t=e.onDispose)||t.call(e,i,r)},onAllLayersRendered:()=>{var t;null==(t=e.onAllLayersRendered)||t.call(e,i,r)}}})})))},options:r,contributionKeys:t,containerModules:n}}}var t0=e=>tq(e)(void 0),t1=class{get onResize(){return this.pipelineRegistry.onResizeEmitter.event}get context(){var e;return null==(e=this.contextProvider)?void 0:e.call(this)}get contributions(){return this.contributionProvider.getContributions()}init(){let{contributions:e}=this;for(let t of e)t.registerPlayground&&t.registerPlayground(this.registry);for(let t of e)t.onInit&&t.onInit(this)}get pipelineNode(){return this.pipelineRenderer.node}setParent(e){e.appendChild(this.node),this.resize()}get zoomEnable(){return this.config.zoomEnable}set zoomEnable(e){this.config.zoomEnable=e}flush(){this.pipelineRenderer.flush()}ready(){if(this.isReady)return;if(this.isReady=!0,this.playgroundConfig.autoResize){let e=()=>{this.disposed||this.resize()};if("undefined"!=typeof ResizeObserver){let t=new ResizeObserver(e);t.observe(this.node),this.toDispose.push(m.JT.create(()=>{t.disconnect()}))}else this.toDispose.push(m.xF.addStandardDisposableListener(window.document.body,"resize",e,{passive:!0}));this.resize()}this.pipelineRegistry.ready(),this.pipelineRenderer.ready();let{contributions:e}=this;for(let t of e)t.onReady&&t.onReady(this)}scrollToView(e){return this.entityManager.getEntity(tA).scrollToView(e)}resize(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e){let t=this.node.getBoundingClientRect();e={width:t.width,height:t.height}}let{width:i,height:a}=this.config.config;if(0===e.width||0===e.height)return!1;let r=this.config.config,{scrollX:n,scrollY:o}=this.config.config;return t&&i&&Math.round(e.width)!==i&&(n+=(i-e.width)/2),t&&a&&Math.round(e.height)!==a&&(o+=(a-e.height)/2),(Math.round(e.width)!==i||Math.round(e.height)!==a||r.scrollX!==n||r.scrollY!==o)&&(this.config.updateConfig({...e,scrollX:n,scrollY:o}),this.pipelineRegistry.onResizeEmitter.fire(e)),!0}focus(){this._focused||(this._focused=!0,this.pipelineRegistry.onFocusEmitter.fire())}blur(){this._focused&&(this._focused=!1,this.pipelineRegistry.onBlurEmitter.fire())}get focused(){return this._focused}get config(){return this.entityManager.getEntity(tA)}get editorState(){return this.entityManager.getEntity(tP)}getConfigEntity(e){return this.entityManager.getEntity(e,!0)}dispose(){if(this.disposed)return;let{contributions:e}=this;for(let t of e)t.onDispose&&t.onDispose(this);this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}toReactComponent(){return this.pipelineRenderer.toReactComponent()}registerLayer(e,t){this.pipelineRegistry.registerLayer(e,t)}registerLayers(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>this.pipelineRegistry.registerLayer(e))}getLayer(e){return this.pipelineRegistry.getLayer(e)}get onAllLayersRendered(){return this.pipelineRenderer.onAllLayersRendered}constructor(e,t,i,a,r,n,o,s,d){this.entityManager=e,this.registry=t,this.contextProvider=i,this.pipelineRenderer=a,this.pipelineRegistry=r,this.playgroundConfig=n,this.contributionProvider=o,this.commandService=s,this.selectionService=d,this.toDispose=new m.K4,this._focused=!1,this.playgroundClassName=(0,E.x0)(),this.isReady=!1,this.toDispose.pushAll([this.pipelineRenderer,this.pipelineRegistry,this.entityManager,this.commandService,this.selectionService,m.JT.create(()=>{this.node.remove()}),a.onAllLayersRendered(()=>{this.contributions.forEach(e=>{var t;return null==(t=e.onAllLayersRendered)?void 0:t.call(e,this)})})]);let l=this.entityManager.createEntity(tP);if(this.entityManager.createEntity(tA),this.node=n.node||document.createElement("div"),this.config.playgroundDomNode=this.node,this.toDispose.pushAll([m.xF.addStandardDisposableListener(this.node,"scroll",e=>{this.node.scrollTop=0,this.node.scrollLeft=0,e.preventDefault(),e.stopPropagation()})]),this.node.classList.add("gedit-playground"),this.node.classList.add(this.playgroundClassName),this.node.dataset.testid="sdk.workflow.canvas",n.layers&&n.layers.forEach(e=>this.registry.registerLayer(e)),n.editorStates&&n.editorStates.forEach(e=>l.registerState(e)),void 0!==n.zoomEnable&&(this.zoomEnable=n.zoomEnable),n.entityConfigs)for(let[e,t]of n.entityConfigs){let i=this.entityManager.getEntity(e,!0);null==i||i.updateConfig(t)}this.node.addEventListener("blur",()=>{this.blur()}),this.node.addEventListener("focus",()=>{this.focus()}),this.node.tabIndex=0,this.node.appendChild(this.pipelineRenderer.node),this.onBlur=this.pipelineRegistry.onBlurEmitter.event,this.onFocus=this.pipelineRegistry.onFocusEmitter.event,this.onZoom=this.pipelineRegistry.onZoomEmitter.event,this.onScroll=this.pipelineRegistry.onScrollEmitter.event}};function t2(e){return{container:e,playground:e.get(t1),get:t=>e.get(t),getAll:t=>e.getAll(t)}}function t3(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.createChild();a.bind(t).toSelf().inSingletonScope(),a.bind(tV).toConstantValue(i);let r=a.get(t);return"object"==typeof r&&th(r.constructor.prototype).forEach(e=>{r.hasOwnProperty(e)&&void 0===r[e]&&delete r[e]}),r}t1=A([(0,C.b2)(),V(0,(0,C.f3)(to)),V(1,(0,C.f3)(tK)),V(2,(0,C.f3)(tt)),V(2,(0,C.jt)()),V(3,(0,C.f3)(tT)),V(4,(0,C.f3)(tj)),V(5,(0,C.f3)(tU)),V(6,(0,C.f3)(m.Qc)),V(6,(0,C.t6)(tW)),V(6,(0,C.jt)()),V(7,(0,C.f3)(k)),V(8,(0,C.f3)(tv))],t1);var t4=new C.nZ(e=>{e(to).toSelf().inSingletonScope(),e(tT).toSelf().inSingletonScope(),e(tK).toSelf().inSingletonScope(),e(t1).toSelf().inSingletonScope(),e(tN).toSelf().inSingletonScope(),e(tm).toDynamicValue(e=>(t,i)=>t3(e.container,t,i)).inSingletonScope(),e(tj).toSelf().inSingletonScope(),e(ta).toDynamicValue(e=>e.container).inSingletonScope(),e(tU).toConstantValue({autoFocus:!0,autoResize:!0,zoomEnable:!0,layers:[]}),e(te).toConstantValue({}),e(tt).toDynamicValue(e=>()=>{if(e.container.isBound(te))return e.container.get(te)}),e(tD).toSelf().inSingletonScope(),e(tx).toSelf().inSingletonScope(),e(tv).toSelf().inSingletonScope(),e(tE).to(tC).inSingletonScope(),e(tS).to(tw).inSingletonScope(),e(tA).toDynamicValue(e=>e.container.get(to).createEntity(tA)).inSingletonScope(),(0,m.yb)(e,tW),e(tZ).toDynamicValue(e=>t2(e.container)).inSingletonScope(),e(e5).toService(tZ)});function t8(e,t,i){let a=i||new C.W2({defaultScope:"Singleton"});return t&&(a.parent=t),a.load(t4),a.isBound(k)||a.load(P),e&&(a.rebind(tU).toConstantValue(e),e.context&&a.rebind(te).toConstantValue(e.context)),a}var t9=(0,x.forwardRef)(function(e,t){let{containerModules:i,playgroundContext:a,parentContainer:r,playgroundContainer:n,plugins:o,customPluginContext:s,...d}=e,l=(0,x.useMemo)(()=>{let e;return n?e=n:(e=t8({autoFocus:!0,autoResize:!0,zoomEnable:!0,...d},r),a&&e.rebind(te).toConstantValue(a),i&&i.forEach(t=>e.load(t))),e},[]),c=(0,x.useMemo)(()=>{let e,t=l.get(t1);return s?(e=s(l),l.rebind(tZ).toConstantValue(e)):e=l.get(tZ),o&&function(e,t){let i=new Set,a=new Set;e.reduceRight((e,t)=>{let i=t.singleton&&a.has(t.pluginId);return t.singleton&&a.add(t.pluginId),i?e:[t,...e]},[]).reduce((e,t)=>{if(i.has(t.pluginId)||(t.initPlugin(),i.add(t.pluginId)),t.containerModules&&t.containerModules.length>0)for(let i of t.containerModules)e.includes(i)||e.push(i);return e},[]).forEach(e=>t.load(e)),e.forEach(e=>{if(e.contributionKeys)for(let i of e.contributionKeys)t.bind(i).toConstantValue(e.options)})}(o(e),l),t.init(),t},[]),h=(0,x.useRef)(0);return(0,x.useEffect)(()=>(h.current+=1,()=>{c.dispose()}),[]),(0,x.useImperativeHandle)(t,()=>l.get(tZ),[]),x.createElement(tJ.Provider,{value:l},x.createElement(tX.Provider,{value:c},x.createElement(tH.Provider,{value:a},e.children)))});function t5(){return x.useContext(tX)}function t6(){return x.useContext(tJ)}function t7(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=t6().get(to),i=(0,x.useContext)(tY);if(!i)throw Error('[useEntityFromContext] Unknown entity from "PlaygroundEntityContext"');let a=(0,m.JA)(i.version);return(0,x.useLayoutEffect)(()=>{let t;return e&&(t=i.onEntityChange(()=>a(i.version))),()=>null==t?void 0:t.dispose()},[t,a,i,e]),i}function ie(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let a=(0,m.JA)();(0,x.useLayoutEffect)(()=>{let e=new m.K4;return e.pushAll(t.map(e=>e(()=>a()))),()=>e.dispose()},[t,a])}function it(e){var t;let i=t6();return null==(t=i.get)?void 0:t.call(i,e)}function ii(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t6().get(to),a=i.getEntity(e,!0),r=(0,m.JA)(a.version);return(0,x.useLayoutEffect)(()=>{let e=t?a.onEntityChange(()=>{r(a.version)}):m.JT.NULL;return()=>e.dispose()},[i,r,a,t]),a}function ia(){let e=t5();return(0,x.useMemo)(()=>({start:(t,i)=>Q.startDrag(t.clientX,t.clientY,{...i,config:e.config})}),[])}var ir=e=>{let t=t5(),i=it(tU),a=(0,x.useRef)();(0,x.useEffect)(()=>{t.setParent(a.current),t.ready(),i.autoFocus&&t.node.focus()},[]);let r=t.toReactComponent();return x.createElement(x.Fragment,null,x.createElement("div",{ref:a,className:`gedit-playground-container${e.className?` ${e.className}`:""}`,style:e.style}),x.createElement(r,null),e.children?_.createPortal(x.createElement(x.Fragment,null,e.children),t.node):null)};(e=>{let t=Symbol("LayerStateProvider");class i{hijackMethod(e,t){"function"==typeof e[t]&&(this[t]=vi.spyOn(e,t))}constructor(e,t,i){this.instance=e,this.playground=t,this.container=i,this.hijackMethod(e,"autorun"),this.hijackMethod(e,"render"),this.hijackMethod(e,"onReady"),this.hijackMethod(e,"onResize"),this.hijackMethod(e,"onFocus"),this.hijackMethod(e,"onBlur"),this.hijackMethod(e,"onZoom"),this.hijackMethod(e,"onScroll"),this.hijackMethod(e,"onViewportChange"),this.hijackMethod(e,"onReadonlyOrDisabledChange")}}function a(e){let a=t8();return a.bind(t).toConstantValue(new WeakMap),a.rebind(tm).toDynamicValue(e=>(r,n)=>{let o=t3(e.container,r,n);return e.container.get(t).set(r,new i(o,a.get(t1),a)),o}),e&&e.forEach(e=>a.load(e)),a}function r(e,i){return e.get(t).get(i)}e.LayerTestState=i,e.createContainer=a,e.createPlayground=function(e){return a(e).get(t1)},e.getLayerTestState=r,e.createLayerTestState=function(e,t,i){let n=a(i),o=n.get(t1);return o.registerLayer(e,t),o.init(),o.ready(),r(n,e)}})(y||(y={}))},579962:function(e,t,i){i.d(t,{C8:()=>B,D9:()=>ed,GA:()=>J,IG:()=>L,JU:()=>ei,Lu:()=>k,Lw:()=>q,Lz:()=>z,OT:()=>D,QU:()=>el,Sy:()=>x,T4:()=>T,Uy:()=>er,VH:()=>P,VO:()=>F,Vl:()=>X,XP:()=>M,Xr:()=>H,Xs:()=>Z,cc:()=>Q,d1:()=>ef,eE:()=>es,eG:()=>j,h3:()=>K,nx:()=>I,pQ:()=>ea,y3:()=>Y,yI:()=>eu});var a,r,n,o,s,d,l,c,h,f,u=i(893740),b=i(832176),g=i(827656),p=i(492320),y=i(9163),m=i(129034),E=Object.defineProperty,C=Object.getOwnPropertyDescriptor,S=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?C(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&E(t,i,n),n},w=(e,t)=>(i,a)=>t(i,a,e),x=((a=x||{}).START="start",a.DEFAULT="default",a.ROOT="root",a.EMPTY="empty",a.INLINE_BLOCKS="inlineBlocks",a.BLOCK_ICON="blockIcon",a.BLOCK="block",a.BLOCK_ORDER_ICON="blockOrderIcon",a.GROUP="group",a.END="end",a.BREAK="break",a.CONDITION="condition",a.SUB_CANVAS="subCanvas",a.MULTI_INPUTS="multiInputs",a.MULTI_OUTPUTS="multiOutputs",a.INPUT="input",a.OUTPUT="output",a.SLOT="slot",a.SLOT_BLOCK="slotBlock",a),D=((r=D||{}).SIMPLE_SPLIT="simpleSplit",r.DYNAMIC_SPLIT="dynamicSplit",r.STATIC_SPLIT="staticSplit",r),_=["root","inlineBlocks","block"];Symbol("FlowLayout");var N=Symbol("FlowLayoutContribution"),M=((n=M||{}).VERTICAL_FIXED_LAYOUT="vertical-fixed-layout",n.HORIZONTAL_FIXED_LAYOUT="horizontal-fixed-layout",n);(M||(M={})).isVertical=function(e){return"vertical-fixed-layout"===e.name};var L=((o=L||{})[o.STRAIGHT_LINE=0]="STRAIGHT_LINE",o[o.DIVERGE_LINE=1]="DIVERGE_LINE",o[o.MERGE_LINE=2]="MERGE_LINE",o[o.ROUNDED_LINE=3]="ROUNDED_LINE",o[o.CUSTOM_LINE=4]="CUSTOM_LINE",o[o.DRAGGING_LINE=5]="DRAGGING_LINE",o),I=((s=I||{})[s.ADDER_LABEL=0]="ADDER_LABEL",s[s.TEXT_LABEL=1]="TEXT_LABEL",s[s.COLLAPSE_LABEL=2]="COLLAPSE_LABEL",s[s.COLLAPSE_ADDER_LABEL=3]="COLLAPSE_ADDER_LABEL",s[s.CUSTOM_LABEL=4]="CUSTOM_LABEL",s[s.BRANCH_DRAGGING_LABEL=5]="BRANCH_DRAGGING_LABEL",s),T={NODE_SPACING:"SPACING",BRANCH_SPACING:"BRANCH_SPACING",ROUNDED_LINE_X_RADIUS:"ROUNDED_LINE_X_RADIUS",ROUNDED_LINE_Y_RADIUS:"ROUNDED_LINE_Y_RADIUS",INLINE_BLOCKS_PADDING_BOTTOM:"INLINE_BLOCKS_PADDING_BOTTOM",COLLAPSED_SPACING:"COLLAPSED_SPACING",HOVER_AREA_WIDTH:"HOVER_AREA_WIDTH"},k={NULL:0,[T.NODE_SPACING]:32,[T.BRANCH_SPACING]:20,MARGIN_RIGHT:20,INLINE_BLOCK_PADDING_BOTTOM:16,INLINE_BLOCKS_PADDING_TOP:30,[T.INLINE_BLOCKS_PADDING_BOTTOM]:40.1,MIN_INLINE_BLOCK_SPACING:200,MIN_INLINE_BLOCK_SPACING_HORIZONTAL:80,[T.COLLAPSED_SPACING]:12,[T.ROUNDED_LINE_X_RADIUS]:16,[T.ROUNDED_LINE_Y_RADIUS]:20,[T.HOVER_AREA_WIDTH]:20},P=((d=P||{}).PRE_BRANCH="pre_branch",d.NORMAL_BRANCH="normal_branch",d),O={width:280,height:60},R=h||(h={});function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length||0===t.length?[...e,...t]:[...e.map(e=>{let i=t.find(t=>t.type===e.type);return i?V(e,i,e.type):e}),...t.filter(t=>!e.some(e=>e.type===t.type))]}function V(e,t,i){let a=e.__extends__?e.__extends__.slice():[];return e.type!==t.type&&a.unshift(e.type),{...e,...t,extendChildRegistries:A(e.extendChildRegistries,t.extendChildRegistries),meta:{...e.meta,...t.meta},extend:void 0,type:i,__extends__:a}}R.mergeChildRegistries=A,R.merge=V,R.extend=function(e,t){return t.length?t.reduce((t,i)=>V(t,i,e.type),e):e};var B=((l=B||{}).addFromNode="addFromNode",l.deleteFromNode="deleteFromNode",l.addBlock="addBlock",l.deleteBlock="deleteBlock",l.createGroup="createGroup",l.ungroup="ungroup",l.moveNodes="moveNodes",l.moveBlock="moveBlock",l.moveChildNodes="moveChildNodes",l.addNodes="addNodes",l.deleteNodes="deleteNodes",l.addChildNode="addChildNode",l.deleteChildNode="deleteChildNode",l.addNode="addNode",l.deleteNode="deleteNode",l),F=Symbol("FlowOperationBaseService"),$=class e extends u.RD{get key(){return this.entity.id}getDefaultData(){let{addable:e,expandable:t,defaultExpanded:i}=this.entity.getNodeMeta();return{addable:e,expandable:t,expanded:i||!1,activated:!1,hovered:!1,dragging:!1,stackIndex:0}}updateExtInfo(e,t){let i=this.data.extInfo,a=t?e:{...i,...e};b.XJ.isChanged(i,a)&&(this.update({extInfo:a}),this.onExtInfoChangeEmitter.fire({oldInfo:i,newInfo:a}))}getExtInfo(){return this.data.extInfo}get addable(){return this.data.addable}get expandable(){return this.data.expandable}get draggable(){let{draggable:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this.entity):e}get expanded(){return this.data.expanded}set expanded(e){this.expandable&&this.data.expanded!==e&&(this.data.expanded=e,this.fireChange())}toggleExpand(){this.expanded=!this.expanded}toggleMouseEnter(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.entity.document.renderState.setNodeHovered(this.entity),t)return;let i=this.entity.getData(j);i.renderState.hidden||(this.mouseLeaveTimeout&&(clearTimeout(this.mouseLeaveTimeout),this.mouseLeaveTimeout=void 0),i.renderState.hovered=!0,this.entity.isFirst&&(null==(e=this.entity.parent)?void 0:e.id)!=="root"?i.parent.renderState.activated=!0:i.renderState.activated=!0)}toggleMouseLeave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.entity.document.renderState.setNodeHovered(void 0),e)return;let t=this.entity.getData(j);this.mouseLeaveTimeout=setTimeout(()=>{var e;t.renderState.hovered=!1,this.entity.isFirst&&(null==(e=this.entity.parent)?void 0:e.id)!=="root"&&(t.parent.renderState.activated=!1),t.renderState.activated=!1},200)}get hidden(){return this.entity.hidden}set hovered(e){this.data.hovered=e,this.fireChange()}get hovered(){return this.data.hovered}get dragging(){return this.data.dragging}set dragging(e){this.data.dragging!==e&&(this.data.dragging=e,this.fireChange())}set activated(t){if("blockIcon"===this.entity.flowNodeType&&this.entity.parent){this.entity.parent.getData(e).activated=t;return}this.data.activated!==t&&(this.data.activated=t,this.fireChange())}get activated(){let{entity:t}=this;return!!t.parent&&!!t.parent.getData(e).activated||this.data.activated}get stackIndex(){return this.data.stackIndex}set stackIndex(e){this.data.stackIndex=e}get lineActivated(){var t,i,a;let{activated:r}=this;return!!r&&!!((null==(i=this.entity.parent)||null==(t=i.getData(e))?void 0:t.activated)||this.entity.isInlineBlock||(null==(a=this.entity.next)?void 0:a.getData(e).activated))}get node(){return this._node||(this._node=b.xF.createDivWithClass("gedit-flow-activity-node"),this._node.dataset.testid="sdk.workflow.canvas.node",this._node.dataset.nodeId=this.entity.id),this._node}dispose(){super.dispose(),this.onExtInfoChangeEmitter.dispose()}constructor(e){super(e),this.onExtInfoChangeEmitter=new b.Q5,this.onExtInfoChange=this.onExtInfoChangeEmitter.event,this.toDispose.push(b.JT.create(()=>{this._node&&this._node.remove()}))}};$.type="FlowNodeRenderData";var z=$,G=class e extends u.RD{get origin(){return this.transform.origin}get key(){return this.entity.id}getDefaultData(){let{size:e,hidden:t}=this.entity.getNodeMeta();return{size:t?{width:0,height:0}:{...e}}}get collapsed(){return this.entity.collapsed}set collapsed(e){this.entity.collapsed=e,this.localDirty=!0,this.firstChild&&(this.firstChild.localDirty=!0),this.fireChange()}get size(){return this.entity.memoGlobal("size",()=>this.isContainer?this.transform.localSize:this.data.size)}get position(){let{position:e}=this.transform;return{x:e.x,y:e.y}}set position(e){this.transform.update({position:e})}set size(e){let{width:t,height:i}=this.data.size;this.isContainer||(e.width!==t||e.height!==i)&&(this._data.size={...e},this.localDirty=!0,this.fireChange())}get inputPoint(){return this.entity.memoGlobal("inputPoint",()=>{let{getInputPoint:e}=this.entity.getNodeRegistry();return e?e(this,this.entity.document.layout):this.defaultInputPoint})}get defaultInputPoint(){return this.entity.memoGlobal("defaultInputPoint",()=>this.entity.document.layout.getDefaultInputPoint(this.entity))}get defaultOutputPoint(){return this.entity.memoGlobal("defaultOutputPoint",()=>this.entity.document.layout.getDefaultOutputPoint(this.entity))}get outputPoint(){return this.entity.memoGlobal("outputPoint",()=>{let{getOutputPoint:e}=this.entity.getNodeRegistry();return e?e(this,this.entity.document.layout):this.defaultOutputPoint})}get originDeltaX(){return this.entity.memoLocal("originDeltaX",()=>{let{children:e}=this,{getOriginDeltaX:t}=this.entity.getNodeRegistry();return t?t(this,this.entity.document.layout):0===e.length?-this.size.width*this.origin.x:1===e.length?e[0].originDeltaX:this.entity.isInlineBlocks&&e.length>1?e[0].originDeltaX+this.transform.position.x:e.reduce((e,t)=>{let i=t.originDeltaX;return void 0===e||i<e?i:e},void 0)})}get originDeltaY(){return this.entity.memoLocal("originDeltaY",()=>{let{children:e}=this,{getOriginDeltaY:t}=this.entity.getNodeRegistry();return t?t(this,this.entity.document.layout):0===e.length?-this.size.height*this.origin.y:1===e.length?e[0].originDeltaY:this.entity.isInlineBlocks&&e.length>1?e[0].originDeltaY+this.transform.position.y:e.reduce((e,t)=>{let i=t.originDeltaY;return void 0===e||i<e?i:e},void 0)})}get bounds(){return this.entity.memoGlobal("bounds",()=>{let{transform:t}=this;if(this.isContainer){let i=t.children.map(t=>t.entity.getData(e).boundsWithPadding);return b.Ae.enlarge(i).withPadding(this.padding)}return t.bounds})}get boundsWithPadding(){return this.entity.memoGlobal("boundsWithPadding",()=>{let{transform:t}=this;if(this.isContainer){let i=t.children.map(t=>t.entity.getData(e).boundsWithPadding);return b.Ae.enlarge(i).withPadding(this.padding)}return t.bounds.clone().withPadding(this.padding)})}get isContainer(){return this.transform.isContainer}get localBounds(){return this.entity.memoLocal("localBounds",()=>{let{transform:t}=this;if(this.isContainer){let i=t.children.map(t=>t.entity.getData(e).localBounds),a=b.Ae.enlarge(i).withPadding(this.padding);return u.YZ.applyMatrix(a,t.localTransform)}return t.localBounds.clone().withPadding(this.padding)})}get padding(){return this.entity.document.layout.getPadding(this.entity)}setParentTransform(e){this.transform.parent!==(null==e?void 0:e.transform)&&(this.localDirty=!0),this.transform.setParent(null==e?void 0:e.transform)}get spacing(){let{spacing:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get inlineSpacingPre(){let{inlineSpacingPre:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get inlineSpacingAfter(){let{inlineSpacingAfter:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get minInlineBlockSpacing(){let{minInlineBlockSpacing:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get children(){return this.entity.children.map(t=>t.getData(e))}get pre(){var t;return null==(t=this.entity.pre)?void 0:t.getData(e)}get originParent(){var t;return null==(t=this.entity.originParent)?void 0:t.getData(e)}get isFirst(){return this.entity.isFirst}get isLast(){return this.entity.isLast}get lastChild(){var t;return null==(t=this.entity.lastChild)?void 0:t.getData(e)}get firstChild(){var t;return null==(t=this.entity.firstChild)?void 0:t.getData(e)}get next(){var t;return null==(t=this.entity.next)?void 0:t.getData(e)}get parent(){var t;return null==(t=this.entity.parent)?void 0:t.getData(e)}constructor(e){super(e),this.localDirty=!0;let{origin:t}=this.entity.getNodeMeta();this.transform=this.entity.addData(u.VO),this.transform.changeLocked=!0,this.transform.update({origin:{...t}}),this.transform.changeLocked=!1,this.renderState=this.entity.addData(z),this.bindChange(this.transform),this.toDispose.push(b.JT.create(()=>{let{next:e,parent:t}=this;e&&(e.localDirty=!0),t&&(t.localDirty=!0)}))}};G.type="FlowNodeTransformData";var j=G,H=class extends u.RD{getDefaultData(){return{}}formatLines(e){var t,i,a;return(null==(t=this.entity.document.options)?void 0:t.formatNodeLines)?null==(a=this.entity.document.options)||null==(i=a.formatNodeLines)?void 0:i.call(a,this.entity,e):e}formatLabels(e){if(this.entity.document.options.formatNodeLabels){var t,i;return null==(i=this.entity.document.options)||null==(t=i.formatNodeLabels)?void 0:t.call(i,this.entity,e)}return e}get lines(){return this.entity.memoGlobal("lines",()=>{var e;let{getChildLines:t}=(null==(e=this.entity.parent)?void 0:e.getNodeRegistry())||{};if(t)return this.formatLines(t(this,this.entity.document.layout));let{getLines:i}=this.entity.getNodeRegistry();return i?this.formatLines(i(this,this.entity.document.layout)):this.transform.entity.isInlineBlock?[]:this.formatLines([...(e=>{let{transform:t}=e,i=t.outputPoint;return t.next?[{type:0,from:i,to:t.next.inputPoint}]:[]})(this),...(e=>{var t;let{transform:i}=e,a=i.outputPoint,r=null==(t=i.parent)?void 0:t.outputPoint;return i.next||!r||new b.E9().copyFrom(a).equals(r)||e.isNodeEnd?[]:[{type:0,from:a,to:r}]})(this)])})}get labels(){return this.entity.memoGlobal("labels",()=>{var e,t;let{getChildLabels:i}=(null==(e=this.entity.parent)?void 0:e.getNodeRegistry())||{};if(i)return this.formatLabels(i(this,this.entity.document.layout));let{getLabels:a}=this.entity.getNodeRegistry();if(a)return this.formatLabels(a(this,this.entity.document.layout));if(this.transform.entity.isInlineBlock)return[];let r=this.transform.outputPoint;if(this.transform.next)return this.formatLabels([{offset:b.E9.getMiddlePoint(r,this.transform.next.inputPoint),type:0}]);let n=null==(t=this.transform.parent)?void 0:t.outputPoint;return!n||new b.E9().copyFrom(r).equals(n)||this.isNodeEnd?[]:this.formatLabels([{offset:n,type:0}])})}get collapsed(){return this.entity.collapsed}get isNodeEnd(){return this.entity.isNodeEnd}constructor(e){super(e),this.transform=this.entity.addData(j),this.renderData=this.entity.addData(z),this.bindChange(this.transform),this.bindChange(this.renderData)}};H.type="FlowNodeTransitionData";var J=class extends u.JH{initData(e){e.originParent!==this.originParent&&(this.originParent=e.originParent,this._registerCache=void 0),e.parent&&e.parent.addChild(this,e.index),e.meta!==this.metaFromJSON&&(this._metaCache=void 0,this.metaFromJSON=e.meta),this._hidden=!!(this.getNodeMeta().hidden||e.hidden)}get isStart(){return this.getNodeMeta().isStart}get isFirst(){return!this.pre}get isLast(){return!this.next}get isInlineBlocks(){let e=this.getNodeMeta().isInlineBlocks;return"function"==typeof e?e(this):e}get isInlineBlock(){let e=this.document.renderTree.getParent(this);return!!(e&&e.isInlineBlocks)}get isNodeEnd(){return this.memoLocal("isNodeEnd",()=>!!this.getNodeMeta().isNodeEnd||(this.isInlineBlocks&&this.collapsedChildren.length?this.collapsedChildren.every(e=>e.isNodeEnd):!!this.lastCollapsedChild&&this.lastCollapsedChild.isNodeEnd))}addChild(e,t){e.parent!==this&&this.document.originTree.addChild(this,e,t)}get hasChild(){return this.children.length>0}get pre(){return this.document.renderTree.getPre(this)}get next(){return this.document.renderTree.getNext(this)}get parent(){return this.document.renderTree.getParent(this)}getNodeRegistry(){return this._registerCache||(this._registerCache=this.document.getNodeRegistry(this.flowNodeType,this.originParent)),this._registerCache}getNodeRegister(){return this.getNodeRegistry()}getNodeMeta(){return this._metaCache||(this.metaFromJSON?this._metaCache={...this.getNodeRegistry().meta,...this.metaFromJSON}:this._metaCache=this.getNodeRegistry().meta),this._metaCache}get allChildren(){let e=[];for(let t of this.children)e.push(t),e.push(...t.allChildren);return e}get allCollapsedChildren(){let e=[];for(let t of this.collapsedChildren)e.push(t),e.push(...t.allCollapsedChildren);return e}get collapsedChildren(){return this.document.renderTree.getCollapsedChildren(this)}get blocks(){return this.collapsedChildren}get lastBlock(){return this.lastCollapsedChild}get lastCollapsedChild(){let{collapsedChildren:e}=this;return e[e.length-1]}get children(){return this.document.renderTree.getChildren(this)}get lastChild(){let{children:e}=this;return e[e.length-1]}get firstChild(){return this.children[0]}memoLocal(e,t){if(this._memoLocalCache.has(e))return this._memoLocalCache.get(e);let i=t();return this._memoLocalCache.set(e,i),i}memoGlobal(e,t){if(this._memoGlobalCache.has(e))return this._memoGlobalCache.get(e);let i=t();return this._memoGlobalCache.set(e,i),i}clearMemoGlobal(){this._memoGlobalCache.clear()}clearMemoLocal(){this._memoLocalCache.clear()}get childrenLength(){return this.children.length}get collapsed(){var e;return!!this.document.renderTree.isCollapsed(this)||!!(null==(e=this.parent)?void 0:e.collapsed)}set collapsed(e){this.document.renderTree.setCollapsed(this,e),this.clearMemoGlobal(),this.clearMemoLocal()}get hidden(){return this._hidden}openInsideCollapsed(){this.document.renderTree.openNodeInsideCollapsed(this)}getJSONData(){return this.getExtInfo()}toJSON(){return this.document.toNodeJSON(this)}get isVertical(){return"vertical-fixed-layout"===this.document.layout.name}updateExtInfo(e,t){this.getData(z).updateExtInfo(e,t)}getExtInfo(){return this.getData(z).getExtInfo()}get onExtInfoChange(){return this.renderData.onExtInfoChange}get renderData(){return this.getData(z)}get transform(){return this.getData(j)}get bounds(){return this.transform.bounds}isExtend(e){return this.document.isExtend(this.flowNodeType,e)}isTypeOrExtendType(e){return this.document.isTypeOrExtendType(this.flowNodeType,e)}constructor(e){super(e),this._memoLocalCache=new Map,this._memoGlobalCache=new Map,this.flowNodeType="unknown",this._hidden=!1,this.index=-1,this.document=e.document,this.flowNodeType=e.flowNodeType,this.originParent=e.originParent,this.metaFromJSON=e.meta,this.onDispose(()=>{this.document.originTree.getChildren(this).slice().forEach(e=>{e.dispose()}),this.document.originTree.remove(this,!1),this.originParent=void 0})}};J.type="FlowNodeEntity",(c=J||(J={})).is=function(e){return e instanceof c};var X=class extends u.cv{getDefaultConfig(){return{loading:!0,treeVersion:0}}get loading(){return this.config.loading}set loading(e){this.config.loading!==e&&(this.config.loading=e,this.fireChange())}updateTransformsTree(){this.document.renderTree.traverse((e,t,i)=>{let a=e.getData(j);a.collapsed&&a.transform.clearChildren(),e.parent&&a.setParentTransform(e.parent.getData(j)),e.index=i})}clear(){this.lastTreeVersion=-1,this.lastTransformVersion=-1}isTreeDirty(){let e=this.entityManager.getEntityDataVersion(j),t=this.lastTreeVersion!==this.config.treeVersion,i=this.lastTransformVersion!==e;return t||i}refresh(){let e=this.entityManager.getEntityDataVersion(j),t=this.lastTreeVersion!==this.config.treeVersion,i=this.lastTransformVersion!==e;this.entityManager.changeEntityLocked=!0,t&&(this.document.renderTree.updateRenderStruct(),this.updateTransformsTree(),this.lastTreeVersion=this.config.treeVersion),(t||i)&&(this.document.layout.update(),this.lastTransformVersion=this.entityManager.getEntityDataVersion(j),this.lastTreeVersion=this.config.treeVersion,this.onRefreshEmitter.fire()),this.entityManager.changeEntityLocked=!1}constructor(e){super(e),this.onRefreshEmitter=new b.Q5,this.lastTransformVersion=-1,this.lastTreeVersion=-1,this.onRefresh=this.onRefreshEmitter.event,this.document=e.document,this.toDispose.push(this.document.originTree.onTreeChange(()=>{this.config.treeVersion+=1,this.fireChange()})),this.toDispose.push(this.onRefreshEmitter)}};X.type="FlowDocumentTransformerEntity";var Y=class extends u.cv{getDefaultConfig(){return{}}getNodeHovered(){return this.config.nodeHoveredId?this.entityManager.getEntityById(this.config.nodeHoveredId):void 0}setNodeHovered(e){this.updateConfig({nodeHoveredId:null==e?void 0:e.id})}get dragging(){return this.config.dragging}setDragging(e){this.updateConfig({dragging:e})}get isBranch(){return this.config.isBranch}setIsBranch(e){this.updateConfig({isBranch:e})}getDragLabelSide(){return this.config.dragLabelSide}setDragLabelSide(e){this.updateConfig({dragLabelSide:e})}getNodeDroppingId(){return this.config.nodeDroppingId}setNodeDroppingId(e){this.updateConfig({nodeDroppingId:e})}getDragStartEntity(){let{nodeDragStartId:e}=this.config;return this.entityManager.getEntityById(e)}setDragStartEntity(e){this.updateConfig({nodeDragStartId:null==e?void 0:e.id})}getDragEntities(){let{nodeDragIds:e}=this.config;return(e||[]).map(e=>this.entityManager.getEntityById(e))}setDragEntities(e){this.updateConfig({nodeDragIds:e.map(e=>e.id),nodeDragIdsWithChildren:e.map(e=>[e.id,...e.allCollapsedChildren.map(e=>e.id)]).flat()})}onNodeHoveredChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return this.onConfigChanged((0,g.Z)(()=>e(this.getNodeHovered()),t))}constructor(e){super(e)}};Y.type="FlowRendererStateEntity";var U=class e{dispose(){this.map.clear(),this.onTreeChangeEmitter.dispose()}getInfo(e){let t=this.map.get(e);return t||(t={children:[]},this.map.set(e,t)),t}clear(){this.map.clear()}cloneMap(){let e=new Map;for(let[t,i]of this.map)e.set(t,{...i,children:i.children.slice()});return e}clone(){let t=new e(this.root);return t.map=this.cloneMap(),t}remove(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.removeParent(e),t&&this._removeChildren(e),this.map.delete(e),this.fireTreeChange()}addChild(e,t,i){let a=this.getInfo(e),r=this.getInfo(t);if(r.parent){if(r.parent===e)return t;r.parent!==e&&this.removeParent(t)}let n=a.children.length,o=void 0===i?n-1:i-1,s=a.children[o],d=a.children[o+1];return s&&(this.getInfo(s).next=t),d&&(this.getInfo(d).pre=t),r.pre=s,r.next=d,a.children.splice(o+1,0,t),r.parent=e,this.fireTreeChange(),t}moveChilds(e,t,i){let a=this.getInfo(e),r=a.children.length,n=i??r;return t.forEach(e=>{this.getInfo(e).parent&&this.removeParent(e)}),t.forEach(t=>{let i=this.getInfo(t),r=a.children[n-1],o=a.children[n];r&&(this.getInfo(r).next=t),o&&(this.getInfo(o).pre=t),i.pre=r,i.next=o,a.children.splice(n,0,t),i.parent=e,n++}),this.fireTreeChange(),t}getById(e){for(let t of this.map.keys())if(t.id===e)return t}insertAfter(e,t){let i=this.getInfo(e),a=this.getInfo(t);if(this.removeParent(t),i.parent){let r=this.getInfo(i.parent);r.children.splice(r.children.indexOf(e)+1,0,t);let{next:n}=i;n&&(this.getInfo(n).pre=t),a.next=n,i.next=t,a.pre=e,a.parent=i.parent}this.fireTreeChange()}removeParent(e){let t=this.getInfo(e);if(!t.parent)return;let i=this.getInfo(t.parent),a=i.children.indexOf(e);i.children.splice(a,1);let{pre:r,next:n}=t;r&&(this.getInfo(r).next=n),n&&(this.getInfo(n).pre=r),this.fireTreeChange()}_removeChildren(e){let t=this.getChildren(e);t.length>0&&t.forEach(e=>{this._removeChildren(e),this.map.delete(e)})}getParent(e){return this.getInfo(e).parent}getPre(e){return this.getInfo(e).pre}getNext(e){return this.getInfo(e).next}getChildren(e){return this.getInfo(e).children}traverse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e(t,i,a)||this.getInfo(t).children.find((t,a)=>this.traverse(e,t,i+1,a)))return!0}fireTreeChange(){this.onTreeChangeEmitter.fire()}get size(){return this.map.size}toString(e){let t=[];return this.traverse((i,a)=>{0===a?t.push(i.id):t.push(`|${Array(a).fill("--").join("")} ${e?`${i.flowNodeType}(${i.id})`:i.id}`)}),`${t.join("\n")}`}constructor(e){this.root=e,this.onTreeChangeEmitter=new b.Q5,this.onTreeChange=this.onTreeChangeEmitter.event,this.map=new Map}},W=class extends U{isCollapsed(e){return this.nodesCollapsed.has(e)}get collapsedNodeList(){return Array.from(this.nodesCollapsed)}setCollapsed(e,t){t?this.nodesCollapsed.add(e):this.nodesCollapsed.delete(e),this.originTree.fireTreeChange()}openNodeInsideCollapsed(e){var t;let i=null==(t=this.originTree.getInfo(e))?void 0:t.parent;for(;i;){this.nodesCollapsed.has(i)&&this.nodesCollapsed.delete(i);let{parent:e}=this.originTree.getInfo(i)||{};i=e}this.originTree.fireTreeChange()}updateRenderStruct(){this.map=this.originTree.cloneMap(),this.document.config.get("END_NODES_REFINE_BRANCH")&&this.refineBranch(this.root),this.hideCollapsed()}hideCollapsed(){this.nodesCollapsed.forEach(e=>{let t=this.getInfo(e);if(!t)return void this.nodesCollapsed.delete(e);let i=t.children.find(e=>"blockIcon"===e.flowNodeType||"blockOrderIcon"===e.flowNodeType);if(i){let e=this.getInfo(i);e.next=void 0,e.pre=void 0,t.children=[i];return}t.children=[]})}isNodeEnd(e){if(e.getNodeMeta().isNodeEnd)return!0;let{children:t}=this.getInfo(e);return t.length>0&&e.isInlineBlocks?t.every(e=>this.isNodeEnd(e)):!!e.isInlineBlock&&this.isNodeEnd(t[t.length-1])}refineBranch(e){let t=this.getInfo(e).children[0];for(;t;){if("dynamicSplit"===t.flowNodeType||"staticSplit"===t.flowNodeType){let{next:e,children:i}=this.getInfo(t),{children:a}=this.getInfo(i[1]),r=(a||[]).filter(e=>!this.isNodeEnd(e)),n=1===r.length;if(n&&e&&this.dragNextNodesToBlock(r[0],e),null==a||a.forEach(e=>{this.refineBranch(e)}),n)break}t=t.next}}dragNextNodesToBlock(e,t){let i=this.getInfo(e),a=this.getInfo(t),r=i.children[e.children.length-1];if(a.parent){let n=this.getInfo(a.parent);a.pre&&(this.getInfo(a.pre).next=void 0),r&&(this.getInfo(r).next=t,a.pre=r);let o=n.children.indexOf(t),s=n.children.slice(o);for(let t of(n.children=n.children.slice(0,o),s)){let a=this.getInfo(t);i.children.push(t),a.parent=e}}}getInfo(e){return this.map.get(e)||this.originTree.getInfo(e)}getOriginInfo(e){return this.originTree.getInfo(e)}getCollapsedChildren(e){return this.getOriginInfo(e).children||[]}remove(){throw Error("Render Tree cannot use remove node")}addChild(){throw Error("Render tree cannot use add child")}insertAfter(){throw Error("Render tree cannot use insert after")}removeParent(){throw Error("Render tree cannot use remove parent")}constructor(e,t,i){super(e),this.root=e,this.nodesCollapsed=new Set,this.originTree=t,this.onTreeChange=this.originTree.onTreeChange,this.document=i}},K=Symbol("FlowDocumentOptions"),Z={allNodesDefaultExpanded:!1},Q={...T,INLINE_SPACING_BOTTOM:"INLINE_SPACING_BOTTOM",INLINE_BLOCKS_INLINE_SPACING_TOP:"INLINE_BLOCKS_INLINE_SPACING_TOP",INLINE_BLOCKS_INLINE_SPACING_BOTTOM:"INLINE_BLOCKS_INLINE_SPACING_BOTTOM",BASE_COLOR:"BASE_COLOR",BASE_ACTIVATED_COLOR:"BASE_ACTIVATED_COLOR",INLINE_BLOCKS_PADDING_TOP:"INLINE_BLOCKS_PADDING_TOP"},q=Symbol("FlowDocumentContribution"),ee=Symbol("FlowDocumentConfigDefaultData"),et=class{get(e){return this._data[e]}set(e,t){this.get(e)!==t&&(this._data[e]=t,this.onDataChangeEmitter.fire(e))}registerConfigs(e){Object.keys(e).forEach(t=>{this.set(t,e[t])})}constructor(e={}){this._data=e,this.onDataChangeEmitter=new b.Q5,this.onChange=this.onDataChangeEmitter.event}};et=S([(0,y.b2)(),w(0,(0,y.f3)(ee)),w(0,(0,y.jt)())],et);var ei=Symbol("FlowDocumentProvider"),ea=class{get disposed(){return this._disposed}init(){var e,t;this.options||(this.options=Z),this.currentLayoutKey=this.options.defaultLayout||"vertical-fixed-layout",this.contributions.forEach(e=>{var t;return null==(t=e.registerDocument)?void 0:t.call(e,this)}),this.root=this.addNode({id:"root",type:"root"}),this.originTree=new U(this.root),this.transformer=this.entityManager.createEntity(X,{document:this}),this.renderState=this.entityManager.createEntity(Y),this.renderTree=new W(this.root,this.originTree,this),null==(e=(t=this.layout).reload)||e.call(t)}fromJSON(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(this._disposed)return;this.originTree.clear(),this.renderTree.clear(),this.entityManager.changeEntityLocked=!0;let i=this.entityManager.getEntities(J),a=[this.root];this.addBlocksAsChildren(this.root,e.nodes||[],a),i.forEach(e=>{a.includes(e)||e.dispose()}),this.entityManager.changeEntityLocked=!1,this.transformer.loading=!1,t&&this.fireRender()}get layout(){let e=this.layouts.find(e=>e.name==this.currentLayoutKey);if(!e)throw Error(`Unknown flow layout: ${this.currentLayoutKey}`);return e}async load(){await Promise.all(this.contributions.map(e=>{var t;return null==(t=e.loadDocument)?void 0:t.call(e,this)}))}get loading(){return this.transformer.loading}fireRender(){this.transformer.isTreeDirty()&&(this.entityManager.fireEntityChanged(J.type),this.entityManager.fireEntityChanged(X.type))}addFromNode(e,t){let i="string"==typeof e?this.getNode(e):e;this.entityManager.changeEntityLocked=!0;let{parent:a}=i,r=this.addNode({...t,parent:a});return this.originTree.insertAfter(i,r),this.entityManager.changeEntityLocked=!1,this.entityManager.fireEntityChanged(J.type),r}removeNode(e){if("string"==typeof e){var t;null==(t=this.getNode(e))||t.dispose()}else e.dispose()}addNode(e,t){var i,a,r,n,o,s;let{id:d,type:l="block",originParent:c,parent:h,meta:f,hidden:u,index:b}=e,g=this.getNode(d),p=!1,y=this.getNodeRegistry(l,e.originParent);if(g&&g.flowNodeType!==e.type&&(g.dispose(),g=void 0),g)null==(o=(s=this.options).fromNodeJSON)||o.call(s,g,e,!1);else{let{dataRegistries:t}=y;g=this.entityManager.createEntity(J,{id:d,document:this,flowNodeType:l,originParent:c,meta:f}),null==(i=(a=this.options).preNodeCreate)||i.call(a,g);let o=t?this.nodeDataRegistries.concat(...t):this.nodeDataRegistries;g.addInitializeData(o),g.onDispose(()=>this.onNodeDisposeEmitter.fire({node:g})),null==(r=(n=this.options).fromNodeJSON)||r.call(n,g,e,!0),p=!0}if(g.initData({originParent:c,parent:h,meta:f,hidden:u,index:b}),g.isStart&&this.root.addChild(g),null==t||t.push(g),y.onCreate){let i=y.onCreate(g,e);i&&t&&t.push(...i)}else e.blocks&&e.blocks.length>0&&(e.blocks[0].type?this.addBlocksAsChildren(g,e.blocks,t):this.addInlineBlocks(g,e.blocks,t));return p?this.onNodeCreateEmitter.fire({node:g,data:e,json:e}):this.onNodeUpdateEmitter.fire({node:g,data:e,json:e}),g}addBlocksAsChildren(e,t,i){for(let a of t)this.addNode({...a,parent:e},i)}addInlineBlocks(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=this.addNode({id:`$blockIcon$${e.id}`,type:"blockIcon",originParent:e,parent:e});i.push(a);let r=this.addNode({id:`$inlineBlocks$${e.id}`,type:"inlineBlocks",originParent:e,parent:e});return i.push(r),t.forEach(t=>{this.addBlock(e,t,i)}),i}addBlock(e,t,i,a,r){var n;let o="string"==typeof e?this.getNode(e):e,{onBlockChildCreate:s}=o.getNodeRegistry();if(s)return s(o,t,i);a=a||this.getNode(`$inlineBlocks$${o.id}`);let d=this.addNode({...(0,p.Z)(t,"blocks"),type:t.type||"block",originParent:o,parent:a,index:r});(null==(n=t.meta)?void 0:n.defaultCollapsed)&&(d.collapsed=!0);let l=this.addNode({id:`$blockOrderIcon$${t.id}`,type:"blockOrderIcon",originParent:o,meta:t.meta,data:t.data,parent:d});return null==i||i.push(d,l),t.blocks&&this.addBlocksAsChildren(d,t.blocks,i),d}getNode(e){if(e)return this.entityManager.getEntityById(e)}registerFlowNodes(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{if(!e)throw Error("[FlowDocument] registerFlowNodes parameters get undefined registry.");let t=this.registers.get(e.type);this.registers.set(e.type,{...t,...e,meta:{...null==t?void 0:t.meta,...null==e?void 0:e.meta},extendChildRegistries:h.mergeChildRegistries(null==t?void 0:t.extendChildRegistries,null==e?void 0:e.extendChildRegistries)})})}isExtend(e,t){return(this.getNodeRegistry(e).__extends__||[]).includes(t)}isTypeOrExtendType(e,t){return e===t||this.isExtend(e,t)}toJSON(){if(this.disposed)throw Error("The FlowDocument has been disposed and it is no longer possible to call toJSON.");return{nodes:this.root.toJSON().blocks}}getNodeRegister(e,t){return this.getNodeRegistry(e,t)}getNodeRegistry(e,t){var i,a,r,n,o;let s=`${e}_${(null==t?void 0:t.flowNodeType)||""}`;if(this.nodeRegistryCache.has(s))return this.nodeRegistryCache.get(s);let d=null==(i=(a=this.options).getNodeDefaultRegistry)?void 0:i.call(a,e),l=this.registers.get(e)||{type:e},c=[],f=l.extend;if(l.extend&&this.registers.has(l.extend)&&(l=h.merge(this.getNodeRegistry(l.extend),l,l.type)),t){let i=null==(o=this.getNodeRegistry(t.flowNodeType).extendChildRegistries)?void 0:o.find(t=>t.type===e);i&&(i.extend&&this.registers.has(i.extend)&&c.push(this.registers.get(i.extend)),c.push(i))}l=h.extend(l,c);let u=((e,t)=>{let i=_.includes(e);return{isStart:"start"===e,hidden:i,defaultExpanded:t.options.allNodesDefaultExpanded,size:O,origin:t.layout.getDefaultNodeOrigin(),isInlineBlocks:"inlineBlocks"===e,spacing:k.SPACING,inlineSpacingPre:0,inlineSpacingAfter:0,expandable:!0,draggable:!0,selectable:!0,renderKey:"",minInlineBlockSpacing:()=>M.isVertical(t.layout)?k.MIN_INLINE_BLOCK_SPACING:k.MIN_INLINE_BLOCK_SPACING_HORIZONTAL}})(e,this);u.spacing=(null==(n=this.options)||null==(r=n.constants)?void 0:r[Q.NODE_SPACING])||u.spacing;let b={...d,...l,meta:{...u,...null==d?void 0:d.meta,...l.meta}};return f&&(b.extend=f),this.nodeRegistryCache.set(s,b),b}registerNodeDatas(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];this.nodeDataRegistries.push(...t)}traverse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.originTree.traverse(e,t,i)}get size(){return this.getAllNodes().length}hasNode(e){return!!this.entityManager.getEntityById(e)}getAllNodes(){return this.entityManager.getEntities(J)}toString(e){return this.originTree.toString(e)}getRenderDatas(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=[];return this.renderTree.traverse(a=>{(t||!a.hidden)&&i.push(a.getData(e))}),i}toNodeJSON(e){let t;if(this.options.toNodeJSON)return this.options.toNodeJSON(e);let i={};return this.traverse(e=>{if(e.id.startsWith("$"))return;let a=e.getJSONData(),r={id:e.id,type:e.flowNodeType};void 0!==a&&(r.data=a),t||(t=r);let{parent:n}=e;n&&n.id.startsWith("$")&&(n=n.originParent);let o=n?i[n.id]:void 0;o&&(o.blocks||(o.blocks=[]),o.blocks.push(r)),i[e.id]=r},e),t}moveNodes(e){let{dropNodeId:t,sortNodeIds:i,inside:a=!1}=e,r=this.getNode(t);if(!r)return;let n=i.map(e=>this.getNode(e));for(let e of(this.entityManager.changeEntityLocked=!0,n.reverse()))a?this.originTree.addChild(r,e,0):this.originTree.insertAfter(r,e);this.entityManager.changeEntityLocked=!1,this.fireRender()}moveChildNodes(e){let{toParentId:t,toIndex:i,nodeIds:a}=e;if(0===a.length)return;let r=this.getNode(t);r&&(this.entityManager.changeEntityLocked=!0,this.originTree.moveChilds(r,a.map(e=>this.getNode(e)),i),this.entityManager.changeEntityLocked=!1,this.fireRender())}registerLayout(e){this.layouts.push(e)}setLayout(e){var t;if(this.currentLayoutKey===e)return;let i=this.layouts.find(t=>t.name===e);i&&(this.currentLayoutKey=e,this.transformer.clear(),null==(t=i.reload)||t.call(i),this.fireRender(),this.onLayoutChangeEmitter.fire(this.layout))}toggleFixedLayout(){this.setLayout("horizontal-fixed-layout"===this.layout.name?"vertical-fixed-layout":"horizontal-fixed-layout")}dispose(){this._disposed||(this.registers.clear(),this.nodeRegistryCache.clear(),this.originTree.dispose(),this.renderTree.dispose(),this.onNodeUpdateEmitter.dispose(),this.onNodeCreateEmitter.dispose(),this.onNodeDisposeEmitter.dispose(),this.onLayoutChangeEmitter.dispose(),this._disposed=!0)}constructor(){this.contributions=[],this.registers=new Map,this.nodeRegistryCache=new Map,this.nodeDataRegistries=[],this.layouts=[],this.currentLayoutKey="",this.onNodeUpdateEmitter=new b.Q5,this.onNodeCreateEmitter=new b.Q5,this.onNodeDisposeEmitter=new b.Q5,this.onLayoutChangeEmitter=new b.Q5,this.onNodeUpdate=this.onNodeUpdateEmitter.event,this.onNodeCreate=this.onNodeCreateEmitter.event,this.onNodeDispose=this.onNodeDisposeEmitter.event,this.onLayoutChange=this.onLayoutChangeEmitter.event,this._disposed=!1}};S([(0,y.f3)(u.v2)],ea.prototype,"entityManager",2),S([(0,y.f3)(et)],ea.prototype,"config",2),S([(0,y.f3)(K),(0,y.jt)()],ea.prototype,"options",2),S([(0,y.nx)(q),(0,y.jt)()],ea.prototype,"contributions",2),S([(0,y.zY)()],ea.prototype,"init",1),ea=S([(0,y.b2)()],ea);var er=class e{get nodes(){return this.groupNode.collapsedChildren||[]}get collapsed(){return this.groupNode.getData(j).collapsed}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}get bounds(){return this.groupNode.getData(j).bounds}isStartNode(e){if(!e)return!1;let t=this.nodes;return!!t[0]&&e.id===t[0].id}isEndNode(e){if(!e)return!1;let t=this.nodes;return!!t[t.length-1]&&e.id===t[t.length-1].id}set note(e){this.groupNode.getNodeMeta().note=e}get note(){return this.groupNode.getNodeMeta().note||""}set noteHeight(e){this.groupNode.getNodeMeta().noteHeight=e}get noteHeight(){return this.groupNode.getNodeMeta().noteHeight||0}get positionConfig(){return this.groupNode.getNodeMeta().positionConfig}set collapsed(e){var t;let i=this.groupNode.getData(j);i.collapsed=e,i.localDirty=!0,i.parent&&(i.parent.localDirty=!0),(null==(t=i.parent)?void 0:t.firstChild)&&(i.parent.firstChild.localDirty=!0)}set hovered(e){let t=this.groupNode.getData(z);e?t.toggleMouseEnter():t.toggleMouseLeave(),t.hovered!==e&&(t.hovered=e)}get hovered(){return this.groupNode.getData(z).hovered}static create(t){if(t&&f.isGroupNode(t))return new e(t)}constructor(e){this.groupNode=e}},en=f||(f={});let eo=e=>{var t;return(null==e||null==(t=e.parent)?void 0:t.flowNodeType)==="group"};en.validate=e=>{if(!e||!Array.isArray(e)||0===e.length||e.some(e=>(0,en.isGroupNode)(e))||e.some(e=>e&&eo(e)))return!1;let t=e[0].parent;return!(!e.every(e=>e.parent===t)||!e.map(e=>e.index).sort((e,t)=>e-t).every((e,t,i)=>0===t||e===i[t-1]+1)||(e=>{let t=[],i=e.parent;for(;i;)t.push(i),i=i.parent;return t})(e[0]).some(e=>eo(e)))},en.getNodeGroupController=e=>{if(!e||!eo(e))return;let t=null==e?void 0:e.parent;return er.create(t)},en.getNodeRecursionGroupController=e=>{if(!e)return;let t=(0,en.getNodeGroupController)(e);return t||(e.parent?(0,en.getNodeRecursionGroupController)(e.parent):void 0)},en.isGroupNode=e=>"group"===e.flowNodeType;var es=class{get renderState(){return this.document.renderState}get dragStartNode(){return this.renderState.getDragStartEntity()}get dragNodes(){return this.renderState.getDragEntities()}get dropNodeId(){return this.renderState.getNodeDroppingId()}get isDragBranch(){var e;return this.renderState.isBranch||(null==(e=this.dragStartNode)?void 0:e.isInlineBlock)}get nodeDragIdsWithChildren(){return this.renderState.config.nodeDragIdsWithChildren||[]}get dragging(){return!!this.renderState.dragging}get labelSide(){return this.renderState.config.dragLabelSide}dropBranch(){this.dropNode()}async dropCreateNode(e,t){let i=this.document.getNode(this.dropNodeId);if(i&&e){let a=await (null==t?void 0:t(e,i));this.onDropEmitter.fire({dropNode:i,dragNodes:a?[a]:[],dragJSON:e})}}dropNode(){let e=this.document.getNode(this.dropNodeId);if(!e)return;let t=[],i=this.dragStartNode;for(;i&&this.dragNodes.includes(i);)t.push(i),i=i.next;this.operationService.dragNodes({dropNode:e,nodes:t}),t.length>0&&this.onDropEmitter.fire({dropNode:e,dragNodes:t})}isDroppableNode(e){return!(!this.dragging||this.isDragBranch||this.nodeDragIdsWithChildren.includes(e.id)||e.next&&this.nodeDragIdsWithChildren.includes(e.next.id)||e.isInlineBlocks||e.isInlineBlock||this.dragNodes.some(e=>"group"===e.flowNodeType)&&f.getNodeRecursionGroupController(e))&&!0}isDroppableBranch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal_branch";if(this.renderState.isBranch)return!0;if(this.isDragBranch){if(!e.isInlineBlock||e.parent!==this.dragStartNode.parent||e===this.dragStartNode)return!1;if("normal_branch"===t&&e.next!==this.dragStartNode||"pre_branch"===t&&e.pre!==this.dragStartNode)return!0}return!1}constructor(){this.onDropEmitter=new b.Q5,this.onDrop=this.onDropEmitter.event}};S([(0,y.f3)(ea)],es.prototype,"document",2),S([(0,y.f3)(F)],es.prototype,"operationService",2),S([(0,y.f3)(u.v2)],es.prototype,"entityManager",2),es=S([(0,y.b2)()],es);var ed=class{init(){this.toDispose.pushAll([this.onNodeAddEmitter,this.onNodeMoveEmitter])}addNode(e){let t,i,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{parent:n,index:o,hidden:s}=r;n&&(t=this.toNodeEntity(n)),t&&(i=t.getNodeRegistry());let d={...e,type:e.type||"block"},l={...d,parent:t,index:o,hidden:s};return a=t&&(null==i?void 0:i.addChild)?i.addChild(t,d,{index:o,hidden:s}):this.document.addNode(l),this.onNodeAddEmitter.fire({node:a,data:l}),a}addFromNode(e,t){return this.document.addFromNode(e,t)}deleteNode(e){this.document.removeNode(e)}deleteNodes(e){(e||[]).forEach(e=>{this.deleteNode(e)})}addBlock(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{parent:a,index:r}=i;return this.document.addBlock(e,t,void 0,a,r)}moveNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{parent:i,index:a}=t,r=this.toNodeEntity(e),n=null==r?void 0:r.parent;if(!n)return;let o=i?this.toNodeEntity(i):n;if(!o)return void console.warn("no new parent found",i);let s=void 0===a?o.collapsedChildren.length:a;return this.doMoveNode(r,o,s)}dragNodes(e){let{dropNode:t,nodes:i}=e;if(0===i.length)return;let a=i[0],r=a.parent,n=t.parent;if(!r||!n)return;let o=r.children.findIndex(e=>e===a),s=n.children.findIndex(e=>e===t),d=s+1;r===n&&o<s&&(d-=i.length);let l={nodeIds:i.map(e=>e.id),fromParentId:r.id,toParentId:n.id,fromIndex:o,toIndex:d};return this.apply({type:"moveChildNodes",value:l})}apply(e){var t,i,a,r,n,o;let s=this.document;switch(e.type){case"addFromNode":return s.addFromNode(e.value.fromId,e.value.data);case"deleteFromNode":return null==(t=s.getNode(null==(a=e.value)||null==(i=a.data)?void 0:i.id))?void 0:t.dispose();case"addBlock":{let t;return e.value.parentId&&(t=s.getNode(e.value.parentId)),s.addBlock(e.value.targetId,e.value.blockData,void 0,t,e.value.index)}case"deleteBlock":{let t=s.getNode(null==(r=e.value)?void 0:r.blockData.id);return null==t?void 0:t.dispose()}case"createGroup":{let t=s.addFromNode(e.value.targetId,{id:e.value.groupId,type:"group"});return s.moveNodes({dropNodeId:e.value.groupId,sortNodeIds:e.value.nodeIds,inside:!0}),t}case"ungroup":return s.moveNodes({dropNodeId:e.value.groupId,sortNodeIds:e.value.nodeIds}),null==(n=s.getNode(e.value.groupId))?void 0:n.dispose();case"moveNodes":return s.moveNodes({dropNodeId:e.value.toId,sortNodeIds:e.value.nodeIds});case"moveBlock":return s.moveChildNodes({...e.value,nodeIds:[e.value.nodeId]});case"addNodes":{let t=e.value.fromId;(e.value.nodes||[]).forEach(e=>{t=s.addFromNode(t,e).id});break}case"deleteNodes":(e.value.nodes||[]).forEach(e=>{let t=s.getNode(e.id);null==t||t.dispose()});break;case"addChildNode":return s.addNode({...e.value.data,parent:e.value.parentId?s.getNode(e.value.parentId):void 0,originParent:e.value.originParentId?s.getNode(e.value.originParentId):void 0,index:e.value.index,hidden:e.value.hidden});case"deleteChildNode":return null==(o=s.getNode(e.value.data.id))?void 0:o.dispose();case"moveChildNodes":return s.moveChildNodes(e.value);default:throw Error("unknown operation type")}}transact(e){e()}dispose(){this.toDispose.dispose()}toId(e){return"string"==typeof e?e:e.id}toNodeEntity(e){return"string"==typeof e?this.document.getNode(e):e}getNodeIndex(e){let t=this.toNodeEntity(e),i=null==t?void 0:t.parent;return i?i.children.findIndex(e=>e===t):-1}doMoveNode(e,t,i){if(!e.parent)throw Error("root node cannot move");let a={node:e,fromParent:e.parent,toParent:t,fromIndex:this.getNodeIndex(e),toIndex:i};this.document.moveChildNodes({nodeIds:[this.toId(e)],toParentId:this.toId(t),toIndex:i}),this.onNodeMoveEmitter.fire(a)}constructor(){this.onNodeAddEmitter=new b.Q5,this.onNodeAdd=this.onNodeAddEmitter.event,this.toDispose=new b.K4,this.onNodeMoveEmitter=new b.Q5,this.onNodeMove=this.onNodeMoveEmitter.event}};S([(0,y.f3)(u.v2)],ed.prototype,"entityManager",2),S([(0,y.f3)(ea)],ed.prototype,"document",2),S([(0,y.zY)()],ed.prototype,"init",1),ed=S([(0,y.b2)()],ed);var el=class{createGroup(e){if(!e||!Array.isArray(e)||0===e.length||!f.validate(e))return;let t=e.sort((e,t)=>e.index-t.index)[0],i=`group_${(0,m.x0)(5)}`;this.operationService.apply({type:"createGroup",value:{targetId:t.id,groupId:i,nodeIds:e.map(e=>e.id)}});let a=this.entityManager.getEntityById(i);if(!a)return;let r=this.groupController(a);if(r)return r.expand(),a}deleteGroup(e){let t=e.toJSON();e.pre&&t&&this.operationService.apply({type:"deleteNodes",value:{fromId:e.pre.id,nodes:[t]}})}ungroup(e){let t=this.groupController(e);if(!t)return;let i=t.nodes;e.pre&&(t.collapse(),this.operationService.apply({type:"ungroup",value:{groupId:e.id,targetId:e.pre.id,nodeIds:i.map(e=>e.id)}}))}getAllGroups(){return this.entityManager.getEntities(J).filter(e=>"group"===e.flowNodeType).map(e=>this.groupController(e)).filter(Boolean)}groupController(e){return er.create(e)}static validate(e){return f.validate(e)}};S([(0,y.f3)(u.v2)],el.prototype,"entityManager",2),S([(0,y.f3)(F)],el.prototype,"operationService",2),el=S([(0,y.b2)()],el);var ec=class{get document(){return this.documentProvider()}reload(){this.structDataMap=new WeakMap}update(){this.updateLocalTransform(this.document.root)}updateLocalTransform(e){var t,i,a,r;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{children:o,parent:s,isInlineBlock:d}=e,l=e.getData(j),{getDelta:c,getOrigin:h}=e.getNodeRegistry(),f=this.structDataMap.get(e)||{childrenLength:0,index:-1};e.clearMemoGlobal();let u=l.localDirty||n,b={index:e.index,childrenLength:e.children.length};(f.childrenLength!==b.childrenLength||f.index!==b.index)&&(u=!0,this.structDataMap.set(e,b));let g=!1;if(o.length>0)for(let e of o)this.updateLocalTransform(e,g)&&(g=!0,u=!0);if(!u)return!1;e.clearMemoLocal(),l.transform.update({origin:h?h(l,this):this.getDefaultNodeOrigin()});let p=l.pre,y=(null==c?void 0:c(l,this))||{x:0,y:0},m=d&&(null==(t=l.parent)?void 0:t.inlineSpacingPre)?null==(i=l.parent)?void 0:i.inlineSpacingPre:0,E=(null==s||null==(a=(r=s.getNodeRegistry()).getChildDelta)?void 0:a.call(r,l,this))||{x:0,y:0};y.x+=E.x,y.y+=E.y;let C={x:y.x,y:y.y};return d?C.y+=m:(C.y+=(null==p?void 0:p.localBounds.bottom)||0,C.y+=(null==p?void 0:p.spacing)||0),l.transform.update({size:l.data.size,position:C}),this.onAfterUpdateLocalTransform(l),l.localDirty=!1,!0}onAfterUpdateLocalTransform(e){var t;let{onAfterUpdateLocalTransform:i}=e.entity.getNodeRegistry();null==i||i(e,this),null==(t=this.contribs)||t.forEach(t=>{var i;null==t||null==(i=t.onAfterUpdateLocalTransform)||i.call(t,e,this)})}getNodeTransform(e){return e.getData(j)}getPadding(e){let{inlineSpacingPre:t,inlineSpacingAfter:i,padding:a}=e.getNodeMeta(),r=this.getNodeTransform(e);return a?"function"==typeof a?a(r):a:{left:0,top:"function"==typeof t?t(r):t,right:0,bottom:"function"==typeof i?i(r):i}}getInitScroll(e){return{scrollX:-e.width/2,scrollY:-36}}getDefaultInputPoint(e){return this.getNodeTransform(e).bounds.topCenter}getDefaultOutputPoint(e){return this.getNodeTransform(e).bounds.bottomCenter}getDefaultNodeOrigin(){return{x:.5,y:0}}constructor(){this.name="vertical-fixed-layout",this.structDataMap=new WeakMap}};S([(0,y.f3)(ei)],ec.prototype,"documentProvider",2),S([(0,y.nx)(N),(0,y.jt)()],ec.prototype,"contribs",2),ec=S([(0,y.b2)()],ec);var eh=class{get document(){return this.documentProvider()}reload(){this.structDataMap=new WeakMap}update(){this.updateLocalTransform(this.document.root)}updateLocalTransform(e){var t,i,a,r;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{children:o,parent:s,isInlineBlock:d}=e,l=e.getData(j),{getDelta:c,getOrigin:h}=e.getNodeRegistry(),f=this.structDataMap.get(e)||{childrenLength:0,index:-1};e.clearMemoGlobal();let u=l.localDirty||n,b={index:e.index,childrenLength:e.children.length};(f.childrenLength!==b.childrenLength||f.index!==b.index)&&(u=!0,this.structDataMap.set(e,b));let g=!1;if(o.length>0)for(let e of o)this.updateLocalTransform(e,g)&&(g=!0,u=!0);if(!u)return!1;e.clearMemoLocal(),l.transform.update({origin:h?h(l,this):this.getDefaultNodeOrigin()});let p=l.pre,y=(null==c?void 0:c(l,this))||{x:0,y:0},m=d&&(null==(t=l.parent)?void 0:t.inlineSpacingPre)?null==(i=l.parent)?void 0:i.inlineSpacingPre:0,E=(null==s||null==(a=(r=s.getNodeRegistry()).getChildDelta)?void 0:a.call(r,l,this))||{x:0,y:0};y.x+=E.x,y.y+=E.y;let C={x:y.x,y:y.y};return d?C.x+=m:(C.x+=(null==p?void 0:p.localBounds.right)||0,C.x+=(null==p?void 0:p.spacing)||0),l.transform.update({size:l.data.size,position:C}),this.onAfterUpdateLocalTransform(l),l.localDirty=!1,!0}onAfterUpdateLocalTransform(e){var t;let{onAfterUpdateLocalTransform:i}=e.entity.getNodeRegistry();null==i||i(e,this),null==(t=this.contribs)||t.forEach(t=>{var i;null==t||null==(i=t.onAfterUpdateLocalTransform)||i.call(t,e,this)})}getNodeTransform(e){return e.getData(j)}getPadding(e){let{inlineSpacingPre:t,inlineSpacingAfter:i,padding:a}=e.getNodeMeta(),r=this.getNodeTransform(e);return a?"function"==typeof a?a(r):a:{left:"function"==typeof t?t(r):t,top:0,right:"function"==typeof i?i(r):i,bottom:0}}getInitScroll(e){return{scrollX:-36,scrollY:-e.height/2}}getDefaultInputPoint(e){return this.getNodeTransform(e).bounds.leftCenter}getDefaultOutputPoint(e){return this.getNodeTransform(e).bounds.rightCenter}getDefaultNodeOrigin(){return{x:0,y:.5}}constructor(){this.name="horizontal-fixed-layout",this.structDataMap=new WeakMap}};S([(0,y.f3)(ei)],eh.prototype,"documentProvider",2),S([(0,y.nx)(N),(0,y.jt)()],eh.prototype,"contribs",2),eh=S([(0,y.b2)()],eh);var ef=new y.nZ(e=>{e(ea).toSelf().inSingletonScope(),e(ei).toDynamicValue(e=>()=>e.container.get(ea)).inSingletonScope(),e(et).toSelf().inSingletonScope(),e(ec).toSelf().inSingletonScope(),e(eh).toSelf().inSingletonScope(),e(es).toSelf().inSingletonScope(),e(F).to(ed).inSingletonScope(),e(el).toSelf().inSingletonScope(),e(q).toDynamicValue(e=>({registerDocument:t=>{t.registerLayout(e.container.get(ec)),t.registerLayout(e.container.get(eh))}}))}),eu=(e,t,i)=>{var a;let r=e.getService(K);return(null==r||null==(a=r.constants)?void 0:a[t])||i||k[t]}},336330:function(e,t,i){i.d(t,{x0:()=>k,gw:()=>D.gw,gO:()=>es,v6:()=>eu,dm:()=>W,ps:()=>G,xV:()=>b,FD:()=>B,sJ:()=>eo,XH:()=>X,SP:()=>u,QW:()=>F,Qu:()=>P,uB:()=>I,iw:()=>ea,PF:()=>eh,_s:()=>eg,YC:()=>ef,fY:()=>Y,n2:()=>O,jg:()=>U,L4:()=>ee,G2:()=>m.G2,CT:()=>V,oJ:()=>J,e2:()=>H,PV:()=>ec,Dc:()=>m.Dc,ZO:()=>en,Z1:()=>z,fT:()=>f,KH:()=>T});var a,r,n,o,s,d,l,c,h=Symbol(""),f=((a=f||{}).ADD_NODE="ADD_NODE",a.DELETE_NODE="DELETE_NODE",a.MOVE_NODE="MOVE_NODE",a.NODE_DATA_CHANGE="NODE_DATA_CHANGE",a.ADD_LINE="ADD_LINE",a.DELETE_LINE="DELETE_LINE",a.LINE_DATA_CHANGE="LINE_DATA_CHANGE",a.META_CHANGE="META_CHANGE",a),u=((r=u||{})[r.BEZIER=0]="BEZIER",r[r.LINE_CHART=1]="LINE_CHART",r[r.STRAIGHT=2]="STRAIGHT",r),b=Symbol("WorkflowOperationBaseService"),g=Object.defineProperty,p=Object.getOwnPropertyDescriptor,y=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?p(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&g(t,i,n),n},m=i(893740),E=i(908600),C=i(875787),S=i(928079),w=i(579962),x=i(9163),D=i(832176),_=i(129034),N=i(938573),M=i(374488),L=i(57064),I=((n=I||{}).DELETE_NODES="DELETE_NODES",n.COPY_NODES="COPY_NODES",n.PASTE_NODES="PASTE_NODES",n.ZOOM_IN="ZOOM_IN",n.ZOOM_OUT="ZOOM_OUT",n.UNDO="UNDO",n.REDO="REDO",n);function T(e,t,i,a){return{x:i.center.x,y:i.center.y,labelX:i.center.x-i.x+a,labelY:i.center.y-i.y+a}}function k(e){return(0,_.x0)(e)}var P=function(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=D.Ae.enlarge(e.getAllNodes().map(e=>e.getData(m.VO).bounds));return t.fitView(a,i,30)};function O(e,t,i){let{x:a,y:r}=t;for(let t of(i?i.collapsedChildren:e.getAllNodes()).map(e=>{let t=e.getData(m.VO);return{x:t.position.x,y:t.position.y}}).sort((e,t)=>e.y-t.y)){let{x:e,y:i}=t;if(r-i<-3)break;let n=Math.abs(r-i);3>=Math.abs(a-e)&&n<=3&&(a+=30,r+=30)}return{x:a,y:r}}var R=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return`port_${t}_${e.id}_${i}`},A="WorkflowLineEntity",V=w.GA,B=class extends m.JH{static getPortEntityId(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return R(e,t,i)}get position(){return this._location}get hasError(){return this._hasError}set hasError(e){e!==this._hasError&&(this._hasError=e,this._onErrorChangedEmitter.fire())}validate(){let e=this.allLines.some(e=>!e.disposed&&!e.isHidden&&e.hasError),t=this.node.document.isErrorPort(this);this.hasError=e||t}isErrorPort(){return this.node.document.isErrorPort(this,this.hasError)}get location(){return this._location?this._location:"input"===this.portType?"left":"right"}get point(){let{targetElement:e,_locationConfig:t}=this,{bounds:i}=this.node.getData(w.eG),a=this.location;if(e){var r;let t=(r=e.getBoundingClientRect(),new D.Ae(r.x,r.y,r.width,r.height)).center,i=this.entityManager.getEntity(m.ER).getPosFromMouseEvent({clientX:t.x,clientY:t.y});return{x:i.x,y:i.y,location:a}}if(t)return{...function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},a={...i};return void 0!==t.left?a.x+="string"==typeof t.left?.01*parseFloat(t.left)*e.width:t.left:void 0!==t.right&&(a.x+=e.width-("string"==typeof t.right?.01*parseFloat(t.right)*e.width:t.right)),void 0!==t.top?a.y+="string"==typeof t.top?.01*parseFloat(t.top)*e.height:t.top:void 0!==t.bottom&&(a.y+=e.height-("string"==typeof t.bottom?.01*parseFloat(t.bottom)*e.height:t.bottom)),{x:e.x+a.x,y:e.y+a.y}}(i,t,this._offset),location:a};let n=this._offset||{x:0,y:0},o={x:0,y:0};switch(a){case"left":o=i.leftCenter;break;case"top":o=i.topCenter;break;case"right":o=i.rightCenter;break;case"bottom":o=i.bottomCenter}return{x:o.x+n.x,y:o.y+n.y,location:a}}get bounds(){let{point:e}=this,t=this._size||{width:24,height:24};return new D.Ae(e.x-t.width/2,e.y-t.height/2,t.width,t.height)}isHovered(e,t){return this.bounds.contains(e,t)}get relativePosition(){let{point:e}=this,{bounds:t}=this.node.getData(w.eG);return{x:e.x-t.x,y:e.y-t.y}}updateTargetElement(e){e!==this.targetElement&&(this.targetElement=e,this.fireChange())}get disabled(){let e=this.node.document;if("function"==typeof e.options.isDisabledPort)return e.options.isDisabledPort(this);if(this._disabled)return!0;let t=this.node.getNodeMeta();return"input"===this.portType?!!t.inputDisable:!!t.outputDisable}get lines(){return this.allLines.filter(e=>!e.isDrawing)}get availableLines(){return this.allLines.filter(e=>!e.isDrawing&&!e.isHidden)}get allLines(){let e=[];return this.entityManager.getEntities({type:A}).forEach(t=>{(t.toPort===this||t.fromPort===this)&&e.push(t)}),e}update(e){let t=!1;e.targetElement!==this.targetElement&&(this.targetElement=e.targetElement,t=!0),e.location!==this._location&&(this._location=e.location,t=!0),D.XJ.isChanged(e.offset,this._offset)&&(this._offset=e.offset,t=!0),D.XJ.isChanged(e.locationConfig,this._locationConfig)&&(this._locationConfig=e.locationConfig,t=!0),D.XJ.isChanged(e.size,this._size)&&(this._size=e.size,t=!0),e.disabled!==this._disabled&&(this._disabled=e.disabled,t=!0),t&&this.fireChange()}dispose(){this.lines.forEach(e=>e.dispose()),super.dispose()}constructor(e){super(e),this.portID="",this._hasError=!1,this._onErrorChangedEmitter=new D.Q5,this.onErrorChanged=this._onErrorChangedEmitter.event,this.portID=e.portID||"",this.portType=e.type,this._disabled=e.disabled,this._offset=e.offset,this._locationConfig=e.locationConfig,this._location=e.location,this._size=e.size,this.node=e.node,this.updateTargetElement(e.targetElement),this.toDispose.push(this.node.getData(m.VO).onDataChange(()=>this.fireChange())),this.toDispose.push(this.node.onDispose(this.dispose.bind(this)))}};B.type="WorkflowPortEntity";var F=class extends m.RD{getDefaultData(){return{}}updateAllPorts(e){let t=this.entity.getNodeMeta();e&&(this._staticPorts=e),t.useDynamicPort?this.updateDynamicPorts():this.updatePorts(this._staticPorts)}updateStaticPorts(e){this.updateAllPorts(e)}updateDynamicPorts(){let e=this.entity.getData(w.Lz).node.querySelectorAll("[data-port-id]"),t=this._staticPorts,i=[];e.length>0&&i.push(...Array.from(e).map(e=>({portID:e.getAttribute("data-port-id"),type:e.getAttribute("data-port-type"),location:e.getAttribute("data-port-location"),targetElement:e}))),this.updatePorts(t.concat(i))}getPortEntityByKey(e,t){return this.getOrCreatePortEntity({type:e,portID:t})}updatePorts(e){if(!(0,N.Z)(this._prePorts,e)){let t=e.map(e=>this.getPortId(e.type,e.portID));this._portIDSet.forEach(e=>{if(!t.includes(e)){var i;null==(i=this.getPortEntity(e))||i.dispose()}}),e.forEach(e=>this.updatePortEntity(e)),this._prePorts=e,this.fireChange()}this.allPorts.forEach(e=>{e.allLines.forEach(e=>{e.validate()})})}get allPorts(){return Array.from(this._portIDSet).map(e=>this.getPortEntity(e)).filter(Boolean)}get inputPorts(){return this.allPorts.filter(e=>"input"===e.portType)}get outputPorts(){return this.allPorts.filter(e=>"output"===e.portType)}get inputPoints(){return this.inputPorts.map(e=>e.point)}get outputPoints(){return this.inputPorts.map(e=>e.point)}getInputPoint(e){return this.getPortEntityByKey("input",e).point}getOutputPoint(e){return this.getPortEntityByKey("output",e).point}getPortEntity(e){if(this._portIDSet.has(e))return this.entity.entityManager.getEntityById(e)}getPortId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return R(this.entity,e,t)}createPortEntity(e){let t=this.getPortId(e.type,e.portID),i=this.entity.entityManager.getEntityById(t);return i||(i=this.entity.entityManager.createEntity(B,{id:t,node:this.entity,...e})),i.onDispose(()=>{this._portIDSet.delete(t)}),this._portIDSet.add(t),i}getOrCreatePortEntity(e){let t=this.getPortId(e.type,e.portID);return this.getPortEntity(t)??this.createPortEntity(e)}updatePortEntity(e){let t=this.getOrCreatePortEntity(e);return t.update(e),t}constructor(e){var t;super(e),this._staticPorts=[],this._portIDSet=new Set,this.entity=e;let i=e.getNodeMeta(),a=i.useDynamicPort?[]:[{type:"input"},{type:"output"}];this._staticPorts=(null==(t=i.defaultPorts)?void 0:t.slice())||a,this.updatePorts(this._staticPorts),i.useDynamicPort&&this.toDispose.push(e.getData(m._z).onDataChange(()=>{e.getData(m._z).width&&e.getData(m._z).height&&this.updateDynamicPorts()})),this.onDispose(()=>{this.allPorts.forEach(e=>e.dispose())})}};F.type="WorkflowNodePortsData";var $=class e extends m.RD{getDefaultData(){return{inputLines:[],outputLines:[]}}get inputLines(){return this.data.inputLines}get outputLines(){return this.data.outputLines}get allLines(){return this.data.inputLines.concat(this.data.outputLines)}get availableLines(){return this.allLines.filter(e=>!e.isDrawing&&!e.isHidden)}get inputNodes(){return this.inputLines.map(e=>e.from).filter(Boolean)}get allInputNodes(){let t=new Set,i=a=>{if(t.has(a))return;t.add(a);let{inputNodes:r}=a.getData(e);r&&r.length&&r.forEach(e=>{(null==e?void 0:e.parent)!==a&&(null==a?void 0:a.parent)!==e&&i(e)})};return i(this.entity),t.delete(this.entity),Array.from(t)}get outputNodes(){return this.outputLines.map(e=>e.to).filter(Boolean)}get allOutputNodes(){let t=new Set,i=a=>{if(t.has(a))return;t.add(a);let{outputNodes:r}=a.getData(e);r&&r.length&&r.forEach(e=>{(null==e?void 0:e.parent)!==a&&(null==a?void 0:a.parent)!==e&&i(e)})};return i(this.entity),t.delete(this.entity),Array.from(t)}addLine(e){e.from===this.entity?this.outputLines.push(e):this.inputLines.push(e),this.fireChange()}removeLine(e){let{inputLines:t,outputLines:i}=this,a=t.indexOf(e),r=i.indexOf(e);-1!==a&&(t.splice(a,1),this.fireChange()),-1!==r&&(i.splice(r,1),this.fireChange())}constructor(e){super(e),this.entity=e,this.entity.preDispose.push(D.JT.create(()=>{this.inputLines.slice().forEach(e=>e.dispose()),this.outputLines.slice().forEach(e=>e.dispose())}))}};$.type="WorkflowNodeLinesData";var z=$,G=class extends m.RD{getDefaultData(){return{version:"",contributions:new Map,position:{from:{x:0,y:0,location:"right"},to:{x:0,y:0,location:"left"}}}}get renderVersion(){return this.data.version}get position(){return this.data.position}get path(){var e;return(null==(e=this.currentLine)?void 0:e.path)??""}calcDistance(e){var t;return(null==(t=this.currentLine)?void 0:t.calcDistance(e))??Number.MAX_SAFE_INTEGER}get bounds(){var e;return(null==(e=this.currentLine)?void 0:e.bounds)??new D.Ae}update(){var e;this.syncContributions();let t=this.data.version;this.updatePosition();let i=this.data.version;t!==i&&(this.data.version=i,null==(e=this.currentLine)||e.update({fromPos:this.data.position.from,toPos:this.data.position.to}))}get lineType(){return this.entity.renderType??this.entity.linesManager.lineType}get center(){var e;return(null==(e=this.currentLine)?void 0:e.center)||{x:0,y:0,labelX:0,labelY:0}}updatePosition(){this.data.position.from=this.entity.drawingFrom||this.entity.fromPort.point,this.data.position.to=this.entity.drawingTo||this.entity.toPort.point,this.data.version=[this.lineType,this.data.position.from.x,this.data.position.from.y,this.data.position.from.location,this.data.position.to.x,this.data.position.to.y,this.data.position.to.location].join("-")}get currentLine(){return this.data.contributions.get(this.lineType)}syncContributions(){this.entity.linesManager.contributionFactories.length!==this.data.contributions.size&&this.entity.linesManager.contributionFactories.forEach(e=>{this.registerContribution(e)})}registerContribution(e){if(this.data.contributions.has(e.type))return;let t=new e(this.entity);this.data.contributions.set(e.type,t)}constructor(e){super(e),this.syncContributions()}};G.type="WorkflowLineRenderData";var j=class e extends m.JH{static portInfoToLineId(e){let{from:t,to:i,fromPort:a,toPort:r}=e;return`${t}_${a||""}-${i||""}_${r||""}`}get uiState(){return this._uiState}updateUIState(e){let t=!1;Object.keys(e).forEach(i=>{let a=e[i];this._uiState[i]!==a&&(this._uiState[i]=a,t=!0)}),t&&this.fireChange()}get lineData(){return this._lineData}set lineData(e){let t=this._lineData;(0,N.Z)(t,e)||(this._lineData=e,this._onLineDataChangeEmitter.fire({oldValue:t,newValue:e}),this.fireChange())}get from(){return this._from}get to(){return this._to}get isHidden(){return this.highlightColor===this.linesManager.lineColor.hidden}get inContainer(){let e=e=>!!(null==e?void 0:e.parent)&&"root"!==e.parent.flowNodeType;return e(this.from)||e(this.to)}get processing(){return this._uiState.flowing}set processing(e){this.flowing=e}get hasError(){return this.uiState.hasError}set hasError(e){this.updateUIState({hasError:e}),this._node&&(this._node.dataset.hasError=this.hasError?"true":"false")}setToPort(e){if(!this.isDrawing)throw Error("[setToPort] only support drawing line.");if(this.toPort===e)return;let t=this.toPort;if(e&&"input"===e.portType&&this.linesManager.canAddLine(this.fromPort,e,!0)){let{node:t,portID:i}=e;this._to=t,this.info.drawingTo=void 0,this.info.to=t.id,this.info.toPort=i}else this._to=void 0,this.info.to=void 0,this.info.toPort="";t&&t.validate(),this.fireChange()}setFromPort(e){if(!this.isDrawing)throw Error("[setFromPort] only support drawing line.");if(this.fromPort===e)return;let t=this.fromPort;if(e&&"output"===e.portType&&this.linesManager.canAddLine(e,this.toPort,!0)){let{node:t,portID:i}=e;this._from=t,this.info.drawingFrom=void 0,this.info.from=t.id,this.info.fromPort=i}else this._from=void 0,this.info.from=void 0,this.info.fromPort="";t&&t.validate(),this.fireChange()}set drawingTo(e){let t=this.info.drawingTo;if(!e){this.info.drawingTo=void 0,this.fireChange();return}t&&e.x===t.x&&e.y===t.y||(this.info.to=void 0,this.info.drawingTo=e,this.fireChange())}set drawingFrom(e){let t=this.info.drawingFrom;if(!e){this.info.drawingFrom=void 0,this.fireChange();return}t&&e.x===t.x&&e.y===t.y||(this.info.from=void 0,this.info.drawingFrom=e,this.fireChange())}get drawingFrom(){return this.info.drawingFrom}get drawingTo(){return this.info.drawingTo}get highlightColor(){return this.uiState.highlightColor||""}set highlightColor(e){this.updateUIState({highlightColor:e})}get lockedColor(){return this.uiState.lockedColor}set lockedColor(e){this.updateUIState({lockedColor:e})}get bounds(){return this.getData(G).bounds}get center(){return this.getData(G).center}getHoverDist(e){return this.getData(G).calcDistance(e)}get fromPort(){if(this.from)return this.from.ports.getPortEntityByKey("output",this.info.fromPort)}get toPort(){if(this.to)return this.to.ports.getPortEntityByKey("input",this.info.toPort)}get position(){return this.getData(G).position}get reverse(){return this.linesManager.isReverseLine(this,this.uiState.reverse)}get hideArrow(){return this.linesManager.isHideArrowLine(this,this.uiState.hideArrow)}get flowing(){return this.linesManager.isFlowingLine(this,this.uiState.flowing)}set flowing(e){this._uiState.flowing!==e&&(this._uiState.flowing=e,this.fireChange())}get disabled(){return this.linesManager.isDisabledLine(this,this.uiState.disabled)}get vertical(){var e,t;let i=null==(e=this.fromPort)?void 0:e.location,a=null==(t=this.toPort)?void 0:t.location;return a?"top"===a:"bottom"===i}get renderType(){return this.linesManager.setLineRenderType(this)}get className(){return[this.linesManager.setLineClassName(this),this._uiState.className].filter(e=>!!e).join(" ")}get color(){return this.linesManager.getLineColor(this)}initInfo(e){(0,N.Z)(e,this.info)||(this.info=e,this._from=e.from?this.document.getNode(e.from):void 0,this._to=e.to?this.document.getNode(e.to):void 0,this._lineData=e.data,this.fireChange())}validate(){this.validateSelf()}validateSelf(){let{fromPort:e,toPort:t}=this;e&&(this.hasError=this.linesManager.isErrorLine(e,t,this.uiState.hasError))}is(t){return t instanceof e?this===t:e.portInfoToLineId(t)===this.id}canRemove(e){return this.linesManager.canRemove(this,e)}get node(){var e,t,i,a;return this._node||(this._node=D.xF.createDivWithClass("gedit-flow-activity-line"),this._node.dataset.testid="sdk.workflow.canvas.line",this._node.dataset.lineId=this.id,this._node.dataset.fromNodeId=(null==(e=this.from)?void 0:e.id)??"",this._node.dataset.fromPortId=(null==(t=this.fromPort)?void 0:t.id)??"",this._node.dataset.toNodeId=(null==(i=this.to)?void 0:i.id)??"",this._node.dataset.toPortId=(null==(a=this.toPort)?void 0:a.id)??"",this._node.dataset.hasError=this.hasError?"true":"false"),this._node}toJSON(){let e={sourceNodeID:this.info.from,targetNodeID:this.info.to,sourcePortID:this.info.fromPort,targetPortID:this.info.toPort};return void 0!==this._lineData&&(e.data=this._lineData),e.sourcePortID||delete e.sourcePortID,e.targetPortID||delete e.targetPortID,e}fireRender(){this.fireChange()}constructor(e){super(e),this._onLineDataChangeEmitter=new D.Q5,this.onLineDataChange=this._onLineDataChangeEmitter.event,this._uiState={hasError:!1,flowing:!1,disabled:!1,hideArrow:!1,reverse:!1,shrink:10,curvature:.25,highlightColor:"",lockedColor:""},this.stackIndex=0,this.info={from:""},this.document=e.document,this.linesManager=e.linesManager,this.initInfo({from:e.from,to:e.to,drawingTo:e.drawingTo,fromPort:e.fromPort,drawingFrom:e.drawingFrom,toPort:e.toPort,data:e.data}),(e.drawingTo||e.drawingFrom)&&(this.isDrawing=!0),this.onEntityChange(()=>{var e,t;null==(e=this.fromPort)||e.validate(),null==(t=this.toPort)||t.validate()}),this.onDispose(()=>{var e,t;null==(e=this.fromPort)||e.validate(),null==(t=this.toPort)||t.validate()}),this.toDispose.push(this._onLineDataChangeEmitter)}};j.type=A;var H=j,J=class{get onSelectionChanged(){return this.selectionService.onSelectionChanged}get selection(){return this.selectionService.selection}set selection(e){this.selectionService.selection=e}get activatedNode(){let{selectedNodes:e}=this;if(1===e.length)return e[0]}isSelected(e){return this.selectionService.selection.some(t=>t.id===e)}isActivated(e){var t;return(null==(t=this.activatedNode)?void 0:t.id)===e}get selectedNodes(){return this.selectionService.selection.filter(e=>e instanceof V)}selectNode(e){this.selectionService.selection=[e]}toggleSelect(e){this.selectionService.selection.includes(e)?this.selectionService.selection=this.selectionService.selection.filter(t=>t!==e):this.selectionService.selection=this.selectionService.selection.concat(e)}select(e){this.selectionService.selection=[e]}clear(){this.selectionService.selection=[]}async selectNodeAndScrollToView(e,t){this.selectNodeAndFocus(e),await (0,D.gw)(30);let i={entities:[e]};if(t){let t=D.Ae.enlarge([e.getData(m.VO).bounds]).pad(30,30),a=this.playground.config.getViewport(!1);i.zoom=D.rM.fixSize(t,a),i.scrollToCenter=!0,i.easing=!0}return this.playground.config.scrollToView(i)}selectNodeAndFocus(e){this.select(e),this.playground.node.focus()}};y([(0,x.f3)(m.z2)],J.prototype,"selectionService",2),y([(0,x.f3)(m.XQ)],J.prototype,"playground",2),J=y([(0,x.b2)()],J);var X=class{updateHoveredKey(e){this.hoveredKey!==e&&(this.hoveredKey=e,this.onHoveredChangeEmitter.fire(e))}updateHoverPosition(e,t){this.hoveredPos=e,this.onUpdateHoverPositionEmitter.fire({position:e,target:t})}clearHovered(){this.updateHoveredKey("")}isHovered(e){return e===this.hoveredKey}isSomeHovered(){return!!this.hoveredKey}get hoveredNode(){return this.entityManager.getEntityById(this.hoveredKey)}get someHovered(){return this.entityManager.getEntityById(this.hoveredKey)}constructor(){this.onHoveredChangeEmitter=new D.Q5,this.onUpdateHoverPositionEmitter=new D.Q5,this.onHoveredChange=this.onHoveredChangeEmitter.event,this.onUpdateHoverPosition=this.onUpdateHoverPositionEmitter.event,this.hoveredPos={x:0,y:0},this.hoveredKey=""}};y([(0,x.f3)(m.v2)],X.prototype,"entityManager",2),X=y([(0,x.b2)()],X);var Y=Symbol("WorkflowDocumentOptions"),U={fromNodeJSON(e,t,i){let a=e.getData(L.Ps),{formMeta:r}=e.getNodeRegistry();a&&r&&(i?(a.createForm(r,t.data),a.onDataChange(()=>{e.document.fireContentChange({type:"NODE_DATA_CHANGE",toJSON:()=>a.toJSON(),entity:e})})):a.updateFormValues(t.data))},toNodeJSON(e){var t,i;let a=null==(t=e.getData(L.fu))?void 0:t.getError();if(a)throw a;let r=e.getData(m.VO),n=function(e){let t=e.getData(L.Ps);if(t&&e.getNodeRegistry().formMeta)return t.toJSON()}(e),o={},s=e.getNodeMeta(),d=null==(i=s.subCanvas)?void 0:i.call(s,e);if((null==d?void 0:d.isCanvas)===!1){let{x:e,y:t}=d.canvasNode.getData(w.eG).transform.position;o.canvasPosition={x:e,y:t}}return{id:e.id,type:e.flowNodeType,meta:{position:{x:r.position.x,y:r.position.y},...o},data:n}}},W=class{init(e){this.document=e}forceUpdate(){this.onForceUpdateEmitter.fire()}get lineType(){return this._lineType}get lineColor(){let e={default:"var(--g-workflow-line-color-default,#4d53e8)",error:"var(--g-workflow-line-color-error,red)",hidden:"var(--g-workflow-line-color-hidden,transparent)",drawing:"var(--g-workflow-line-color-drawing, #5DD6E3)",hovered:"var(--g-workflow-line-color-hover,#37d0ff)",selected:"var(--g-workflow-line-color-selected,#37d0ff)",flowing:"var(--g-workflow-line-color-flowing,#4d53e8)"};return this.options.lineColor&&Object.assign(e,this.options.lineColor),e}switchLineType(e){return void 0===e&&(e=+(0===this._lineType)),e!==this._lineType&&(this._lineType=e,this.getAllLines().forEach(e=>{e.getData(G).update()}),window.requestAnimationFrame(()=>{this.entityManager.fireEntityChanged(H.type)})),this._lineType}getAllLines(){return this.entityManager.getEntities(H)}getAllAvailableLines(){return this.getAllLines().filter(e=>!e.isDrawing&&!e.isHidden)}hasLine(e){return!!this.entityManager.getEntityById(H.portInfoToLineId(e))}getLine(e){return this.entityManager.getEntityById(H.portInfoToLineId(e))}getLineById(e){return this.entityManager.getEntityById(e)}replaceLine(e,t){let i=this.getLine(e);return i&&i.dispose(),this.createLine(t)}createLine(e){let{from:t,to:i,drawingTo:a,fromPort:r,drawingFrom:n,toPort:o,data:s}=e,d=!!(t&&i),l=e.key||H.portInfoToLineId(e),c=this.entityManager.getEntityById(l);if(c)return c.highlightColor="",c.validate(),c;let h=t?this.entityManager.getEntityById(t).getData(z):void 0,f=i?this.entityManager.getEntityById(i).getData(z):void 0;if(h||f)return this.isDrawing=!!(a||n),c=this.entityManager.createEntity(H,{id:l,document:this.document,linesManager:this,from:t,fromPort:r,toPort:o,to:i,drawingTo:a,drawingFrom:n,data:s}),this.registerData(c),null==h||h.addLine(c),null==f||f.addLine(c),c.onDispose(()=>{this.isDrawing=!1,null==h||h.removeLine(c),null==f||f.removeLine(c)}),c.onDispose(()=>{d&&this.onAvailableLinesChangeEmitter.fire({type:"DELETE_LINE",toJSON:()=>c.toJSON(),entity:c})}),c.onLineDataChange(e=>{let{oldValue:t}=e;this.onAvailableLinesChangeEmitter.fire({type:"LINE_DATA_CHANGE",toJSON:()=>c.toJSON(),oldValue:t,entity:c})}),d&&this.onAvailableLinesChangeEmitter.fire({type:"ADD_LINE",toJSON:()=>c.toJSON(),entity:c}),c.validate(),c}getCloseInLineFromMousePos(e){let t,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return this.getAllLines().forEach(r=>{let n=r.getHoverDist(e);n<=a&&(!i||i>=n)&&(i=n,t=r)}),t}dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}isErrorLine(e,t,i){return this.options.isErrorLine?this.options.isErrorLine(e,t,this):!!i}isReverseLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.isReverseLine?this.options.isReverseLine(e):t}isHideArrowLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.isHideArrowLine?this.options.isHideArrowLine(e):t}isFlowingLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.isFlowingLine?this.options.isFlowingLine(e):t}isDisabledLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.isDisabledLine?this.options.isDisabledLine(e):t}setLineRenderType(e){if(this.options.setLineRenderType)return this.options.setLineRenderType(e)}setLineClassName(e){if(this.options.setLineClassName)return this.options.setLineClassName(e)}getLineColor(e){return e.isHidden?this.lineColor.hidden:e.lockedColor?e.lockedColor:e.hasError?this.lineColor.error:e.highlightColor?e.highlightColor:e.drawingTo?this.lineColor.drawing:this.hoverService.isHovered(e.id)?this.lineColor.hovered:this.selectService.isSelected(e.id)?this.lineColor.selected:this.isFlowingLine(e)?this.lineColor.flowing:this.lineColor.default}canAddLine(e,t,i){if(e===t||e.node===t.node||"output"!==e.portType||"input"!==t.portType||e.disabled||t.disabled)return!1;let a=e.node.getNodeRegistry().canAddLine,r=t.node.getNodeRegistry().canAddLine;return(!a||!!a(e,t,this,i))&&(!r||!!r(e,t,this,i))&&(this.options.canAddLine?this.options.canAddLine(e,t,this,i):e.node!==t.node)}toJSON(){return this.getAllLines().filter(e=>!e.isDrawing).map(e=>e.toJSON())}getPortById(e){return this.entityManager.getEntityById(e)}canRemove(e,t,i){return!this.options||!this.options.canDeleteLine||!!this.options.canDeleteLine(e,t,i)}canReset(e,t){return!this.options||!this.options.canResetLine||!!this.options.canResetLine(e,t,this)}getPortFromMousePos(e,t){let i=this.getSortedNodes().reverse().map(e=>t?"input"===t?e.ports.inputPorts:e.ports.outputPorts:e.ports.allPorts).flat().find(t=>t.isHovered(e.x,e.y));if(i){let t=this.getContainNodesFromMousePos(e),a=(0,M.Z)(t);if(a&&a!==i.node)return}return i}getNodeFromMousePos(e){let{selection:t}=this.selectService,i=this.getContainNodesFromMousePos(e);if(null==t?void 0:t.length){let e=i.filter(e=>t.some(t=>e.id===t.id));if(null==e?void 0:e.length)return(0,M.Z)(e)}return(0,M.Z)(i)}registerContribution(e){return this.contributionFactories.push(e),this}registerData(e){e.addData(G)}getSortedNodes(){return this.document.getAllNodes().sort((e,t)=>this.getNodeIndex(e)-this.getNodeIndex(t))}getContainNodesFromMousePos(e){var t,i;let a=this.getSortedNodes(),r=(null==(i=this.entityManager.getEntity(m.ER))||null==(t=i.config)?void 0:t.zoom)||1;return a.map(t=>{let{bounds:i}=t.getData(w.eG);if(i.clone().pad(4/r).contains(e.x,e.y))return t}).filter(Boolean)}getNodeIndex(e){return e.getData(w.Lz).stackIndex}constructor(){this.toDispose=new D.K4,this._lineType=0,this.onAvailableLinesChangeEmitter=new D.Q5,this.onForceUpdateEmitter=new D.Q5,this.onAvailableLinesChange=this.onAvailableLinesChangeEmitter.event,this.onForceUpdate=this.onForceUpdateEmitter.event,this.contributionFactories=[],this.isDrawing=!1}};y([(0,x.f3)(X)],W.prototype,"hoverService",2),y([(0,x.f3)(J)],W.prototype,"selectService",2),y([(0,x.f3)(m.v2)],W.prototype,"entityManager",2),y([(0,x.f3)(Y)],W.prototype,"options",2),W=y([(0,x.b2)()],W);var K="free-layout",Z=class{get document(){return this.documentProvider()}update(){var e;(null==(e=this.document.root.getData(w.eG))?void 0:e.localDirty)&&this.document.root.clearMemoGlobal()}syncTransform(e){let t=e.getData(w.eG);if(t.localDirty)e.clearMemoGlobal(),e.clearMemoLocal(),t.transform.update({size:t.data.size}),e.parent&&(e.parent.clearMemoGlobal(),e.parent.clearMemoLocal(),e.parent.getData(w.eG).transform.fireChange())}updateAffectedTransform(e){if(!e.transform.localDirty)return;let t=this.getAllParents(e);[...this.getAllBlocks(e).reverse(),...t].forEach(e=>{this.fireChange(e)})}getPadding(e){let{padding:t}=e.getNodeMeta(),i=e.getData(w.eG);return t?"function"==typeof t?t(i):t:D.sI.empty()}getInitScroll(e){let t=D.Ae.enlarge(this.document.getAllNodes().map(e=>e.getData(m.VO).bounds)).pad(30,30),i=this.playgroundConfig.getViewport(!1),a=D.rM.fixSize(t,i);return{scrollX:(t.x+t.width/2)*a-this.playgroundConfig.config.width/2,scrollY:(t.y+t.height/2)*a-this.playgroundConfig.config.height/2}}getDefaultInputPoint(e){return e.getData(m.VO).bounds.leftCenter}getDefaultOutputPoint(e){return e.getData(m.VO).bounds.rightCenter}getDefaultNodeOrigin(){return{x:.5,y:0}}getAllParents(e){let t=[],i=e.parent;for(;i;)t.push(i),i=i.parent;return t}getAllBlocks(e){return e.blocks.reduce((e,t)=>[...e,...this.getAllBlocks(t)],[e])}fireChange(e){let t=null==e?void 0:e.transform;e&&(null==t?void 0:t.localDirty)&&(e.clearMemoGlobal(),e.clearMemoLocal(),t.transform.fireChange())}constructor(){this.name=K}};y([(0,x.f3)(m.ER)],Z.prototype,"playgroundConfig",2),y([(0,x.f3)(w.JU)],Z.prototype,"documentProvider",2),Z=y([(0,x.b2)()],Z);var Q=(0,_.kP)("1234567890",5),q=Symbol("WorkflowDocumentProvider"),ee=class extends w.pQ{get loading(){return this._loading}async fitView(e){return P(this,this.playgroundConfig,e).then(()=>{this.linesManager.forceUpdate()})}init(){super.init(),this.currentLayoutKey=this.options.defaultLayout||K,this.linesManager.init(this),this.playgroundConfig.getCursors=()=>this.options.cursors,this.linesManager.onAvailableLinesChange(e=>this.fireContentChange(e)),this.playgroundConfig.onReadonlyOrDisabledChange(e=>{let{readonly:t}=e;this.nodeEngineContext&&(this.nodeEngineContext.readonly=t)})}async load(){this.disposed||(this._loading=!0,await super.load(),this._loading=!1,this.onLoadedEmitter.fire())}async reload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.disposed||(this._loading=!0,this.clear(),this.fromJSON(e),await (0,D.gw)(t),this._loading=!1,this._onReloadEmitter.fire(this))}fromJSON(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(this.disposed)return;let i={nodes:e.nodes??[],edges:e.edges??[]};this.entityManager.changeEntityLocked=!0,this.batchAddFromJSON(i),this.entityManager.changeEntityLocked=!1,this.transformer.loading=!1,t&&this.fireRender()}clear(){this.getAllNodes().map(e=>e.dispose()),this.linesManager.getAllLines().map(e=>e.dispose()),this.getAllPorts().map(e=>e.dispose()),this.selectServices.clear()}createWorkflowNode(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let t=arguments.length>2?arguments[2]:void 0;return this._createWorkflowNode(e,{parentID:t})}_createWorkflowNode(e,t){let{parentID:i,onNodeCreated:a,onEdgeCreated:r}=t??{},n=this.getNode(e.id),o=this.getNode(i??this.root.id)??this.root,s=this.addNode({...e,parent:o},void 0,!0),{formMeta:d}=s.getNodeRegistry(),l=s.getNodeMeta(),c=s.getData(L.Ps),h=s.getData(w.eG),f=this.layout;n||h.onDataChange(()=>{f.syncTransform(s)});let{position:u}=l;u||(u=this.getNodeDefaultPosition(e.type)),s.getData(m.VO).update({position:u}),d&&c&&(c.formModel.initialized?c.updateFormValues(e.data):(c.createForm(d,e.data),c.onDataChange(()=>{this.fireContentChange({type:"NODE_DATA_CHANGE",toJSON:()=>c.toJSON(),entity:s})})));let b=s.getData(m.WV);n||b.onDataChange(()=>{this.fireContentChange({type:"MOVE_NODE",toJSON:()=>b.toJSON(),entity:s})});let g=this.getNodeSubCanvas(s);if(!n&&!(null==g?void 0:g.isCanvas)){let e;this.fireContentChange({type:"ADD_NODE",entity:s,toJSON:()=>this.toNodeJSON(s)}),s.onDispose(()=>{s.parent&&s.parent.flowNodeType!==w.Sy.ROOT&&s.parent.getData(w.eG).fireChange()}),s.preDispose.onDispose(()=>{e=this.toNodeJSON(s)}),s.onDispose(()=>{this.fireContentChange({type:"DELETE_NODE",entity:s,toJSON:()=>e})})}if(e.blocks&&this.batchAddFromJSON({nodes:e.blocks,edges:e.edges??[]},{parent:s,onNodeCreated:a,onEdgeCreated:r}),g){var p;g.canvasNode.getData(m.VO).update({position:null==(p=g.parentNode.getNodeMeta())?void 0:p.canvasPosition}),n||(g.parentNode.onDispose(()=>{g.canvasNode.dispose()}),g.canvasNode.onDispose(()=>{g.parentNode.dispose()}))}return n?this.onNodeUpdateEmitter.fire({node:s,data:e,json:e}):this.onNodeCreateEmitter.fire({node:s,data:e,json:e}),s}addNode(e,t,i){var a,r,n,o,s,d;let{id:l,type:c="block",originParent:h,parent:f,meta:u,hidden:b,index:g}=e,p=this.getNode(l),y=!1,m=this.getNodeRegistry(c,e.originParent);if(p&&p.flowNodeType!==e.type&&(p.dispose(),p=void 0),p)null==(s=(d=this.options).fromNodeJSON)||s.call(d,p,e,!1);else{let{dataRegistries:t}=m;p=this.entityManager.createEntity(V,{id:l,document:this,flowNodeType:c,originParent:h,meta:u}),null==(a=(r=this.options).preNodeCreate)||a.call(r,p);let i=t?this.nodeDataRegistries.concat(...t):this.nodeDataRegistries;p.addInitializeData(i),p.ports=p.getData(F),p.lines=p.getData(z),p.onDispose(()=>this.onNodeDisposeEmitter.fire({node:p})),null==(n=(o=this.options).fromNodeJSON)||n.call(o,p,e,!0),y=!0}if(p.initData({originParent:h,parent:f,meta:u,hidden:b,index:g}),null==t||t.push(p),m.onCreate){let i=m.onCreate(p,e);i&&t&&t.push(...i)}return i||(y?this.onNodeCreateEmitter.fire({node:p,data:e,json:e}):this.onNodeUpdateEmitter.fire({node:p,data:e,json:e})),p}get layout(){let e=this.layouts.find(e=>e.name==this.currentLayoutKey);if(!e)throw Error(`Unknown flow layout: ${this.currentLayoutKey}`);return e}getNodeDefaultPosition(e){let{size:t}=this.getNodeRegistry(e).meta||{},i=this.playgroundConfig.getViewport(!0).center;return t&&(i={x:i.x,y:i.y-t.height/2}),O(this,i)}createWorkflowNodeByType(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,r=i.id;if(void 0===r)do r=`1${Q()}`;while(this.entityManager.getEntityById(r));else if(this.entityManager.getEntityById(r))throw Error(`[WorkflowDocument.createWorkflowNodeByType] Node Id "${r}" duplicated.`);return this._createWorkflowNode({...i,id:r,type:e,meta:{position:t,...null==i?void 0:i.meta},data:null==i?void 0:i.data,blocks:null==i?void 0:i.blocks,edges:null==i?void 0:i.edges},{parentID:a})}getAllNodes(){return this.entityManager.getEntities(V).filter(e=>e.id!==w.Sy.ROOT)}getAllEdges(){return this.entityManager.getEntities(H)}getAllPorts(){return this.entityManager.getEntities(B).filter(e=>e.node.id!==w.Sy.ROOT)}getAssociatedNodes(){var e,t;let i=this.getAllNodes(),a=this.linesManager.getAllLines().filter(e=>e.from&&e.to).map(e=>({from:e.from.id,to:e.to.id})),r=null==(e=i.find(e=>e.isStart))?void 0:e.id,n=null==(t=i.find(e=>e.isNodeEnd))?void 0:t.id,o=new Set(i.filter(e=>{var t;return null==(t=e.parent)?void 0:t.getNodeMeta().isContainer}).map(e=>e.id));n&&o.add(n);let s=e=>{o.has(e)||(o.add(e),a.reduce((t,i)=>{let{from:a,to:r}=i;return a!==e||o.has(r)||t.push(r),t},[]).forEach(s))};return r&&s(r),i.filter(e=>o.has(e.id))}fireRender(){this.entityManager.fireEntityChanged(V.type),this.entityManager.fireEntityChanged(H.type),this.entityManager.fireEntityChanged(B.type)}fireContentChange(e){this._loading||this.disposed||this.entityManager.changeEntityLocked||this._onContentChangeEmitter.fire(e)}toNodeJSON(e){let t=this.getNodeSubCanvas(e);if((null==t?void 0:t.isCanvas)===!0)return this.toNodeJSON(t.parentNode);let i=this.toNodeJSONFromOptions(e),a=this.getNodeChildren(e),r=a.map(e=>this.toNodeJSON(e)),n=new Map;a.forEach(e=>{let t=e.getData(z);[...t.inputLines,...t.outputLines].filter(Boolean).forEach(e=>{let t=this.toLineJSON(e);!t||n.has(e.id)||n.set(e.id,t)})});let o=Array.from(n.values());return r.length>0&&(i.blocks=r),o.length>0&&(i.edges=o),i}toNodeJSONFromOptions(e){return this.options.toNodeJSON?this.options.toNodeJSON(e):U.toNodeJSON(e)}copyNode(e,t,i,a){var r;let n=this.toNodeJSON(e);return i&&(n=i(n)),a=a||{x:n.meta.position.x+30,y:n.meta.position.y+30},this._createWorkflowNode({id:t||`1${Q()}`,type:e.flowNodeType,meta:{...n.meta,position:a},data:n.data,blocks:n.blocks,edges:n.edges},{parentID:null==(r=e.parent)?void 0:r.id})}copyNodeFromJSON(e,t,i,a,r){return a=a||{x:t.meta.position.x+30,y:t.meta.position.y+30},this._createWorkflowNode({id:i||`1${Q()}`,type:e,meta:{...t.meta,position:a},data:t.data,blocks:t.blocks,edges:t.edges},{parentID:r})}canRemove(e,t){return!e.getNodeMeta().deleteDisable&&(!this.options.canDeleteNode||!!this.options.canDeleteNode(e,t))}isErrorPort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"function"==typeof this.options.isErrorPort?this.options.isErrorPort(e):t}toJSON(){if(this.disposed)throw Error("The WorkflowDocument has been disposed and it is no longer possible to call toJSON.");let e=this.toNodeJSON(this.root);return{nodes:e.blocks??[],edges:e.edges??[]}}dispose(){super.dispose(),this._onReloadEmitter.dispose()}renderJSON(e,t){return this.batchAddFromJSON(e,t)}batchAddFromJSON(e,t){var i;let{parent:a=this.root,onNodeCreated:r,onEdgeCreated:n}=t??{},o=(null==(i=this.getNodeSubCanvas(a))?void 0:i.canvasNode.id)??a.id,s=(e=>{let{nodes:t,edges:i}=e,a=t.filter(e=>e.type===w.Sy.GROUP),r=new Map(t.map(e=>[e.id,e])),n=a.map(e=>{let t=(e.data.blockIDs??[]).map(e=>r.get(e)).filter(Boolean),a=null==i?void 0:i.filter(e=>t.some(t=>t.id===e.sourceNodeID||t.id===e.targetNodeID));return{...e,blocks:t,edges:a}}),o=new Set(a.map(e=>e.data.blockIDs).flat());return{nodes:t.filter(e=>!o.has(e.id)).concat(n),edges:i}})(e),d=s.nodes.map(e=>this._createWorkflowNode(e,{parentID:o,onNodeCreated:r,onEdgeCreated:n})),l=s.edges.map(e=>this.createWorkflowLine(e,o)).filter(Boolean);return d.forEach(e=>{var i;return null==t||null==(i=t.onNodeCreated)?void 0:i.call(t,e)}),l.forEach(e=>{var i;return null==t||null==(i=t.onEdgeCreated)?void 0:i.call(t,e)}),{nodes:d,edges:l}}getNodeSubCanvas(e){var t;if(!e)return;let i=e.getNodeMeta();return null==(t=i.subCanvas)?void 0:t.call(i,e)}getNodeChildren(e){if(!e||e.flowNodeType===w.Sy.GROUP)return[];let t=this.getNodeSubCanvas(e);return(t?t.canvasNode.blocks:e.blocks).filter(t=>{var i,a;let r=t.getNodeMeta();return!(null==(a=r.subCanvas)||null==(i=a.call(r,e))?void 0:i.isCanvas)}).filter(Boolean).map(e=>e.flowNodeType===w.Sy.GROUP?[e,...e.blocks]:e).flat()}toLineJSON(e){let t=e.toJSON();if(!e.from||!e.info.from||!e.fromPort||!e.to||!e.info.to||!e.toPort)return;let i=this.getNodeSubCanvas(e.from),a=this.getNodeSubCanvas(e.to);if(!i||i.isCanvas||!a||!a.isCanvas)return e.from===e.to.parent&&i?{...t,sourceNodeID:i.parentNode.id}:e.to===e.from.parent&&a?{...t,targetNodeID:a.parentNode.id}:t}createWorkflowLine(e,t){let i=this.getNode(e.sourceNodeID),a=this.getNode(e.targetNodeID);if(!i||!a)return;let r={from:e.sourceNodeID,fromPort:e.sourcePortID,to:e.targetNodeID,toPort:e.targetPortID,data:e.data};if(!t)return this.linesManager.createLine(r);let n=this.getNode(t);if(!n)return this.linesManager.createLine(r);let o=this.getNodeSubCanvas(n);return o?r.from===o.parentNode.id?this.linesManager.createLine({...r,from:o.canvasNode.id}):r.to===o.parentNode.id?this.linesManager.createLine({...r,to:o.canvasNode.id}):this.linesManager.createLine(r):this.linesManager.createLine(r)}constructor(){super(...arguments),this._onContentChangeEmitter=new D.Q5,this.onLoadedEmitter=new D.Q5,this.onContentChange=this._onContentChangeEmitter.event,this._onReloadEmitter=new D.Q5,this.onReload=this._onReloadEmitter.event,this.onLoaded=this.onLoadedEmitter.event,this._loading=!1,this.options={}}};function et(e,t,i){return!!(!i||e>100||Math.abs(t.endPos.x-t.startPos.x)>=5||Math.abs(t.endPos.y-t.startPos.y)>=5)}function ei(e){switch(e){case"bottom":return"top";case"left":return"right";case"top":return"bottom";case"right":return"left"}}y([(0,x.f3)(W)],ee.prototype,"linesManager",2),y([(0,x.f3)(m.ER)],ee.prototype,"playgroundConfig",2),y([(0,m.el)()],ee.prototype,"playgroundContext",2),y([(0,x.f3)(Y)],ee.prototype,"options",2),y([(0,x.f3)(L.j0),(0,x.jt)()],ee.prototype,"nodeEngineContext",2),y([(0,x.f3)(J)],ee.prototype,"selectServices",2),y([(0,x.zY)()],ee.prototype,"init",1),ee=y([(0,x.b2)()],ee);var ea=class{init(){this._toDispose.pushAll([this._onDragLineEventEmitter,this._nodesDragEmitter]),this.options.onDragLineEnd&&this._toDispose.push(this.onDragLineEnd(this.options.onDragLineEnd))}dispose(){this._toDispose.dispose()}async startDragSelectedNodes(e){var t;let{selectedNodes:i}=this.selectService;if(0===i.length||this.playgroundConfig.readonly||this.playgroundConfig.disabled||this.isDragging)return Promise.resolve(!1);this.isDragging=!0;let a=this.getNodesPosition(i),r=i.map(e=>{let t=e.getData(m.VO);return{x:t.position.x,y:t.position.y}}),n=!1,o=Date.now(),s=new m.s5({onDragStart:t=>{this._nodesDragEmitter.fire({type:"onDragStart",nodes:i,startPositions:r,dragEvent:t,triggerEvent:e,dragger:s})},onDrag:t=>{!n&&et(Date.now()-o,t)&&(n=!0);let d=this.getDragPosOffset({event:t,selectedNodes:i,startPosition:a}),l=[];i.forEach((e,t)=>{let i=e.getData(m.VO),a=r[t],n={x:a.x+d.x,y:a.y+d.y};i.update({position:n}),this.document.layout.updateAffectedTransform(e),l.push(n)}),this._nodesDragEmitter.fire({type:"onDragging",nodes:i,startPositions:r,positions:l,dragEvent:t,triggerEvent:e,dragger:s})},onDragEnd:t=>{this.isDragging=!1,this._nodesDragEmitter.fire({type:"onDragEnd",nodes:i,startPositions:r,dragEvent:t,triggerEvent:e,dragger:s}),this.resetContainerInternalPosition(i)}}),{clientX:d,clientY:l}=m.UJ.getEventCoord(e);return null==(t=s.start(d,l,this.playgroundConfig))?void 0:t.then(()=>n)}async dropCard(e,t,i,a){let r=this.playgroundConfig.getPosFromMouseEvent(t);if(!this.playgroundConfig.getViewport().contains(r.x,r.y))return;let n=this.adjustSubNodePosition(e,a,r);return await this.document.createWorkflowNodeByType(e,n,i,null==a?void 0:a.id)}async startDragCard(e,t,i,a){let r,n={x:0,y:0},o=new D.cO,s=new m.s5({onDragStart:e=>{let i=t.currentTarget;r=a?a(e):i.cloneNode(!0);let o=i.getBoundingClientRect();n={x:o.left+window.scrollX,y:o.top+window.scrollY},D.xF.setStyle(r,{zIndex:1e3,position:"absolute",left:n.x,top:n.y,boxShadow:"0 6px 8px 0 rgba(28, 31, 35, .2)"}),document.body.appendChild(r),this.updateDroppableTransforms()},onDrag:e=>{let t=e.endPos.x-e.startPos.x,i=e.endPos.y-e.startPos.y,a=n.x+t,o=n.y+i;r.style.left=`${a}px`,r.style.top=`${o}px`;let{x:s,y:d}=this.playgroundConfig.getPosFromMouseEvent(e),l=new D.Ae(s,d,170,90),c=this._droppableTransforms.find(e=>{let{bounds:t,entity:i}=e,a=this.document.layout.getPadding(i),r=new D.Ae(t.x+a.left+a.right,t.y,t.width,t.height);return D.Ae.intersects(l,r)});this.updateDropNode(null==c?void 0:c.entity)},onDragEnd:async t=>{let a=this._dropNode,{allowDrop:s}=this.canDropToNode({dragNodeType:e,dropNodeType:null==a?void 0:a.flowNodeType,dropNode:a}),d=s?await this.dropCard(e,t,i,a):void 0;(this.clearDrop(),d)?(r.remove(),o.resolve(d)):(r.style.transition="all ease .2s",r.style.left=`${n.x}px`,r.style.top=`${n.y}px`,await (0,D.gw)(200),r.remove(),o.resolve())}});return await s.start(t.clientX,t.clientY),o.promise}adjustSubNodePosition(e,t,i){if(!i)return{x:0,y:0};if(!e||!t||t.flowNodeType===w.Sy.ROOT)return i;let a=!t.children||0===t.children.length,r=this.document.layout.getPadding(t),n=t.transform.transform.worldTransform;return a?{x:0,y:r.top}:{x:i.x-n.tx,y:i.y-n.ty}}registerPosAdjuster(e){return this.posAdjusters.add(e),{dispose:()=>this.posAdjusters.delete(e)}}canDropToNode(e){let{canDropToNode:t}=this.document.options,{dragNodeType:i,dropNode:a}=e;return t?t(e)?{allowDrop:!0,dropNode:a}:{allowDrop:!1}:i?{allowDrop:!0,dropNode:a}:{allowDrop:!1,message:"Please select a node to drop"}}getDragPosOffset(e){let{event:t,selectedNodes:i,startPosition:a}=e,{finalScale:r}=this.playgroundConfig,n={x:(t.endPos.x-t.startPos.x)/r,y:(t.endPos.y-t.startPos.y)/r},o={x:a.x+n.x,y:a.y+n.y};return Array.from(this.posAdjusters.values()).map(e=>e({selectedNodes:i,position:o})).reduce((e,t)=>({x:e.x+t.x,y:e.y+t.y}),n)}updateDroppableTransforms(){this._droppableTransforms=this.document.getRenderDatas(w.eG,!1).filter(e=>{let{entity:t}=e;return t.originParent?this.nodeSelectable(t)&&this.nodeSelectable(t.originParent):this.nodeSelectable(t)}).filter(e=>this.isContainer(e.entity))}isContainer(e){return(null==e?void 0:e.getNodeMeta().isContainer)??!1}getNodesPosition(e){let t=D.Ae.enlarge(e.map(e=>e.getData(w.eG).bounds));return{x:t.x,y:t.y}}nodeSelectable(e){let t=e.getNodeMeta().selectable;return"function"==typeof t?t(e):t}updateDropNode(e){if(this._dropNode){if(this._dropNode.id===(null==e?void 0:e.id))return;this.selectService.clear()}e&&this.selectService.selectNode(e),this._dropNode=e}clearDrop(){this._dropNode&&this.selectService.clear(),this._dropNode=void 0,this._droppableTransforms=[]}setLineColor(e,t){e.highlightColor=t,this.hoverService.clearHovered()}checkDraggingPort(e,t,i,a,r){return(e?!(a&&((null==r?void 0:r.toPort)===a||"input"===a.portType&&this.linesManager.canAddLine(t.fromPort,a,!0))):!(a&&((null==r?void 0:r.fromPort)===a||"output"===a.portType&&this.linesManager.canAddLine(a,t.toPort,!0))))?this.isContainer(i)?{hasError:!1}:(this.setLineColor(t,this.linesManager.lineColor.error),{hasError:!0}):(this.hoverService.updateHoveredKey(a.id),e?t.setToPort(a):t.setFromPort(a),this._onDragLineEventEmitter.fire({type:"onDrag",onDragNodeId:i.id}),{hasError:!1})}resetContainerInternalPosition(e){let t=this.childrenOfContainer(e);if(!t)return;let i=D.Ae.enlarge(t.blocks.map(e=>{let t=e.transform.position.x-e.transform.bounds.width/2,i=e.transform.position.y,a=e.transform.bounds.width,r=e.transform.bounds.height;return new D.Ae(t,i,a,r)})),a=t.getData(m.VO);this.operationService.updateNodePosition(t,{x:a.position.x+i.x,y:a.position.y+i.y}),this.document.layout.updateAffectedTransform(t),t.blocks.forEach(e=>{let t=e.getData(m.VO);this.operationService.updateNodePosition(e,{x:t.position.x-i.x,y:t.position.y-i.y}),this.document.layout.updateAffectedTransform(e)})}childrenOfContainer(e){var t;if(0===e.length)return;let i=null==(t=e[0])?void 0:t.parent;if(i&&i.flowNodeType!==w.Sy.ROOT&&e.every(e=>(null==e?void 0:e.parent)===i))return i}async startDrawingLine(e,t,i){let a,r,n="output"===e.portType,o=!i&&e.isErrorPort()&&e.disabled;if((null==i?void 0:i.disabled)||o||this.playgroundConfig.readonly||this.playgroundConfig.disabled)return{dragSuccess:!1,newLine:void 0};this.selectService.clear();let s=this.playgroundConfig,d=new D.cO,l=s.cursor,c=Date.now(),h=!1,f=new m.s5({onDrag:o=>{if(!a&&et(Date.now()-c,o,i)){i&&(i.highlightColor=this.linesManager.lineColor.hidden),h=!0;let r=s.getPosFromMouseEvent(t);if(!(a=n?this.linesManager.createLine({from:e.node.id,fromPort:e.portID,data:null==i?void 0:i.lineData,drawingTo:{x:r.x,y:r.y,location:"right"===e.location?"left":"top"}}):this.linesManager.createLine({to:e.node.id,toPort:e.portID,data:null==i?void 0:i.lineData,drawingFrom:{x:r.x,y:r.y,location:"left"===e.location?"right":"bottom"}})))return;s.updateCursor("grab"),a.highlightColor=(null==i?void 0:i.lockedColor)||this.linesManager.lineColor.drawing,this.hoverService.updateHoveredKey("")}if(!a)return;let d=s.getPosFromMouseEvent(o);r=this.updateDrawingLine(n,a,d,i)},onDragEnd:async e=>{let t=s.getPosFromMouseEvent(e),n=Array.from(this._onDragLineEndCallbacks.values());s.updateCursor(l);let{fromPort:o,toPort:c,hasError:f}=r||{};await Promise.all(n.map(r=>r({fromPort:o,toPort:c,mousePos:t,line:a,originLine:i,event:e}))),null==a||a.dispose(),this._onDragLineEventEmitter.fire({type:"onDragEnd"}),i&&(i.highlightColor="");let u=()=>{null==i||i.validate(),d.resolve({dragSuccess:h})};if(h){if(i&&i.toPort===c&&i.fromPort===o||c&&"input"!==c.portType||o&&"output"!==o.portType)return u();let e=c&&o?{from:o.node.id,fromPort:o.portID,to:c.node.id,toPort:c.portID,data:null==i?void 0:i.lineData}:void 0;if(i&&e&&!this.linesManager.canReset(i,e)||i&&(!this.linesManager.canRemove(i,e,!1)||f))return u();if(null==i||i.dispose(),!e||!this.linesManager.canAddLine(o,c,!1))return u();let t=this.linesManager.createLine(e);t||u(),d.resolve({dragSuccess:h,newLine:t})}else u()}}),{clientX:u,clientY:b}=m.UJ.getEventCoord(t);return await f.start(u,b,s),d.promise}updateDrawingLine(e,t,i,a){let r,n,o=!1,s=this.linesManager.getNodeFromMousePos(i);return e?(n=t.fromPort,r=this.linesManager.getPortFromMousePos(i,"input"),s&&this.canBuildContainerLine(s,i)&&(r=this.getNearestPort(s,i,"input"),o=this.checkDraggingPort(e,t,s,r,a).hasError),r?this.linesManager.canAddLine(n,r,!0)?t.setToPort(r):(o=!0,t.setToPort(void 0)):t.setToPort(void 0),t.toPort?t.drawingTo={x:t.toPort.point.x,y:t.toPort.point.y,location:t.toPort.location}:t.drawingTo={x:i.x,y:i.y,location:ei(t.fromPort.location)}):(r=t.toPort,n=this.linesManager.getPortFromMousePos(i,"output"),s&&this.canBuildContainerLine(s,i)&&(n=this.getNearestPort(s,i,"output"),o=this.checkDraggingPort(e,t,s,n,a).hasError),n?this.linesManager.canAddLine(n,r,!0)?t.setFromPort(n):(o=!0,t.setFromPort(void 0)):t.setFromPort(void 0),t.fromPort?t.drawingFrom={x:t.fromPort.point.x,y:t.fromPort.point.y,location:t.fromPort.location}:t.drawingFrom={x:i.x,y:i.y,location:ei(t.toPort.location)}),this._onDragLineEventEmitter.fire({type:"onDrag"}),o?this.setLineColor(t,this.linesManager.lineColor.error):this.setLineColor(t,(null==a?void 0:a.lockedColor)||this.linesManager.lineColor.drawing),null==a||a.validate(),t.validate(),{fromPort:n,toPort:r,hasError:o}}async resetLine(e,t){let{fromPort:i,toPort:a}=e,r=this.playgroundConfig.getPosFromMouseEvent(t),n=D.E9.getDistance(i.point,r),o=D.E9.getDistance(a.point,r),{dragSuccess:s}=await this.startDrawingLine(o<=n||!this.document.options.twoWayConnection?i:a,t,e);s||this.selectService.select(e)}onDragLineEnd(e){let t=(0,_.x0)();return this._onDragLineEndCallbacks.set(t,e),{dispose:()=>{this._onDragLineEndCallbacks.delete(t)}}}canBuildContainerLine(e,t){if(!this.isContainer(e))return!0;let{padding:i,bounds:a}=e.transform,r=2*i.left/3||10,n=2*i.right/3||10,o=2*i.bottom/3||10,s=2*i.top/3||10;return[new D.Ae(a.x,a.y,r,a.height),new D.Ae(a.x,a.y,a.width,s),new D.Ae(a.x,a.y+a.height-o,a.width,o),new D.Ae(a.x+a.width-n,a.y,n,a.height)].some(e=>e.contains(t.x,t.y))}getNearestPort(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input",a=e.ports;return("input"===i?a.inputPorts:a.outputPorts).sort((e,i)=>D.E9.getDistance(t,e.point)-D.E9.getDistance(t,i.point))[0]}constructor(){this._onDragLineEventEmitter=new D.Q5,this.onDragLineEventChange=this._onDragLineEventEmitter.event,this.isDragging=!1,this._nodesDragEmitter=new D.Q5,this.onNodesDrag=this._nodesDragEmitter.event,this._toDispose=new D.K4,this._droppableTransforms=[],this.posAdjusters=new Set,this._onDragLineEndCallbacks=new Map}};y([(0,x.f3)(m.ER)],ea.prototype,"playgroundConfig",2),y([(0,x.f3)(X)],ea.prototype,"hoverService",2),y([(0,x.f3)(ee)],ea.prototype,"document",2),y([(0,x.f3)(W)],ea.prototype,"linesManager",2),y([(0,x.f3)(m.VD)],ea.prototype,"commandService",2),y([(0,x.f3)(J)],ea.prototype,"selectService",2),y([(0,x.f3)(b)],ea.prototype,"operationService",2),y([(0,x.f3)(Y)],ea.prototype,"options",2),y([(0,x.zY)()],ea.prototype,"init",1),ea=y([(0,x.b2)()],ea);var er=async(e,t)=>{let i={};return e.forEach(e=>{let t=e.getData(m.VO),a=e.getData(w.eG);i[e.id]={x:t.position.x,y:t.position.y+a.bounds.height/2}}),new Promise(a=>{(0,m.p4)({from:{d:0},to:{d:100},duration:300,onUpdate:i=>{e.forEach(e=>{let a=e.getData(m.VO),r=(t[e.id].x-a.position.x)*i.d/100,n=(t[e.id].y-a.bounds.height/2-a.position.y)*i.d/100;a.update({position:{x:a.position.x+r,y:a.position.y+n}}),e.document.layout.updateAffectedTransform(e)})},onComplete:()=>{a(i)}})})},en=class{init(){this._toDispose.push(this._resetLayoutEmitter)}fireResetLayout(e,t,i){this._resetLayoutEmitter.fire({nodeIds:e,positionMap:t,oldPositionMap:i})}async layoutToPositions(e,t){let i=e.map(e=>this._entityManager.getEntityById(e)).filter(Boolean),a=await er(i,t);return P(this._document,this._config,!0),a}dispose(){this._toDispose.dispose()}constructor(){this._resetLayoutEmitter=new D.Q5,this.onResetLayout=this._resetLayoutEmitter.event,this._toDispose=new D.K4}};y([(0,x.f3)(m.ER)],en.prototype,"_config",2),y([(0,x.f3)(ee)],en.prototype,"_document",2),y([(0,x.f3)(m.v2)],en.prototype,"_entityManager",2),y([(0,x.zY)()],en.prototype,"init",1),en=y([(0,x.b2)()],en);var eo=class extends w.D9{updateNodePosition(e,t){let i=this.toNodeEntity(e);if(!i)return;let a=i.getData(m.VO),r={x:a.position.x,y:a.position.y};a.update({position:t}),this.onNodePostionUpdateEmitter.fire({node:i,oldPosition:r,newPosition:t})}fromJSON(e){if(this.document.disposed)return;let t={nodes:e.nodes??[],edges:e.edges??[]},i=this.document.getAllNodes(),a=this.linesManager.getAllLines(),r=new Map(i.map(e=>[e.id,{x:e.transform.transform.position.x,y:e.transform.transform.position.y}])),n=[],o=[];this.document.batchAddFromJSON(t,{onNodeCreated:e=>n.push(e),onEdgeCreated:e=>o.push(e)});let s=new Set(o.map(e=>e.id));a.forEach(e=>{if(!s.has(e.id))return void e.dispose()});let d=new Set(n.map(e=>e.id));i.forEach(e=>{if(!d.has(e.id))return void e.dispose();let t=r.get(e.id),i={x:e.transform.transform.position.x,y:e.transform.transform.position.y};t&&(t.x!==i.x||t.y!==i.y)&&this.onNodePostionUpdateEmitter.fire({node:e,oldPosition:t,newPosition:i})}),this.document.fireRender()}constructor(){super(...arguments),this.onNodePostionUpdateEmitter=new D.Q5,this.onNodePostionUpdate=this.onNodePostionUpdateEmitter.event}};function es(e){let t=(0,m.Dc)(),i=(0,m.JA)();return(0,E.useEffect)(()=>{let a;return e&&(a=t.config.onReadonlyOrDisabledChange(()=>i())),()=>null==a?void 0:a.dispose()},[e]),t.config.readonly}function ed(e){return e&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.closest(".flow-canvas-not-draggable")}y([(0,x.f3)(ee)],eo.prototype,"document",2),y([(0,x.f3)(W)],eo.prototype,"linesManager",2);var el="undefined"!=typeof navigator&&(null==(c=navigator)||null==(l=c.userAgent)||null==(d=l.includes)?void 0:d.call(l,"Firefox"));function ec(e){let t=e||(0,E.useContext)(m.rQ),i=t.getData(w.Lz),a=t.ports,r=es(),n=(0,m.G2)(ea),o=(0,m.G2)(J),s=(0,E.useRef)(!1),[d,l]=(0,E.useState)(0),c=(0,E.useRef)(!1);c.current=!1;let h=(0,E.useRef)(null),[f,u]=(0,E.useState)("");(0,E.useEffect)(()=>{let e=n.onDragLineEventChange(e=>{let{type:t,onDragNodeId:i}=e;"onDrag"===t?u(i||""):u("")});return()=>{e.dispose()}},[]);let b=(0,E.useCallback)(e=>{var i;m.UJ.preventDefault(e),o.isSelected(t.id)||g(e),(m.UJ.isTouchEvent(e)||ed(e.target)&&ed(document.activeElement))&&(s.current=!0,null==(i=n.startDragSelectedNodes(e))||i.finally(()=>setTimeout(()=>{s.current=!1})))},[n,t]),g=(0,E.useCallback)(e=>{!s.current&&(e.shiftKey?o.toggleSelect(t):o.selectNode(t),e.target&&e.target.focus())},[t]),p=(0,E.useCallback)(()=>t.dispose(),[t]);(0,m.H$)(a.onDataChange);let y=(0,E.useCallback)(()=>{if(el){var e;null==(e=h.current)||e.setAttribute("draggable","false")}},[]),x=(0,E.useCallback)(()=>{if(el){var e;null==(e=h.current)||e.setAttribute("draggable","true")}},[]),D=(0,E.useCallback)(()=>t.getExtInfo(),[t]),_=(0,E.useCallback)((e,i)=>{t.updateExtInfo(e,i)},[t]),N=(0,E.useMemo)(()=>(0,S.CM)(t),[t]),M=(0,C.Re)(null==N?void 0:N.state),L=(0,E.useCallback)(()=>{i.toggleExpand()},[i]),I=o.isSelected(t.id),T=o.isActivated(t.id),k=i.expanded;return(0,E.useEffect)(()=>{let e=null==N?void 0:N.onFormValuesChange(()=>{c.current&&l(e=>e+1)});return()=>null==e?void 0:e.dispose()},[N]),(0,E.useMemo)(()=>({id:t.id,type:t.flowNodeType,get data(){if(N)return c.current=!0,N.values;return D()},updateData(e){N?N.updateFormValues(e):_(e,!0)},node:t,selected:I,activated:T,expanded:k,startDrag:b,get ports(){return a.allPorts},deleteNode:p,selectNode:g,readonly:r,linkingNodeId:f,nodeRef:h,onFocus:y,onBlur:x,getExtInfo:D,updateExtInfo:_,toggleExpand:L,get form(){if(!N)return;return{...N,get values(){return c.current=!0,N.values},get state(){return M}}}}),[t,I,T,k,b,p,g,r,f,h,y,x,D,_,L,d])}function eh(){return(0,m.km)()}var ef=((o=ef||{}).GRAB="GRAB",o.SELECT="SELECT",o),eu=((s=eu||{}).MOUSE="MOUSE",s.PAD="PAD",s),eb=class{registerDocument(e){e.registerNodeDatas(w.eG,w.Lz,F,z),e.registerLayout(this.freeLayout)}};y([(0,x.f3)(Z)],eb.prototype,"freeLayout",2),eb=y([(0,x.b2)()],eb);var eg=new x.nZ((e,t,i,a)=>{e(ee).toSelf().inSingletonScope(),e(W).toSelf().inSingletonScope(),e(Z).toSelf().inSingletonScope(),e(ea).toSelf().inSingletonScope(),e(J).toSelf().inSingletonScope(),e(X).toSelf().inSingletonScope(),e(en).toSelf().inSingletonScope(),e(b).to(eo).inSingletonScope(),e(h).toDynamicValue(()=>(function(){let e=new Map;return location.search.replace(/^\?/,"").split("&").forEach(t=>{if(!t)return;let[i,a]=t.split("=");if(i){let t=decodeURIComponent(i.trim()),r=a?decodeURIComponent(a.trim()):"";if(["__proto__","constructor","prototype","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString"].includes(t.toLowerCase()))return;e.set(t,r)}}),Object.fromEntries(e)})()).inSingletonScope(),(0,D.KV)(e,eb,[w.Lw]),e(Y).toConstantValue({...U}),a(w.pQ).toService(ee),e(q).toDynamicValue(e=>()=>e.container.get(ee)).inSingletonScope()})},438024:function(e,t,i){i.d(t,{EU:()=>er,Em:()=>A,Eq:()=>Z,HW:()=>J,Kz:()=>en,NQ:()=>M,OK:()=>T,Pi:()=>k,Rf:()=>R,V7:()=>I,XD:()=>S,aK:()=>eo,kD:()=>P,lV:()=>ea,oC:()=>O,qf:()=>el,qq:()=>ed});var a,r,n,o=i(832176),s=i(579962),d=i(893740),l=i(721855),c=i(9163),h=i(863875),f=i(89802),u=i(908600),b=i(27430),g=i(336808),p=i(661881),y=Object.defineProperty,m=Object.getOwnPropertyDescriptor,E=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?m(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&y(t,i,n),n},C="#BBBFC4";function S(){var e,t;let i=(0,d.G2)(s.h3);return{baseColor:(null==(e=i.constants)?void 0:e[s.cc.BASE_COLOR])||C,baseActivatedColor:(null==(t=i.constants)?void 0:t[s.cc.BASE_ACTIVATED_COLOR])||"#82A7FC"}}var w={stroke:C,fill:"transparent",strokeLinecap:"round",strokeLinejoin:"round"};function x(e){let{isVertical:t}=e.entity;if(t){var i,a,r;let t=(null==(i=e.entity.next)?void 0:i.firstChild)&&!e.entity.next.isInlineBlocks?e.entity.next.firstChild.getData(s.eG).size.width:null==(a=e.entity.next)?void 0:a.getData(s.eG).size.width;return Math.max((null==(r=e.entity.getData(s.eG))?void 0:r.size.width)??s.Lu[s.T4.HOVER_AREA_WIDTH],t||0)}return e.transform.next?e.transform.next.inputPoint.x-e.transform.outputPoint.x:32}function D(e){var t,i,a;let{isVertical:r}=e.entity;if(r)return e.transform.next?e.transform.next.inputPoint.y-e.transform.outputPoint.y:32;let n=(null==(t=e.entity.next)?void 0:t.firstChild)&&!e.entity.next.isInlineBlocks?e.entity.next.firstChild.getData(s.eG).size.height:null==(i=e.entity.next)?void 0:i.getData(s.eG).size.height;return Math.max((null==(a=e.entity.getData(s.eG))?void 0:a.size.height)||280,n||0)}var _=class extends d.cv{get hasScroll(){return!!(this._scrollXInterval||this._scrollYInterval)}isCollision(e,t,i){let a=this.playgroundConfigEntity.finalScale||0;return i?this.isBranchCollision(e,t,a):this.isNodeCollision(e,t,a)}isNodeCollision(e,t,i){let{labels:a}=e,{isVertical:r}=e.entity;return{hasCollision:a.some(a=>{if(!a||![s.nx.ADDER_LABEL,s.nx.COLLAPSE_ADDER_LABEL].includes(a.type))return!1;let n=r?e.transform.bounds.width:32,d=r?32:e.transform.bounds.height,l=new o.Ae((a.offset.x-n/2)*i,(a.offset.y-d/2)*i,n*i,d*i);return o.Ae.intersects(l,t)}),labelOffsetType:void 0}}isBranchCollision(e,t,i){let{labels:a}=e,{isVertical:r}=e.entity,n=s.VH.NORMAL_BRANCH;return{hasCollision:a.some(e=>{if(!e||e.type!==s.nx.BRANCH_DRAGGING_LABEL)return!1;let a=r?64:e.width||0,d=r?e.width||0:64,l=new o.Ae((e.offset.x-d/2)*i,(e.offset.y-a/2)*i,d*i,a*i),c=o.Ae.intersects(l,t);return c&&(n=e.props.side),c}),labelOffsetType:n}}_startScrollX(e,t){if(this._scrollXInterval)return;let i=window.setInterval(()=>{let e=this._scrollXInterval;if(!e)return;let i=e.origin=t?e.origin+4:e.origin-4;this.playgroundConfigEntity.updateConfig({scrollX:i});let a=this.playgroundConfigEntity.config;(null==a?void 0:a.scrollX)===i&&(t?this.containerX+=4:this.containerX-=4)},20);this._scrollXInterval={interval:i,origin:e}}_stopScrollX(){this._scrollXInterval&&(clearInterval(this._scrollXInterval.interval),this._scrollXInterval=void 0)}_startScrollY(e,t){if(this._scrollYInterval)return;let i=window.setInterval(()=>{let e=this._scrollYInterval;if(!e)return;let i=e.origin=t?e.origin+4:e.origin-4;this.playgroundConfigEntity.updateConfig({scrollY:i});let a=this.playgroundConfigEntity.config;(null==a?void 0:a.scrollY)===i&&(t?this.containerY+=4:this.containerY-=4)},20);this._scrollYInterval={interval:i,origin:e}}_stopScrollY(){this._scrollYInterval&&(clearInterval(this._scrollYInterval.interval),this._scrollYInterval=void 0)}stopAllScroll(){this._stopScrollX(),this._stopScrollY()}scrollDirection(e,t,i){let a=this.playgroundConfigEntity.config,r=a.scrollX,n=a.scrollY;this.containerX=t,this.containerY=i;let o=this.playgroundConfigEntity.playgroundDomNode.getBoundingClientRect();return a.height+o.y-e.clientY<20?(this._startScrollY(n,!0),1):e.clientY-o.y<20?(this._startScrollY(n,!1),0):(this._stopScrollY(),a.width+o.x-e.clientX<20)?(this._startScrollX(r,!0),3):e.clientX-o.x<80?(this._startScrollX(r,!1),2):void this._stopScrollX()}dispose(){this.toDispose.dispose()}constructor(e){super(e),this.containerX=0,this.containerY=0,this.playgroundConfigEntity=this.entityManager.getEntity(d.ER,!0)}};_.type="FlowDragEntity";var N=class extends d.cv{getDefaultConfig(){return{selectedNodes:[]}}get selectedNodes(){return this.config.selectedNodes}set selectedNodes(e){((e=function(e){if(0===e.length)return[];let t=e.map(e=>(function(e){let t=[e];for(e=e.parent;e;)t.push(e),e=e.parent;return t.reverse()})(e)),i=Math.min(...t.map(e=>e.length)),a=0,r=[];for(;a<i&&!((r=(0,l.Z)(t.map(e=>e[a]))).length>1);)a+=1;return(0,l.Z)(r.map(e=>(function(e){for(;e.originParent;)e=e.originParent;return e})(e)))}(e)).length!==this.config.selectedNodes.length||e.some(e=>!this.config.selectedNodes.includes(e)))&&(this.config.selectedNodes.forEach(t=>{e.includes(t)||(t.getData(s.Lz).activated=!1)}),e.forEach(e=>{e.getData(s.Lz).activated=!0}),o.XJ.isArrayShallowChanged(this.config.selectedNodes,e)&&this.updateConfig({selectedNodes:e}))}clearSelectedNodes(){0!==this.config.selectedNodes.length&&(this.config.selectedNodes.forEach(e=>{e.getData(s.Lz).activated=!1}),this.updateConfig({selectedNodes:[]}))}selectFromBounds(e,t){let i=[];t.forEach(t=>{o.Ae.intersects(e,t.bounds)&&(t.entity.originParent?i.push(t.entity.originParent):i.push(t.entity))}),this.selectedNodes=i}getSelectedBounds(){let e=this.selectedNodes;return 0===e.length?o.Ae.EMPTY:o.Ae.enlarge(e.map(e=>e.getData(s.eG).bounds)).pad(this.boundsPadding)}constructor(){super(...arguments),this.boundsPadding=10}};N.type="FlowSelectConfigEntity";var M=class extends d.cv{get dragInfo(){return this.config}setDragInfo(e){this.updateConfig(e)}get disabled(){return this.config&&!!this.config.disabled}set disabled(e){this.updateConfig({disabled:e})}get isStart(){return this.dragInfo.isStart}get isMoving(){return this.dragInfo.isMoving}get position(){let{dragInfo:e}=this;return{x:e.startPos.x<e.endPos.x?e.startPos.x:e.endPos.x,y:e.startPos.y<e.endPos.y?e.startPos.y:e.endPos.y}}get size(){let{dragInfo:e}=this;return{width:Math.abs(e.startPos.x-e.endPos.x),height:Math.abs(e.startPos.y-e.endPos.y)}}get collapsed(){let{size:e}=this;return 0===e.width&&0===e.height}collapse(){this.setDragInfo({...this.dragInfo,isMoving:!1,isStart:!1})}toRectangle(e){let{position:t,size:i}=this;return new o.Ae(t.x/e,t.y/e,i.width/e,i.height/e)}};M.type="SelectorBoxConfigEntity";var L=class{observe(e,t){let i=new ResizeObserver(e=>{window.requestAnimationFrame(()=>{if(!Array.isArray(e)||!e.length)return;let{contentRect:i,target:a}=e[0],r=!!i&&(0!==i.bottom||0!==i.height||0!==i.left||0!==i.right||0!==i.top||0!==i.width||0!==i.x||0!==i.y)&&!0,n=!a.parentNode,o=(e=>{if(!e||(0,h.Z)(null==e?void 0:e.offsetParent))return!0;let t=window.getComputedStyle(e);return(null==t?void 0:t.display)==="none"})(a.parentNode);!r||n||o||(t.size={width:Math.round(10*i.width)/10,height:Math.round(10*i.height)/10})})});return i.observe(e),o.JT.create(()=>{i.unobserve(e)})}};L=E([(0,c.b2)()],L);var I=class extends d.mh{get transformVisibles(){return this.document.getRenderDatas(s.eG,!1)}onZoom(e){this.node.style.transform=`scale(${e})`}dispose(){this.renderCache.dispose(),super.dispose()}isCoordEqual(e,t){return .05>Math.abs(e-t)}onReady(){this.node.style.zIndex="10"}get visibeBounds(){return this.transformVisibles.map(e=>e.bounds)}updateNodesBounds(){this.renderCache.getMoreByItems(this.transformVisibles).forEach(e=>e.updateBounds())}autorun(){this.documentTransformer.loading||(this.documentTransformer.refresh(),this.updateNodesBounds())}get renderElement(){if("function"==typeof this.options.renderElement){let e=this.options.renderElement();if(e)return e}else if(void 0!==this.options.renderElement)return this.options.renderElement;return this.node}constructor(){super(...arguments),this.node=o.xF.createDivWithClass("gedit-flow-nodes-layer"),this.renderCache=o.Ct.create(e=>{let t,{renderState:i}=e,{node:a}=i,{entity:r}=e;a.id=r.id;let n=()=>{t&&(a.parentElement&&this.renderElement.removeChild(a),t.dispose(),t=void 0)};return!t&&(this.renderElement.appendChild(a),r.getNodeMeta().autoResizeDisable||(t=this.resizeObserver.observe(a,e))),{dispose:n,updateBounds:()=>{let{bounds:t}=e,i=parseFloat(a.style.left),r=parseFloat(a.style.top);this.isCoordEqual(i,t.x)&&this.isCoordEqual(r,t.y)||(a.style.left=`${t.x}px`,a.style.top=`${t.y}px`)}}})}};E([(0,c.f3)(s.pQ)],I.prototype,"document",2),E([(0,c.f3)(L)],I.prototype,"resizeObserver",2),E([(0,d.O0)(s.Vl)],I.prototype,"documentTransformer",2),E([(0,d.aI)(s.GA,s.eG)],I.prototype,"_transforms",2),I=E([(0,c.b2)()],I);var T=Symbol("FlowRendererContribution"),k=((a=k||{})[a.REACT=0]="REACT",a[a.DOM=1]="DOM",a[a.TEXT=2]="TEXT",a),P=((r=P||{}).NODE_RENDER="node-render",r.ADDER="adder",r.COLLAPSE="collapse",r.BRANCH_ADDER="branch-adder",r.TRY_CATCH_COLLAPSE="try-catch-collapse",r.DRAG_NODE="drag-node",r.DRAGGABLE_ADDER="draggable-adder",r.DRAG_HIGHLIGHT_ADDER="drag-highlight-adder",r.DRAG_BRANCH_HIGHLIGHT_ADDER="drag-branch-highlight-adder",r.SELECTOR_BOX_POPOVER="selector-box-popover",r.CONTEXT_MENU_POPOVER="context-menu-popover",r.SUB_CANVAS="sub-canvas",r.SLOT_ADDER="slot-adder",r.SLOT_LABEL="slot-label",r.SLOT_COLLAPSE="slot-collapse",r.ARROW_RENDERER="arrow-renderer",r.MARKER_ARROW="marker-arrow",r.MARKER_ACTIVATE_ARROW="marker-active-arrow",r),O=((n=O||{}).LOOP_END_TEXT="loop-end-text",n.LOOP_TRAVERSE_TEXT="loop-traverse-text",n.LOOP_WHILE_TEXT="loop-while-text",n.TRY_START_TEXT="try-start-text",n.TRY_END_TEXT="try-end-text",n.CATCH_TEXT="catch-text",n),R=class{init(){this.contribs.forEach(e=>{var t;return null==(t=e.registerRenderer)?void 0:t.call(e,this)})}registerRendererComponents(e,t){this.componentsMap.set(e,t)}registerReactComponent(e,t){this.componentsMap.set(e,{type:0,renderer:t})}registerText(e){Object.entries(e).forEach(e=>{let[t,i]=e;this.textMap.set(t,i)})}getText(e){return b.o.t(e,{defaultValue:""})||this.textMap.get(e)}getRendererComponent(e){let t=this.componentsMap.get(e);if(!t)throw Error(`Unknown render key ${e}`);return t}tryToGetRendererComponent(e){return this.componentsMap.get(e)}registerLayers(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>this.pipeline.registerLayer(e))}registerLayer(e,t){this.pipeline.registerLayer(e,t)}constructor(){this.componentsMap=new Map,this.textMap=new Map,this.contribs=[]}};E([(0,c.nx)(T),(0,c.jt)()],R.prototype,"contribs",2),E([(0,c.f3)(d.Rm)],R.prototype,"pipeline",2),R=E([(0,c.b2)()],R);var A=class extends d.mh{get renderStatesVisible(){return this.document.getRenderDatas(s.Lz,!1)}getPortalRenderer(e){let t=e.entity.getNodeMeta(),i=this.rendererRegistry.getRendererComponent(t.renderKey||"node-render").renderer,a=this.renderMemoCache.get(i);return a||(a=u.memo(i),this.renderMemoCache.set(i,a)),a}onZoom(e){this.node.style.transform=`scale(${e})`}dispose(){this.reactPortals.dispose(),super.dispose()}onReady(){this.node.style.zIndex="10"}onReadonlyOrDisabledChange(){this.render()}getPortals(){return this.reactPortals.getMoreByItems(this.renderStatesVisible)}render(){return this.documentTransformer.loading?u.createElement(u.Fragment,null):(this.documentTransformer.refresh(),u.createElement(u.Fragment,null,this.getPortals().map(e=>u.createElement(e.Portal,{key:e.id}))))}constructor(){super(...arguments),this.renderMemoCache=new WeakMap,this.node=o.xF.createDivWithClass("gedit-flow-nodes-layer"),this.reactPortals=o.Ct.create(e=>{let{node:t,entity:i}=e,{config:a}=this,r=this.getPortalRenderer(e);return{id:t.id||i.id,dispose:()=>{},Portal:function(){return u.useEffect(()=>{if(!i.getNodeMeta().autoResizeDisable&&t.clientWidth&&t.clientHeight){let e=i.getData(s.eG);e&&(e.size={width:t.clientWidth,height:t.clientHeight})}},[i,t]),f.createPortal(u.createElement(d.rQ.Provider,{value:i},u.createElement(r,{node:i,version:null==e?void 0:e.version,activated:null==e?void 0:e.activated,readonly:a.readonly,disabled:a.disabled})),t)}}})}};E([(0,c.f3)(s.pQ)],A.prototype,"document",2),E([(0,c.f3)(R)],A.prototype,"rendererRegistry",2),E([(0,d.O0)(s.Vl)],A.prototype,"documentTransformer",2),E([(0,d.aI)(s.GA,s.Lz)],A.prototype,"_renderStates",2),A=E([(0,c.b2)()],A);var V=function(e){let{from:t,to:i,activated:a,style:r}=e,{baseColor:n,baseActivatedColor:o}=S();return u.createElement("path",{"data-line-id":e.lineId,d:`M ${t.x} ${t.y} L ${i.x} ${i.y}`,...w,stroke:a?o:n,style:r})},B="$marker_arrow$",F=function(e){let{baseColor:t}=S();return u.createElement("marker",{"data-line-id":e.id,id:e.id||B,markerWidth:"11",markerHeight:"14",refX:"10",refY:"7",orient:"auto"},u.createElement("path",{d:"M9.6 5.2C10.8 6.1 10.8 7.9 9.6 8.8L3.6 13.3C2.11672 14.4125 0 13.3541 0 11.5L0 2.5C0 0.645898 2.11672 -0.412461 3.6 0.7L9.6 5.2Z",fill:t}))},$="$marker_arrow_activated$",z=function(e){let{baseActivatedColor:t}=S();return u.createElement("marker",{"data-line-id":e.id,id:e.id||$,markerWidth:"11",markerHeight:"14",refX:"10",refY:"7",orient:"auto"},u.createElement("path",{d:"M9.6 5.2C10.8 6.1 10.8 7.9 9.6 8.8L3.6 13.3C2.11672 14.4125 0 13.3541 0 11.5L0 2.5C0 0.645898 2.11672 -0.412461 3.6 0.7L9.6 5.2Z",fill:t}))};function G(e){let t=(0,d.G2)(R),i=null==t?void 0:t.tryToGetRendererComponent(e.activated?"marker-active-arrow":"marker-arrow");return i?u.createElement(i.renderer,{...e}):e.activated?u.createElement("defs",null,u.createElement(z,{id:e.id})):u.createElement("defs",null,u.createElement(F,{id:e.id}))}var j=function(e){let{vertices:t,radius:i=16,hide:a,xRadius:r,yRadius:n,...d}=e,{from:l,to:c,arrow:f,activated:b,style:g}=d||{},{baseActivatedColor:p,baseColor:y}=S(),m=t||(e.isHorizontal?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{from:a,to:r,type:n}=e||{},o=Math.abs(r.y-a.y),d=Math.abs(r.x-a.x),l=d/t,c=o/i,h=[];if(l<1)return[];switch(n){case s.IG.DIVERGE_LINE:case s.IG.DRAGGING_LINE:if(l<=1)return[{x:r.x,y:a.y,radiusX:d}];if(h=[{x:a.x+i,y:a.y},{x:a.x+i,y:r.y}],l<2){let e=d-i;h=[{x:a.x+e,y:a.y,radiusX:e},{x:a.x+e,y:r.y}]}return c<2&&(h[0].moveY=o/2,h[1].moveY=o/2),h;case s.IG.MERGE_LINE:if(l<2)return[{x:r.x,y:a.y}];return h=[{x:r.x-i,y:a.y},{x:r.x-i,y:r.y}],c<2&&(h[0].moveY=o/2,h[1].moveY=o/2),h}return[]}(d,r,n):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{from:a,to:r,type:n}=e||{},o=Math.abs(r.y-a.y),d=Math.abs(r.x-a.x),l=o/i,c=d/t,h=[];if(l<1)return[];switch(n){case s.IG.DIVERGE_LINE:case s.IG.DRAGGING_LINE:if(l<=1)return[{x:r.x,y:a.y,radiusY:o}];if(h=[{x:a.x,y:a.y+i},{x:r.x,y:a.y+i}],l<2){let e=o-i;h=[{x:a.x,y:a.y+e,radiusY:e},{x:r.x,y:a.y+e}]}return c<2&&(h[0].moveX=d/2,h[1].moveX=d/2),h;case s.IG.MERGE_LINE:if(l<2)return[{x:a.x,y:r.y}];return h=[{x:a.x,y:r.y-i},{x:r.x,y:r.y-i}],c<2&&(h[0].moveX=d/2,h[1].moveX=d/2),h}return[]}(d,r,n)),E=(0,u.useMemo)(()=>m.map((e,t)=>{let a=m[t-1]||l,r=m[t+1]||c,n={x:Math.abs(a.x-e.x),y:Math.abs(a.y-e.y)},s={x:Math.abs(r.x-e.x),y:Math.abs(r.y-e.y)},d=0===n.x&&0===s.y,f=0===n.y&&0===s.x;d||f||console.error(`vertex ${e.x},${e.y} is not right angle`);let u=new o.E9().copyFrom(e),b=new o.E9().copyFrom(e),g=(0,h.Z)(e.radiusX)?i:e.radiusX,p=(0,h.Z)(e.radiusY)?i:e.radiusY,y=g,E=p;if(d){E=Math.min(n.y,p);let t=(0,h.Z)(e.moveY)?E:e.moveY;u.y+=l.y<e.y?-t:+t,y=Math.min(s.x,g);let i=(0,h.Z)(e.moveX)?y:e.moveX;b.x+=c.x<e.x?-i:+i}if(f){y=Math.min(n.x,g);let t=(0,h.Z)(e.moveX)?y:e.moveX;u.x+=l.x<e.x?-t:+t,E=Math.min(s.y,p);let i=(0,h.Z)(e.moveY)?E:e.moveY;b.y+=c.y<e.y?-i:+i}"truncate"===e.radiusOverflow&&(y=g,E=p);let C=(e.x-u.x)*(b.y-u.y)-(e.y-u.y)*(b.x-u.x);return`L ${u.x} ${u.y} A ${y} ${E} 0 0 ${+(C>0)} ${b.x} ${b.y}`}).join(" "),[m]);if(a)return null;let C=`M ${l.x} ${l.y} ${E} L ${c.x} ${c.y}`,x=b?`${$}${e.lineId}`:`${B}${e.lineId}`;return u.createElement(u.Fragment,null,f?u.createElement(G,{id:x,activated:b}):null,u.createElement("path",{"data-line-id":e.lineId,d:C,...w,stroke:b?p:y,...f?{markerEnd:`url(#${x})`}:{},style:g}))},H=function(e){let{renderKey:t,rendererRegistry:i,...a}=e;if(!t)return u.createElement(u.Fragment,null);let r=i.getRendererComponent(t);if(!r)return u.createElement(u.Fragment,null);let n=r.renderer;return u.createElement(n,{lineId:e.lineId,...a})},J=class extends d.mh{get transitions(){return this.document.getRenderDatas(s.Xr)}onZoom(){var e;let t=this.node.querySelector("svg.flow-lines-container");null==t||null==(e=t.setAttribute)||e.call(t,"viewBox",this.viewBox)}onReady(){this.node.style.zIndex="1"}get viewBox(){let e=1e3/this.config.finalScale;return`0 0 ${e} ${e}`}render(){let e=[],t=this.config.isViewportVisible.bind(this.config);if(this.documentTransformer.loading)return u.createElement(u.Fragment,null);this.documentTransformer.refresh(),this.transitions.forEach(i=>{!function(e){let{data:t,rendererRegistry:i,linesSave:a,dragService:r}=e,{lines:n,entity:d}=t||{},l=(0,s.yI)(d,s.T4.ROUNDED_LINE_X_RADIUS),c=(0,s.yI)(d,s.T4.ROUNDED_LINE_Y_RADIUS);n.forEach((n,d)=>{let h=o.Ae.createRectangleWithTwoPoints(n.from,n.to).pad(10);if(e.isViewportVisible(h)){let e=((e,a)=>{var n;let{renderData:o}=t,{isVertical:d}=t.entity,{lineActivated:h}=o||{},f=(e.type===s.IG.DRAGGING_LINE||e.isDraggingLine)&&!r.isDroppableBranch(t.entity,e.side),b=(e.type===s.IG.DRAGGING_LINE||e.isDraggingLine)&&(null==(n=t.entity)?void 0:n.id)===r.dropNodeId&&e.side===r.labelSide;switch(e.type){case s.IG.STRAIGHT_LINE:return u.createElement(V,{key:`${t.entity.id}_${a}`,lineId:t.entity.id,activated:h,...e});case s.IG.DIVERGE_LINE:case s.IG.DRAGGING_LINE:case s.IG.MERGE_LINE:case s.IG.ROUNDED_LINE:return u.createElement(j,{key:`${t.entity.id}_${a}`,lineId:t.entity.id,isHorizontal:!d,activated:h||b,...e,xRadius:l,yRadius:c,hide:f});case s.IG.CUSTOM_LINE:return u.createElement(H,{key:`${t.entity.id}_${a}`,lineId:t.entity.id,...e,rendererRegistry:i})}})(n,d);e&&a.push(e)}})}({data:i,rendererRegistry:this.rendererRegistry,isViewportVisible:t,linesSave:e,dragService:this.dragService})});let{activateLines:i=[],normalLines:a=[]}=(0,g.Z)(e,e=>e.props.activated?"activateLines":"normalLines"),r=[...a,...i];return u.createElement("svg",{className:"flow-lines-container",width:"1000",height:"1000",overflow:"visible",viewBox:this.viewBox,xmlns:"http://www.w3.org/2000/svg"},r)}constructor(){super(...arguments),this.node=o.xF.createDivWithClass("gedit-flow-lines-layer"),this.onViewportChange=(0,p.Z)(()=>{this.render()},100)}};function X(e){let{data:t,rendererRegistry:i,forceVisible:a,hoverHeight:r=D(t),hoverWidth:n=x(t),wrapperStyle:o,...d}=e,{activateNode:l}=d,[c,h]=(0,u.useState)(!1),f=null==l?void 0:l.getData(s.Lz),b=(0,u.useCallback)(()=>{h(!0),null==f||f.toggleMouseEnter()},[]),g=(0,u.useCallback)(()=>{h(!1),null==f||f.toggleMouseLeave()},[]),p=i.getRendererComponent("collapse"),y=t.entity,m=u.createElement(p.renderer,{node:y,collapseNode:y,...d,hoverActivated:c}),E=t.collapsed||(null==f?void 0:f.hovered)||c||a;return u.createElement("div",{className:"flow-canvas-collapse",onMouseEnter:b,onMouseLeave:g,style:{width:n,height:r,display:"flex",justifyContent:"center",alignItems:"center",...o}},E?m:null)}function Y(e){let{data:t,rendererRegistry:i,hoverHeight:a=D(t),hoverWidth:r=x(t),...n}=e,[o,l]=(0,u.useState)(!1),c=(0,u.useCallback)(()=>l(!0),[]),h=(0,u.useCallback)(()=>l(!1),[]),f=t.entity,b=((e,t)=>{let{dragService:i}=t;return i&&i.dragging&&i.isDroppableNode(e)?i.dropNodeId===e.id?"drag-highlight-adder":"draggable-adder":"adder"})(f,{dragService:(0,d.G2)(s.eE)}),g=i.getRendererComponent(b),p=t.entity.document.renderTree.getOriginInfo(f).next,y=f.next,m=u.createElement(g.renderer,{node:f,from:f,to:p,renderTo:y,hoverActivated:o,setHoverActivated:l,hoverWidth:r,hoverHeight:a,...n});return u.createElement("div",{className:"flow-canvas-adder","data-testid":"sdk.flowcanvas.line.adder","data-from":f.id,"data-to":(null==p?void 0:p.id)??"",onMouseEnter:c,onMouseLeave:h,style:{width:r,height:a,display:"flex",justifyContent:"center",alignItems:"center"}},m)}function U(e){let{data:t,rendererRegistry:i,...a}=e,{activateNode:r}=a,[n,o]=(0,u.useState)(!1),d=null==r?void 0:r.getData(s.Lz),l=(0,u.useCallback)(()=>{o(!0)},[]),c=(0,u.useCallback)(()=>{o(!1)},[]),h=null==r?void 0:r.isVertical,f=(null==d?void 0:d.hovered)||n;return h?u.createElement("div",{className:"flow-canvas-collapse-adder",onMouseEnter:l,onMouseLeave:c},(f||t.collapsed)&&u.createElement(X,{forceVisible:!0,...e,wrapperStyle:{alignItems:"flex-end"},hoverHeight:20}),!t.collapsed&&u.createElement(Y,{...e,hoverHeight:f?20:40,hoverActivated:f})):u.createElement("div",{className:"flow-canvas-collapse-adder",onMouseEnter:l,onMouseLeave:c,style:{display:t.collapsed?"block":"flex"}},(f||t.collapsed)&&u.createElement(X,{forceVisible:!0,...e,wrapperStyle:{justifyContent:"flex-end"},hoverWidth:20}),!t.collapsed&&u.createElement(Y,{...e,hoverWidth:f?20:40,hoverActivated:f}))}function W(e){let{data:t,rendererRegistry:i,side:a,...r}=e,n=t.entity,o=((e,t)=>{let{dragService:i,side:a}=t;return i.isDragBranch&&a&&i.labelSide===a&&i.isDroppableBranch(e,a)?i.dropNodeId===e.id?"drag-branch-highlight-adder":"draggable-adder":""})(n,{side:a,dragService:(0,d.G2)(s.eE)});if(!o)return null;let l=i.getRendererComponent(o),c=t.entity.document.renderTree.getOriginInfo(n).next,h=n.next,f=u.createElement(l.renderer,{node:n,from:n,to:c,renderTo:h,...r});return u.createElement("div",{className:"flow-canvas-branch-draggable-adder"},f)}E([(0,c.f3)(s.pQ)],J.prototype,"document",2),E([(0,c.f3)(s.eE)],J.prototype,"dragService",2),E([(0,c.f3)(R)],J.prototype,"rendererRegistry",2),E([(0,d.O0)(s.Vl)],J.prototype,"documentTransformer",2),E([(0,d.O0)(s.y3)],J.prototype,"flowRenderState",2),E([(0,d.aI)(s.GA,s.Xr)],J.prototype,"_transitions",2),J=E([(0,c.b2)()],J);var K={fontSize:12,color:"#8F959E",textAlign:"center",whiteSpace:"nowrap",backgroundColor:"var(--g-editor-background)",lineHeight:"20px"},Z=class extends d.mh{get transitions(){return this.document.getRenderDatas(s.Xr)}onZoom(e){this.node.style.transform=`scale(${e})`}onReady(){this.node.style.zIndex="9"}onReadonlyOrDisabledChange(){this.render()}render(){var e,t,i;let a=[];if(null==(e=this.documentTransformer)?void 0:e.loading)return u.createElement(u.Fragment,null);null==(i=this.documentTransformer)||null==(t=i.refresh)||t.call(i);let{baseActivatedColor:r,baseColor:n}=S(),d=this.config.isViewportVisible.bind(this.config);return this.transitions.forEach(e=>{!function(e){let{data:t,rendererRegistry:i,labelsSave:a,getLabelColor:r}=e,{labels:n,renderData:d}=t||{},{activated:l}=d||{};n.forEach((n,d)=>{var c;e.isViewportVisible((c=n.offset,new o.Ae(c.x-75,c.y-30,150,60)))&&a.push(((a,n)=>{let{offset:o,renderKey:d,props:c,rotate:h,origin:f,type:b}=a||{},g=o.x,p=o.y,y=null;switch(b){case s.nx.BRANCH_DRAGGING_LABEL:y=u.createElement(W,{labelId:a.labelId||e.data.entity.id,rendererRegistry:i,data:t,...c});break;case s.nx.ADDER_LABEL:y=u.createElement(Y,{labelId:a.labelId||e.data.entity.id,rendererRegistry:i,data:t,...c});break;case s.nx.COLLAPSE_LABEL:y=u.createElement(X,{labelId:a.labelId||e.data.entity.id,rendererRegistry:i,data:t,...c});break;case s.nx.COLLAPSE_ADDER_LABEL:y=u.createElement(U,{labelId:a.labelId||e.data.entity.id,rendererRegistry:i,data:t,...c});break;case s.nx.TEXT_LABEL:if(!d)return null;let m=i.getText(d)||d;y=u.createElement("div",{"data-label-id":a.labelId||e.data.entity.id,style:{...K,...null==c?void 0:c.style,color:r(l),transform:h?`rotate(${h})`:void 0}},m);break;case s.nx.CUSTOM_LABEL:if(!d)return null;try{let r=i.getRendererComponent(d);y=u.createElement(r.renderer,{node:t.entity,labelId:a.labelId||e.data.entity.id,...c})}catch(e){console.error(e),y=d}}let E="number"==typeof(null==f?void 0:f[0])?null==f?void 0:f[0]:.5,C="number"==typeof(null==f?void 0:f[1])?null==f?void 0:f[1]:.5;return u.createElement("div",{key:`${t.entity.id}${n}`,"data-label-id":a.labelId||e.data.entity.id,style:{position:"absolute",left:g,top:p,transform:`translate(-${100*E}%, -${100*C}%)`}},y)})(n,d))})}({data:e,rendererRegistry:this.rendererRegistry,isViewportVisible:d,labelsSave:a,getLabelColor:e=>e?r:n})}),u.createElement(u.Fragment,null,a)}constructor(){super(...arguments),this.node=o.xF.createDivWithClass("gedit-flow-labels-layer"),this.onViewportChange=(0,p.Z)(()=>{this.render()},100)}};function Q(e,t){let i=t.finalScale;return new o.Ae(e.scrollX/i,e.scrollY/i,t.config.width/i,t.config.height/i).pad(-120/i,-120/i)}E([(0,c.f3)(s.pQ)],Z.prototype,"document",2),E([(0,c.f3)(R)],Z.prototype,"rendererRegistry",2),E([(0,d.O0)(s.Vl)],Z.prototype,"documentTransformer",2),E([(0,d.O0)(s.y3)],Z.prototype,"flowRenderState",2),E([(0,d.aI)(s.GA,s.Xr)],Z.prototype,"_transitions",2),Z=E([(0,c.b2)()],Z);var q=Symbol("ScrollBarEvents"),ee=0;function et(e){let t=Math.min(e/10*255,255),i=(ee+=1)%3,a=()=>Math.floor(Math.random()*t);return`rgb(${0===i?a():0}, ${1===i?a():0}, ${2===i?a():0})`}var ei=class extends d.mh{get transforms(){return this.document.getRenderDatas(s.eG)}onReady(){this.node.style.zIndex="20",o.xF.setStyle(this.originLine,{position:"absolute",width:1,height:"100%",left:this.pipelineNode.style.left,top:0,borderLeft:"1px dashed rgba(255, 0, 0, 0.5)"}),this.pipelineNode.parentElement.appendChild(this.originLine),this.node.appendChild(this.viewport),this.node.appendChild(this.versionNodes),this.node.appendChild(this.boundsNodes),this.node.appendChild(this.pointsNodes),this.renderScrollViewportBounds()}onScroll(){this.originLine.style.left=this.pipelineNode.style.left,this.renderScrollViewportBounds()}onResize(){this.renderScrollViewportBounds()}onZoom(e){this.node.style.transform=`scale(${e})`,this.renderScrollViewportBounds()}createBounds(e,t,i){if(this.filterKey&&-1===e.key.indexOf(this.filterKey))return;let a=this.domCache.get(e),{bounds:r,inputPoint:n,outputPoint:s}=e;if(!a){let i=o.xF.createDivWithClass(""),r=o.xF.createDivWithClass(""),n=o.xF.createDivWithClass(""),s=o.xF.createDivWithClass("");i.title=e.key,r.title=e.key+"(input)",n.title=e.key+"(output)",s.title=e.key,this.boundsNodes.appendChild(i),this.pointsNodes.appendChild(r),this.pointsNodes.appendChild(n),this.versionNodes.appendChild(s),e.onDispose(()=>{i.remove(),r.remove(),n.remove()}),a={bbox:i,input:r,output:n,version:s,color:t},this.domCache.set(e,a)}o.xF.setStyle(a.version,{position:"absolute",marginLeft:"-9px",marginTop:"-10px",borderRadius:12,background:"#f54a45",padding:4,color:"navajowhite",display:e.renderState.hidden?"none":"block",zIndex:i+1e3,left:r.center.x,top:r.center.y}),a.version.innerHTML=e.version.toString(),o.xF.setStyle(a.input,{position:"absolute",width:10,height:10,marginLeft:-5,marginTop:-5,borderRadius:5,left:n.x,top:n.y,opacity:.4,zIndex:i,backgroundColor:a.color,whiteSpace:"nowrap",overflow:"visible"}),a.input.innerHTML=`${n.x},${n.y}`,o.xF.setStyle(a.output,{position:"absolute",width:10,height:10,marginLeft:-5,marginTop:-5,borderRadius:5,left:s.x,top:s.y,opacity:.4,zIndex:i,backgroundColor:a.color,whiteSpace:"nowrap",overflow:"visible"}),a.output.innerHTML=`${s.x},${s.y}`,o.xF.setStyle(a.bbox,{position:"absolute",width:r.width,height:r.height,left:r.left,top:r.top,opacity:`${i/30}`,backgroundColor:a.color})}renderScrollViewportBounds(){let e=Q({scrollX:this.config.config.scrollX,scrollY:this.config.config.scrollY},this.config);o.xF.setStyle(this.viewport,{position:"absolute",width:e.width-2,height:e.height-2,left:e.left+1,top:e.top+1,border:"1px solid rgba(200, 200, 255, 0.5)"})}autorun(){if(this.documentTransformer.loading)return;this.documentTransformer.refresh();let e=et(0);this.document.traverse((t,i)=>{let a=t.getData(s.eG);e=et(i),this.createBounds(a,e,i)}),this.renderScrollViewportBounds()}constructor(){var e;super(...arguments),this.node=document.createElement("div"),this.viewport=o.xF.createDivWithClass("gedit-flow-debug-bounds"),this.boundsNodes=o.xF.createDivWithClass("gedit-flow-debug-bounds"),this.pointsNodes=o.xF.createDivWithClass("gedit-flow-debug-points"),this.versionNodes=o.xF.createDivWithClass("gedit-flow-debug-versions gedit-hidden"),this.filterKey=(null==(e=window.location.search.match(/debug=([^&]+)/))?void 0:e[1])||"",this.originLine=document.createElement("div"),this.domCache=new WeakMap}};E([(0,c.f3)(s.pQ)],ei.prototype,"document",2),E([(0,d.O0)(s.Vl)],ei.prototype,"documentTransformer",2),E([(0,d.aI)(s.GA,s.eG)],ei.prototype,"_transforms",2),ei=E([(0,c.b2)()],ei);var ea=class extends d.mh{get clientViewportWidth(){return this.viewportWidth*this.scale-11}get clientViewportHeight(){return this.viewportHeight*this.scale-11}get viewportFullWidth(){return this.mostLeft-this.mostRight}get viewportFullHeight(){return this.mostTop-this.mostBottom}get viewportMoveWidth(){return this.mostLeft-this.mostRight+this.width}get viewportMoveHeight(){return this.mostTop-this.mostBottom+this.height}getToLeft(e){return(e-this.mostRight)/this.viewportMoveWidth*this.clientViewportWidth}getToTop(e){return(e-this.mostBottom)/this.viewportMoveHeight*this.clientViewportHeight}clickRightScrollBar(e){e.preventDefault(),e.stopPropagation();let t=1-((null==e?void 0:e.y)||0)/this.clientViewportHeight,i=(this.mostTop-this.viewportFullHeight*t)*this.scale;this.playgroundConfigEntity.scroll({scrollY:i},!1)}clickBottomScrollBar(e){e.preventDefault(),e.stopPropagation();let t=1-((null==e?void 0:e.x)||0)/this.clientViewportWidth,i=(this.mostLeft-this.viewportFullWidth*t)*this.scale;this.playgroundConfigEntity.scroll({scrollX:i},!1)}onBoardingToast(){var e;null==(e=this.events)||e.dragStart()}changeScrollBarVisibility(e,t){o.xF.addClass(e,"show"===t?"gedit-playground-scroll-show":"gedit-playground-scroll-hidden"),o.xF.delClass(e,"show"===t?"gedit-playground-scroll-hidden":"gedit-playground-scroll-show")}onReady(){this.options.getBounds||(this.options={getBounds:()=>{let e=this.flowDocument;return e?(e.transformer.refresh(),e.root.getData(s.eG).bounds):o.Ae.EMPTY},showScrollBars:"whenScrolling"}),this.pipelineNode.parentNode.appendChild(this.rightScrollBar),this.pipelineNode.parentNode.appendChild(this.rightScrollBarBlock),this.pipelineNode.parentNode.appendChild(this.bottomScrollBar),this.pipelineNode.parentNode.appendChild(this.bottomScrollBarBlock),this.rightScrollBar.onclick=this.clickRightScrollBar.bind(this),this.bottomScrollBar.onclick=this.clickBottomScrollBar.bind(this),"whenScrolling"===this.options.showScrollBars&&(this.rightScrollBar.addEventListener("mouseenter",e=>{this.changeScrollBarVisibility(this.rightScrollBarBlock,"show")}),this.rightScrollBar.addEventListener("mouseleave",e=>{this.changeScrollBarVisibility(this.rightScrollBarBlock,"hidden")}),this.bottomScrollBar.addEventListener("mouseenter",e=>{this.changeScrollBarVisibility(this.bottomScrollBarBlock,"show")}),this.bottomScrollBar.addEventListener("mouseleave",e=>{this.changeScrollBarVisibility(this.bottomScrollBarBlock,"hidden")})),this.bottomScrollBarBlock.addEventListener("mousedown",e=>{this.bottomGrabDragger.start(e.clientX,e.clientY),e.stopPropagation()}),this.rightScrollBarBlock.addEventListener("mousedown",e=>{this.rightGrabDragger.start(e.clientX,e.clientY),e.stopPropagation()})}autorun(){this.hideTimeout&&clearTimeout(this.hideTimeout);let e=Q({scrollX:this.config.config.scrollX,scrollY:this.config.config.scrollY},this.config),t=this.config.getViewport();this.viewportWidth=t.width,this.viewportHeight=t.height;let i=this.options.getBounds();this.width=(null==i?void 0:i.width)||0,this.height=(null==i?void 0:i.height)||0;let a=(this.viewportWidth-e.width)/2-2,r=(this.viewportHeight-e.height)/2-2,n=this.width+e.width,s=this.height+e.height,d=i.x,l=i.y;this.mostLeft=this.width+d-a,this.mostRight=this.mostLeft-n,this.mostTop=this.height+l-r,this.mostBottom=this.mostTop-s,this.scale=this.config.finalScale;let c=this.clientViewportWidth,h=this.clientViewportHeight;this.scrollBottomWidth=c-c*(this.mostLeft-this.mostRight)/this.viewportMoveWidth,this.scrollRightHeight=h-h*(this.mostTop-this.mostBottom)/this.viewportMoveHeight;let f=this.getToLeft(t.x),u=this.getToTop(t.y);o.xF.setStyle(this.rightScrollBarBlock,{right:2,top:u,background:"#1F2329",zIndex:10,height:this.scrollRightHeight,width:"7px"}),o.xF.setStyle(this.bottomScrollBarBlock,{left:f,bottom:2,background:"#1F2329",zIndex:10,height:"7px",width:this.scrollBottomWidth}),this.changeScrollBarVisibility(this.rightScrollBarBlock,"show"),this.changeScrollBarVisibility(this.bottomScrollBarBlock,"show"),"whenScrolling"===this.options.showScrollBars&&(this.hideTimeout=window.setTimeout(()=>{this.changeScrollBarVisibility(this.rightScrollBarBlock,"hidden"),this.changeScrollBarVisibility(this.bottomScrollBarBlock,"hidden"),this.hideTimeout=void 0},1e3))}constructor(){super(...arguments),this.rightScrollBar=o.xF.createDivWithClass("gedit-playground-scroll-right"),this.rightScrollBarBlock=o.xF.createDivWithClass("gedit-playground-scroll-right-block"),this.bottomScrollBar=o.xF.createDivWithClass("gedit-playground-scroll-bottom"),this.bottomScrollBarBlock=o.xF.createDivWithClass("gedit-playground-scroll-bottom-block"),this.sum=0,this.initialScrollX=0,this.initialScrollY=0,this.bottomGrabDragger=new d.s5({onDragStart:e=>{this.config.updateCursor("grabbing"),this.sum=0,this.initialScrollX=this.config.getViewport().x,this.onBoardingToast()},onDrag:e=>{this.sum+=e.movingDelta.x,this.playgroundConfigEntity.scroll({scrollX:(this.initialScrollX+this.sum*this.viewportFullWidth/(this.clientViewportWidth-this.scrollBottomWidth))*this.scale},!1)},onDragEnd:e=>{this.config.updateCursor("default")}}),this.rightGrabDragger=new d.s5({onDragStart:e=>{this.config.updateCursor("grabbing"),this.sum=0,this.initialScrollY=this.config.getViewport().y,this.onBoardingToast()},onDrag:e=>{this.sum+=e.movingDelta.y,this.playgroundConfigEntity.scroll({scrollY:(this.initialScrollY+this.sum*this.viewportFullHeight/(this.clientViewportHeight-this.scrollRightHeight))*this.scale},!1)},onDragEnd:e=>{this.config.updateCursor("default")}})}};E([(0,c.jt)(),(0,c.f3)(q)],ea.prototype,"events",2),E([(0,c.f3)(s.pQ),(0,c.jt)()],ea.prototype,"flowDocument",2),E([(0,d.O0)(d.ER)],ea.prototype,"playgroundConfigEntity",2),ea=E([(0,c.b2)()],ea);var er=class extends d.mh{get transitions(){let e=[];return this.document.traverse(t=>{e.push(t.getData(s.Xr))}),e}get dragStartEntity(){return this.flowRenderStateEntity.getDragStartEntity()}set dragStartEntity(e){this.flowRenderStateEntity.setDragStartEntity(e)}get dragEntities(){return this.flowRenderStateEntity.getDragEntities()}set dragEntities(e){this.flowRenderStateEntity.setDragEntities(e)}isGrab(){return this.editorStateConfig.getCurrentState()===d.yy.STATE_GRAB}setDraggingStatus(e){this.flowDragService.nodeDragIdsWithChildren.length&&this.flowDragService.nodeDragIdsWithChildren.forEach(t=>{let i=this.entityManager.getEntityById(t);(null==i?void 0:i.getData(s.Lz)).dragging=e}),this.flowRenderStateEntity.setDragging(e)}dragEnable(e){return Math.abs(e.clientX-this.initialPosition.x)>10||Math.abs(e.clientY-this.initialPosition.y)>10}handleMouseMove(e){if((this.dragJSON||this.dragStartEntity)&&this.dragEnable(e)){this.setDraggingStatus(!0);let i=this.playgroundConfigEntity.finalScale;if(this.containerRef.current){var t;let a,r=null==(t=this.containerRef.current.children)?void 0:t[0],n=this.playgroundConfigEntity.getClientBounds(),s=e.clientX-(this.pipelineNode.offsetLeft||0)-n.x-(r.clientWidth-this.dragOffset.x)*i,d=e.clientY-(this.pipelineNode.offsetTop||0)-n.y-(r.clientHeight-this.dragOffset.y)*i,l=this.flowDragService.isDragBranch,c=new o.Ae(s,d,r.clientWidth*i,r.clientHeight*i),h=this.transitions.find(e=>{var t,i;if(null==e||null==(i=e.entity)||null==(t=i.parent)?void 0:t.collapsed)return!1;let{hasCollision:r,labelOffsetType:n}=this.flowDragConfigEntity.isCollision(e,c,l);return a=n,r});h&&(l?this.flowDragService.isDroppableBranch(h.entity,a):this.flowDragService.isDroppableNode(h.entity))&&(!this.options.canDrop||this.options.canDrop({dragNodes:this.dragEntities,dropNode:h.entity,isBranch:l}))?this.flowRenderStateEntity.setNodeDroppingId(h.entity.id):this.flowRenderStateEntity.setNodeDroppingId(""),this.flowRenderStateEntity.setDragLabelSide(a),this.containerRef.current.style.visibility="visible",this.pipelineNode.parentElement.appendChild(this.draggingNodeMask),this.containerRef.current.style.left=`${s+this.pipelineNode.offsetLeft+n.x+window.scrollX}px`,this.containerRef.current.style.top=`${d+this.pipelineNode.offsetTop+n.y+window.scrollY}px`,this.containerRef.current.style.transformOrigin="top left",this.containerRef.current.style.transform=`scale(${i})`,this.disableDragScroll||this.flowDragConfigEntity.scrollDirection(e,s,d)}}}async handleMouseUp(){this.setDraggingStatus(!1),(this.dragStartEntity||this.dragJSON)&&(this.flowDragService.dropNodeId&&(this.flowDragService.isDragBranch?this.dragJSON?await this.flowDragService.dropCreateNode(this.dragJSON,this.onCreateNode):this.flowDragService.dropBranch():(this.dragJSON?await this.flowDragService.dropCreateNode(this.dragJSON,this.onCreateNode):this.flowDragService.dropNode(),this.selectConfigEntity.clearSelectedNodes())),this.flowRenderStateEntity.setNodeDroppingId(""),this.flowRenderStateEntity.setDragLabelSide(),this.flowRenderStateEntity.setIsBranch(!1),this.dragStartEntity=void 0,this.dragEntities=[],this.flowDragConfigEntity.stopAllScroll()),this.disableDragScroll=!1,this.dragJSON=void 0,this.containerRef.current&&(this.containerRef.current.style.visibility="hidden",this.pipelineNode.parentElement.contains(this.draggingNodeMask)&&this.pipelineNode.parentElement.removeChild(this.draggingNodeMask))}async startDrag(e,t,i){let{dragStartEntity:a,dragEntities:r,dragJSON:n,isBranch:o,onCreateNode:d}=t;if(this.isGrab()||this.config.disabled||this.config.readonly)return;this.disableDragScroll=!!(null==i?void 0:i.disableDragScroll),this.dragJSON=n,this.onCreateNode=d,this.flowRenderStateEntity.setIsBranch(!!o),this.dragOffset.x=(null==i?void 0:i.dragOffsetX)||8,this.dragOffset.y=(null==i?void 0:i.dragOffsetY)||8;let l=(null==a?void 0:a.flowNodeType)||(null==n?void 0:n.type),c=l===s.Sy.BLOCK_ICON,h=l===s.Sy.BLOCK_ORDER_ICON,f=c||h?a.parent:a;if(!f||f.getData(s.Lz).draggable)return this.initialPosition={x:e.clientX,y:e.clientY},this.dragStartEntity=f,this.dragEntities=r||(this.dragStartEntity?[this.dragStartEntity]:[]),this._dragger.start(e.clientX,e.clientY)}onReady(){this.draggingNodeMask.style.width="100%",this.draggingNodeMask.style.height="100%",this.draggingNodeMask.style.position="absolute",this.draggingNodeMask.classList.add("dragging-node"),this.draggingNodeMask.style.zIndex="99",this.draggingNodeMask.style.cursor="pointer",this.dragNodeComp=this.rendererRegistry.getRendererComponent("drag-node"),this.options.onDrop&&this.toDispose.push(this.flowDragService.onDrop(this.options.onDrop))}dispose(){this._dragger.dispose(),super.dispose()}render(){let e=this.dragNodeComp.renderer;return f.createPortal(u.createElement("div",{ref:this.containerRef,style:{position:"absolute",zIndex:99999,visibility:"hidden"},onMouseEnter:e=>e.stopPropagation()},u.createElement(e,{dragJSON:this.dragJSON,dragStart:this.dragStartEntity,dragNodes:this.dragEntities})),document.body)}constructor(){super(...arguments),this.disableDragScroll=!1,this.dragOffset={x:8,y:8},this.containerRef=u.createRef(),this.draggingNodeMask=document.createElement("div"),this._dragger=new d.s5({onDrag:e=>{this.handleMouseMove(e)},onDragEnd:()=>{this.handleMouseUp()},stopGlobalEventNames:["contextmenu"]})}};E([(0,c.f3)(s.pQ)],er.prototype,"document",2),E([(0,c.f3)(s.eE)],er.prototype,"flowDragService",2),E([(0,d.aI)(s.GA,s.eG)],er.prototype,"transforms",2),E([(0,d.O0)(d.Zs)],er.prototype,"editorStateConfig",2),E([(0,d.O0)(d.ER)],er.prototype,"playgroundConfigEntity",2),E([(0,d.O0)(_)],er.prototype,"flowDragConfigEntity",2),E([(0,d.O0)(s.y3)],er.prototype,"flowRenderStateEntity",2),E([(0,d.O0)(N)],er.prototype,"selectConfigEntity",2),E([(0,c.f3)(R)],er.prototype,"rendererRegistry",2),er=E([(0,c.b2)()],er);var en=class extends d.mh{onReady(){this.options.canSelect||(this.options.canSelect=e=>{let t=e.target;return t===this.pipelineNode||t===this.playgroundNode}),this.toDispose.pushAll([this.selectConfigEntity.onConfigChanged(()=>{this.selectionService.selection=this.selectConfigEntity.selectedNodes}),this.selectionService.onSelectionChanged(()=>{let e=this.selectionService.selection.filter(e=>e instanceof s.GA);this.selectConfigEntity.selectedNodes=e})]),this.listenPlaygroundEvent("mousedown",e=>{if(this.isEnabled()&&(!this.options.canSelect||this.options.canSelect(e,this.selectorBoxConfigEntity)))return this.editorStateConfig.getCurrentState()===d.yy.STATE_MOUSE_FRIENDLY_SELECT&&this.selectConfigEntity.clearSelectedNodes(),this.selectboxDragger.start(e.clientX,e.clientY,this.config),!0},d.nn.BASE_LAYER)}isEnabled(){let e=this.editorStateConfig.getCurrentState(),t=e===d.yy.STATE_MOUSE_FRIENDLY_SELECT;return!this.config.disabled&&!this.config.readonly&&(t&&this.editorStateConfig.isPressingShift||e===d.yy.STATE_SELECT)&&!this.selectorBoxConfigEntity.disabled}dispose(){this.selectorBox.dispose(),this.selectorBoxBlock.dispose(),super.dispose()}updateSelectorBox(e){let t=this.selectorBox.get(),i=this.selectorBoxBlock.get();!this.isEnabled()&&e.isMoving&&this.selectorBoxConfigEntity.collapse(),this.isEnabled()&&e.isMoving?(t.setStyle({display:"block",left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height}),i.setStyle({display:"block",left:e.position.x-10,top:e.position.y-10,width:e.size.width+20,height:e.size.height+20})):(t.setStyle({display:"none"}),i.setStyle({display:"none"}))}nodeSelectable(e,t){let i=e.getNodeMeta().selectable;return"function"==typeof i?i(e,t):i}constructor(){super(...arguments),this.node=o.xF.createDivWithClass("gedit-selector-box-layer"),this.selectorBox=this.createDOMCache("gedit-selector-box"),this.selectorBoxBlock=this.createDOMCache("gedit-selector-box-block"),this.selectboxDragger=new d.s5({onDragStart:e=>{this.selectConfigEntity.clearSelectedNodes();let t=this.playgroundConfigEntity.getPosFromMouseEvent(e);this.transformVisibles=this.flowDocument.getRenderDatas(s.eG,!1).filter(e=>{let{entity:i}=e;return i.originParent?this.nodeSelectable(i,t)&&this.nodeSelectable(i.originParent,t):this.nodeSelectable(i,t)}),this.selectorBoxConfigEntity.setDragInfo(e),this.updateSelectorBox(this.selectorBoxConfigEntity)},onDrag:e=>{this.selectorBoxConfigEntity.setDragInfo(e),this.selectConfigEntity.selectFromBounds(this.selectorBoxConfigEntity.toRectangle(this.playgroundConfigEntity.finalScale),this.transformVisibles),this.updateSelectorBox(this.selectorBoxConfigEntity)},onDragEnd:e=>{this.selectorBoxConfigEntity.setDragInfo(e),this.transformVisibles.length=0,this.updateSelectorBox(this.selectorBoxConfigEntity)}})}};E([(0,c.f3)(s.pQ)],en.prototype,"flowDocument",2),E([(0,c.f3)(d.Lk)],en.prototype,"contextMenuService",2),E([(0,d.O0)(d.ER)],en.prototype,"playgroundConfigEntity",2),E([(0,c.f3)(d.z2)],en.prototype,"selectionService",2),E([(0,d.O0)(M)],en.prototype,"selectorBoxConfigEntity",2),E([(0,d.O0)(N)],en.prototype,"selectConfigEntity",2),E([(0,d.O0)(d.Zs)],en.prototype,"editorStateConfig",2),en=E([(0,c.b2)()],en);var eo=class extends d.mh{onReady(){this.node.style.zIndex="20";let{firstChild:e}=this.pipelineNode;void 0!==this.options.boundsPadding&&(this.flowSelectConfigEntity.boundsPadding=this.options.boundsPadding),this.options.backgroundClassName&&this.selectBoundsBackground.classList.add(this.options.backgroundClassName);let t=o.xF.createDivWithClass("gedit-playground-layer");t.appendChild(this.selectBoundsBackground),this.pipelineNode.insertBefore(t,e)}onZoom(e){this.node.style.transform=`scale(${e})`,this.selectBoundsBackground.parentElement.style.transform=`scale(${e})`}onViewportChange(){this.render()}isEnabled(){return this.editorStateConfig.getCurrentState()===d.yy.STATE_SELECT}render(){var e;let{ignoreOneSelect:t,ignoreChildrenLength:i,SelectorBoxPopover:a,disableBackground:r,CustomBoundsRenderer:n}=this.options,s=this.flowSelectConfigEntity.getSelectedBounds(),d=this.flowSelectConfigEntity.selectedNodes,l=this.selectBoundsBackground,c=!this.selectorBoxConfigEntity.isStart;if(0===s.width||0===s.height||t&&1===d.length&&(i||d[0].childrenLength<=1))return o.xF.setStyle(l,{display:"none"}),u.createElement(u.Fragment,null);if(n)return u.createElement(n,{bounds:s,config:this.config,flowSelectConfig:this.flowSelectConfigEntity,commandRegistry:this.commandRegistry});let h={display:"block",left:s.left,top:s.top,width:s.width,height:s.height};r||o.xF.setStyle(l,h);let f="gedit-selector-bounds-foreground";this.options.foregroundClassName&&(f+=" "+this.options.foregroundClassName);let b=a||(null==(e=this.rendererRegistry.tryToGetRendererComponent("selector-box-popover"))?void 0:e.renderer);return c&&b?u.createElement(b,{bounds:s,config:this.config,flowSelectConfig:this.flowSelectConfigEntity,commandRegistry:this.commandRegistry},u.createElement("div",{className:f,style:h})):u.createElement("div",{className:f,style:h})}constructor(){super(...arguments),this.node=o.xF.createDivWithClass("gedit-selector-bounds-layer"),this.selectBoundsBackground=o.xF.createDivWithClass("gedit-selector-bounds-background")}};E([(0,c.f3)(R)],eo.prototype,"rendererRegistry",2),E([(0,c.f3)(d.Ho)],eo.prototype,"commandRegistry",2),E([(0,d.O0)(N)],eo.prototype,"flowSelectConfigEntity",2),E([(0,d.O0)(d.Zs)],eo.prototype,"editorStateConfig",2),E([(0,d.O0)(M)],eo.prototype,"selectorBoxConfigEntity",2),E([(0,d.aI)(s.GA,s.Lz)],eo.prototype,"renderStates",2),E([(0,d.aI)(s.GA,s.eG)],eo.prototype,"_transforms",2),eo=E([(0,c.b2)()],eo);var es=class extends d.mh{isEnabled(){let e=this.editorStateConfig.getCurrentState();return!this.config.disabled&&!this.config.readonly&&e===d.yy.STATE_SELECT&&!this.selectorBoxConfigEntity.disabled}onReady(){this.node.style.zIndex="30",this.node.style.display="block",this.toDispose.pushAll([this.listenPlaygroundEvent("contextmenu",e=>{var t;if(!this.isEnabled())return;this.contextMenuService.rightPanelVisible=!0;let i=this.flowSelectConfigEntity.getSelectedBounds();if(0===i.width||0===i.height)return;e.stopPropagation(),e.preventDefault(),null==(t=this.nodeRef.current)||t.setVisible(!0);let a=this.playgroundConfigEntity.getClientBounds(),r=e.clientX-(this.pipelineNode.offsetLeft||0)-a.x,n=e.clientY-(this.pipelineNode.offsetTop||0)-a.y;this.node.style.left=`${r}px`,this.node.style.top=`${n}px`},d.nn.BASE_LAYER),this.listenPlaygroundEvent("mousedown",()=>{var e;null==(e=this.nodeRef.current)||e.setVisible(!1),this.contextMenuService.rightPanelVisible=!1})])}onScroll(){var e;null==(e=this.nodeRef.current)||e.setVisible(!1)}onZoom(){var e;null==(e=this.nodeRef.current)||e.setVisible(!1)}dispose(){super.dispose()}renderCommandMenus(){return this.commandRegistry.commands.filter(e=>"SELECTOR_BOX"===e.category).map(e=>{var t;let i=null==(t=this.rendererRegistry.getRendererComponent(e.icon||e.id))?void 0:t.renderer;return u.createElement(i,{key:e.id,command:e,isContextMenu:!0,disabled:!this.commandRegistry.isEnabled(e.id),onClick:t=>this.commandRegistry.executeCommand(e.id,t)})}).filter(e=>e)}render(){let e=this.rendererRegistry.getRendererComponent("context-menu-popover").renderer;return u.createElement(e,{ref:this.nodeRef,content:this.renderCommandMenus()})}constructor(){super(...arguments),this.node=o.xF.createDivWithClass("gedit-context-menu-layer"),this.nodeRef=u.createRef()}};E([(0,c.f3)(d.Ho)],es.prototype,"commandRegistry",2),E([(0,c.f3)(R)],es.prototype,"rendererRegistry",2),E([(0,c.f3)(d.Lk)],es.prototype,"contextMenuService",2),E([(0,d.O0)(N)],es.prototype,"flowSelectConfigEntity",2),E([(0,c.f3)(d.z2)],es.prototype,"selectionService",2),E([(0,d.O0)(d.ER)],es.prototype,"playgroundConfigEntity",2),E([(0,d.O0)(d.Zs)],es.prototype,"editorStateConfig",2),E([(0,d.O0)(M)],es.prototype,"selectorBoxConfigEntity",2),es=E([(0,c.b2)()],es);var ed=class extends d.mh{getInitScroll(){return this.document.layout.getInitScroll(this.pipelineNode.getBoundingClientRect())}onReady(){let e=()=>this.getInitScroll();this.config.updateConfig(e()),this.config.addScrollLimit(t=>(function(e,t,i,a){e={...e};let r=i.config,n={scrollX:r.scrollX,scrollY:r.scrollY};if(0===t.length||0===r.width||0===r.height)return e;let s=Q(e,i);if(!t.find(e=>o.Ae.isViewportVisible(e,s))){let e=Q(n,i);return t.find(t=>o.Ae.isViewportVisible(t,e))?n:a()}return e})(t,[this.document.root.getData(s.eG).bounds],this.config,e))}};E([(0,c.f3)(s.pQ)],ed.prototype,"document",2),ed=E([(0,c.b2)()],ed);var el=new c.nZ(e=>{e(R).toSelf().inSingletonScope(),e(L).toSelf().inSingletonScope()})},950454:function(e,t,i){i.d(t,{JTr:()=>s.JT,f3M:()=>h.f3,qRT:()=>f.qR,QUv:()=>l.QU,_J4:()=>E,PiV:()=>c.Pi,D9C:()=>l.D9,fin:()=>x,qmw:()=>f.qm,Emw:()=>c.Em,xFV:()=>s.xF,GAy:()=>l.GA,kmj:()=>d.km,d3V:()=>d.d3,Fu1:()=>ep,zEJ:()=>o.zE,Rf1:()=>c.Rf,C8:()=>l.C8,VOn:()=>d.VO,i2z:()=>f.i2,OTb:()=>l.OT,XsM:()=>l.Xs,z2R:()=>d.z2,SyX:()=>l.Sy,yyW:()=>d.yy,HoL:()=>d.Ho,ERL:()=>d.ER,Odm:()=>R.Od,nYJ:()=>r,esp:()=>er.es,LzJ:()=>l.Lz,cL:()=>I.cL,_cB:()=>Y,XQj:()=>d.XQ,AeJ:()=>s.Ae,F26:()=>R.F2,cc3:()=>l.cc,mYg:()=>d.mY,v2K:()=>d.v2,gw0:()=>s.gw,u$R:()=>M,b2C:()=>h.b2,p4c:()=>d.p4,k6H:()=>N,Dcz:()=>d.Dc,Zn3:()=>d.Zn,FwO:()=>d.Fw,YvH:()=>d.Yv,R6T:()=>d.iX,kDE:()=>c.kD,pQ4:()=>l.pQ,EU3:()=>c.EU,VDr:()=>d.VD,h3M:()=>l.h3,Aub:()=>w,eGM:()=>l.eG,XDS:()=>c.XD,gNt:()=>R.gN,V7e:()=>c.V7,loc:()=>m,rQR:()=>d.rQ,C$T:()=>R.C$,THq:()=>o.TH,$eD:()=>f.$e,KUq:()=>d.KU,rVg:()=>f.rV,Psq:()=>T.Ps,oci:()=>P.o,W2M:()=>U,G2Z:()=>d.G2,CR5:()=>o.CR,Q5$:()=>s.Q5,lVg:()=>c.lV,M1y:()=>d.M1,qoQ:()=>R.qo,UJL:()=>d.UJ,LF0:()=>f.LF,CMu:()=>o.CM,JAk:()=>s.JA,l09:()=>R.l0,W6u:()=>d.W6,XPE:()=>l.XP,K46:()=>s.K4,GwP:()=>f.Gw,qq0:()=>c.qq,oC4:()=>c.oC,mh4:()=>d.mh,Ys9:()=>L}),i(543789);var a,r,n,o=i(928079),s=i(832176),d=i(893740),l=i(579962),c=i(438024),h=i(9163),f=i(319428),u=i(336330),b=Object.defineProperty,g=Object.getOwnPropertyDescriptor,p=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?g(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&b(t,i,n),n},y=(e,t)=>(i,a)=>t(i,a,e),m=((a=m||{}).public="public",a.private="private",a),E=class extends d.RD{get private(){return this._private}get public(){return this._public}setVar(e,t){if("string"==typeof e&&void 0!==t)return this.public.ast.set(e,t);if("object"==typeof e&&void 0===t)return this.public.ast.set("outputs",e);throw Error("Invalid arguments")}getVar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outputs";return this.public.ast.get(e)}clearVar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outputs";return this.public.ast.remove(e)}setPrivateVar(e,t){if("string"==typeof e&&void 0!==t)return this.initPrivate().ast.set(e,t);if("object"==typeof e&&void 0===t)return this.initPrivate().ast.set("outputs",e);throw Error("Invalid arguments")}getPrivateVar(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outputs";return null==(e=this.private)?void 0:e.ast.get(t)}clearPrivateVar(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outputs";return null==(e=this.private)?void 0:e.ast.remove(t)}get allScopes(){let e=[];return this._public&&e.push(this._public),this._private&&e.push(this._private),e}getDefaultData(){return{}}initPrivate(){return this._private||(this._private=this.variableEngine.createScope(`${this.entity.id}_private`,{node:this.entity,type:"private"}),this.variableEngine.chain.refreshAllChange(),this.toDispose.push(this._private)),this._private}getByKeyPath(e){return this.public.available.getByKeyPath(e)}getByKeyPathInPrivate(e){var t;return null==(t=this.private)?void 0:t.available.getByKeyPath(e)}constructor(e,t){super(e),this.opts=t;let{variableEngine:i}=t||{};this.variableEngine=i,this._public=this.variableEngine.createScope(this.entity.id,{node:this.entity,type:"public"}),this.toDispose.push(this._public)}};E.type="FlowNodeVariableData";var C=Symbol("VariableChainConfig"),S=(e,t)=>e,w=class{hasTransformer(e){return this.transformerMap.has(e)}registerTransformer(e,t){this.transformerMap.set(e,t)}transformDeps(e,t){let{scope:i}=t;return Array.from(this.transformerMap.values()).reduce((e,t)=>t.transformDeps?e=t.transformDeps(e,{scope:i,document:this.document,variableEngine:this.variableEngine}):e,e)}transformCovers(e,t){let{scope:i}=t;return Array.from(this.transformerMap.values()).reduce((e,t)=>t.transformCovers?e=t.transformCovers(e,{scope:i,document:this.document,variableEngine:this.variableEngine}):e,e)}constructor(e){var t,i;this.configs=e,this.transformerMap=new Map,((null==(t=this.configs)?void 0:t.transformDeps)||(null==(i=this.configs)?void 0:i.transformCovers))&&this.transformerMap.set("VARIABLE_LAYOUT_CONFIG",{transformDeps:this.configs.transformDeps||S,transformCovers:this.configs.transformCovers||S})}};p([(0,d.yT)(l.pQ)],w.prototype,"document",2),p([(0,d.yT)(f.i2)],w.prototype,"variableEngine",2),w=p([(0,h.b2)(),y(0,(0,h.jt)()),y(0,(0,h.f3)(C))],w);var x=class extends f.sX{static is(e){return e.id===x.ID}};x.ID=Symbol("GlobalScope"),x=p([(0,h.b2)()],x);var D=class extends f.$s{get tree(){return this.flowDocument.originTree}onInit(){this.toDispose.pushAll([this.entityManager.onEntityDataChange(e=>{let{entityDataType:t}=e;t===u.Z1.type&&this.refreshAllChange()}),this.tree.onTreeChange(()=>{this.refreshAllChange()})])}getAllInputLayerNodes(e){let t=this.getNodeParent(e),i=new Set,a=[e];for(;a.length;){var r;((null==(r=a.shift().lines)?void 0:r.inputNodes)||[]).forEach(e=>{this.getNodeParent(e)===t&&(i.has(e)||(a.push(e),i.add(e)))})}return Array.from(i).reverse()}getAllOutputLayerNodes(e){var t;let i=this.getNodeParent(e);return((null==(t=e.lines)?void 0:t.allOutputNodes)||[]).filter(e=>this.getNodeParent(e)===i)}getDeps(e){let{node:t}=e.meta||{};if(!t)return this.transformService.transformDeps([],{scope:e});let i=[],a=t;for(;a;){let t=a.getData(E);(null==t?void 0:t.private)&&e!==t.private&&i.unshift(t.private);let r=this.getAllInputLayerNodes(a);i.unshift(...r.map(e=>[e.getData(E).public,...this.getAllPublicChildScopes(e)]).flat().filter(Boolean)),a=this.getNodeParent(a)}let r=this.variableEngine.getScopeById(x.ID);r&&i.unshift(r);let n=Array.from(new Set(i));return this.transformService.transformDeps(n,{scope:e})}getCovers(e){if(x.is(e)){let t=this.variableEngine.getAllScopes({sort:!0}).filter(e=>!x.is(e));return this.transformService.transformCovers(t,{scope:e})}let{node:t}=e.meta||{};if(!t)return this.transformService.transformCovers([],{scope:e});let i="private"===e.meta.type,a=[];if(i)a.push(...this.getNodeChildren(t));else{a.push(...this.getAllOutputLayerNodes(t)||[]);let e=this.getNodeParent(t);for(;e&&!this.isNodeChildrenPrivate(e);)a.push(...this.getAllOutputLayerNodes(e)),e=this.getNodeParent(e)}let r=[];for(;a.length;){let e=a.shift(),t=e.getData(E);r.push(...t.allScopes);let i=e&&this.getNodeChildren(e);(null==i?void 0:i.length)&&a.push(...i)}let n=t.getData(E);i&&n.public&&r.push(n.public);let o=Array.from(new Set(r));return this.transformService.transformCovers(o,{scope:e})}getNodeChildren(e){var t,i,a,r;if(null==(t=this.configs)?void 0:t.getNodeChildren)return null==(a=(r=this.configs).getNodeChildren)?void 0:a.call(r,e);let n=e.getNodeMeta(),o=null==(i=n.subCanvas)?void 0:i.call(n,e);if(o)if(o.isCanvas)return[];else return o.canvasNode.collapsedChildren;return this.tree.getChildren(e)}getAllPublicChildScopes(e){return this.isNodeChildrenPrivate(e)?[]:this.getNodeChildren(e).map(e=>[e.getData(E).public,...this.getAllPublicChildScopes(e)]).flat()}getNodeParent(e){var t,i;if(null==(t=this.configs)?void 0:t.getNodeParent)return this.configs.getNodeParent(e);let a=e.document.originTree.getParent(e);for(;(null==a?void 0:a.flowNodeType)===l.Sy.GROUP;)a=a.parent;if(!a)return a;let r=a.getNodeMeta(),n=null==(i=r.subCanvas)?void 0:i.call(r,a);return(null==n?void 0:n.isCanvas)?n.parentNode:a}isNodeChildrenPrivate(e){var t,i;return(null==(t=this.configs)?void 0:t.isNodeChildrenPrivate)?!!e&&(null==(i=this.configs)?void 0:i.isNodeChildrenPrivate(e)):!(null==e?void 0:e.id.startsWith("$"))&&(null==e?void 0:e.flowNodeType)!==l.Sy.GROUP}sortAll(){return console.warn("FreeLayoutScopeChain.sortAll is not implemented"),[]}};p([(0,h.f3)(d.v2)],D.prototype,"entityManager",2),p([(0,h.f3)(l.pQ)],D.prototype,"flowDocument",2),p([(0,h.jt)(),(0,h.f3)(C)],D.prototype,"configs",2),p([(0,h.f3)(w)],D.prototype,"transformService",2),p([(0,h.zY)()],D.prototype,"onInit",1);var _=class extends f.$s{bindTree(e){this.tree=e}getDeps(e){if(!this.tree)return this.transformService.transformDeps([],{scope:e});let t=e.meta.node;if(!t)return this.transformService.transformDeps([],{scope:e});let i=[],a=t;for(;a;){let{parent:r,pre:n}=this.tree.getInfo(a),o=this.getVariableData(a);if(a===t?"public"===e.meta.type&&(null==o?void 0:o.private)&&i.unshift(o.private):this.hasChildren(a)&&!this.isNodeChildrenPrivate(a)&&i.unshift(...this.getAllSortedChildScope(a,{ignoreNodeChildrenPrivate:!0})),o&&a!==t&&i.unshift(o.public),n){a=n;continue}if(r){let e=r,t=this.tree.getPre(e);for(;e;){let a=this.getVariableData(e);if(a&&i.unshift(...a.allScopes),t)break;t=(e=this.tree.getParent(e))?this.tree.getPre(e):void 0}a=t;continue}a=void 0}let r=this.variableEngine.getScopeById(x.ID);return r&&i.unshift(r),this.transformService.transformDeps(i,{scope:e})}getCovers(e){if(!this.tree)return this.transformService.transformCovers([],{scope:e});if(x.is(e)){let t=this.variableEngine.getAllScopes({sort:!0}).filter(e=>!x.is(e));return this.transformService.transformCovers(t,{scope:e})}let t=e.meta.node;if(!t)return this.transformService.transformCovers([],{scope:e});let i=[];if("private"===e.meta.type)return i.push(...this.getAllSortedChildScope(t,{addNodePrivateScope:!0}).filter(t=>t!==e)),this.transformService.transformCovers(i,{scope:e});let a=t;for(;a;){let{next:r,parent:n}=this.tree.getInfo(a),o=this.getVariableData(a);if(a!==t&&(this.hasChildren(a)?i.push(...this.getAllSortedChildScope(a,{addNodePrivateScope:!0})):o&&i.push(...o.allScopes)),r){a=r;continue}if(n){let t=n,r=this.tree.getNext(t);for(;t;){if(this.isNodeChildrenPrivate(t))return this.transformService.transformCovers(i,{scope:e});if(r)break;r=(t=this.tree.getParent(t))?this.tree.getNext(t):void 0}if(!r&&t)break;a=r;continue}a=void 0}return this.transformService.transformCovers(i,{scope:e})}sortAll(){let e=this.flowDocument.getAllNodes().find(e=>e.isStart);if(!e)return[];let t=e.getData(E).public,i=this.getDeps(t),a=this.getCovers(t).filter(e=>!i.includes(e)&&e!==t);return[...i,t,...a]}getVariableData(e){if("virtualNode"!==e.flowNodeType&&!e.id.startsWith("$"))return e.getData(E)}isNodeChildrenPrivate(e){var t,i;return(null==(t=this.configs)?void 0:t.isNodeChildrenPrivate)?!!e&&(null==(i=this.configs)?void 0:i.isNodeChildrenPrivate(e)):!(null==e?void 0:e.id.startsWith("$"))&&this.hasChildren(e)}hasChildren(e){return!!(this.tree&&e&&this.tree.getChildren(e).length>0)}getAllSortedChildScope(e){var t;let{ignoreNodeChildrenPrivate:i,addNodePrivateScope:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=this.getVariableData(e);return n&&r.push(n.public),i&&this.isNodeChildrenPrivate(e)||(a&&(null==n?void 0:n.private)&&r.push(n.private),r.push(...((null==(t=this.tree)?void 0:t.getChildren(e))||[]).map(e=>this.getAllSortedChildScope(e,{ignoreNodeChildrenPrivate:i,addNodePrivateScope:a})).flat())),r}constructor(e,t){super(),this.flowDocument=e,this.configs=t,this.bindTree(e.originTree),this.toDispose.push(e.originTree.onTreeChange(()=>{this.refreshAllChange()}))}};function N(e){return e.getData(E).public}function M(e){return e.getData(E).initPrivate()}p([(0,h.f3)(w)],_.prototype,"transformService",2),_=p([y(0,(0,h.f3)(l.pQ)),y(1,(0,h.jt)()),y(1,(0,h.f3)(C))],_);var L=(0,d.M1)({onBind(e,t){let{bind:i}=e,{layout:a,layoutConfig:r,chainConfig:n}=t;i(w).toSelf().inSingletonScope(),"free"===a&&i(f.$s).to(D).inSingletonScope(),"fixed"===a&&i(f.$s).to(_).inSingletonScope(),n?i(C).toConstantValue(n||{}):r&&(console.warn("Layout Config deprecated, use chainConfig instead"),i(C).toConstantValue(r||{})),i(x).toDynamicValue(e=>{let t=e.container.get(f.i2),i=t.getScopeById(x.ID);return i||(i=t.createScope(x.ID,{},{ScopeConstructor:x}),t.chain.refreshAllChange()),i})},onInit(e,t){let{extendASTNodes:i}=t||{},a=e.get(f.i2),r=e.get(f.OI),n=e.get(d.v2),o=e.get(l.pQ);(i||[]).forEach(t=>{if(Array.isArray(t)){let[i,a]=t;r.registerAST(i,a?()=>a(e):void 0);return}r.registerAST(t)}),n.registerEntityData(E,()=>({variableEngine:a})),o.registerNodeDatas(E)},containerModules:[f.gJ]}),I=i(148168),T=i(57064),k=(0,d.M1)({onInit(e,t){e.get(l.pQ).registerNodeDatas(...(0,T.Co)());let i=e=>new o.wL(e);if(e.get(d.v2).registerEntityData(T.Ps,()=>({formModelFactory:i})),!t.materials)return;let a=e.get(T.Bl),r=e.get(T.yf);if(!a||!r)throw Error("NodeCorePlugin Error: nodeManager or formManager not found");!function(e){let{nodeManager:t,formManager:i,material:a}=e,{setters:r=[],decorators:n=[],effects:o=[],validators:s=[],nodeErrorRender:d,nodePlaceholderRender:l}=a;d&&(0,T.kq)(t,d),l&&(0,T.FC)(t,l),r.forEach(e=>{i.registerAbilityExtension(T.Bw.type,e)}),n.forEach(e=>{i.registerAbilityExtension(T.GH.type,e)}),o.forEach(e=>{i.registerAbilityExtension(T.ps.type,e)}),s.forEach(e=>{i.registerAbilityExtension(T.Us.type,e)})}({nodeManager:a,formManager:r,material:t.materials})},onDispose(e){var t;null==(t=e.get(T.yf))||t.dispose()},containerModules:(0,T.pm)()}),P=i(27430),O=(0,d.M1)({onInit:(e,t)=>{t.onLanguageChange&&e.playground.toDispose.push(P.o.onLanguageChange(t.onLanguageChange)),t.languages&&(Array.isArray(t.languages)?P.o.addLanguages(t.languages):P.o.addLanguages(Object.keys(t.languages).map(e=>({languageId:e,contents:t.languages[e]})))),(t.locale||t.localLanguage)&&(P.o.locale=t.locale||t.localLanguage)}});i(875787);var R=i(755395),A=Object.defineProperty,V=Object.getOwnPropertyDescriptor,B=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?V(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&A(t,i,n),n},F=class{init(){this.devTools&&(this.devTools.init(this.getState()),this.devTools.subscribe(e=>{var t;(null==e||null==(t=e.payload)?void 0:t.type)==="COMMIT"&&this.devTools.init(this.getState())}),this.onInit())}send(e,t){this.devTools&&this.devTools.send(e,t||this.getState())}constructor(){var e;this.devTools=null==(e=window.__REDUX_DEVTOOLS_EXTENSION__)?void 0:e.connect({name:this.getName()})}};B([(0,h.zY)()],F.prototype,"init",1),F=B([(0,h.b2)()],F);var $=class extends F{getName(){return"@flowgram.ai/EntityManager"}getState(){return this.entityManager.storeState({configOnly:!1})}onInit(){this.entityManager.onEntityLifeCycleChange(e=>{this.send(`${e.type}/${e.entity.type}/${e.entity.id}`)})}};B([(0,h.f3)(d.v2)],$.prototype,"entityManager",2),$=B([(0,h.b2)()],$);var z=class extends F{getName(){return"@flowgram.ai/VariableEngine"}getState(){return{scopes:this.scopes,variables:this.variableEngine.globalVariableTable.variables}}getScopeState(e){return{ast:null==e?void 0:e.ast.toJSON(),output:e.output.variables,available:e.available.variables}}onInit(){this.variableEngine.onScopeChange(e=>{let{scope:t,type:i}=e;"delete"===i?delete this.scopes[String(t.id)]:this.scopes={...this.scopes,[t.id]:this.getScopeState(t)},this.send(`${i}/${String(t.id)}`)})}constructor(){super(...arguments),this.scopes={}}};B([(0,h.f3)(f.i2)],z.prototype,"variableEngine",2),z=B([(0,h.b2)()],z);var G=(0,d.M1)({onBind(e,t){let{bind:i}=e,{enable:a}=t;a&&(i($).toSelf().inSingletonScope(),i(z).toSelf().inSingletonScope())},onInit(e,t){let{enable:i,ecs:a=!0,variable:r=!1}=t;i&&(a&&e.get($),r&&e.get(z))}}),j=i(908600),H=e=>{let{children:t}=e,i=(0,d.km)(),a=(0,j.useMemo)(()=>i.getData(E).public,[i]);return j.createElement(f.$Y,{scope:a},t)},J=e=>t=>j.createElement(H,null,j.createElement(e,{...t})),X=(0,d.M1)({onInit(e){e.get(T.Bl).registerNodeRenderHoc(J)}}),Y=e=>{let{children:t}=e,i=(0,d.km)(),a=(0,j.useMemo)(()=>{let e=i.getData(E);return e.private||e.initPrivate(),e.private},[i]);return j.createElement(f.$Y,{scope:a},t)};function U(e){let t=t=>{let i=t.getData(E);return e.private||"private"===e.scope?i.initPrivate():i.public},i=i=>{let{value:a,name:r,context:n,formValues:o,form:s}=i;if(!n)return;let{node:d}=n,l=t(d),c=e.parse(a,{node:d,scope:l,options:e,name:r,formValues:o,form:s});l.ast.set(e.namespace||r||"",{kind:f.Hx.VariableDeclarationList,declarations:Array.isArray(c)?c:[c]})};return[{event:o.zE.onValueInit,effect:a=>{var r;let{context:n}=a,o=t(n.node),s=null==(r=e.onInit)?void 0:r.call(e,{node:n.node,scope:o,options:e,name:a.name,formValues:a.formValues,form:a.form});return i(a),()=>{null==s||s.dispose()}}},{event:o.zE.onValueChange,effect:e=>{i(e)}}]}(0,o.CR)({name:"VariableProviderPlugin",onInit:(e,t)=>{},onSetupFormMeta(e){let{mergeEffect:t}=e;t({arr:[{event:o.zE.onValueInitOrChange,effect:()=>{}}]})},onDispose:(e,t)=>{}});var W=(0,d.M1)({onInit(e,t){let i=e.get(c.Rf);i.registerReactComponent(c.kD.NODE_RENDER,t.renderDefaultNode||(()=>null)),t.renderTexts&&i.registerText(t.renderTexts),t.components&&Object.keys(t.components).forEach(e=>i.registerReactComponent(e,t.components[e])),t.renderNodes&&Object.keys(t.renderNodes).forEach(e=>i.registerReactComponent(e,t.renderNodes[e]))}}),K=i(66298),Z=i(969134),Q=Object.defineProperty,q=Object.getOwnPropertyDescriptor;function ee(e){var t;if(!e)return;let i=null==e||null==(t=e.getData(T.Ps))?void 0:t.getFormModel();if(i&&(0,o.TH)(i))return i}var et=[{type:"changeFormValues",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:(e,t)=>{let{value:{value:i,path:a,id:r}}=e,n=ee(t.get(l.pQ).getNode(r));n&&(a?n.setValueIn(a,i):n.updateFormValues(i))},shouldMerge:function(e,t,i){if(!t)return!1;if(Date.now()-i.getTimestamp()<500){var a,r,n,o,s,d;return e.type!==t.type||(null==(a=e.value)?void 0:a.id)!==(null==(r=t.value)?void 0:r.id)||(null==(n=e.value)?void 0:n.path)!==(null==(o=t.value)?void 0:o.path)||{type:e.type,value:{...e.value,value:null==(s=e.value)?void 0:s.value,oldValue:null==(d=t.value)?void 0:d.oldValue}}}return!1}}],ei=class{registerOperationMeta(e){et.forEach(t=>{e.registerOperationMeta(t)})}};ei=((e,t,i,a)=>{for(var r,n=a>1?void 0:a?q(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&Q(t,i,n),n})([(0,h.b2)()],ei);var ea=(0,d.M1)({onBind:e=>{let{bind:t}=e;(0,d.KV)(t,ei,[K.FU])},onInit:(e,t)=>{let i=e.get(l.pQ),a=e.get(K.qp);i.onNodeCreate(e=>{let{node:t}=e,i=ee(t);i&&i.onFormValuesChange(e=>{a.pushOperation({type:"changeFormValues",value:{id:t.id,path:e.name,value:e.name?(0,Z.Z)(e.values,e.name):e.values,oldValue:e.name?(0,Z.Z)(e.prevValues,e.name):e.prevValues}},{noApply:!0})})})},containerModules:[K.Xn]}),er=i(309844),en=Object.defineProperty,eo=Object.getOwnPropertyDescriptor,es=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?eo(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&en(t,i,n),n};(r||(r={})).DEFAULT={background:{}};var ed="flowide-highlight",el=`
@keyframes flowide-fade {
  from {
   opacity: 1.0;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes flowide-fade {
  from {
   opacity: 1.0;
  }
  to {
    opacity: 0;
  }
}
.${ed} {
  background-color: rgba(238, 245, 40, 0.5);
  animation: flowide-fade 2s 1 forwards;
  -webkit-animation: flowide-fade 2s 1 forwards;
}
`,ec=class{highlightNodeFormItem(e,t){this.previousOverlay=function(e,t){let i=e.formModel.flowNodeEntity.getData(l.Lz).node,a=e.domRef.current;if(!a)return;let r=document.createElement("div"),{padding:n=0,overlayClassName:o}=t||{};r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.zIndex="9999",i.appendChild(r);let s=i.getBoundingClientRect(),d=a.getBoundingClientRect();return r.style.top=d.top-s.top-n+"px",r.style.left=d.left-s.left-n+"px",r.style.width=d.width+2*n+"px",r.style.height=d.height+2*n+"px",r.className=o||ed,setTimeout(()=>{r.remove()},2e3),r}(e,t)}focusNodeFormItem(e,t){let i=e.formModel.flowNodeEntity,{canvas:a={},highlight:r}=t||{};this.previousOverlay&&(this.previousOverlay.remove(),this.previousOverlay=void 0);let n=this.playground.scrollToView({entities:[i],scrollToCenter:!0,...a}).then(()=>{e&&r&&this.currentPromise===n&&this.highlightNodeFormItem(e,"boolean"==typeof r?{}:r)});return this.currentPromise=n,this.currentPromise}};es([(0,h.f3)(d.XQ)],ec.prototype,"playground",2),ec=es([(0,h.b2)()],ec);var eh=class{};es([(0,h.f3)(ec)],eh.prototype,"nodeFocusService",2),eh=es([(0,h.b2)()],eh);var ef=(0,d.M1)({onInit(){n||((n=document.createElement("style")).innerHTML=el,document.head.appendChild(n))},onDispose(){null==n||n.remove(),n=void 0}}),eu=(0,d.M1)({onBind(e){let{bind:t}=e;t(ec).toSelf().inSingletonScope(),t(eh).toSelf().inSingletonScope()}}),eb=class{focusNodeFormItem(e,t){this.nodeClient.nodeFocusService.focusNodeFormItem(e,t)}focusNode(e,t){this.playground.scrollToView({entities:[e],...t})}};es([(0,h.f3)(eh)],eb.prototype,"nodeClient",2),es([(0,h.f3)(d.XQ)],eb.prototype,"playground",2),eb=es([(0,h.b2)()],eb);var eg=(0,d.M1)({onBind(e){let{bind:t}=e;t(eb).toSelf().inSingletonScope()}});function ep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i=>{var a,n,s,h;(e={...r.DEFAULT,...e}).i18n&&t.push(O(e.i18n)),t.push(ef({}),eu({}),eg({})),(null==(a=e.reduxDevTool)?void 0:a.enable)&&t.push(G(e.reduxDevTool));let f=[l.d1,c.qf];return t.push(W(e.materials||{})),e.nodeEngine&&!1!==e.nodeEngine.enable&&(t.push(k({materials:e.nodeEngine.materials})),(null==(n=e.variableEngine)?void 0:n.enable)&&t.push(X({})),(null==(s=e.history)?void 0:s.enable)&&(null==(h=e.history)?void 0:h.enableChangeNode)!==!1&&t.push(ea({}))),t.push((0,d.d3)({onInit:t=>{e.nodeRegistries&&t.document.registerFlowNodes(...e.nodeRegistries),e.constants&&(t.document.options.constants=e.constants),e.getNodeDefaultRegistry&&(t.document.options.getNodeDefaultRegistry=e.getNodeDefaultRegistry),t.document.options.preNodeCreate=t=>{if(e.nodeEngine&&!1!==e.nodeEngine.enable){let e;Object.defineProperty(t,"form",{get:()=>e||(e=(0,o.CM)(t))})}if(e.variableEngine&&!1!==e.variableEngine.enable){let e,i;Object.defineProperty(t,"scope",{get:()=>e||(e=N(t))}),Object.defineProperty(t,"privateScope",{get:()=>i||(i=M(t))})}},t.get(c.Rf).init()},onReady(t){e.initialData&&t.document.fromJSON(e.initialData),e.readonly&&(t.playground.config.readonly=e.readonly),t.document.load().then(()=>{e.onLoad&&e.onLoad(t)})},onDispose(e){e.document.dispose()},containerModules:f})),t}}},640898:function(e,t,i){i.d(t,{f3M:()=>n.f3M,b2C:()=>n.b2C,qRT:()=>n.qRT,fin:()=>n.fin,iwM:()=>o.iw,bQo:()=>tf,dmf:()=>o.dm,Jbc:()=>eq.Jb,R6T:()=>n.R6T,xFV:()=>n.xFV,p4c:()=>n.p4c,kmj:()=>n.kmj,Dcz:()=>n.Dcz,sXE:()=>td,erw:()=>tv,JAk:()=>n.JAk,VDr:()=>n.VDr,PFB:()=>o.PF,eGM:()=>n.eGM,L4w:()=>o.L4,qoQ:()=>n.qoQ,gNt:()=>n.gNt,zEJ:()=>n.zEJ,C$T:()=>n.C$T,rQR:()=>n.rQR,e2M:()=>o.e2,VOn:()=>n.VOn,Psq:()=>n.Psq,oci:()=>n.oci,G2Z:()=>n.G2Z,IxS:()=>tg,Q5$:()=>n.Q5$,M1y:()=>n.M1y,EhS:()=>tb,qpv:()=>d.qp,SyX:()=>n.SyX,HoL:()=>n.HoL,Nj8:()=>d.Nj,SPu:()=>o.SP,UJL:()=>n.UJL,ERL:()=>n.ERL,z2R:()=>n.z2R,l09:()=>n.l09,CTO:()=>o.CT,oJU:()=>o.oJ,n2P:()=>o.n2,x0q:()=>o.x0,sX$:()=>tm,PVB:()=>o.PV,XQj:()=>n.XQj,AeJ:()=>n.AeJ,F26:()=>n.F26,v2K:()=>n.v2K,mh4:()=>n.mh4,XHk:()=>o.XH,gw0:()=>n.gw0}),i(543789);var a,r,n=i(950454),o=i(336330),s=i(908600),d=i(201063),l=i(9163),c=i(66298),h=i(308387),f=i(893740),u=i(832176),b=i(579962),g=Object.defineProperty,p=Object.getOwnPropertyDescriptor,y=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?p(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&g(t,i,n),n},m=class{dequeue(){let e=this._sentinel,t=e._prev;if(t!==e)return E(t),t}enqueue(e){let t=this._sentinel;e._prev&&e._next&&E(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){let e=[],t=this._sentinel,i=t._prev;for(;i!==t;)e.push(JSON.stringify(i,C)),i=i._prev;return"["+e.join(", ")+"]"}constructor(){let e={};e._next=e._prev=e,this._sentinel=e}};function E(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function C(e,t){if("_next"!==e&&"_prev"!==e)return t}var S=()=>1;function w(e,t,i,a,r){let n=r?[]:void 0;return e.inEdges(a.v).forEach(a=>{let o=e.edge(a),s=e.node(a.v);r&&n.push({v:a.v,w:a.w}),s.out-=o,x(t,i,s)}),e.outEdges(a.v).forEach(a=>{let r=e.edge(a),n=a.w,o=e.node(n);o.in-=r,x(t,i,o)}),e.removeNode(a.v),n}function x(e,t,i){i.out?i.in?e[i.out-i.in+t].enqueue(i):e[e.length-1].enqueue(i):e[0].enqueue(i)}var D={addBorderNode:function(e,t,i,a){let r={width:0,height:0};return arguments.length>=4&&(r.rank=i,r.order=a),_(e,"border",r,t)},addDummyNode:_,applyWithChunking:I,asNonCompoundGraph:function(e){let t=new h.Graph({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(i=>{e.children(i).length||t.setNode(i,e.node(i))}),e.edges().forEach(i=>{t.setEdge(i,e.edge(i))}),t},buildLayerMatrix:function(e){let t=O(T(e)+1).map(()=>[]);return e.nodes().forEach(i=>{let a=e.node(i),r=a.rank;void 0!==r&&(t[r][a.order]=i)}),t},intersectRect:function(e,t){let i,a,r=e.x,n=e.y,o=t.x-r,s=t.y-n,d=e.width/2,l=e.height/2;if(!o&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*d>Math.abs(o)*l?(s<0&&(l=-l),i=l*o/s,a=l):(o<0&&(d=-d),i=d,a=d*s/o),{x:r+i,y:n+a}},mapValues:function(e,t){let i=t;return"string"==typeof t&&(i=e=>e[t]),Object.entries(e).reduce((e,t)=>{let[a,r]=t;return e[a]=i(r,a),e},{})},maxRank:T,normalizeRanks:M,notime:function(e,t){return t()},partition:function(e,t){let i={lhs:[],rhs:[]};return e.forEach(e=>{t(e)?i.lhs.push(e):i.rhs.push(e)}),i},pick:function(e,t){let i={};for(let a of t)void 0!==e[a]&&(i[a]=e[a]);return i},predecessorWeights:function(e){let t=e.nodes().map(t=>{let i={};return e.inEdges(t).forEach(t=>{i[t.v]=(i[t.v]||0)+e.edge(t).weight}),i});return R(e.nodes(),t)},range:O,removeEmptyRanks:L,simplify:N,successorWeights:function(e){let t=e.nodes().map(t=>{let i={};return e.outEdges(t).forEach(t=>{i[t.w]=(i[t.w]||0)+e.edge(t).weight}),i});return R(e.nodes(),t)},time:function(e,t){let i=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-i)+"ms")}},uniqueId:P,zipObject:R};function _(e,t,i,a){let r;do r=P(a);while(e.hasNode(r));return i.dummy=t,e.setNode(r,i),r}function N(e){let t=new h.Graph().setGraph(e.graph());return e.nodes().forEach(i=>t.setNode(i,e.node(i))),e.edges().forEach(i=>{let a=t.edge(i.v,i.w)||{weight:0,minlen:1},r=e.edge(i);t.setEdge(i.v,i.w,{weight:a.weight+r.weight,minlen:Math.max(a.minlen,r.minlen)})}),t}function M(e){let t=I(Math.min,e.nodes().map(t=>{let i=e.node(t).rank;return void 0===i?Number.MAX_VALUE:i}));e.nodes().forEach(i=>{let a=e.node(i);Object.hasOwn(a,"rank")&&(a.rank-=t)})}function L(e){let t=I(Math.min,e.nodes().map(t=>e.node(t).rank)),i=[];e.nodes().forEach(a=>{let r=e.node(a).rank-t;i[r]||(i[r]=[]),i[r].push(a)});let a=0,r=e.graph().nodeRankFactor;Array.from(i).forEach((t,i)=>{void 0===t&&i%r!=0?--a:void 0!==t&&a&&t.forEach(t=>e.node(t).rank+=a)})}function I(e,t){if(!(t.length>65535))return e.apply(null,t);{let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:65535,i=[];for(let a=0;a<e.length;a+=t){let r=e.slice(a,a+t);i.push(r)}return i}(t);return e.apply(null,i.map(t=>e.apply(null,t)))}}function T(e){return I(Math.max,e.nodes().map(t=>{let i=e.node(t).rank;return void 0===i?5e-324:i}))}var k=0;function P(e){var t=++k;return toString(e)+t}function O(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null==t&&(t=e,e=0);let a=e=>e<t;i<0&&(a=e=>t<e);let r=[];for(let t=e;a(t);t+=i)r.push(t);return r}function R(e,t){return e.reduce((e,i,a)=>(e[i]=t[a],e),{})}function A(e){var t={};e.sources().forEach(function i(a){var r=e.node(a);if(Object.hasOwn(t,a))return r.rank;t[a]=!0;var n=I(Math.min,e.outEdges(a).map(t=>null==t?1/0:i(t.w)-e.edge(t).minlen));return n===1/0&&(n=0),r.rank=n})}function V(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function B(e){var t,i,a,r,n=new h.Graph({directed:!1}),o=e.nodes()[0],s=e.nodeCount();for(n.setNode(o,{});t=n,i=e,t.nodes().forEach(function e(a){i.nodeEdges(a).forEach(r=>{var n=r.v,o=a===n?r.w:n;t.hasNode(o)||V(i,r)||(t.setNode(o,{}),t.setEdge(a,o,{}),e(o))})}),t.nodeCount()<s;)a=function(e,t){return t.edges().reduce((i,a)=>{let r=1/0;return(e.hasNode(a.v)!==e.hasNode(a.w)&&(r=V(t,a)),r<i[0])?[r,a]:i},[1/0,null])[1]}(n,e),r=n.hasNode(a.v)?V(e,a):-V(e,a),function(e,t,i){e.nodes().forEach(e=>t.node(e).rank+=i)}(n,e,r);return n}var{preorder:F,postorder:$}=h.alg;function z(e){A(e=N(e));var t,i,a=B(e);for(H(a),G(a,e);t=J(a);)i=X(a,e,t),Y(a,e,t,i)}function G(e,t){var i=$(e,e.nodes());(i=i.slice(0,i.length-1)).forEach(i=>{var a,r,n,o;return a=e,r=t,n=i,o=a.node(n).parent,void(a.edge(n,o).cutvalue=j(a,r,n))})}function j(e,t,i){var a=e.node(i).parent,r=!0,n=t.edge(i,a),o=0;return n||(r=!1,n=t.edge(a,i)),o=n.weight,t.nodeEdges(i).forEach(n=>{var s=n.v===i,d=s?n.w:n.v;if(d!==a){var l,c,h,f=s===r,u=t.edge(n).weight;if(o+=f?u:-u,l=e,c=i,h=d,l.hasEdge(c,h)){var b=e.edge(i,d).cutvalue;o+=f?-b:b}}}),o}function H(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,i,a,r,n){var o=a,s=t.node(r);return i[r]=!0,t.neighbors(r).forEach(n=>{Object.hasOwn(i,n)||(a=e(t,i,a,n,r))}),s.low=o,s.lim=a++,n?s.parent=n:delete s.parent,a}(e,{},1,t)}function J(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function X(e,t,i){var a=i.v,r=i.w;t.hasEdge(a,r)||(a=i.w,r=i.v);var n=e.node(a),o=e.node(r),s=n,d=!1;return n.lim>o.lim&&(s=o,d=!0),t.edges().filter(t=>d===U(e,e.node(t.v),s)&&d!==U(e,e.node(t.w),s)).reduce((e,i)=>V(t,i)<V(t,e)?i:e)}function Y(e,t,i,a){var r,n,o,s,d=i.v,l=i.w;e.removeEdge(d,l),e.setEdge(a.v,a.w,{}),H(e),G(e,t),r=e,n=t,o=r.nodes().find(e=>!n.node(e).parent),(s=(s=F(r,o)).slice(1)).forEach(e=>{var t=r.node(e).parent,i=n.edge(e,t),a=!1;i||(i=n.edge(t,e),a=!0),n.node(e).rank=n.node(t).rank+(a?i.minlen:-i.minlen)})}function U(e,t,i){return i.low<=t.lim&&t.lim<=i.lim}z.initLowLimValues=H,z.initCutValues=G,z.calcCutValue=j,z.leaveEdge=J,z.enterEdge=X,z.exchangeEdges=Y;var W=A;function K(e,t,i,a,r,n){let o=r[t][n-1],s=D.addDummyNode(e,"border",{width:0,height:0,rank:n,borderType:t},i);r[t][n]=s,e.setParent(s,a),o&&e.setEdge(o,s,{weight:1})}function Z(e){e.nodes().forEach(t=>Q(e.node(t))),e.edges().forEach(t=>Q(e.edge(t)))}function Q(e){let t=e.width;e.width=e.height,e.height=t}function q(e){e.y=-e.y}function ee(e){let t=e.x;e.x=e.y,e.y=t}var et=function(e,t){let i=0;for(let a=1;a<t.length;++a)i+=function(e,t,i){let a=R(i,i.map((e,t)=>t)),r=t.flatMap(t=>e.outEdges(t).map(t=>({pos:a[t.w],weight:e.edge(t).weight})).sort((e,t)=>e.pos-t.pos)),n=1;for(;n<i.length;)n<<=1;let o=2*n-1;n-=1;let s=Array(o).fill(0),d=0;return r.forEach(e=>{let t=e.pos+n;s[t]+=e.weight;let i=0;for(;t>0;)t%2&&(i+=s[t+1]),t=t-1>>1,s[t]+=e.weight;d+=e.weight*i}),d}(e,t[a-1],t[a]);return i};function ei(e,t,i){let a;for(;t.length&&(a=t[t.length-1]).i<=i;)t.pop(),e.push(a.vs),i++;return i}function ea(e,t,i){return t.map(function(t){var a,r,n;let o,s;return a=e,r=t,n=i,o=function(e){for(var t;e.hasNode(t=D.uniqueId("_root")););return t}(a),s=new h.Graph({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(e=>a.node(e)),a.nodes().forEach(e=>{let t=a.node(e),i=a.parent(e);(t.rank===r||t.minRank<=r&&r<=t.maxRank)&&(s.setNode(e),s.setParent(e,i||o),a[n](e).forEach(t=>{let i=t.v===e?t.w:t.v,r=s.edge(i,e),n=void 0!==r?r.weight:0;s.setEdge(i,e,{weight:a.edge(t).weight+n})}),Object.hasOwn(t,"minRank")&&s.setNode(e,{borderLeft:t.borderLeft[r],borderRight:t.borderRight[r]}))}),s})}function er(e,t){Object.values(t).forEach(t=>t.forEach((t,i)=>e.node(t).order=i))}function en(e,t,i){if(t>i){let e=t;t=i,i=e}let a=e[t];a||(e[t]=a={}),a[i]=!0}var eo=["nodesep","edgesep","ranksep","marginx","marginy"],es={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ed=["acyclicer","ranker","rankdir","align"],el=["width","height"],ec={width:0,height:0},eh=["minlen","weight","width","height","labeloffset"],ef={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},eu=["labelpos"];function eb(e,t){return D.mapValues(D.pick(e,t),Number)}function eg(e){var t={};return e&&Object.entries(e).forEach(e=>{let[i,a]=e;"string"==typeof i&&(i=i.toLowerCase()),t[i]=a}),t}var ep=function(e){let t=new h.Graph({multigraph:!0,compound:!0}),i=eg(e.graph());return t.setGraph(Object.assign({},es,eb(i,eo),D.pick(i,ed))),e.nodes().forEach(i=>{let a=eb(eg(e.node(i)),el);Object.keys(ec).forEach(e=>{void 0===a[e]&&(a[e]=ec[e])}),t.setNode(i,a),t.setParent(i,e.parent(i))}),e.edges().forEach(i=>{let a=eg(e.edge(i));t.setEdge(i,Object.assign({},ef,eb(a,eh),D.pick(a,eu)))}),t},ey=function(e,t){e.nodes().forEach(i=>{let a=e.node(i),r=t.node(i);a&&(a.x=r.x,a.y=r.y,a.rank=r.rank,t.children(i).length&&(a.width=r.width,a.height=r.height))}),e.edges().forEach(i=>{let a=e.edge(i),r=t.edge(i);a.points=r.points,Object.hasOwn(r,"x")&&(a.x=r.x,a.y=r.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height},em=function(e){let t=e.graph();t.ranksep/=2,e.edges().forEach(i=>{let a=e.edge(i);a.minlen*=2,"c"!==a.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?a.width+=a.labeloffset:a.height+=a.labeloffset)})},ev=function(e){e.edges().forEach(t=>{if(t.v===t.w){var i=e.node(t.v);i.selfEdges||(i.selfEdges=[]),i.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})},eE=function(e){var t,i;let a,r,n;("greedy"===e.graph().acyclicer?function(e,t){var i,a;let r,n,o,s,d;if(1>=e.nodeCount())return[];let l=(i=e,a=t||S,r=new h.Graph,n=0,o=0,i.nodes().forEach(e=>{r.setNode(e,{v:e,in:0,out:0})}),i.edges().forEach(e=>{let t=r.edge(e.v,e.w)||0,i=a(e);r.setEdge(e.v,e.w,t+i),o=Math.max(o,r.node(e.v).out+=i),n=Math.max(n,r.node(e.w).in+=i)}),s=(function(e){let t=[];for(let i=0;i<e;i++)t.push(i);return t})(o+n+3).map(()=>new m),d=n+1,r.nodes().forEach(e=>{x(s,d,r.node(e))}),{graph:r,buckets:s,zeroIdx:d});return(function(e,t,i){let a,r=[],n=t[t.length-1],o=t[0];for(;e.nodeCount();){for(;a=o.dequeue();)w(e,t,i,a);for(;a=n.dequeue();)w(e,t,i,a);if(e.nodeCount()){for(let n=t.length-2;n>0;--n)if(a=t[n].dequeue()){r=r.concat(w(e,t,i,a,!0));break}}}return r})(l.graph,l.buckets,l.zeroIdx).flatMap(t=>e.outEdges(t.v,t.w))}(e,(t=e,e=>t.edge(e).weight)):(a=[],r={},n={},(i=e).nodes().forEach(function e(t){Object.hasOwn(n,t)||(n[t]=!0,r[t]=!0,i.outEdges(t).forEach(t=>{Object.hasOwn(r,t.w)?a.push(t):e(t.w)}),delete r[t])}),a)).forEach(t=>{let i=e.edge(t);e.removeEdge(t),i.forwardName=t.name,i.reversed=!0,e.setEdge(t.w,t.v,i,P("rev"))})},eC=function(e){e.edges().forEach(t=>{let i=e.edge(t);if(i.reversed){e.removeEdge(t);let a=i.forwardName;delete i.reversed,delete i.forwardName,e.setEdge(t.w,t.v,i,a)}})},eS=function(e){var t,i,a;let r=D.addDummyNode(e,"root",{},"_root"),n=(i={},(t=e).children().forEach(e=>(function e(a,r){var n=t.children(a);n&&n.length&&n.forEach(t=>e(t,r+1)),i[a]=r})(e,1)),i),o=Object.values(n),s=D.applyWithChunking(Math.max,o)-1,d=2*s+1;e.graph().nestingRoot=r,e.edges().forEach(t=>e.edge(t).minlen*=d);let l=(a=e).edges().reduce((e,t)=>e+a.edge(t).weight,0)+1;e.children().forEach(t=>(function e(t,i,a,r,n,o,s){let d=t.children(s);if(!d.length){s!==i&&t.setEdge(i,s,{weight:0,minlen:a});return}let l=D.addBorderNode(t,"_bt"),c=D.addBorderNode(t,"_bb"),h=t.node(s);t.setParent(l,s),h.borderTop=l,t.setParent(c,s),h.borderBottom=c,d.forEach(d=>{e(t,i,a,r,n,o,d);let h=t.node(d),f=h.borderTop?h.borderTop:d,u=h.borderBottom?h.borderBottom:d,b=h.borderTop?r:2*r,g=f!==u?1:n-o[s]+1;t.setEdge(l,f,{weight:b,minlen:g,nestingEdge:!0}),t.setEdge(u,c,{weight:b,minlen:g,nestingEdge:!0})}),t.parent(s)||t.setEdge(i,l,{weight:0,minlen:n+o[s]})})(e,r,d,l,s,n,t)),e.graph().nodeRankFactor=d},ew=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(t=>{e.edge(t).nestingEdge&&e.removeEdge(t)})},ex=function(e){switch(e.graph().ranker){case"network-simplex":default:z(e);break;case"tight-tree":var t;A(t=e),B(t);break;case"longest-path":W(e)}},eD=function(e){e.edges().forEach(t=>{let i=e.edge(t);if(i.width&&i.height){let i=e.node(t.v),a={rank:(e.node(t.w).rank-i.rank)/2+i.rank,e:t};D.addDummyNode(e,"edge-proxy",a,"_ep")}})},e_=function(e){let t=0;e.nodes().forEach(i=>{let a=e.node(i);a.borderTop&&(a.minRank=e.node(a.borderTop).rank,a.maxRank=e.node(a.borderBottom).rank,t=Math.max(t,a.maxRank))}),e.graph().maxRank=t},eN=function(e){e.nodes().forEach(t=>{let i=e.node(t);"edge-proxy"===i.dummy&&(e.edge(i.e).labelRank=i.rank,e.removeNode(t))})},eM=function(e){e.graph().dummyChains=[],e.edges().forEach(t=>(function(e,t){let i,a,r,n=t.v,o=e.node(n).rank,s=t.w,d=e.node(s).rank,l=t.name,c=e.edge(t),h=c.labelRank;if(d!==o+1){for(e.removeEdge(t),r=0,++o;o<d;++r,++o)c.points=[],a={width:0,height:0,edgeLabel:c,edgeObj:t,rank:o},i=D.addDummyNode(e,"edge",a,"_d"),o===h&&(a.width=c.width,a.height=c.height,a.dummy="edge-label",a.labelpos=c.labelpos),e.setEdge(n,i,{weight:c.weight},l),0===r&&e.graph().dummyChains.push(i),n=i;e.setEdge(n,s,{weight:c.weight},l)}})(e,t))},eL=function(e){e.graph().dummyChains.forEach(t=>{let i,a=e.node(t),r=a.edgeLabel;for(e.setEdge(a.edgeObj,r);a.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:a.x,y:a.y}),"edge-label"===a.dummy&&(r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height),t=i,a=e.node(t)})},eI=function(e){var t;let i,a,r=(i={},a=0,(t=e).children().forEach(function e(r){let n=a;t.children(r).forEach(e),i[r]={low:n,lim:a++}}),i);e.graph().dummyChains.forEach(t=>{let i=e.node(t),a=i.edgeObj,n=function(e,t,i,a){let r,n,o=[],s=[],d=Math.min(t[i].low,t[a].low),l=Math.max(t[i].lim,t[a].lim);r=i;do o.push(r=e.parent(r));while(r&&(t[r].low>d||l>t[r].lim));for(n=r,r=a;(r=e.parent(r))!==n;)s.push(r);return{path:o.concat(s.reverse()),lca:n}}(e,r,a.v,a.w),o=n.path,s=n.lca,d=0,l=o[0],c=!0;for(;t!==a.w;){if(i=e.node(t),c){for(;(l=o[d])!==s&&e.node(l).maxRank<i.rank;)d++;l===s&&(c=!1)}if(!c){for(;d<o.length-1&&e.node(l=o[d+1]).minRank<=i.rank;)d++;l=o[d]}e.setParent(t,l),t=e.successors(t)[0]}})},eT=function(e){e.children().forEach(function t(i){let a=e.children(i),r=e.node(i);if(a.length&&a.forEach(t),Object.hasOwn(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(let t=r.minRank,a=r.maxRank+1;t<a;++t)K(e,"borderLeft","_bl",i,r,t),K(e,"borderRight","_br",i,r,t)}})},ek=function e(t,i){var a;let r,n,o,s,d;if(i&&"function"==typeof i.customOrder)return void i.customOrder(t,e);let l=D.maxRank(t),c=ea(t,D.range(1,l+1),"inEdges"),f=ea(t,D.range(l-1,-1,-1),"outEdges"),u=(r={},o=(n=(a=t).nodes().filter(e=>!a.children(e).length)).map(e=>a.node(e).rank),s=D.applyWithChunking(Math.max,o),d=D.range(s+1).map(()=>[]),n.sort((e,t)=>a.node(e).rank-a.node(t).rank).forEach(function e(t){r[t]||(r[t]=!0,d[a.node(t).rank].push(t),a.successors(t).forEach(e))}),d);if(er(t,u),i&&i.disableOptimalOrderHeuristic)return;let b=1/0,g;for(let e=0,i=0;i<4;++e,++i){(function(e,t){let i=new h.Graph;e.forEach(function(e){let a=e.graph().root,r=function e(t,i,a,r){let n=t.children(i),o=t.node(i),s=o?o.borderLeft:void 0,d=o?o.borderRight:void 0,l={};s&&(n=n.filter(e=>e!==s&&e!==d));let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(t=>{let i=e.inEdges(t);if(!i.length)return{v:t};{let a=i.reduce((t,i)=>{let a=e.edge(i),r=e.node(i.v);return{sum:t.sum+a.weight*r.order,weight:t.weight+a.weight}},{sum:0,weight:0});return{v:t,barycenter:a.sum/a.weight,weight:a.weight}}})}(t,n);c.forEach(i=>{if(t.children(i.v).length){var n,o;let s=e(t,i.v,a,r);l[i.v]=s,Object.hasOwn(s,"barycenter")&&(n=i,o=s,void 0!==n.barycenter?(n.barycenter=(n.barycenter*n.weight+o.barycenter*o.weight)/(n.weight+o.weight),n.weight+=o.weight):(n.barycenter=o.barycenter,n.weight=o.weight))}});let h=function(e,t){let i={};return e.forEach((e,t)=>{let a=i[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};void 0!==e.barycenter&&(a.barycenter=e.barycenter,a.weight=e.weight)}),t.edges().forEach(e=>{let t=i[e.v],a=i[e.w];void 0!==t&&void 0!==a&&(a.indegree++,t.out.push(i[e.w]))}),function(e){let t=[];for(;e.length;){let i=e.pop();t.push(i),i.in.reverse().forEach(function(e){return t=>{!t.merged&&(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&function(e,t){let i=0,a=0;e.weight&&(i+=e.barycenter*e.weight,a+=e.weight),t.weight&&(i+=t.barycenter*t.weight,a+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=i/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(i)),i.out.forEach(function(t){return i=>{i.in.push(t),0==--i.indegree&&e.push(i)}}(i))}return t.filter(e=>!e.merged).map(e=>D.pick(e,["vs","i","barycenter","weight"]))}(Object.values(i).filter(e=>!e.indegree))}(c,a);!function(e,t){e.forEach(e=>{e.vs=e.vs.flatMap(e=>t[e]?t[e].vs:e)})}(h,l);let f=function(e,t){let i=D.partition(e,e=>Object.hasOwn(e,"barycenter")),a=i.lhs,r=i.rhs.sort((e,t)=>t.i-e.i),n=[],o=0,s=0,d=0;a.sort(function(e){return(t,i)=>t.barycenter<i.barycenter?-1:t.barycenter>i.barycenter?1:e?i.i-t.i:t.i-i.i}(!!t)),d=ei(n,r,d),a.forEach(e=>{d+=e.vs.length,n.push(e.vs),o+=e.barycenter*e.weight,s+=e.weight,d=ei(n,r,d)});let l={vs:n.flat(!0)};return s&&(l.barycenter=o/s,l.weight=s),l}(h,r);if(s&&(f.vs=[s,f.vs,d].flat(!0),t.predecessors(s).length)){let e=t.node(t.predecessors(s)[0]),i=t.node(t.predecessors(d)[0]);Object.hasOwn(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+e.order+i.order)/(f.weight+2),f.weight+=2}return f}(e,a,i,t);r.vs.forEach((t,i)=>e.node(t).order=i),function(e,t,i){let a={},r;i.forEach(i=>{let n=e.parent(i),o,s;for(;n;){if((o=e.parent(n))?(s=a[o],a[o]=n):(s=r,r=n),s&&s!==n)return void t.setEdge(s,n);n=o}})}(e,i,r.vs)})})(e%2?c:f,e%4>=2),u=D.buildLayerMatrix(t);let a=et(t,u);a<b&&(i=0,g=Object.assign({},u),b=a)}er(t,g)},eP=function(e){D.buildLayerMatrix(e).forEach(t=>{var i=0;t.forEach((t,a)=>{var r=e.node(t);r.order=a+i,(r.selfEdges||[]).forEach(t=>{D.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:r.rank,order:a+ ++i,e:t.e,label:t.label},"_se")}),delete r.selfEdges})})},eO=function(e){let t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&Z(e)},eR=function(e){var t,i;let a=e.graph().rankdir.toLowerCase();("bt"===a||"rl"===a)&&((t=e).nodes().forEach(e=>q(t.node(e))),t.edges().forEach(e=>{let i=t.edge(e);i.points.forEach(q),Object.hasOwn(i,"y")&&q(i)})),("lr"===a||"rl"===a)&&((i=e).nodes().forEach(e=>ee(i.node(e))),i.edges().forEach(e=>{let t=i.edge(e);t.points.forEach(ee),Object.hasOwn(t,"x")&&ee(t)}),Z(e))},eA=function(e){var t,i,a;let r,n,o,s,d,l,c,f,u,b,g,p;a=e=D.asNonCompoundGraph(e),b=D.buildLayerMatrix(a),g=a.graph().ranksep,p=0,b.forEach(e=>{let t=e.reduce((e,t)=>{let i=a.node(t).height;return e>i?e:i},0);e.forEach(e=>a.node(e).y=p+t/2),p+=t+g}),Object.entries((t=e,n=D.buildLayerMatrix(t),s=Object.assign((o={},n.length&&n.reduce(function(e,i){let a=0,r=0,n=e.length,s=i[i.length-1];return i.forEach((e,d)=>{let l=function(e,t){if(e.node(t).dummy)return e.predecessors(t).find(t=>e.node(t).dummy)}(t,e),c=l?t.node(l).order:n;(l||e===s)&&(i.slice(r,d+1).forEach(e=>{t.predecessors(e).forEach(i=>{let r=t.node(i),n=r.order;(n<a||c<n)&&!(r.dummy&&t.node(e).dummy)&&en(o,i,e)})}),r=d+1,a=c)}),i}),o),function(e,t){let i={};function a(t,a,r,n,o){let s;D.range(a,r).forEach(a=>{s=t[a],e.node(s).dummy&&e.predecessors(s).forEach(t=>{let a=e.node(t);a.dummy&&(a.order<n||a.order>o)&&en(i,t,s)})})}return t.length&&t.reduce(function(t,i){let r=-1,n,o=0;return i.forEach((s,d)=>{if("border"===e.node(s).dummy){let t=e.predecessors(s);t.length&&(n=e.node(t[0]).order,a(i,o,d,r,n),o=d,r=n)}a(i,o,i.length,n,t.length)}),i}),i}(t,n)),d={},["u","d"].forEach(e=>{r="u"===e?n:Object.values(n).reverse(),["l","r"].forEach(i=>{var a;let n,o,l;"r"===i&&(r=r.map(e=>Object.values(e).reverse()));let c=("u"===e?t.predecessors:t.successors).bind(t),f=(n={},o={},l={},(a=r).forEach(e=>{e.forEach((e,t)=>{n[e]=e,o[e]=e,l[e]=t})}),a.forEach(e=>{let t=-1;e.forEach(e=>{let i=c(e);if(i.length){let a=((i=i.sort((e,t)=>l[e]-l[t])).length-1)/2;for(let r=Math.floor(a),d=Math.ceil(a);r<=d;++r){let a=i[r];o[e]===e&&t<l[a]&&!function(e,t,i){if(t>i){let e=t;t=i,i=e}return!!e[t]&&Object.hasOwn(e[t],i)}(s,e,a)&&(o[a]=e,o[e]=n[e]=n[a],t=l[a])}}})}),{root:n,align:o}),u=function(e,t,i,a,r){var n,o,s,d,l,c,f;let u,b,g,p={},y=(n=e,o=t,s=i,d=r,u=new h.Graph,g=(l=(b=n.graph()).nodesep,c=b.edgesep,f=d,(e,t,i)=>{let a,r,n=e.node(t),o=e.node(i);if(a=0+n.width/2,Object.hasOwn(n,"labelpos"))switch(n.labelpos.toLowerCase()){case"l":r=-n.width/2;break;case"r":r=n.width/2}if(r&&(a+=f?r:-r),r=0,a+=(n.dummy?c:l)/2,a+=(o.dummy?c:l)/2,a+=o.width/2,Object.hasOwn(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":r=o.width/2;break;case"r":r=-o.width/2}return r&&(a+=f?r:-r),r=0,a}),o.forEach(e=>{let t;e.forEach(e=>{let i=s[e];if(u.setNode(i),t){var a=s[t],r=u.edge(a,i);u.setEdge(a,i,Math.max(g(n,e,t),r||0))}t=e})}),u),m=r?"borderLeft":"borderRight";function E(e,t){let i=y.nodes(),a=i.pop(),r={};for(;a;)r[a]?e(a):(r[a]=!0,i.push(a),i=i.concat(t(a))),a=i.pop()}return E(function(e){p[e]=y.inEdges(e).reduce((e,t)=>Math.max(e,p[t.v]+y.edge(t)),0)},y.predecessors.bind(y)),E(function(t){let i=y.outEdges(t).reduce((e,t)=>Math.min(e,p[t.w]-y.edge(t)),1/0),a=e.node(t);i!==1/0&&a.borderType!==m&&(p[t]=Math.max(p[t],i))},y.successors.bind(y)),Object.keys(a).forEach(e=>p[e]=p[i[e]]),p}(t,r,f.root,f.align,"r"===i);"r"===i&&(u=D.mapValues(u,e=>-e)),d[e+i]=u})}),l=Object.values(d).reduce((e,i)=>{let a=-1/0,r=1/0;Object.entries(i).forEach(e=>{var i,n;let[o,s]=e,d=(i=t,n=o,i.node(n).width/2);a=Math.max(s+d,a),r=Math.min(s-d,r)});let n=a-r;return n<e[0]&&(e=[n,i]),e},[1/0,null])[1],c=Object.values(l),f=D.applyWithChunking(Math.min,c),u=D.applyWithChunking(Math.max,c),["u","d"].forEach(e=>{["l","r"].forEach(t=>{let i=e+t,a=d[i];if(a===l)return;let r=Object.values(a),n=f-D.applyWithChunking(Math.min,r);"l"!==t&&(n=u-D.applyWithChunking(Math.max,r)),n&&(d[i]=D.mapValues(a,e=>e+n))})}),i=t.graph().align,D.mapValues(d.ul,(e,t)=>{if(i)return d[i.toLowerCase()][t];{let e=Object.values(d).map(e=>e[t]).sort((e,t)=>e-t);return(e[1]+e[2])/2}}))).forEach(t=>{let[i,a]=t;return e.node(i).x=a})},eV=function(e){e.nodes().forEach(t=>{var i=e.node(t);if("selfedge"===i.dummy){var a=e.node(i.e.v),r=a.x+a.width/2,n=a.y,o=i.x-r,s=a.height/2;e.setEdge(i.e,i.label),e.removeNode(t),i.label.points=[{x:r+2*o/3,y:n-s},{x:r+5*o/6,y:n-s},{x:r+o,y:n},{x:r+5*o/6,y:n+s},{x:r+2*o/3,y:n+s}],i.label.x=i.x,i.label.y=i.y}})},eB=function(e){e.nodes().forEach(t=>{if(e.children(t).length){let i=e.node(t),a=e.node(i.borderTop),r=e.node(i.borderBottom),n=e.node(i.borderLeft[i.borderLeft.length-1]),o=e.node(i.borderRight[i.borderRight.length-1]);i.width=Math.abs(o.x-n.x),i.height=Math.abs(r.y-a.y),i.x=n.x+i.width/2,i.y=a.y+i.height/2}}),e.nodes().forEach(t=>{"border"===e.node(t).dummy&&e.removeNode(t)})},eF=function(e){e.edges().forEach(t=>{let i=e.edge(t);if(Object.hasOwn(i,"x"))switch(("l"===i.labelpos||"r"===i.labelpos)&&(i.width-=i.labeloffset),i.labelpos){case"l":i.x-=i.width/2+i.labeloffset;break;case"r":i.x+=i.width/2+i.labeloffset}})},e$=function(e){let t=1/0,i=0,a=1/0,r=0,n=e.graph(),o=n.marginx||0,s=n.marginy||0;function d(e){let n=e.x,o=e.y,s=e.width,d=e.height;t=Math.min(t,n-s/2),i=Math.max(i,n+s/2),a=Math.min(a,o-d/2),r=Math.max(r,o+d/2)}e.nodes().forEach(t=>d(e.node(t))),e.edges().forEach(t=>{let i=e.edge(t);Object.hasOwn(i,"x")&&d(i)}),t-=o,a-=s,e.nodes().forEach(i=>{let r=e.node(i);r.x-=t,r.y-=a}),e.edges().forEach(i=>{let r=e.edge(i);r.points.forEach(e=>{e.x-=t,e.y-=a}),Object.hasOwn(r,"x")&&(r.x-=t),Object.hasOwn(r,"y")&&(r.y-=a)}),n.width=i-t+o,n.height=r-a+s},ez=function(e){e.edges().forEach(t=>{let i,a,r=e.edge(t),n=e.node(t.v),o=e.node(t.w);r.points?(i=r.points[0],a=r.points[r.points.length-1]):(r.points=[],i=o,a=n),r.points.unshift(D.intersectRect(n,i)),r.points.push(D.intersectRect(o,a))})},eG=function(e){e.edges().forEach(t=>{let i=e.edge(t);i.reversed&&i.points.reverse()})},ej={rankdir:"LR",align:void 0,nodesep:100,edgesep:10,ranksep:100,marginx:0,marginy:0,acyclicer:void 0,ranker:"network-simplex"},eH={filterNode:void 0,getFollowNode:void 0,disableFitView:!1,enableAnimation:!1,animationDuration:300},eJ=class{get initialized(){return this.init}getNode(e){if(e)return this.store.nodes.get(e)}getNodeByIndex(e){let t=this.indexMap.get(e);return t?this.getNode(t):void 0}getEdge(e){return this.store.edges.get(e)}get nodes(){return Array.from(this.store.nodes.values())}get edges(){return Array.from(this.store.edges.values())}create(e,t){this.container=e.container,this.store=this.createStore(e),this.indexMap=this.createIndexMap(),this.setOptions(t),this.init=!0}createStore(e){let{layoutNodes:t,layoutEdges:i}=e,a=this.createVirtualEdges(e),r={nodes:new Map,edges:new Map};return t.forEach(e=>r.nodes.set(e.id,e)),i.concat(a).forEach(e=>r.edges.set(e.id,e)),r}createVirtualEdges(e){let{layoutNodes:t,layoutEdges:i}=e,a=t.map(e=>e.entity),r=i.map(e=>e.entity);return a.filter(e=>e.flowNodeType===b.Sy.GROUP).map(e=>{let{id:t,blocks:i=[]}=e,a=new Set(i.map(e=>e.id));return[...r.filter(e=>{var t;return a.has((null==(t=e.to)?void 0:t.id)??"")}).map(e=>{let{from:i,to:a}=e.info;if(!i||!a||e.vertical)return;let r=`virtual_${t}_${a}`;return{id:r,entity:e,from:i,to:t,fromIndex:"",toIndex:"",name:r}}).filter(Boolean),...r.filter(e=>{var t;return a.has((null==(t=e.from)?void 0:t.id)??"")}).map(e=>{let{from:i,to:a}=e.info;if(!i||!a||e.vertical)return;let r=`virtual_${t}_${i}`;return{id:r,entity:e,from:t,to:a,fromIndex:"",toIndex:"",name:r}}).filter(Boolean)]}).flat()}createIndexMap(){let e=this.sortNodes(),t=new Map;e.forEach((e,i)=>{let a=this.getNode(e);if(!a)return;let r=String(1e5+i);t.set(a.id,r),a.index=r}),this.edges.forEach(e=>{let i=t.get(e.from),a=t.get(e.to);if(!i||!a)return void this.store.edges.delete(e.id);e.fromIndex=i,e.toIndex=a});let i=new Map;return t.forEach((e,t)=>{i.set(e,t)}),i}sortNodes(){let e=[];this.nodes.forEach(t=>{e.push(t.id)}),this.edges.forEach(t=>{e.push(t.to)});let t=new Set,i=a=>{if(!a||t.has(a.id))return;t.add(a.id),e.push(a.id),a.blocks.forEach(e=>{i(e)});let{outputLines:r}=a.lines;r.sort((e,t)=>{var i,a;let r=this.getNode(null==(i=e.to)?void 0:i.id),n=this.getNode(null==(a=t.to)?void 0:a.id),o=e.fromPort,s=t.fromPort;return o===s&&r&&n?r.position.y-n.position.y:o&&s?o.point.y-s.point.y:0}).forEach(e=>{let{to:t}=e;t&&i(t)})};return i(this.container.entity),e.reduceRight((e,t)=>(e.includes(t)||e.unshift(t),e),[])}setOptions(e){this.options=e,this.setFollowNode(e.getFollowNode)}setFollowNode(e){if(!e)return;let t={store:this};this.nodes.forEach(i=>{var a;let r=null==(a=e(i,t))?void 0:a.followTo;if(!r)return;let n=this.getNode(r);n&&(n.followedBy||(n.followedBy=[]),n.followedBy.push(i.id),i.followTo=r)})}constructor(e){this.config=e,this.init=!1}},eX=class{async position(){return this.store.options.enableAnimation?this.positionWithAnimation():this.positionDirectly()}positionDirectly(){this.store.nodes.forEach(e=>{this.updateNodePosition({layoutNode:e,step:100})})}async positionWithAnimation(){return new Promise(e=>{(0,f.p4)({from:{d:0},to:{d:100},duration:this.store.options.animationDuration??0,onUpdate:e=>{this.store.nodes.forEach(t=>{this.updateNodePosition({layoutNode:t,step:e.d})})},onComplete:()=>{e()}})})}updateNodePosition(e){let{layoutNode:t,step:i}=e,{transform:a}=t.entity.transform,r={x:t.position.x+t.offset.x,y:t.position.y-t.size.height/2+t.offset.y},n=(r.x-a.position.x)*i/100,o=(r.y-a.position.y)*i/100,s={x:a.position.x+n,y:a.position.y+o};a.update({position:s}),t.entity.document.layout.updateAffectedTransform(t.entity)}constructor(e){this.store=e}},eY=class{layout(){this.graphSetData(),this.dagreLayout(),this.layoutSetPosition()}dagreLayout(){let e=ep(this.graph);this.runLayout(e),ey(this.graph,e)}runLayout(e){em(e),ev(e),eE(e),eS(e),ex(D.asNonCompoundGraph(e)),eD(e),L(e),ew(e),M(e),e_(e),eN(e),eM(e),eI(e),eT(e),ek(e),this.setOrderAndRank(e),eP(e),eO(e),eA(e),eV(e),eB(e),eL(e),eF(e),eR(e),e$(e),ez(e),eG(e),eC(e)}createGraph(){let e=new h.Graph({multigraph:!0});return e.setDefaultEdgeLabel(()=>({})),e.setGraph(this.store.config),e}graphSetData(){let{nodes:e,edges:t}=this.store;e.forEach(e=>{this.graph.setNode(e.index,{originID:e.id,width:e.size.width,height:e.size.height})}),t.sort((e,t)=>e.fromIndex===t.fromIndex?e.toIndex<t.toIndex?-1:1:e.fromIndex<t.fromIndex?-1:1).forEach(e=>{this.graph.setEdge({v:e.fromIndex,w:e.toIndex,name:e.name})})}layoutSetPosition(){this.store.nodes.forEach(e=>{let t=this.getOffsetX(e),i=this.graph.node(e.index);if(!i){e.rank=-1,e.position={x:e.position.x+t,y:e.position.y};return}e.rank=i.rank??-1,e.position={x:this.normalizeNumber(i.x)+t,y:this.normalizeNumber(i.y)}})}normalizeNumber(e){return Number.isNaN(e)?0:e}getOffsetX(e){if(0===e.layoutNodes.length)return 0;let{padding:t}=e;return-e.size.width/2+t.left}setOrderAndRank(e){return this.followAdjust(e),this.normalizeOrder(e),e}followAdjust(e){let t=this.rankGroup(e);e.nodes().forEach(i=>{let a=e.node(i),r=this.store.getNodeByIndex(i);if(!a||!(null==r?void 0:r.followedBy))return;let{followedBy:n}=r,{rank:o,order:s}=a,d=n.map(e=>{var t;return null==(t=this.store.getNode(e))?void 0:t.index}).filter(Boolean),l=new Set(d),c=t.get(o);c&&(Array.from(c).filter(t=>!l.has(t)&&e.node(t).order>s).forEach(t=>{let i=e.node(t);i.order=i.order+n.length}),d.forEach((i,a)=>{var r,n;let d=e.node(i);d.order=s+a+1;let l=d.rank;d.rank=o,null==(r=t.get(l))||r.delete(i),null==(n=t.get(o))||n.add(i)}))})}normalizeOrder(e){this.rankGroup(e).forEach((t,i)=>{let a=Array.from(t).map(t=>e.node(t));a.sort((e,t)=>e.order-t.order),a.forEach((e,t)=>{e.order=t})})}rankGroup(e){let t=new Map;return e.nodes().forEach(i=>{var a;let r=e.node(i).rank;t.has(r)||t.set(r,new Set),null==(a=t.get(r))||a.add(i)}),t}constructor(e){this.store=e,this.graph=this.createGraph()}},eU=class{init(e,t){this._store.create(e,t)}layout(){this._store.initialized&&this._layout.layout()}async position(){if(this._store.initialized)return await this._position.position()}constructor(e){this._store=new eJ(e),this._layout=new eY(this._store),this._position=new eX(this._store)}},eW=class{init(e){this.layoutConfig={...this.layoutConfig,...e.layoutConfig}}async layout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={...eH,...e},i=t.containerNode??this.document.root,a=this.createLayoutNode(i,e),r=await this.layoutNode(a,t),n=this.getLayoutNodeRect(a),o=r.map(e=>e.position()),s=this.fitView(t,n);await Promise.all([...o,s])}async fitView(e,t){if(!0!==e.disableFitView)return this.playground.config.fitView(t,e.enableAnimation,30)}async layoutNode(e,t){let{layoutNodes:i,layoutEdges:a}=e;if(0===i.length)return[];let r=(await Promise.all(i.map(e=>this.layoutNode(e,t)))).flat(),n=new eU({...this.layoutConfig,...t.layoutConfig});n.init({container:e,layoutNodes:i,layoutEdges:a},t),n.layout();let o=this.getLayoutNodeRect(e);return e.size={width:o.width,height:o.height},[...r,n]}createLayoutNodes(e,t){return e.map(e=>this.createLayoutNode(e,t))}createLayoutNode(e,t){let i=e.blocks.filter(i=>{var a;return!t.filterNode||(null==(a=t.filterNode)?void 0:a.call(t,{node:i,parent:e.parent}))}),a=this.getNodesAllLines(i),r=this.createLayoutNodes(i,t),n=this.createLayoutEdges(a),{bounds:o,padding:s}=e.transform,{width:d,height:l,center:c}=o,{x:h,y:f}=c;return{id:e.id,entity:e,index:"",rank:-1,order:-1,position:{x:h,y:f},offset:{x:0,y:0},padding:s,size:{width:d,height:l},layoutNodes:r,layoutEdges:n}}createLayoutEdges(e){return e.map(e=>this.createLayoutEdge(e)).filter(Boolean)}createLayoutEdge(e){let{from:t,to:i}=e.info;if(t&&i&&!e.vertical)return{id:e.id,entity:e,from:t,to:i,fromIndex:"",toIndex:"",name:e.id}}getNodesAllLines(e){return e.map(e=>{let t=e.getData(o.Z1);return[...t.outputLines.filter(Boolean),...t.inputLines.filter(Boolean)]}).flat()}getLayoutNodeRect(e){let t=e.layoutNodes.map(e=>this.layoutNodeRect(e)),i=u.Ae.enlarge(t),{padding:a}=e,r=i.width+a.left+a.right,n=i.height+a.top+a.bottom,o=i.x-a.left,s=i.y-a.top;return new u.Ae(o,s,r,n)}layoutNodeRect(e){let{width:t,height:i}=e.size,a=e.position.x-t/2,r=e.position.y-i/2;return new u.Ae(a,r,t,i)}constructor(){this.layoutConfig=ej}};y([(0,l.f3)(f.XQ)],eW.prototype,"playground",2),y([(0,l.f3)(o.L4)],eW.prototype,"document",2),eW=y([(0,l.b2)()],eW);var eK=(0,f.M1)({onBind:e=>{let{bind:t}=e;t(eW).toSelf().inSingletonScope()},onInit:(e,t)=>{e.get(eW).init(t)},singleton:!0}),eZ=i(324067),eQ=i(854343),eq=i(697495),e0=i(438024),e1=Object.defineProperty,e2=Object.getOwnPropertyDescriptor,e3=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?e2(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&e1(t,i,n),n};(a||(a={})).DEFAULT={canHovered:()=>!0};var e4=class extends f.mh{autorun(){let{activatedNode:e}=this.selectionService;this.nodeTransformsWithSort=this.nodeTransforms.filter(e=>"root"!==e.entity.id&&e.entity.flowNodeType!==b.Sy.GROUP).reverse().sort(t=>t.entity===e?-1:0)}get isDrawing(){return this.linesManager.isDrawing}onReady(){this.options={...a.DEFAULT,...this.options},this.toDispose.pushAll([this.hoverService.onUpdateHoverPosition(e=>{let{position:t,target:i}=e,a=this.config.getPosFromMouseEvent({clientX:t.x,clientY:t.y});this.updateHoveredState(a,i)}),this.listenPlaygroundEvent("mousemove",e=>{if(this.hoverService.hoveredPos=this.config.getPosFromMouseEvent(e),!this.isEnabled()||!this.options.canHovered(e,this.hoverService))return;let t=this.config.getPosFromMouseEvent(e);this.updateHoveredState(t,null==e?void 0:e.target)}),this.selectionService.onSelectionChanged(()=>this.autorun()),this.listenPlaygroundEvent("touchstart",e=>{if(this.isEnabled()&&!this.isDrawing)return this.handleDragLine(e)}),this.listenPlaygroundEvent("mousedown",e=>{if(!this.isEnabled()||this.isDrawing)return;let{hoveredNode:t}=this.hoverService;if(this.handleDragLine(e))return!0;let i=this.config.getPosFromMouseEvent(e),a=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=e.filter(e=>e instanceof o.CT);return i.length>+!!t?u.Ae.enlarge(i.map(e=>e.getData(b.eG).bounds)).pad(2):u.Ae.EMPTY}(this.selectionService.selection,!0);if(a.width>0&&a.contains(i.x,i.y)){var r;return null==(r=this.dragService.startDragSelectedNodes(e))||r.then(i=>{i||(t&&t instanceof o.CT?e.shiftKey?this.selectionService.toggleSelect(t):this.selectionService.selectNode(t):this.selectionService.clear())}),!0}t||this.selectionService.clear()})])}updateHoveredState(e,t){var i,a,r;let{hoverService:n}=this,o=this.nodeTransformsWithSort,s=this.linesManager.getPortFromMousePos(e,"output"),d=this.linesManager.getPortFromMousePos(e,"input"),l=s||d,c=[...this.playgroundNode.querySelectorAll(".gedit-flow-activity-line")].some(e=>e.contains(t));if(l){if(this.document.options.twoWayConnection)n.updateHoveredKey(l.id);else if("output"===l.portType)n.updateHoveredKey(l.id);else if(c||(null==t||null==(r=t.className)||null==(a=r.includes)?void 0:a.call(r,"workflow-port-bg"))){let t=this.linesManager.getCloseInLineFromMousePos(e);t&&this.updateHoveredKey(t.id)}return}if(this.isDrawing)return;let h=null==(i=o.find(t=>t.bounds.contains(e.x,e.y)))?void 0:i.entity,u=[...this.playgroundNode.querySelectorAll(".gedit-flow-activity-node")].some(e=>e.contains(t));(h||u)&&(null==h?void 0:h.id)&&this.updateHoveredKey(h.id);let b=c?this.linesManager.getCloseInLineFromMousePos(e):void 0;return h&&b?h.renderData.stackIndex>b.stackIndex?this.updateHoveredKey(h.id):this.updateHoveredKey(b.id):h?this.updateHoveredKey(h.id):b?this.updateHoveredKey(b.id):void(n.clearHovered(),this.editorStateConfig.getCurrentState()===f.yy.STATE_MOUSE_FRIENDLY_SELECT&&!this.editorStateConfig.isPressingShift&&this.configEntity.updateCursor("grab"))}updateHoveredKey(e){this.configEntity.updateCursor("default"),this.hoverService.updateHoveredKey(e)}isEnabled(){let e=this.editorStateConfig.getCurrentState();return(e===f.yy.STATE_SELECT||e===f.yy.STATE_MOUSE_FRIENDLY_SELECT)&&!this.selectorBoxConfigEntity.isStart&&!this.dragService.isDragging}handleDragLine(e){let{someHovered:t}=this.hoverService;return t&&t instanceof o.e2?(this.dragService.resetLine(t,e),!0):t&&t instanceof o.FD&&!t.disabled&&1!==e.button?(e.stopPropagation(),e.preventDefault(),this.dragService.startDrawingLine(t,e),!0):void 0}constructor(){super(...arguments),this.nodeTransformsWithSort=[]}};e4.type="HoverLayer",e3([(0,l.f3)(o.L4)],e4.prototype,"document",2),e3([(0,l.f3)(o.oJ)],e4.prototype,"selectionService",2),e3([(0,l.f3)(o.iw)],e4.prototype,"dragService",2),e3([(0,l.f3)(o.XH)],e4.prototype,"hoverService",2),e3([(0,l.f3)(o.dm)],e4.prototype,"linesManager",2),e3([(0,f.O0)(f.Zs)],e4.prototype,"editorStateConfig",2),e3([(0,f.O0)(e0.NQ)],e4.prototype,"selectorBoxConfigEntity",2),e3([(0,l.f3)(f.ER)],e4.prototype,"configEntity",2),e3([(0,f.aI)(o.CT,b.eG)],e4.prototype,"nodeTransforms",2),e3([(0,f.RX)(o.e2)],e4.prototype,"lines",2),e4=e3([(0,l.b2)()],e4);var e8=(0,f.M1)({onInit(e){e.playground.registerLayer(e4)}}),e9=i(65881),e5=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,e7=Object.getOwnPropertyNames,te=Object.prototype.hasOwnProperty,tt=(e,t)=>{for(var i in t)e5(e,i,{get:t[i],enumerable:!0})},ti=(e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of e7(t))te.call(e,r)||r===i||e5(e,r,{get:()=>t[r],enumerable:!(a=e6(t,r))||a.enumerable});return e},ta=(e,t,i)=>(ti(e,t,"default"),i&&ti(i,t,"default")),tr=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?e6(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&e5(t,i,n),n},tn={};tt(tn,{FreeLayoutEditor:()=>tp,FreeLayoutEditorProvider:()=>tb,FreeLayoutPluginContext:()=>tf,FreeLayoutProps:()=>r,WorkflowAutoLayoutTool:()=>td,WorkflowNodeRenderer:()=>tg,WorkflowPortRender:()=>eq.Jb,createFreeLayoutPreset:()=>tu,useAutoLayout:()=>ty,useClientContext:()=>tm,usePlaygroundTools:()=>tv});var to={};tt(to,{FreeLayoutEditor:()=>tp,FreeLayoutEditorProvider:()=>tb,WorkflowNodeRenderer:()=>tg,WorkflowPortRender:()=>eq.Jb});var ts=Symbol("WorkflowOperationService"),td=class{async handle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.playground.config.readonly?()=>{}:await this.autoLayout(e)}async autoLayout(e){let t=this.document.getAllNodes(),i=t.map(this.getNodePosition);await this.autoLayoutService.layout(e);let a=t.map(this.getNodePosition);return this.updateHistory({nodes:t,startPositions:i,endPositions:a}),this.createResetFn({nodes:t,startPositions:i})}getNodePosition(e){let t=e.getData(n.VOn);return{x:t.position.x,y:t.position.y}}createResetFn(e){let{nodes:t,startPositions:i}=e;return()=>{t.forEach((e,t)=>{let a=e.getData(n.VOn),r=i[t];a.update({position:r})})}}updateHistory(e){var t;let{nodes:i,startPositions:a,endPositions:r}=e,n=i.map(e=>e.id);null==(t=this.historyService)||t.pushOperation({type:d.Nj.dragNodes,value:{ids:n,value:r,oldValue:a}},{noApply:!0})}};tr([(0,l.f3)(o.L4)],td.prototype,"document",2),tr([(0,l.f3)(n.XQj)],td.prototype,"playground",2),tr([(0,l.f3)(eW)],td.prototype,"autoLayoutService",2),tr([(0,l.f3)(c.qp),(0,l.jt)()],td.prototype,"historyService",2),td=tr([(0,l.b2)()],td);var tl=class extends o.sJ{startTransaction(){}endTransaction(){}};tl=tr([(0,l.b2)()],tl);var tc=class extends tl{startTransaction(){this.historyService.startTransaction()}endTransaction(){this.historyService.endTransaction()}fromJSON(e){this.startTransaction();try{super.fromJSON(e)}catch(e){console.log("fromJSON error",e)}this.endTransaction()}};tr([(0,l.f3)(c.qp)],tc.prototype,"historyService",2),tc=tr([(0,l.b2)()],tc);var th=(0,n.M1y)({onBind:(e,t)=>{var i;let{bind:a}=e;a(ts).to((null==t||null==(i=t.history)?void 0:i.enable)?tc:tl).inSingletonScope()},onDispose:e=>{e.container.get(ts).dispose()}}),tf=n.Zn3;(r||(r={})).DEFAULT={...n.nYJ.DEFAULT};function tu(e){return t=>{var i,a;e={...r.DEFAULT,...e,playground:{...e.playground,get hoverService(){return t.get(o.XH)}}};let s=[];return s.push((0,n.cL)({registerShortcuts(i){var a;let r=t.get(n.z2R);if(i.addHandlers({commandId:o.uB.DELETE_NODES,shortcuts:["backspace","delete"],isEnabled:()=>r.selection.length>0&&!t.playground.config.readonlyOrDisabled,execute:()=>{r.selection.forEach(e=>{if(e instanceof o.CT){var i;if(!t.document.canRemove(e))return;let a=e.getNodeMeta(),r=null==(i=a.subCanvas)?void 0:i.call(a,e);if(null==r?void 0:r.isCanvas)return void r.parentNode.dispose();e.dispose()}else if(e instanceof o.e2){if(!t.document.linesManager.canRemove(e))return;e.dispose()}}),r.selection=r.selection.filter(e=>!e.disposed)}}),null==e||null==(a=e.history)?void 0:a.enable){let a=t.get(d.qp);e.history.disableShortcuts||(i.addHandlers({commandId:n.mYg.Default.UNDO,shortcuts:["meta z","ctrl z"],isEnabled:()=>!0,execute:()=>{a.undo()}}),i.addHandlers({commandId:n.mYg.Default.REDO,shortcuts:["meta shift z","ctrl shift z"],isEnabled:()=>!0,execute:()=>{a.redo()}}))}}})),s=(0,n.Fu1)(e,s)(t),(null==(i=e.variableEngine)?void 0:i.enable)&&s.push((0,n.Ys9)({...e.variableEngine,layout:"free"})),(null==(a=e.history)?void 0:a.enable)&&s.push((0,d.ou)(e.history)),s.push((0,n.d3V)({onBind:i=>{var a,r,s,d,l,c,h,f,u,b,g,p,y,m,E;i.bind(td).toSelf().inSingletonScope(),i.rebind(o.fY).toConstantValue({canAddLine:null==(a=e.canAddLine)?void 0:a.bind(null,t),canDeleteLine:null==(r=e.canDeleteLine)?void 0:r.bind(null,t),isErrorLine:null==(s=e.isErrorLine)?void 0:s.bind(null,t),isErrorPort:null==(d=e.isErrorPort)?void 0:d.bind(null,t),isDisabledPort:null==(l=e.isDisabledPort)?void 0:l.bind(null,t),isReverseLine:null==(c=e.isReverseLine)?void 0:c.bind(null,t),isHideArrowLine:null==(h=e.isHideArrowLine)?void 0:h.bind(null,t),isFlowingLine:null==(f=e.isFlowingLine)?void 0:f.bind(null,t),isDisabledLine:null==(u=e.isDisabledLine)?void 0:u.bind(null,t),onDragLineEnd:null==(b=e.onDragLineEnd)?void 0:b.bind(null,t),setLineRenderType:null==(g=e.setLineRenderType)?void 0:g.bind(null,t),setLineClassName:null==(p=e.setLineClassName)?void 0:p.bind(null,t),canDeleteNode:null==(y=e.canDeleteNode)?void 0:y.bind(null,t),canResetLine:null==(m=e.canResetLine)?void 0:m.bind(null,t),canDropToNode:null==(E=e.canDropToNode)?void 0:E.bind(null,t),cursors:e.cursors??o.jg.cursors,lineColor:e.lineColor??o.jg.lineColor,allNodesDefaultExpanded:e.allNodesDefaultExpanded,twoWayConnection:e.twoWayConnection??!0,toNodeJSON:t=>(function(e,t){let i,a=t.getData(n.Psq),r=t.transform.position;if(i=a?o.jg.toNodeJSON(t):{id:t.id,type:t.flowNodeType,meta:{position:{x:r.x,y:r.y}},data:t.getExtInfo()},t.flowNodeType===n.SyX.GROUP){var s;let e=(null==(s=t.parent)?void 0:s.id)??n.SyX.ROOT,a=t.blocks.map(e=>e.id)??[];i.data={...i.data,parentID:e,blockIDs:a}}return e.toNodeJSON?e.toNodeJSON(t,i):i})(e,t),fromNodeJSON:(t,i,a)=>(function(e,t,i,a){if(i=e.fromNodeJSON?e.fromNodeJSON(t,i,a):i,!t.getData(n.Psq)){i.data&&t.updateExtInfo(i.data,!0),a&&t.onExtInfoChange(()=>{t.document.fireContentChange({type:o.fT.NODE_DATA_CHANGE,toJSON:()=>t.getExtInfo(),entity:t})});return}return o.jg.fromNodeJSON(t,i,a)})(e,t,i,a)})},onInit:t=>{var i,a,r;t.playground.registerLayer(n.Emw),t.playground.registerLayer(n.V7e,{renderElement:()=>(e=>{let t=e.get(eQ.StackingContextManager);if(t.node)return t.node})(t)}),(null==(i=e.scroll)?void 0:i.enableScrollLimit)&&t.playground.registerLayer(n.qq0),(null==(a=e.scroll)?void 0:a.disableScrollBar)||t.playground.registerLayer(n.lVg),(null==(r=e.scroll)?void 0:r.disableScroll)&&(t.playground.config.scrollDisable=!0),e.onContentChange&&t.document.onContentChange(i=>e.onContentChange(t,i))},containerModules:[o._s]}),th(e),(0,eQ.createFreeStackPlugin)({}),(0,eq.J2)({}),e8({}),eK({}),(0,eZ.Y)({canSelect:e=>{if(0!==e.button)return!1;let i=e.target;if(i){if(i.classList.contains("gedit-flow-background-layer")||i.closest('[data-flow-editor-selectable="true"]'))return!0;if(i.closest('[data-flow-editor-selectable="false"]'))return!1}return!t.get(o.XH).isSomeHovered()},ignoreOneSelect:!0,ignoreChildrenLength:!0,...e.selectBox||{}})),(0,n.esp)(e,s)(t)}}var tb=(0,s.forwardRef)(function(e,t){let{children:i,...a}=e,r=(0,s.useMemo)(()=>tu(a),[]),l=(0,s.useCallback)(e=>({...(0,n.FwO)(e),get document(){return e.get(o.L4)},get clipboard(){return e.get(n.YvH)},get selection(){return e.get(n.z2R)},get history(){return e.get(d.qp)},get operation(){return e.get(ts)},get tools(){let t=e.get(td);return{autoLayout:t.handle.bind(t),fitView:t=>(0,o.Qu)(e.get(o.L4),e.get(n.XQj).config,t)}}}),[]);return s.createElement(n.W6u,{ref:t,plugins:r,customPluginContext:l},i)}),tg=e=>{let{selected:t,activated:i,startDrag:a,ports:r,selectNode:n,nodeRef:d,onFocus:l,onBlur:c}=(0,o.PV)(),h=(0,e9.Z)(e.className||"",{activated:i,selected:t});return s.createElement(s.Fragment,null,s.createElement("div",{className:h,style:e.style,ref:d,draggable:!0,onDragStart:a,onClick:n,onFocus:l,onBlur:c,"data-node-selected":String(t)},e.children),r.map(t=>s.createElement(eq.Jb,{key:t.id,entity:t,onClick:e.onPortClick?i=>e.onPortClick(t,i):void 0,className:e.portClassName,style:e.portStyle,primaryColor:e.portPrimaryColor,secondaryColor:e.portSecondaryColor,errorColor:e.portErrorColor,backgroundColor:e.portBackgroundColor})))},tp=(0,s.forwardRef)(function(e,t){let{children:i,...a}=e;return s.createElement(tb,{ref:t,...a},s.createElement(n.R6T,null,i))});ta(to,eQ),ta(tn,to);var ty=()=>{let e=(0,o.G2)(td);return e.handle.bind(e)};function tm(){return(0,n.G2Z)(n.Zn3)}function tv(e){let{maxZoom:t,minZoom:i}=e||{},a=(0,o.Dc)(),r=(0,o.G2)(o.L4),[d,l]=(0,s.useState)(1),[c,h]=(0,s.useState)(r.linesManager.lineType),[f,u]=(0,s.useState)(o.YC.SELECT),[b,g]=(0,s.useState)(o.v6.PAD),p=(0,s.useCallback)(e=>{null==a||a.config.zoomout(e)},[d,a]),y=(0,s.useCallback)(e=>{null==a||a.config.zoomin(e)},[d,a]),m=(0,s.useCallback)(e=>{let t=r.linesManager.switchLineType(e);return h(t),t},[r]),E=(0,s.useCallback)(e=>{(0,o.Qu)(r,a.config,e)},[r,a]),C=ty();return(0,s.useEffect)(()=>{let e=null;return a&&(e=a.onZoom(e=>l(e))),()=>{e&&e.dispose()}},[a]),(0,s.useEffect)(()=>{let e=a.editorState.onStateChange(e=>{u(e.state===n.yyW.STATE_GRAB||e.state===n.yyW.STATE_MOUSE_FRIENDLY_SELECT?o.YC.GRAB:o.YC.SELECT),g(e.state===n.yyW.STATE_MOUSE_FRIENDLY_SELECT?o.v6.MOUSE:o.v6.PAD)});return()=>{e.dispose()}},[a]),(0,s.useEffect)(()=>{let e=a.config.config;a.config.updateConfig({maxZoom:void 0!==t?t:e.maxZoom,minZoom:void 0!==i?i:e.minZoom})},[a,t,i]),{zoomin:y,zoomout:p,fitView:E,autoLayout:C,switchLineType:m,zoom:d,lineType:c,cursorState:f,setCursorState:function(e){let t;void 0!==(t="function"==typeof e?e({isPressingSpaceBar:a.editorState.isPressingSpaceBar,cursorState:f}):e)&&(t===o.YC.GRAB?(a.editorState.changeState(n.yyW.STATE_GRAB.id),u(t)):(t=o.YC.SELECT)&&(a.editorState.changeState(n.yyW.STATE_SELECT.id),u(t)))},interactiveType:b,setInteractiveType:function(e){e===o.v6.MOUSE?(a.editorState.changeState(n.yyW.STATE_MOUSE_FRIENDLY_SELECT.id),u(o.YC.GRAB)):e===o.v6.PAD&&(a.editorState.changeState(n.yyW.STATE_SELECT.id),u(o.YC.SELECT)),g(e)},setMouseScrollDelta:function(e){a.config.updateConfig({mouseScrollDelta:e})}}}},309844:function(e,t,i){i.d(t,{Dc:()=>r.Dc,RE:()=>b,Wi:()=>r.Wi,er:()=>h,es:()=>f,mY:()=>r.mY,pk:()=>g}),i(543789);var a=i(832176),r=i(893740),n=i(908600),o=i(148168),s=i(569517),d=i(9163),l=Object.defineProperty,c=Object.getOwnPropertyDescriptor;function h(e){let{maxZoom:t,minZoom:i}=e||{},o=(0,r.Dc)(),s=(0,r.bP)(r.Zs,!0),[d,l]=(0,n.useState)(1),c=(0,n.useCallback)(e=>{o.config.zoomout(e)},[o]),h=(0,n.useCallback)(e=>{o.config.zoomin(e)},[o]),f=(0,n.useCallback)((e,t,i)=>{o.config.updateZoom(e,t,i)},[o]),u=(0,n.useCallback)(()=>{s.isMouseFriendlyMode()?s.changeState(r.yy.STATE_SELECT.id):s.changeState(r.yy.STATE_MOUSE_FRIENDLY_SELECT.id)},[s]);return(0,n.useEffect)(()=>{let e=new a.K4;return e.push(o.onZoom(e=>l(e))),()=>e.dispose()},[o]),(0,n.useEffect)(()=>{let e=o.config.config;o.config.updateConfig({maxZoom:void 0!==t?t:e.maxZoom,minZoom:void 0!==i?i:e.minZoom})},[o,t,i]),{zoomin:h,zoomout:c,updateZoom:f,zoom:d,interactiveType:s.isMouseFriendlyMode()?"MOUSE":"PAD",toggleIneractiveType:u}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i=>{if(t=t.slice(),e.background||void 0===e.background){let i="object"==typeof e.background?e.background:{};t.push((0,s.bz)(i))}return e.shortcuts&&t.push((0,o.cL)({registerShortcuts:t=>e.shortcuts(t,i)})),e.plugins&&t.push(...e.plugins(i)),t.push((0,r.d3)({onBind:t=>{var i;null==(i=e.onBind)||i.call(e,t)},onInit:t=>{let i=t.get(r.W4);e.playground&&(void 0!==e.playground.autoFocus&&(i.autoFocus=e.playground.autoFocus),void 0!==e.playground.autoResize&&(i.autoResize=e.playground.autoResize)),i.autoFocus=!1,t.playground.registerLayer(r.wY,e.playground),e.layers&&t.playground.registerLayers(...e.layers),e.onInit&&e.onInit(t)},onReady(t){e.onReady&&e.onReady(t)},onAllLayersRendered(){e.onAllLayersRendered&&e.onAllLayersRendered(i)},onDispose(){e.onDispose&&e.onDispose(i)},containerModules:e.containerModules||[]})),t}}var u=class extends r.mh{onZoom(e){this.node.style.transform=`scale(${e})`}onReady(){this.node.style.left="0px",this.node.style.top="0px"}updateOptions(e){this.options=e,this.render()}render(){return n.createElement("div",{className:this.options.className,style:{position:"absolute",...this.options.style}},this.options.children)}constructor(){super(...arguments),this.node=a.xF.createDivWithClass("gedit-playground-layer gedit-playground-content-layer")}};u.type="PlaygroundContentLayer",u=((e,t,i,a)=>{for(var r,n=a>1?void 0:a?c(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&l(t,i,n),n})([(0,d.b2)()],u);var b=(0,n.forwardRef)(function(e,t){let{parentContainer:i,children:a,...o}=e,s=(0,n.useMemo)(()=>(0,r.d3)({onInit(e){e.playground.registerLayer(u)}}),[]),d=(0,n.useMemo)(()=>f(o,[s]),[]);return n.createElement(r.W6,{ref:t,plugins:d,parentContainer:i},n.createElement(r.iX,null,a))}),g=e=>{let t=(0,r.Dc)();return(0,n.useMemo)(()=>{t.getLayer(u).updateOptions(e)},[e]),n.createElement(n.Fragment,null)}},66298:function(e,t,i){i.d(t,{CD:()=>u,FU:()=>f,Xn:()=>w,f9:()=>p,qp:()=>S});var a=i(9163),r=i(832176),n=i(129034),o=i(387331),s=i(952893),d=i(893740),l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?c(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&l(t,i,n),n},f=Symbol("OperationContribution"),u=class{init(){for(let t of this.contributions){var e;null==(e=t.registerOperationMeta)||e.call(t,this)}}registerOperationMeta(e){return this._operationMetas.has(e.type)?(console.warn(`A operation meta ${e.type} is already registered.`),r.JT.NULL):new r.K4(this._doRegisterOperationMetaMeta(e))}getOperationMeta(e){return this._operationMetas.get(e)}_doRegisterOperationMetaMeta(e){return this._operationMetas.set(e.type,e),{dispose:()=>{this._operationMetas.delete(e.type)}}}constructor(){this._operationMetas=new Map,this.contributions=[]}};h([(0,a.nx)(f),(0,a.jt)()],u.prototype,"contributions",2),h([(0,a.zY)()],u.prototype,"init",1),u=h([(0,a.b2)()],u);var b=class{};b=h([(0,a.b2)()],b);var g=class{constructor(){this.generateId=()=>(0,n.x0)(),this.getSnapshot=()=>""}};g=h([(0,a.b2)()],g);var p=class{init(){this._toDispose.push(this.applyEmitter)}applyOperation(e,t){let i,a=this.operationRegistry.getOperationMeta(e.type);if(!a)throw Error(`Operation meta ${e.type} has not registered.`);return(null==t?void 0:t.noApply)||(i=a.apply(e,this.context.source)),this.applyEmitter.fire(e),i}getOperationLabel(e){let t=this.operationRegistry.getOperationMeta(e.type);if(t&&t.getLabel)return t.getLabel(e,this.context.source)}getOperationDescription(e){let t=this.operationRegistry.getOperationMeta(e.type);if(t&&t.getDescription)return t.getDescription(e,this.context.source)}inverseOperations(e){return e.map(e=>this.inverseOperation(e)).reverse()}inverseOperation(e){let t=this.operationRegistry.getOperationMeta(e.type);if(!t)throw Error(`Operation meta ${e.type} has not registered.`);return t.inverse(e)}dispose(){this._toDispose.dispose()}constructor(){this.applyEmitter=new r.Q5,this.onApply=this.applyEmitter.event,this._toDispose=new r.K4}};h([(0,a.f3)(u)],p.prototype,"operationRegistry",2),h([(0,a.f3)(b)],p.prototype,"context",2),h([(0,a.f3)(g)],p.prototype,"config",2),h([(0,a.zY)()],p.prototype,"init",1),p=h([(0,a.b2)()],p);var y=class{setLimit(e){this._limit=e}pushElement(e){this._redoStack=[],this._stackPush(this._undoStack,e),this._toDispose.push(e),this._emitChange("push",e)}getUndoStack(){return this._undoStack}getRedoStack(){return this._redoStack}getLastElement(){return this._undoStack[this._undoStack.length-1]}async undo(){if(!this.canUndo()||this._undoing)return;this._undoing=!0;let e=this._undoStack.pop();try{await e.undo()}finally{this._stackPush(this._redoStack,e),this._emitChange("undo",e),this._undoing=!1}}async redo(){if(!this.canRedo()||this._redoing)return;this._redoing=!0;let e=this._redoStack.pop();try{await e.redo()}finally{this._stackPush(this._undoStack,e),this._emitChange("redo",e),this._redoing=!1}}canUndo(){return this._undoStack.length>0}canRedo(){return this._redoStack.length>0}canPush(){return!this._redoing&&!this._undoing}clear(){this.clearRedoStack(),this.clearUndoStack(),this._emitChange("clear")}clearRedoStack(){this._redoStack.forEach(e=>{e.dispose()}),this._redoStack=[]}clearUndoStack(){this._undoStack.forEach(e=>{e.dispose()}),this._undoStack=[]}dispose(){this.clear(),this._toDispose.dispose()}_stackPush(e,t){e.push(t),e.length>this._limit&&e.shift()}_emitChange(e,t){t?this.onChangeEmitter.fire({type:e,element:t}):this.onChangeEmitter.fire({type:e})}constructor(){this._undoing=!1,this._redoing=!1,this._limit=100,this.onChangeEmitter=new r.Q5,this.onChange=this.onChangeEmitter.event,this._toDispose=new r.K4,this._undoStack=[],this._redoStack=[],this._toDispose.push(this.onChangeEmitter)}};y=h([(0,a.b2)()],y);var m=class{get id(){return this._id}getTimestamp(){return this._timestamp}pushOperation(e){let t=this._operation(e);return this._operations.push(t),t}getOperations(){return this._operations}getChangeOperations(e){return"undo"===e?this._operationService.inverseOperations(this._operations):this._operations}getFirstOperation(){return this._operations[0]}getLastOperation(){return this._operations[this._operations.length-1]}async undo(){for(let e of this._operationService.inverseOperations(this._operations))await this._apply(e)}async redo(){for(let e of this._operations)await this._apply(e)}revert(e){let t=this._operations;for(let i of("undo"!==e&&(t=this._operations.map(e=>this._inverse(e)).reverse()),t))this._apply(i)}_inverse(e){return this._operationService.inverseOperation(e)}async _apply(e){await this._operationService.applyOperation(e)}_operation(e){return{...e,value:(0,s.Z)(e.value),id:this._operationService.config.generateId()}}dispose(){this._toDispose.dispose()}constructor(e,t=[]){this._toDispose=new r.K4,this._timestamp=Date.now(),this._operationService=e,this._operations=t.map(e=>this._operation(e)),this._id=e.config.generateId()}},E=class{get items(){return this._items}add(e,t){let i=this._getHistoryItem(e,t);return this._items.unshift(i),this._items.length>this.limit&&this._items.pop(),this.onChangeEmitter.fire({type:"add",value:i,service:e}),i}findById(e){return this._items.find(t=>t.id===e)}changeByIndex(e,t,i){let a=this._getHistoryItem(t,i);this._items[e]=a,this.onChangeEmitter.fire({type:"update",value:a,service:t})}addOperation(e,t,i){let a=this._items.find(e=>e.id===t);if(!a)return void console.warn("no history item found");let r=this._getHistoryOperation(e,i);a.operations.push(r),this.onChangeEmitter.fire({type:"add_operation",value:{historyItem:a,operation:r},service:e})}updateOperation(e,t,i){let a=this._items.find(e=>e.id===t);if(!a)return void console.warn("no history item found");let r=a.operations.findIndex(e=>e.id==e.id);if(r<0)return void console.warn("no operation found");let n=this._getHistoryOperation(e,i);a.operations.splice(r,1,n),this.onChangeEmitter.fire({type:"update_operation",value:{historyItem:a,operation:n},service:e})}clear(){this._items=[]}dispose(){this._items=[],this._toDispose.dispose()}_getHistoryItem(e,t){return{...t,uri:e.context.uri,time:E.dateFormat(t.timestamp),operations:t.operations.map(i=>this._getHistoryOperation(e,i,"push"!==t.type))}}_getHistoryOperation(e,t){let i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a)i=this.historyConfig.generateId();else{let e=t.id;if(!e)throw Error("no operation id found");i=e}return{...(0,s.Z)(t),id:i,label:e.operationService.getOperationLabel(t),description:e.operationService.getOperationDescription(t),timestamp:Date.now()}}static dateFormat(e){return new Date(e).toLocaleString()}constructor(){this._items=[],this.onChangeEmitter=new r.Q5,this.onChange=this.onChangeEmitter.event,this._toDispose=new r.K4,this.limit=100,this._toDispose.push(this.onChangeEmitter)}};h([(0,a.f3)(g)],E.prototype,"historyConfig",2),E=h([(0,a.b2)()],E);var C=class{registerHistoryService(e){let t=new r.K4;t.pushAll([e.undoRedoService.onChange(t=>{if("clear"===t.type)return;let{type:i,element:a}=t,r=a.getChangeOperations(i),n={id:"push"===i?a.id:this.historyConfig.generateId(),type:i,uri:e.context.uri,operations:r,timestamp:Date.now()};this.historyStack.add(e,n)}),e.onMerge(t=>{this._handleMerge(e,t)})]),this._historyServices.set(e,t),this._toDispose.push(e.onWillDispose(()=>{this.unregisterHistoryService(e)}))}unregisterHistoryService(e){let t=this._historyServices.get(e);t&&(t.dispose(),this._historyServices.delete(e))}getHistoryServiceByURI(e){for(let t of this._historyServices.keys())if(t.context.uri===e)return t}getFirstHistoryService(){for(let e of this._historyServices.keys())return e}dispose(){this._toDispose.dispose(),this.historyStack.dispose(),this._historyServices.forEach(e=>e.dispose()),this._historyServices.clear()}_handleMerge(e,t){let{element:i,operation:a}=t.value;if(this.historyStack.findById(i.id)){if(!a.id)return void console.warn("no operation id found");"UPDATE"===t.type&&this.historyStack.updateOperation(e,i.id,a),"ADD"===t.type&&this.historyStack.addOperation(e,i.id,a)}}constructor(){this._historyServices=new Map,this._toDispose=new r.K4}};h([(0,a.f3)(E)],C.prototype,"historyStack",2),h([(0,a.f3)(g)],C.prototype,"historyConfig",2),C=h([(0,a.b2)()],C);var S=class{get onApply(){return this.operationService.onApply}init(){this._toDispose.push(this._willDisposeEmitter),this._toDispose.push(this._mergeEmitter)}start(){this._locked=!1}stop(){this._locked=!0}limit(e){this.undoRedoService.setLimit(e)}startTransaction(){if(this._transacting)return;this._transacting=!0;let e=new m(this.operationService,[]);this._transactOperation=e}endTransaction(){let e=this._transactOperation;e&&(0!==e.getOperations().length&&this._pushStackOperation(e),this._transactOperation=null,this._transacting=!1)}transact(e){this._transacting||(this.startTransaction(),e(),this.endTransaction())}pushOperation(e,t){if(!this._canPush())return;let i=this._transactOperation||this.undoRedoService.getLastElement(),a=this.operationRegistry.getOperationMeta(e.type);if(!a)throw Error(`Operation meta ${e.type} has not registered.`);if(a.shouldSave&&!a.shouldSave(e))return a.apply(e,this.context.source);let r=this.operationService.applyOperation(e,{noApply:null==t?void 0:t.noApply});a.getURI&&!e.uri&&(e.uri=a.getURI(e,this.context.source));let n=this._shouldMerge(e,i,a);if(n)if("object"==typeof n){let e=i.getLastOperation();e.value=n.value,this._mergeEmitter.fire({type:"UPDATE",value:{element:i,operation:e,value:n.value}})}else{let t=i.pushOperation(e);this._mergeEmitter.fire({type:"ADD",value:{element:i,operation:t}})}else{let t=new m(this.operationService,[e]);this._pushStackOperation(t)}return r}getHistoryOperations(){return this.historyManager.historyStack.items.reverse().map(e=>e.operations.map(e=>({...(0,o.Z)(e,["type","value"]),label:e.label||e.type}))).flat()}async undo(){await this.undoRedoService.undo()}async redo(){await this.undoRedoService.redo()}canUndo(){return this.undoRedoService.canUndo()}canRedo(){return this.undoRedoService.canRedo()}getSnapshot(){return this.config.getSnapshot()}getRecords(){throw Error("Method not implemented.")}restore(e){throw Error("Method not implemented.")}clear(){this.undoRedoService.clear()}dispose(){this._willDisposeEmitter.fire(this),this._toDispose.dispose()}_canPush(){return!this._locked&&this.undoRedoService.canPush()}_pushStackOperation(e){this.undoRedoService.pushElement(e),this.undoRedoService.clearRedoStack()}_shouldMerge(e,t,i){return!!t&&(!!this._transacting||i.shouldMerge&&i.shouldMerge(e,t.getLastOperation(),t))}constructor(){this._toDispose=new r.K4,this._transacting=!1,this._transactOperation=null,this._locked=!1,this._willDisposeEmitter=new r.Q5,this._mergeEmitter=new r.Q5,this.onWillDispose=this._willDisposeEmitter.event,this.onMerge=this._mergeEmitter.event}};h([(0,a.f3)(y)],S.prototype,"undoRedoService",2),h([(0,a.f3)(u)],S.prototype,"operationRegistry",2),h([(0,a.f3)(p)],S.prototype,"operationService",2),h([(0,a.f3)(b)],S.prototype,"context",2),h([(0,a.f3)(g)],S.prototype,"config",2),h([(0,a.f3)(C)],S.prototype,"historyManager",2),h([(0,a.zY)()],S.prototype,"init",1),S=h([(0,a.b2)()],S);var w=new a.nZ((e,t,i,a,r,n,o)=>{e(u).toSelf().inSingletonScope(),e(p).toSelf().inSingletonScope(),e(y).toSelf().inSingletonScope(),e(S).toSelf().inSingletonScope(),e(b).toSelf().inSingletonScope(),e(C).toSelf().inSingletonScope(),e(E).toSelf().inSingletonScope(),e(g).toSelf().inSingletonScope(),n(S,(e,t)=>{var i,a,r,n;let o;return(o=(null==(a=e.container)||null==(i=a.parent)?void 0:i.isBound(C))?null==(n=e.container)||null==(r=n.parent)?void 0:r.get(C):e.container.get(C))&&(t.historyManager=o,o.registerHistoryService(t)),t})});(0,d.M1)({onInit:(e,t)=>{t.onApply&&e.get(p).onApply(t.onApply.bind(null,e))},containerModules:[w]})},27430:function(e,t,i){i.d(t,{o:()=>n});var a=i(958481),r=i(832176),n=new class{t(e,t){return this.i18n.t(e,{defaultValue:this.missingStrictMode?void 0:e,...t})}get locale(){return this.i18n.locale}set locale(e){this.i18n.locale=e}addLanguages(e){this.i18n.store(e.reduce((e,t)=>Object.assign(e,{[t.languageId]:{languageName:t.languageName,localizedLanguageName:t.localizedLanguageName,...t.contents}}),{}))}addLanguage(e){this.addLanguages([e])}constructor(e){this.i18n=new a.oc,this._onLanguageChangeEmitter=new r.Q5,this.onLanguageChange=this._onLanguageChangeEmitter.event,this.missingStrictMode=!1,this.addLanguages(e),this.locale=function(){if("object"!=typeof navigator)return"en-US";let e=navigator.language;return"en"===e||"en-US"===e?"en-US":"zh"===e||"zh-CN"===e?"zh-CN":e}(),this.i18n.onChange(()=>{this._onLanguageChangeEmitter.fire(this.i18n.locale)})}}([{languageId:"en-US",languageName:"English",localizedLanguageName:"English",contents:{Yes:"Yes",No:"No"}},{languageId:"zh-CN",languageName:"Chinese",localizedLanguageName:"中文(中国)",contents:{Yes:"是",No:"否"}}])},875787:function(e,t,i){i.d(t,{BP:()=>l,Re:()=>c,nt:()=>h});var a,r=i(908600),n=i(832176);(e=>{let t,i=[],a=[],r=!1,n=!1,o=!1,s=!1;function d(e,t){if(s)throw t;console.error(`[Tracker error] ${e}`,t)}function l(e){if(n)throw Error("Can't call Tracker.flush while flushing");if(o)throw Error("Can't flush inside Tracker.autorun");n=!0,r=!0,s=!!(e=e||{}).throwFirstError;var t=0,h=!1;try{for(;i.length||a.length;){for(;i.length;){var f=i.shift();if(f._recompute(),f._needsRecompute()&&i.unshift(f),!e.finishSynchronously&&++t>100){h=!0;return}}if(a.length){var u=a.shift();try{u()}catch(e){d("afterFlush",e)}}}h=!0}finally{if(h||(n=!1,l({finishSynchronously:e.finishSynchronously,throwFirstError:!1})),r=!1,n=!1,i.length||a.length){if(e.finishSynchronously)throw Error("still have more to do?");setTimeout(c,10)}}}function c(){r||(setTimeout(l,0),r=!0)}function h(e){let i=t;t=void 0;try{return e(void 0)}finally{t=i}}function f(){return!!t}e.withComputation=function(e,i){let a=t;t=e;try{return i.call(null,e)}finally{t=a}},e.withoutComputation=h,e.isActive=f,e.getCurrentComputation=function(){return t},e.autorun=function(i,a){var r=new u(i,t,null==a?void 0:a.onError);return f()&&e.onInvalidate(function(){r.stop()}),r};e.onInvalidate=function(e){if(!t)throw Error("Tracker.onInvalidate requires a currentComputation");t.onInvalidate(e)},e.inFlush=function(){return n},e.flush=function(e){l({finishSynchronously:!0,throwFirstError:e&&e.throwFirstError})},e.afterFlush=function(e){a.push(e),c()};class u{onInvalidate(e){this.invalidated?h(e.bind(null,this)):this._onInvalidateCallbacks.push(e)}invalidate(){if(!this.invalidated){this._recomputing||this.stopped||(c(),i.push(this)),this.invalidated=!0;for(var e,t=0;e=this._onInvalidateCallbacks[t];t++)h(e.bind(null,this));this._onInvalidateCallbacks=[]}}stop(){if(!this.stopped){this.stopped=!0,this.invalidate();for(let e=0,t;t=this._onStopCallbacks[e];e++)h(t.bind(null,this));this._onStopCallbacks=[]}}onStop(e){this.stopped?h(e.bind(null,this)):this._onStopCallbacks.push(e)}_compute(){this.invalidated=!1;var t=o;o=!0;try{this._result=e.withComputation(this,this._fn)}finally{o=t}}_needsRecompute(){return this.invalidated&&!this.stopped}_recompute(){this._recomputing=!0;try{if(this._needsRecompute())try{this._compute()}catch(e){this._onError?this._onError(e):d("recompute",e)}}finally{this._recomputing=!1}}flush(){this._recomputing||this._recompute()}run(){this.invalidate(),this.flush()}get result(){return this._result}constructor(e,t,i){this._fn=e,this.parent=t,this._onError=i,this._onInvalidateCallbacks=[],this._onStopCallbacks=[],this._recomputing=!1,this.stopped=!1,this.invalidated=!1,this.firstRun=!0;let a=!0;try{this._compute(),a=!1}finally{this.firstRun=!1,a&&this.stop()}}}e.Computation=u,e.Dependency=class{depend(e){if(!e){if(!f())return!1;e=t}return!this._dependents.has(e)&&(this._dependents.add(e),e.onInvalidate(()=>{this._dependents.delete(e)}),!0)}changed(){for(let e of this._dependents)e.invalidate()}hasDependents(){return 0!==this._dependents.size}constructor(){this._dependents=new Set}}})(a||(a={}));var o=class{_addDepend(e){a.isActive()&&e.depend()}hasDependents(){return this._dep.hasDependents()}get value(){return this._addDepend(this._dep),this._value}set value(e){this._isEqual(this._value,e)||(this._value=e,this._dep.changed())}constructor(e,t){this._dep=new a.Dependency,this._isEqual=(e,t)=>e==t,this._value=e,(null==t?void 0:t.isEqual)&&(this._isEqual=t.isEqual)}};function s(e,t){if("Proxy"in window)return new Proxy(e,t);let i={};for(let a in e)Object.defineProperty(i,a,{enumerable:!0,get:t.get?()=>t.get(e,a):void 0,set:t.set?i=>t.set(e,a,i):void 0});return i}var d=a.Dependency,l=class extends o{set(e,t){this._ensureKey(e);let i=this._value[e];return!this._isEqual(i,t)&&(this._value[e]=t,this._keyDeps.get(e).changed(),!0)}get(e){return this._ensureKey(e),this._addDepend(this._keyDeps.get(e)),this._value[e]}_ensureKey(e){this._keyDeps.has(e)||this._keyDeps.set(e,new d)}hasDependents(){if(this._dep.hasDependents())return!0;for(let e of this._keyDeps.values())if(e.hasDependents())return!0;return!1}keys(){return Object.keys(this._value)}set value(e){this._isEqual(this._value,e)||(this._value=e,this._keyDeps.clear(),this._dep.changed())}get value(){return this._addDepend(this._dep),this._proxyValue||(this._proxyValue=s(this._value,{get:(e,t)=>this.get(t),set:(e,t,i)=>(this.set(t,i),!0)})),this._proxyValue}get readonlyValue(){return this._addDepend(this._dep),this._proxyReadonlyValue||(this._proxyReadonlyValue=s(this._value,{get:(e,t)=>this.get(t),set:(e,t)=>{throw Error(`[ReactiveState] Cannnot set readonly field "${t}"`)}})),this._proxyReadonlyValue}constructor(){super(...arguments),this._keyDeps=new Map}};function c(e){let t=(0,n.JA)(),i=(0,r.useMemo)(()=>new Map,[]),o=(0,r.useCallback)(()=>{i.forEach(e=>e.stop()),i.clear()},[]);return(0,r.useEffect)(()=>o,[]),o(),(0,r.useMemo)(()=>void 0===e?{}:s(e,{get(r,n){let o=i.get(n);return o||(o=new a.Computation(i=>i.firstRun?e[n]:void t()),i.set(n,o)),e[n]}}),[e])}function h(e){return c(e.readonlyValue)}var{Dependency:f,Computation:u}=a},832176:function(e,t,i){i.d(t,{Ae:()=>k,Cd:()=>A,Ct:()=>b,E9:()=>L,JA:()=>ev,JT:()=>c,K4:()=>W,KV:()=>eg,Of:()=>eo,Pq:()=>U,Q5:()=>Y,Qc:()=>ep,RZ:()=>l,S9:()=>es,V_:()=>p,XJ:()=>u,Zp:()=>er,_b:()=>_,cO:()=>Q,dG:()=>j,gE:()=>ei,gw:()=>q,hY:()=>ed,i1:()=>ea,jl:()=>N,oN:()=>eb,pL:()=>y,r9:()=>el,rM:()=>m,sI:()=>E,xF:()=>S,y3:()=>V,yb:()=>em,z:()=>en});var a,r,n,o,s,d,l,c,h,f,u,b,g,p,y,m,E,C,S,w=i(65881),x=i(908600),{PI:D}=Math,_=2*D,N=180/D,M=class e{sub(t){return new e(this.x-t.x,this.y-t.y)}dot(e){return this.x*e.x+this.y*e.y}constructor(e=0,t=0){this.x=e,this.y=t}},L=class e{clone(){return new e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.x=this.x,e.y=this.y,e}equals(e){return e.x===this.x&&e.y===this.y}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}constructor(e=0,t=0){this.x=e,this.y=t}},I=L||(L={});function T(e,t,i){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}I.EMPTY={x:0,y:0},I.getDistance=function(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)},I.getMiddlePoint=function(e,t){return T(e,t,.5)},I.getRatioPoint=T,I.fixZero=function(e){return 0===e.x&&(e.x=0),0===e.y&&(e.y=0),e},I.move=function(e,t){return{x:e.x+(t.x||0),y:e.y+(t.y||0)}},I.moveDistanceToDirection=function(e,t,i){let a=t.x-e.x,r=t.y-e.y,n=0===a?0:Math.sqrt(i**2/(1+r**2/a**2)),o=0===a?i:Math.abs(n*r/a);return{x:e.x+(a>0?n:-n),y:e.y+(r>0?o:-o)}};var k=class e{static get EMPTY(){return new e(0,0,0,0)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new e(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0)&&!(this.height<=0)&&!!(e>=this.x)&&!!(e<=this.right)&&!!(t>=this.y)&&!!(t<=this.bottom)}isEqual(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsRectangle(e){return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}pad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){let t=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),a=Math.max(this.y,e.y),r=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(i-t,0),this.y=a,this.height=Math.max(r-a,0),this}ceil(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,i=Math.ceil((this.x+this.width-t)*e)/e,a=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=i-this.x,this.height=a-this.y,this}enlarge(e){let t=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),a=Math.min(this.y,e.y),r=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=i-t,this.y=a,this.height=r-a,this}get center(){return{x:this.x+this.width/2,y:this.y+this.height/2}}get rightBottom(){return{x:this.right,y:this.bottom}}get leftBottom(){return{x:this.left,y:this.bottom}}get rightTop(){return{x:this.right,y:this.top}}get leftTop(){return{x:this.left,y:this.top}}get bottomCenter(){return{x:this.x+this.width/2,y:this.bottom}}get topCenter(){return{x:this.x+this.width/2,y:this.top}}get rightCenter(){return{x:this.right,y:this.y+this.height/2}}get leftCenter(){return{x:this.left,y:this.y+this.height/2}}update(e){return e(this)}get crossDistance(){return L.getDistance(this.leftTop,this.rightBottom)}toStyleStr(){return`left: ${this.x}px; top: ${this.y}px; width: ${this.width}px; height: ${this.height}px;`}withPadding(e){return this.x-=e.left,this.y-=e.top,this.width+=e.left+e.right,this.height+=e.top+e.bottom,this}withoutPadding(e){return this.x+=e.left,this.y+=e.top,this.width=this.width-e.left-e.right,this.height=this.height-e.top-e.bottom,this}withHeight(e){return this.height=e,this}clearSpace(){return this.width=0,this.height=0,this}constructor(e=0,t=0,i=0,a=0){this.x=e,this.y=t,this.width=i,this.height=a,this.type=1}},P=k||(k={});function O(e){let t=P.EMPTY.clone();if(!e.length)return t;let i=[],a=[],r=[],n=[];e.forEach(e=>{i.push(e.left),r.push(e.right),n.push(e.bottom),a.push(e.top)});let o=Math.min.apply(Math,i),s=Math.max.apply(Math,r),d=Math.min.apply(Math,a),l=Math.max.apply(Math,n);return t.x=o,t.width=s-o,t.y=d,t.height=l-d,t}P.align=function(e,t){if(e.length<=1)return e;switch(t){case"align-bottom":let i=Math.max(...e.map(e=>e.bottom));e.forEach(e=>{e.y=i-e.height});break;case"align-center":let a=O(e).center.x;e.forEach(e=>{e.x=a-e.width/2});break;case"align-left":let r=Math.min(...e.map(e=>e.left));e.forEach(e=>{e.x=r});break;case"align-middle":let n=O(e).center.y;e.forEach(e=>{e.y=n-e.height/2});break;case"align-right":let o=Math.max(...e.map(e=>e.right));e.forEach(e=>{e.x=o-e.width});break;case"align-top":let s=Math.min(...e.map(e=>e.top));e.forEach(e=>{e.y=s});break;case"distribute-horizontal":if(e.length<=2)break;let d=e.slice().sort((e,t)=>e.left-t.left),l=O(e),c=e.reduce((e,t)=>e-t.width,l.width)/(e.length-1);d.reduce((e,t)=>(t.x=e,e+t.width+c),l.x);break;case"distribute-vertical":if(e.length<=2)break;let h=e.slice().sort((e,t)=>e.top-t.top),f=O(e),u=e.reduce((e,t)=>e-t.height,f.height)/(e.length-1);h.reduce((e,t)=>(t.y=e,e+t.height+u),f.y)}return e},P.enlarge=O,P.intersects=function(e,t,i){let a=e.left,r=e.top,n=e.right,o=e.bottom,s=t.left,d=t.top,l=t.right,c=t.bottom;return"horizontal"===i?n>s&&a<l:"vertical"===i?o>d&&r<c:!!(n>s)&&!!(a<l)&&!!(o>d)&&!!(r<c)},P.intersectsWithRotation=function(e,t,i,a){let r=new R(e.center,e.width,e.height,t),n=new R(i.center,i.width,i.height,a),o=r.centerPoint.sub(n.centerPoint),s=r.axesX;if(r.getProjectionRadius(s)+n.getProjectionRadius(s)<=Math.abs(o.dot(s)))return!1;let d=r.axesY;if(r.getProjectionRadius(d)+n.getProjectionRadius(d)<=Math.abs(o.dot(d)))return!1;let l=n.axesX;if(r.getProjectionRadius(l)+n.getProjectionRadius(l)<=Math.abs(o.dot(l)))return!1;let c=n.axesY;return!(r.getProjectionRadius(c)+n.getProjectionRadius(c)<=Math.abs(o.dot(c)))},P.isViewportVisible=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a?t.containsRectangle(e):0===i?P.intersects(e,t):P.intersectsWithRotation(e,i,t,0)},P.setViewportVisible=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,{left:a,right:r,top:n,bottom:o,width:s,height:d}=e,{left:l,right:c,top:h,bottom:f}=t;return a<=l?e.x=l+i:r>=c&&(e.x=c-i-s),n<=h?e.y=h+i:o>=f&&(e.y=f-i-d),e},P.createRectangleWithTwoPoints=function(e,t){let i=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y;return new P(i,a,Math.abs(e.x-t.x),Math.abs(e.y-t.y))};var R=class{getProjectionRadius(e){return this.width/2*Math.abs(e.dot(this.axesX))+this.height/2*Math.abs(e.dot(this.axesY))}constructor(e,t,i,a){this.width=t,this.height=i,this.centerPoint=new M(e.x,e.y),this.axesX=new M(Math.cos(a),Math.sin(a)),this.axesY=new M(-1*this.axesX.y,this.axesX.x)}},A=class e{clone(){return new e(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;let i=this.radius*this.radius,a=this.x-e,r=this.y-t;return a*=a,r*=r,a+r<=i}getBounds(){return new k(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.radius=i,this.type=2}},V=class e{static get IDENTITY(){return new e}static get TEMP_MATRIX(){return new e}fromArray(e){return e.length<6||(this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]),this}set(e,t,i,a,r,n){return this.a=e,this.b=t,this.c=i,this.d=a,this.tx=r,this.ty=n,this}toArray(e,t){this.array||(this.array=new Float32Array(9));let i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0),i[8]=1,i}apply(e,t){let{x:i,y:a}=e;return(t=t||{x:0,y:0}).x=this.a*i+this.c*a+this.tx,t.y=this.b*i+this.d*a+this.ty,t}applyInverse(e,t){t=t||{x:0,y:0};let i=1/(this.a*this.d+-(this.c*this.b)),{x:a}=e,{y:r}=e;return t.x=this.d*i*a+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*r+-this.b*i*a+(-this.ty*this.a+this.tx*this.b)*i,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){let t=Math.cos(e),i=Math.sin(e),a=this.a,r=this.c,n=this.tx;return this.a=a*t-this.b*i,this.b=a*i+this.b*t,this.c=r*t-this.d*i,this.d=r*i+this.d*t,this.tx=n*t-this.ty*i,this.ty=n*i+this.ty*t,this}append(e){let t=this.a,i=this.b,a=this.c,r=this.d;return this.a=e.a*t+e.b*a,this.b=e.a*i+e.b*r,this.c=e.c*t+e.d*a,this.d=e.c*i+e.d*r,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*i+e.ty*r+this.ty,this}setTransform(e,t,i,a,r,n,o,s,d){return this.a=Math.cos(o+d)*r,this.b=Math.sin(o+d)*r,this.c=-Math.sin(o-s)*n,this.d=Math.cos(o-s)*n,this.tx=e-(i*this.a+a*this.c),this.ty=t-(i*this.b+a*this.d),this}prepend(e){let t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){let t=this.a,i=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){let{a:t}=this,{b:i}=this,{c:a}=this,{d:r}=this,n=-Math.atan2(-a,r),o=Math.atan2(i,t),s=Math.abs(n+o);return s<1e-5||1e-5>Math.abs(_-s)?(e.rotation=o,e.skew.x=0,e.skew.y=0):(e.rotation=0,e.skew.x=n,e.skew.y=o),e.scale.x=Math.sqrt(t*t+i*i),e.scale.y=Math.sqrt(a*a+r*r),e.position.x=this.tx,e.position.y=this.ty,e}invert(){let e=this.a,t=this.b,i=this.c,a=this.d,r=this.tx,n=e*a-t*i;return this.a=a/n,this.b=-t/n,this.c=-i/n,this.d=e/n,this.tx=(i*this.ty-a*r)/n,this.ty=-(e*this.ty-t*r)/n,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}isSimple(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d}clone(){let t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}constructor(e=1,t=0,i=0,a=1,r=0,n=0){this.a=e,this.b=t,this.c=i,this.d=a,this.tx=r,this.ty=n,this.array=null}},B=class e{get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope;return new e(t,i,this._x,this._y)}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.x=this._x,e.y=this._y,e}equals(e){return e.x===this._x&&e.y===this._y}constructor(e,t,i=0,a=0){this._x=i,this._y=a,this.cb=e,this.scope=t}},F=class{onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){let e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){let t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){let i=e.worldTransform,a=this.worldTransform;a.a=t.a*i.a+t.b*i.c,a.b=t.a*i.b+t.b*i.d,a.c=t.c*i.a+t.d*i.c,a.d=t.c*i.b+t.d*i.d,a.tx=t.tx*i.a+t.ty*i.c+i.tx,a.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}constructor(){this.worldTransform=new V,this.localTransform=new V,this.position=new B(this.onChange,this,0,0),this.scale=new B(this.onChange,this,1,1),this.pivot=new B(this.onChange,this,0,0),this.skew=new B(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}};function $(e,t,i){let a=i-t;return t+((e-t)%a+a)%a}F.IDENTITY=new F,(a=l||(l={})).wrap=function(e){return $(e,-Math.PI,Math.PI)},a.wrapDegrees=function(e){return $(e,-180,180)},a.betweenPoints=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},a={x:e.x-i.x,y:e.y-i.y},r={x:t.x-i.x,y:t.y-i.y};return Math.atan2(a.x*r.y-a.y*r.x,a.x*r.x+a.y*r.y)};var{keys:z}=Object;Object.prototype.hasOwnProperty;var G=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return z(e).reduce((i,a)=>t(i,e[a],a),i)},j=()=>{};Object.prototype.toString;var H=c||(c={});function J(e){return{dispose:e}}H.is=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.dispose},H.create=J,H.NULL=Object.freeze(J(()=>{})),(h||(h={})).None=()=>c.NULL;var X=class e{get event(){return this._event||(this._event=(t,i)=>{if(this._disposed)return c.NULL;this._listeners||(this._listeners=[]);let a=i?t.bind(i):t;this._listeners.length>=e.LEAK_WARNING_THRESHHOLD&&console.warn(`[Emitter] Listeners length >= ${e.LEAK_WARNING_THRESHHOLD}`),this._listeners.push(a);let r={dispose:()=>{if(r.dispose=j,!this._disposed){let e=this._listeners.indexOf(a);-1!==e&&this._listeners.splice(e,1)}}};return r}),this._event}fire(e){this._listeners&&this._listeners.forEach(t=>t(e))}get disposed(){return this._disposed}dispose(){this._listeners&&(this._listeners=void 0),this._disposed=!0}constructor(){this._disposed=!1}};X.LEAK_WARNING_THRESHHOLD=175;var Y=X,U=class{dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}get onDispose(){return this.toDispose.onDispose}constructor(){this.toDispose=new W}},W=class{get length(){return this.disposables.length}get onDispose(){return this.onDisposeEmitter.event}get disposed(){return this._disposed}dispose(){this.disposed||(this._disposed=!0,this.disposables.slice().reverse().forEach(e=>{try{e.dispose()}catch(e){console.error(e)}}),this.onDisposeEmitter.fire(void 0),this.onDisposeEmitter.dispose())}push(e){if(this.disposed||e===c.NULL)return c.NULL;let{disposables:t}=this;if(t.find(t=>t===e))return c.NULL;let i=e.dispose,a=c.create(()=>{let a=t.indexOf(e);-1!==a&&t.splice(a,1),e.dispose=i});return e.dispose=()=>{a.dispose(),e.dispose()},t.push(e),a}pushAll(e){return e.map(e=>this.push(e))}constructor(...e){this.disposables=[],this.onDisposeEmitter=new Y,this._disposed=!1,e.forEach(e=>this.push(e))}},K=Object.freeze(function(e,t){let i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}});(r=f||(f={})).isCancellationToken=function(e){return e===r.None||e===r.Cancelled||e instanceof Z||!!e&&"object"==typeof e&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:h.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:K});var Z=class{cancel(){!this._isCancelled&&(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?K:(this._emitter||(this._emitter=new Y),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}constructor(){this._isCancelled=!1}},Q=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.None,i=new Q,a=setTimeout(()=>i.resolve(),e);return t.onCancellationRequested(()=>{clearTimeout(a),i.reject(Error("Cancelled"))}),i.promise}var ee=u||(u={});function et(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(e===t)return!1;if(0===i||"object"!=typeof e||"object"!=typeof t)return e!==t;let r=Object.keys(t);if(!a){let t=Object.keys(e);if(r.length!==t.length)return!0}for(let n=0,o=r.length;n<o;n++){let o=r[n];if(et(e[o],t[o],i-1,a))return!0}return!1}ee.isChanged=et,ee.isDeepChanged=function(e,t,i){return et(e,t,1/0,i)},ee.isArrayShallowChanged=function(e,t){if(e.length!==t.length)return!0;for(let i=0,a=e.length;i<a;i++)if(e[i]!==t[i])return!0;return!1},(n=b||(b={})).create=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];return{getFromCache:()=>i,getMore(a){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(a===i.length);else if(a>i.length){let t=a-i.length;for(;t>0;)i.push(e()),t--}else if(r){let e=t.deleteLimit??0;i.length-a>e&&i.splice(a).forEach(e=>e.dispose&&e.dispose())}return i.slice(0,a)},getMoreByItemKeys(t){let a=[],r=new Map;return i.forEach(e=>{if(t.find(t=>t.key===e.key))r.set(e.key,e);else{var i;null==(i=e.dispose)||i.call(e)}}),t.forEach(t=>{if(!t.key)throw Error("getMoreByItemKeys need a key");let i=r.get(t.key);i?a.push(i):a.push(e(t))}),i=a},getMoreByItems(t){let a=[],r=new Map;return i.forEach(e=>{if(t.find(t=>t===e.key))r.set(e.key,e);else{var i;null==(i=e.dispose)||i.call(e)}}),t.forEach(t=>{let i=r.get(t);i?a.push(i):a.push({...e(t),key:t})}),i=a},get:()=>(i.length>0||i.push(e()),i[0]),getFromCacheByKey:e=>i.find(t=>t.key===e),dispose(){i.forEach(e=>e.dispose&&e.dispose()),i.length=0},clear(){this.dispose()}}},n.assign=function(e,t){return Object.assign(e,t)},n.createShortCache=function(){let e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;function a(){t&&clearTimeout(t),t=setTimeout(()=>{t=void 0,e=void 0},i)}return{get:t=>(e||(e=t()),a(),e)}},n.createWeakCache=function(){let e=new WeakMap;return{get:t=>e.get(t),save:(t,i)=>e.set(t,i),isChanged:(t,i)=>u.isChanged(e.get(t),i)}},(g||(g={})).create=function(e,t,i){return{type:"object",properties:{...null==t?void 0:t.properties,...e},mixinDefaults:{...null==t?void 0:t.mixinDefaults,...i}}},(o=p||(p={})).createDefault=function e(t,i,a){i={...t.mixinDefaults,...i};let r=a?`${a}.`:"";if(t.properties){let a,n;return a=t.properties,n=(t,a)=>{let n=r+a;return i&&void 0!==i[n]?i[n]:e(t,i,n)},G(a,(e,t,i)=>Object.assign(e,{[i]:n(t,i)}))}return"function"==typeof t.default?t.default():t.default},o.isBaseType=function(e){return"string"===e.type||"float"===e.type||"integer"===e.type||"boolean"===e.type||"enum"===e.type||"color"===e.type||"range"===e.type};var ei={label:"大小",properties:{width:{label:"宽",default:0,type:"float"},height:{label:"高",default:0,type:"float"},locked:{label:"等比锁",default:!1,type:"boolean"}},type:"object"},ea={label:"原点",description:"用于设置旋转的中心位置",properties:{x:{label:"x",default:.5,type:"float"},y:{label:"y",default:.5,type:"float"}},type:"object"},er={label:"位置",properties:{x:{label:"x",default:0,type:"float"},y:{label:"y",default:0,type:"float"}},type:"object"},en={label:"旋转",type:"float",default:0},eo={label:"缩放",properties:{x:{label:"x",default:1,type:"float"},y:{label:"y",default:1,type:"float"}},type:"object"},es={label:"倾斜",properties:{x:{label:"x",default:0,type:"float"},y:{label:"y",default:0,type:"float"}},type:"object"},ed={properties:{position:er,size:ei,origin:ea,scale:eo,skew:es,rotation:en},type:"object"};(s=y||(y={})).createDefault=function(){return p.createDefault(ed)},s.toJSON=function(e){return{position:{x:e.position.x,y:e.position.y},size:{width:e.size.width,height:e.size.height,locked:e.size.locked},origin:{x:e.origin.x,y:e.origin.y},scale:{x:e.scale.x,y:e.scale.y},skew:{x:e.skew.x,y:e.skew.y},rotation:e.rotation}},s.getDelta=function(e,t){return{position:{x:t.position.x-e.position.x,y:t.position.y-e.position.y},size:{width:t.size.width-e.size.width,height:t.size.height-e.size.height},origin:{x:t.origin.x-e.origin.x,y:t.origin.y-e.origin.y},scale:{x:t.scale.x-e.scale.x,y:t.scale.y-e.scale.y},skew:{x:t.skew.x-e.skew.x,y:t.skew.y-e.skew.y},rotation:t.rotation-e.rotation}},s.mergeDelta=function(e,t,i){let a=void 0!==i?e=>Math.round(100*e)/100:e=>e;return{position:{x:a(t.position.x+e.position.x),y:a(t.position.y+e.position.y)},size:{width:a(t.size.width+e.size.width),height:a(t.size.height+e.size.height),locked:e.size.locked},origin:{x:a(t.origin.x+e.origin.x),y:a(t.origin.y+e.origin.y)},scale:{x:a(t.scale.x+e.scale.x),y:a(t.scale.y+e.scale.y)},skew:{x:a(t.skew.x+e.skew.x),y:a(t.skew.y+e.skew.y)},rotation:t.rotation+e.rotation}},s.is=function(e){return e&&e.position&&e.size&&"number"==typeof e.position.x&&"number"==typeof e.size.width},(d=m||(m={})).fixSize=function(e,t){if(e.width<=t.width&&e.height<=t.height)return 1;let i=e.width/t.width,a=e.height/t.height;return 1/(i>a?i:a)},d.coverSize=function(e,t){let i=e.width/t.width,a=e.height/t.height;return 1/(i<a?i:a)},d.empty=function(){return{width:0,height:0}},(E||(E={})).empty=()=>({left:0,right:0,top:0,bottom:0}),(C||(C={})).isEmpty=function(e){return!e||void 0===e.topLeft&&void 0===e.topRight&&void 0===e.bottomLeft&&void 0===e.bottomRight};var el={label:"透明度",type:"float",min:0,max:1,default:1},ec=S||(S={});function eh(e){return`${e}px`}function ef(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let r=document.createElement(e);return i.length>0&&(r.className=(0,w.Z)(i)),r}ec.toPixel=eh,ec.fromPercent=function(e){return parseFloat(e.substring(0,e.length-1))},ec.toPercent=function(e){return`${e}%`},ec.enableEvent=function(e){e.style.pointerEvents="all"},ec.disableEvent=function(e){e.style.pointerEvents="none"},ec.createElement=ef,ec.createDivWithClass=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return ef("div",...t)},ec.addClass=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];e.className=(0,w.Z)(i.concat(e.className.split(" ")))},ec.delClass=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];i.forEach(t=>{e.classList.remove(t)}),e.className=e.classList.toString()},ec.coverClass=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];e.className=(0,w.Z)(i)},ec.clearChildren=function(e){e.innerHTML=""},ec.translatePercent=function(e,t,i){e.style.transform=`translate(${t}%, ${i}%)`},ec.translateXPercent=function(e,t){e.style.transform=`translateX(${t}%)`},ec.translateYPercent=function(e,t){e.style.transform=`translateY(${t}%)`},ec.setStyle=function(e,t){let i=[];z(t).forEach(e=>((e,t)=>{void 0!==e&&("number"==typeof e&&"opacity"!==t&&"zIndex"!==t&&"scale"!==t&&(e=eh(e)),i.push(`${t.replace(/([A-Z])/,e=>`-${e.toLowerCase()}`)}:${e}`))})(t[e],e));let a=e.getAttribute("style"),r=i.join(";");a!==r&&e.setAttribute("style",r)},ec.classNameWithPrefix=function(e){return(t,i)=>(0,w.Z)(t.split(/\s+/).map(t=>`${e}-${t}`).join(" "),i)},ec.addStandardDisposableListener=function(e,t,i,a){return e.addEventListener(t,i,a),c.create(()=>{e.removeEventListener(t,i)})},ec.createDOMCache=function(e,t,i){return b.create(()=>{let a="string"==typeof t?ec.createDivWithClass(t):t();return i&&(a.innerHTML=i),e.appendChild(a),Object.assign(a,{dispose:()=>{let{parentNode:e}=a;e&&e.removeChild(a)},setStyle:e=>{ec.setStyle(a,e)}})})};var eu=0;function eb(){return eu===Number.MAX_SAFE_INTEGER&&(eu=0),eu++}function eg(e,t,i){e(t).toSelf().inSingletonScope(),i.forEach(i=>e(i).toService(t))}var ep=Symbol("ContributionProvider"),ey=class{forEach(e){this.getContributions().forEach(e)}getContributions(){if(!this.services){let e=[],{container:t}=this;if(t.isBound(this.identifier))try{e.push(...t.getAll(this.identifier))}catch(e){console.error(e)}this.services=e}return this.services}constructor(e,t){this.container=e,this.identifier=t}};function em(e,t){e(ep).toDynamicValue(e=>new ey(e.container,t)).inSingletonScope().whenTargetNamed(t)}function ev(e){let[,t]=(0,x.useState)(e);return(0,x.useCallback)(e=>t(void 0!==e?e:{}),[])}new class{isDevEnv(){return!1}info(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this.isDevEnv())return console.info(t)}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this.isDevEnv())return console.log(...t)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return console.error(...t)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return console.warn(...t)}}},57064:function(e,t,i){i.d(t,{Bl:()=>u,Bw:()=>O,Co:()=>Q,FC:()=>Z,GH:()=>A,Ps:()=>G,Us:()=>$,au:()=>I,b5:()=>L,fu:()=>S,j0:()=>b,kq:()=>K,o:()=>W,pm:()=>Y,ps:()=>B,yf:()=>z});var a=i(9163),r=i(430550),n=i(832176),o=i(893740),s=i(908600),d=i(444596),l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?c(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&l(t,i,n),n},f=Symbol("NodeContribution"),u=class{registerMaterialRender(e,t){this.materialRenderRegistry.set(e,t)}getMaterialRender(e){return this.materialRenderRegistry.get(e)}registerPluginRender(e,t){this.pluginRenderRegistry.set(e,t)}getPluginRender(e){return this.pluginRenderRegistry.get(e)}registerNodeErrorRender(e){this.registerMaterialRender("Material_CustomNodeError",e)}get nodeRenderHoc(){return(0,r.Z)(this.nodeRenderHocs)}registerNodeRenderHoc(e){this.nodeRenderHocs.push(e)}get nodeErrorRender(){return this.materialRenderRegistry.get("Material_CustomNodeError")}init(){this.nodeContributions.forEach(e=>{var t;return null==(t=e.onRegister)?void 0:t.call(e,this)})}constructor(){this.materialRenderRegistry=new Map,this.pluginRenderRegistry=new Map,this.nodeRenderHocs=[],this.nodeContributions=[]}};h([(0,a.nx)(f),(0,a.jt)()],u.prototype,"nodeContributions",2),h([(0,a.zY)()],u.prototype,"init",1),u=h([(0,a.b2)()],u);var b=class{get json(){return this._json}get readonly(){return this._readonly}set readonly(e){this._readonly=e,this.fireChange()}fireChange(){this.updateJSON(),this.onChangeEmitter.fire(this)}updateJSON(){this._json={readonly:this._readonly}}constructor(){this.onChangeEmitter=new n.Q5,this.onChange=this.onChangeEmitter.event,this._readonly=b.DEFAULT_READONLY,this._json=b.DEFAULT_JSON}};b.DEFAULT_READONLY=!1,b.DEFAULT_JSON={readonly:b.DEFAULT_READONLY},b=h([(0,a.b2)()],b);var g=class{};h([(0,a.f3)(u)],g.prototype,"nodeManager",2),h([(0,a.f3)(b)],g.prototype,"context",2),g=h([(0,a.b2)()],g);var p=new a.nZ((e,t,i,a)=>{e(g).toSelf().inSingletonScope(),e(u).toSelf().inSingletonScope(),e(b).toSelf().inSingletonScope()}),y="Plugin_Form",m="Plugin_Error",E="node_error_render",C="node_placeholder_render",S=class extends o.RD{getDefaultData(){return{error:null}}setError(e){this.update({error:e})}getError(){return this.data.error}};S.type="FlowNodeErrorData";var w={color:"#f54a45"},x=e=>{let{node:t,playgroundContext:i,clientContext:a}=e,r=(0,o.JA)(),n=t.getData(S),d=n.getError(),l=(0,o.G2)(u).getMaterialRender(E),c=(0,s.useCallback)(()=>l?l({error:d,context:{node:t,playgroundContext:i,clientContext:a}}):(e=>{let{error:t}=e;return s.createElement("div",{style:w},t.message)})({error:d,context:{node:t,playgroundContext:i,clientContext:a}}),[d,t,i,a]);return(0,s.useEffect)(()=>{let e=n.onDataChange(()=>{r()});return()=>{e.dispose()}},[]),d?c():null},D=e=>s.createElement(x,{...e}),_=class{onRegister(e){e.registerPluginRender(m,D)}};_=h([(0,a.b2)()],_);var N=new a.nZ(e=>{(0,n.KV)(e,_,[f])}),M=class{makeFormItemMaterialContext(e,t){return{meta:e.meta,path:e.path,readonly:this.nodeEngineContext.readonly,getFormItemValueByPath:e.formModel.getFormItemValueByPath.bind(e.formModel),onFormValidate:e.formModel.onValidate.bind(e.formModel),form:e.formModel,node:e.formModel.flowNodeEntity,playgroundContext:this.playgroundContext,index:null==t?void 0:t.getIndex()}}};h([(0,a.f3)(b)],M.prototype,"nodeEngineContext",2),h([(0,o.el)()],M.prototype,"playgroundContext",2),M=h([(0,a.b2)()],M);var L=class{static normalize(e){return e===L.ROOT||e.endsWith(L.DIVIDER)&&(e=e.slice(0,-1)),e}static join(e){if(e[1].startsWith(L.ROOT))throw Error(`FormPathService Error: join failed, invalid paths[1], paths[1]= ${e[1]}`);return e[0].endsWith(L.DIVIDER)?`${e[0]}${e[1]}`:e.join(L.DIVIDER)}static toArrayPath(e){return L.join([e,L.ARRAY])}static parseArrayItemPath(e){let t=e.split("/"),i=0;for(;i<t.length;){let e=parseInt(t[i]);if(!isNaN(e)){let a=L.toArrayPath(t.slice(0,i).join(L.DIVIDER)),r=t.slice(i+1).join(L.DIVIDER),n=L.join([a,r]);return{itemIndex:e,arrayPath:a,itemMetaPath:n}}i+=1}return null}simplify(e){let t=e.split(L.DIVIDER),i=[];for(let e=0;e<t.length;e++){if(!t[e])throw Error("FormPathService: join failed");t[e]!==L.RELATIVE_CURRENT&&(t[e]===L.RELATIVE_PARENT&&i.pop(),i.push(t[e]))}return i.join(L.DIVIDER)}};L.ROOT="/",L.DIVIDER="/",L.RELATIVE_PARENT="..",L.RELATIVE_CURRENT=".",L.ARRAY="[]",L=h([(0,a.b2)()],L),Symbol("FormModelFactory"),Symbol("FormModelEntity");var I=class{constructor(){this.toDispose=new n.K4}};I=h([(0,a.b2)()],I);var T=class{register(e){this.registry.set(e.key,e)}get(e){return this.registry.get(e)}get objectMap(){return Object.fromEntries(this.registry)}get collection(){return Array.from(this.registry.values())}constructor(){this.registry=new Map}};T=h([(0,a.b2)()],T);var k=Symbol("FormContribution"),P=class e{get type(){return e.type}};P.type="setter";var O=P,R=class e{get type(){return e.type}};R.type="decorator";var A=R;var V=class e{get type(){return e.type}};V.type="effect";var B=V;var F=class e{get type(){return e.type}};F.type="validation";var $=F,z=class{get components(){var e;return(0,d.Z)((null==(e=this.extensionRegistryMap.get(O.type))?void 0:e.objectMap)||{},e=>e.component)}get decorators(){var e;return(0,d.Z)((null==(e=this.extensionRegistryMap.get(A.type))?void 0:e.objectMap)||{},e=>e.component)}registerAbilityExtension(e,t){this.extensionRegistryMap.get(e)||this.extensionRegistryMap.set(e,new T);let i=this.extensionRegistryMap.get(e);i&&i.register(t)}getAbilityExtension(e,t){var i;return null==(i=this.extensionRegistryMap.get(e))?void 0:i.get(t)}registerAbility(e){let t=new e;this.abilityRegistry.set(t.type,t)}registerAbilities(e){e.forEach(this.registerAbility.bind(this))}getAbility(e){return this.abilityRegistry.get(e)}registerSetterHoc(e){this.setterHocs.push(e)}fireFormModelWillInit(e,t){this.onFormModelWillInitEmitter.fire({model:e,data:t})}dispose(){this.onFormModelWillInitEmitter.dispose()}init(){this.formContributions.forEach(e=>{var t;return null==(t=e.onRegister)?void 0:t.call(e,this)})}constructor(){this.abilityRegistry=new Map,this.setterHocs=[],this.extensionRegistryMap=new Map,this.formContributions=[],this.onFormModelWillInitEmitter=new n.Q5,this.onFormModelWillInit=this.onFormModelWillInitEmitter.event}};h([(0,a.f3)(L)],z.prototype,"pathManager",2),h([(0,a.f3)(M)],z.prototype,"formContextMaker",2),h([(0,o.el)()],z.prototype,"playgroundContext",2),h([(0,a.nx)(k),(0,a.jt)()],z.prototype,"formContributions",2),h([(0,a.zY)()],z.prototype,"init",1),z=h([(0,a.b2)()],z);var G=class extends o.RD{getFormModel(){return this.formModel}getDefaultData(){return{}}createForm(e,t){let i=this.flowNodeEntity.getData(S);i.setError(null);try{this.formModel.init(e,t)}catch(e){i.setError(e)}}updateFormValues(e){this.formModel.updateFormValues(e)}recreateForm(e,t){this.createForm(e,t)}toJSON(){return this.formModel.toJSON()}dispose(){super.dispose()}fireDetaiChange(e){this.onDetailChangeEmitter.fire(e)}constructor(e,t){super(e),this.onDetailChangeEmitter=new n.Q5,this.onDetailChange=this.onDetailChangeEmitter.event,this.flowNodeEntity=e,this.formModel=t.formModelFactory(e),this.toDispose.push(this.onDetailChangeEmitter),this.toDispose.push(n.JT.create(()=>{this.formModel.dispose()}))}};function j(e){var t;let{node:i}=e,a=(0,n.JA)(),r=null==(t=i.getData(G))?void 0:t.getFormModel();return(0,s.useEffect)(()=>{let e=null==r?void 0:r.onInitialized(()=>{a()});return()=>{e.dispose()}},[r]),(null==r?void 0:r.initialized)?r.render():null}G.type="FlowNodeEntityFormData";var H=e=>s.createElement(j,{...e}),J=class{onRegister(e){e.registerPluginRender(y,H)}};J=h([(0,a.b2)()],J);var X=new a.nZ(e=>{e(z).toSelf().inSingletonScope(),e(L).toSelf().inSingletonScope(),e(M).toSelf().inSingletonScope(),(0,n.KV)(e,J,[f])});function Y(){return[p,X,N]}var U=s.createContext(b.DEFAULT_JSON),W=(0,s.memo)(e=>{let{node:t}=e,i=(0,o.JA)(),a=t.getData(S),r=t.getData(G).formModel,n=!!t.getData(S).getError(),d=t.getData(G).getFormModel().initialized,l=(0,o.G2)(o.xm),c=(0,o.G2)(o.Zn),h=(0,o.G2)(u),f=h.getPluginRender(y),g=h.getPluginRender(m),p=h.getMaterialRender(C),E=function(){let e=(0,o.JA)(),t=(0,o.G2)(b);return(0,s.useEffect)(()=>{let i=t.onChange(()=>{e()});return()=>{i.dispose()}},[]),t}();(0,s.useEffect)(()=>{let e=a.onDataChange(()=>{i()}),t=r.onInitialized(()=>{i()});return()=>{e.dispose(),t.dispose()}},[]);let w=(0,s.useCallback)(()=>n?g({node:t,playgroundContext:l,clientContext:c}):r.formMeta?d?f({node:t,playgroundContext:l,clientContext:c}):(null==p?void 0:p({node:t,playgroundContext:l}))||null:null,[n,d,g,f,p,t,l]);return s.createElement(U.Provider,{value:E.json},h.nodeRenderHoc(w)())});function K(e,t){e.registerMaterialRender(E,t)}function Z(e,t){e.registerMaterialRender(C,t)}function Q(){return[G,S]}},755395:function(e,t,i){i.d(t,{C$:()=>P,F2:()=>en,Np:()=>et,Od:()=>k,eP:()=>$,gN:()=>J,l0:()=>ea,lE:()=>q,qo:()=>er,rR:()=>o});var a,r,n,o,s,d=i(908600),l=i(314112),c=i(832176),h=i(875787),f=i(349090),u=i(626866),b=i(661195),g=i(969134),p=i(13721),y=i(325486),m=i(938573),E=i(437104),C=i(268479),S=i(952893),w=i(129034),x=i(959250),D=i(336808),_=e=>null!==e&&"object"==typeof e,N=e=>String(Math.floor(Number(e)))===e;function M(e,t){let i=new Set(t),a={};return Object.keys(e).forEach(t=>{i.has(t)&&(a[t]=e[t])}),a}var L=o||(o={});function I(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let r=i.shift();if(void 0===r)return e.toString();let n="";return(n=""===e&&""===r?"":""!==e&&""===r?e.toString():""===e&&""!==r?r.toString():`${e}${L.DIVIDER}${r}`,i.length>0)?I(n,...i):n}function T(e,t,i){if(!e||!t)return[];let a=t.split(L.DIVIDER),r=a.shift(),n=[],o=e;for(;r;){if("object"!=typeof o||null===o)return[];if(r===L.ALL){let e=n.join(L.DIVIDER);return(0,b.Z)(Object.keys(o).map(t=>0===a.length?I(e,t):T(o[t],`${a.join(L.DIVIDER)}`,i).map(i=>I(e,t,i))))}if(!(r in o)&&!i)return[];o=o[r],n.push(r),r=a.shift()}return[t]}L.DIVIDER=".",L.ALL="*",L.isMatch=function(e,t){let i=e.split(L.DIVIDER),a=t.split(L.DIVIDER);return i.length===a.length&&i.every((e,t)=>e===L.ALL||e===a[t])},L.isMatchOrParent=function(e,t){if(""===e)return!0;let i=e.split(L.DIVIDER),a=t.split(L.DIVIDER);if(i.length>a.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==L.ALL&&i[e]!==a[e])return!1;return!0},L.getParentPathByPattern=function(e,t){let i=e.split(L.DIVIDER);return t.split(L.DIVIDER).slice(0,i.length).join(L.DIVIDER)},L.getSubPaths=function(e,t){return t&&"object"==typeof t?(0,b.Z)(e.map(e=>{let i=""===e?t:(0,g.Z)(t,e);return(0,p.Z)(i)?i.map((t,i)=>I(e,i)):(0,y.Z)(i)?Object.keys(i).map(t=>I(e,t)):[]})):[]},L.splitPattern=function(e){let t=e.split(L.DIVIDER),i=[],a=0,r=[];for(;a<t.length;)t[a]===L.ALL?(r.length&&i.push(r.join(L.DIVIDER)),i.push(L.ALL),r=[]):r.push(t[a]),a+=1;return r.length&&i.push(r.join(L.DIVIDER)),i},L.findMatchPaths=T,L.findMatchPathsWithEmptyValue=function(e,t){return t.includes("*")?T(e,t,!0):[t]};var k=((a=k||{}).Error="error",a.Warning="warning",a),P=((r=P||{}).onChange="onChange",r.onBlur="onBlur",r),O=class e{get parent(){if(!(this._path.length<2))return new e(this._path.slice(0,-1))}toString(){return this._path.join(".")}get value(){return this._path}isChild(t){let i=new e(t).value,a=this.value;if(i.length-a.length!=1)return!1;for(let e=0;e<a.length;e++)if(i[e]!==a[e])return!1;return!0}static compareArrayPath(e,t){let i=0;for(;e.value[i]&&t.value[i];){let a=parseInt(e.value[i]),r=parseInt(t.value[i]);if(!isNaN(a)&&!isNaN(r))return a-r;if(e.value[i]!==t.value[i])throw Error(`[Form] Path.compareArrayPath invalid input Error: two path should refers to the same array, but got path1: ${e.toString()}, path2: ${t.toString()}`);i++}throw Error(`[Form] Path.compareArrayPath invalid input Error: got path1: ${e.toString()}, path2: ${t.toString()}`)}isChildOrGrandChild(t){let i=new e(t).value,a=this.value;if(i.length-a.length<1)return!1;for(let e=0;e<a.length;e++)if(i[e]!==a[e])return!1;return!0}getArrayIndex(e){return parseInt(this._path[e.value.length])}concat(t){if("string"==typeof t||"number"==typeof t)return new e(this._path.concat(new e(t.toString())._path));throw Error(`[Form] Error in Path.concat: invalid param type, require number or string, but got ${typeof t}`)}replaceParent(t,i){if(t.value.length>this.value.length)throw Error(`[Form] Error in Path.replaceParent: invalid parent param: ${t}, parent length should not greater than current length.`);let a=[];for(let e=0;e<this.value.length;e++){if(e<t.value.length&&t.value[e]!==this.value[e])throw Error(`[Form] Error in Path.replaceParent: invalid parent param: '${t}' is not a parent of '${this.toString()}'`);e>=t.value.length&&a.push(this.value[e])}return new e(i.value.concat(a))}constructor(e){this._path=[],this._path=(0,f.Z)(e)}};function R(e,t){return(e||[]).map(e=>({...e,name:t}))}function A(e,t){return t?e?Object.keys(t).some(i=>!(0,m.Z)(e[i],t[i]))?{...e,...t}:e:{...t}:e}function V(e,t){return t&&e in t&&delete t[e],t}function B(e){let t={get name(){return e.name},get value(){return e.value},onChange:t=>{"object"==typeof t&&null!==t&&"target"in t&&"object"==typeof t.target?e.value="object"==typeof t&&null!==t&&"target"in t&&"object"==typeof t.target&&"checkbox"===t.target.type?t.target.checked:t.target.value:e.value=t},onBlur(){"onBlur"===e.form.validationTrigger&&e.validate()},onFocus(){e.state.isTouched=!0}};return Object.defineProperty(t,"key",{enumerable:!1,get:()=>e.id}),Object.defineProperty(t,"_fieldModel",{enumerable:!1,get:()=>e}),t}function F(e){return{get isTouched(){return e.isTouched},get invalid(){return e.invalid},get isDirty(){return e.isDirty},get isValidating(){return e.isValidating},get errors(){if(e.errors)return Object.values(e.errors).reduce((e,t)=>e.concat(t),[]);return},get warnings(){if(e.warnings)return Object.values(e.warnings).reduce((e,t)=>e.concat(t),[]);return}}}function $(e){let t={initialValues:e.initialValues,get values(){return e.values},set values(v){e.values=v},state:z(e.state),getValueIn:t=>e.getValueIn(t),setValueIn:(t,i)=>e.setValueIn(t,i),validate:e.validate.bind(e)};return Object.defineProperty(t,"_formModel",{enumerable:!1,get:()=>e}),t}function z(e){return{get isTouched(){return e.isTouched},get invalid(){return e.invalid},get isDirty(){return e.isDirty},get isValidating(){return e.isValidating},get errors(){return e.errors},get warnings(){return e.warnings}}}(n=s||(s={})).shouldTriggerFieldChangeEvent=function(e,t){let{name:i,options:a}=e;if(o.isMatchOrParent(t,i))return!0;if(new O(i).isChildOrGrandChild(t)){var r;return(null==a?void 0:a.action)==="array-append"?!new O(i).isChildOrGrandChild(t):(null==a?void 0:a.action)!=="array-splice"||null==a||null==(r=a.indexes)||!r.length||O.compareArrayPath(new O(t),new O(i).concat(a.indexes[0]))>=0}return!1},n.shouldTriggerFieldValidateWhenChange=function(e,t){let{name:i,options:a}=e;return(null==a?void 0:a.action)==="array-splice"||(null==a?void 0:a.action)==="array-swap"?t===i:n.shouldTriggerFieldChangeEvent(e,t)};var G=d.createContext({}),j=d.createContext({});function H(){return(0,d.useContext)(G)}function J(e){let{name:t,defaultValue:i,render:a,children:r,deps:n}=e,o=H(),s=o.getField(t)||o.createField(t),f=d.useMemo(()=>B(s),[s]),u=(0,h.nt)(s.reactiveState),b=(0,h.nt)(o.reactiveState),g=d.useMemo(()=>F(u),[u]),p=z(b),y=(0,c.JA)();return(d.useEffect(()=>{if(s.disposed)return y(),()=>{};s.renderCount=s.renderCount+1,o.getValueIn(t),void 0!==i&&(o.setInitValueIn(t,i),y());let e=new c.K4;return e.push(s.onValueChange(()=>{y()})),n&&n.forEach(t=>{var i;let a=null==(i=o.getField(t))?void 0:i.onValueChange(()=>{y()});a&&e.push(a)}),()=>{e.dispose(),s.renderCount>1?s.renderCount=s.renderCount-1:o.getField(s.name)===s&&s.dispose()}},[s]),s.disposed)?d.createElement(d.Fragment,null):d.createElement(j.Provider,{value:s},a?a({field:f,fieldState:g,formState:p}):(0,l.Z)(r)?r({field:f,fieldState:g,formState:p}):d.cloneElement(r,{...f}))}function X(e){let t={get key(){return e.id},get name(){return e.path.toString()},get value(){return e.value},onChange:t=>{e.value=t},map:t=>e.map((e,i)=>t(B(e),i)),append:t=>B(e.append(t)),delete:t=>e.delete(t),remove:t=>e.delete(t),swap:(t,i)=>e.swap(t,i),move:(t,i)=>e.move(t,i)};return Object.defineProperty(t,"_fieldModel",{enumerable:!1,get:()=>e}),t}function Y(e,t){return"string"==typeof e?{name:t,message:e,level:"error"}:(null==e?void 0:e.message)?{...e,name:t}:void 0}function U(e,t){return{[e]:t?[t]:[]}}var W={invalid:!1,isDirty:!1,isTouched:!1,isValidating:!1},K={invalid:!1,isDirty:!1,isTouched:!1,isValidating:!1},Z=class{get values(){return(0,u.Z)(this._values)}set values(e){this._values=(0,S.Z)(e)}setIn(e,t){this._values=function(e,t,i){let a=(0,u.Z)(e),r=a,n=0,o=(0,f.Z)(t);for(;n<o.length-1;n++){let t=o[n],i=function(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=(0,f.Z)(t);for(;e&&a<r.length;)e=e[r[a++]];return a===r.length||e?void 0===e?i:e:i}(e,o.slice(0,n+1));if(i&&(_(i)||Array.isArray(i)))r=r[t]=(0,u.Z)(i);else{let e=o[n+1];r=r[t]=N(e)&&Number(e)>=0?[]:{}}}return(0===n?e:r)[o[n]]===i&&o[n]in e?e:(r[o[n]]=i,a)}(this._values||{},e.toString(),t)}getIn(e){return(0,g.Z)(this.values,e.value)}dispose(){}},Q=class{get renderCount(){return this._renderCount}set renderCount(e){this._renderCount=e}initState(){let e=(0,g.Z)(this.form.state.errors,this.name),t=(0,g.Z)(this.form.state.warnings,this.name);e&&(this.state.errors={[this.name]:e}),t&&(this.state.warnings={[this.name]:t})}get path(){return this._path}get name(){return this._path.toString()}set name(e){this._path=new O(e)}get ref(){return this._ref}set ref(e){this._ref=e}get state(){return this._state.value}get reactiveState(){return this._state}get value(){return this.form.getValueIn(this.name)}set value(e){this.form.setValueIn(this.name,e),this.state.isTouched||(this.state.isTouched=!0,this.bubbleState())}updateNameForLeafState(e){var t,i;let{errors:a,warnings:r}=this.state,n=a?null==(t=Object.keys(a))?void 0:t[0]:void 0;n&&(null==a?void 0:a[n])&&n!==e&&(this.state.errors={[e]:(null==a?void 0:a[n])?R(null==a?void 0:a[n],e):null==a?void 0:a[n]});let o=r?null==(i=Object.keys(r))?void 0:i[0]:void 0;o&&(null==r?void 0:r[o])&&o!==e&&(this.state.warnings={[e]:(null==r?void 0:r[o])?R(null==r?void 0:r[o],e):null==r?void 0:r[o]})}updateValidate(e,t){"ui"===t&&this.originalValidate||(this.originalValidate=e)}bubbleState(){let{errors:e,warnings:t}=this.state;if(this.parent){this.parent.state.isTouched=(0,x.Z)(this.parent.children.map(e=>e.state.isTouched),Boolean),this.parent.state.invalid=(0,x.Z)(this.parent.children.map(e=>e.state.invalid),Boolean),this.parent.state.isDirty=(0,x.Z)(this.parent.children.map(e=>e.state.isDirty),Boolean),this.parent.state.isValidating=(0,x.Z)(this.parent.children.map(e=>e.state.isValidating),Boolean),this.parent.state.errors=e?A(this.parent.state.errors,e):V(this.name,this.parent.state.errors),this.parent.state.warnings=t?A(this.parent.state.warnings,t):V(this.name,this.parent.state.warnings),this.parent.bubbleState();return}this.form.state.isTouched=(0,x.Z)(this.form.fields.map(e=>e.state.isTouched),Boolean),this.form.state.invalid=(0,x.Z)(this.form.fields.map(e=>e.state.invalid),Boolean),this.form.state.isDirty=(0,x.Z)(this.form.fields.map(e=>e.state.isDirty),Boolean),this.form.state.isValidating=(0,x.Z)(this.form.fields.map(e=>e.state.isValidating),Boolean),this.form.state.errors=e?A(this.form.state.errors,e):V(this.name,this.form.state.errors),this.form.state.warnings=t?A(this.form.state.warnings,t):V(this.name,this.form.state.warnings)}clearState(){this.state.errors=W.errors,this.state.warnings=W.warnings,this.state.isTouched=W.isTouched,this.state.isDirty=W.isDirty,this.bubbleState()}get children(){let e=[];return this.form.fieldMap.forEach((t,i)=>{this.path.isChild(i)&&e.push(t)}),e}get parent(){let e=this.path.parent;if(e)return this.form.fieldMap.get(e.toString())}clear(){this.value&&(this.value=void 0)}async validate(){await this.validateSelf()}async validateSelf(){this.state.isValidating=!0,this.bubbleState();let{errors:e,warnings:t}=await this._runAsyncValidate();(null==e?void 0:e.length)?(this.state.errors=(0,D.Z)(e,"name"),this.state.invalid=!0):(this.state.errors={[this.name]:[]},this.state.invalid=!1),(null==t?void 0:t.length)?this.state.warnings=(0,D.Z)(t,"name"):this.state.warnings={[this.name]:[]},this.state.isValidating=!1,this.bubbleState(),this.form.onValidateEmitter.fire(this.form.state)}async _runAsyncValidate(){let e=[],t=[],i=await this.form.validateIn(this.name);if(!(null==i?void 0:i.length))return{};{let a=i.map(e=>Y(e,this.name)).filter(Boolean);if(!(null==a?void 0:a.length))return{};let r=(0,D.Z)(a,"level");t=t.concat(r.warning||[]),e=e.concat(r.error||[])}return{errors:e,warnings:t}}updateState(e){}dispose(){this.children.map(e=>e.dispose()),this.toDispose.dispose(),this.form.fieldMap.delete(this.path.toString())}onDispose(e){this.toDispose.onDispose(e)}get disposed(){return this.toDispose.disposed}constructor(e,t){this.onValueChangeEmitter=new c.Q5,this.onValueChange=this.onValueChangeEmitter.event,this.toDispose=new c.K4,this._state=new h.BP({...W}),this._renderCount=0,this._mount=!1,this._path=e,this.form=t,this.id=(0,w.x0)();let i=this.form.onFormValuesChange(e=>{let{values:t,prevValues:i}=e;s.shouldTriggerFieldChangeEvent(e,this.name)&&(this.onValueChangeEmitter.fire({value:(0,g.Z)(t,this.name),prevValue:(0,g.Z)(i,this.name),formValues:t,prevFormValues:i}),"onChange"===this.form.validationTrigger&&s.shouldTriggerFieldValidateWhenChange(e,this.name)&&this.validate())});this.toDispose.push(i),this.toDispose.push(this.onValueChangeEmitter),this.initState()}},q=class extends Q{get children(){let e=[];return this.form.fieldMap.forEach((t,i)=>{this.path.isChild(i)&&e.push(t)}),e.sort((e,t)=>{let i=e.path.value,a=t.path.value;return parseInt(i[i.length-1])-parseInt(a[a.length-1])})}map(e){return(this.value||[]).map((e,t)=>{let i=this.path.concat(t).toString(),a=this.form.getField(i);return a||(a=this.form.createField(i)),a}).map(e)}append(e){var t;let i=(null==(t=this.value)?void 0:t.length)||0,a=this.path.concat(i).toString(),r=this.form.createField(a),n=this.value?[...this.value,e]:[e],o=this.form.values;return this.form.store.setIn(new O(this.name),n),this.form.fireOnFormValuesChange({values:this.form.values,prevValues:o,name:this.name,options:{action:"array-append",indexes:[i]}}),this.form.fireOnFormValuesInit({values:this.form.values,prevValues:o,name:a}),this.onAppendEmitter.fire({value:e,arrayValue:this.value,index:this.value.length-1}),r}delete(e){this._splice(e,1),this.onDeleteEmitter.fire({arrayValue:this.value,index:e})}_splice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e<0||t<0)throw Error("[Form] Error in FieldArrayModel.splice: Invalid Params, start and deleteCount should > 0");if(!this.value||0===this.value.length||t>this.value.length){var i;throw Error(`[Form] Error in FieldArrayModel.splice: delete count exceeds array length, tried to delete ${t} elements, but array length is ${(null==(i=this.value)?void 0:i.length)||0}`)}let a=this.form.values,r=[...this.value];r.splice(e,t),this.form.store.setIn(new O(this.name),r),this.form.fireOnFormValuesChange({values:this.form.values,prevValues:a,name:this.name,options:{action:"array-splice",indexes:Array.from({length:t},(t,i)=>i+e)}});let n=this.children;if(e+t>=n.length)for(let t=e;t<n.length;t++)this.form.disposeField(n[t].name);let o=[],s=new Map(this.form.fieldMap),d=(i,a)=>{var r;if((null==(r=i.children)?void 0:r.length)&&i.children.forEach(e=>{d(e,a)}),a<e)s.set(i.name,i);else if(a<e+t)o.push(i);else{let e=i.name,r=i.path.replaceParent(this.path.concat(a),this.path.concat(a-t)).toString();s.set(r,i),i.children.length||(i.updateNameForLeafState(r),i.bubbleState()),i.name=r,a>n.length-t-1&&s.delete(e)}};n.map((e,t)=>{d(e,t)}),o.forEach(e=>{e.dispose()}),this.form.fieldMap=s,this.form.alignStateWithFieldMap()}swap(e,t){if(!this.value)return;if(e<0||t<0||e>this.value.length-1||t>this.value.length-1)throw Error(`[Form]: FieldArrayModel.swap Error: invalid params 'form' and 'to', form=${e} to=${t}. expect the value between 0 to ${length-1}`);let i=this.form.values,a=[...this.value],r=a[e],n=a[t];a[t]=r,a[e]=n,this.form.store.setIn(this.path,a),this.form.fireOnFormValuesChange({values:this.form.values,prevValues:i,name:this.name,options:{action:"array-swap",indexes:[e,t]}});let o=new Map(this.form.fieldMap),s=this.findAllFieldsAt(e),d=this.findAllFieldsAt(t),l=this.getPathAt(e),c=this.getPathAt(t),h=[];s.forEach(e=>{let t=e.path.replaceParent(l,c).toString();e.name=t,e.children.length||(e.updateNameForLeafState(t),h.push(e)),o.set(t,e)}),d.forEach(e=>{let t=e.path.replaceParent(c,l).toString();e.name=t,e.children.length||e.updateNameForLeafState(t),o.set(t,e),h.push(e)}),this.form.fieldMap=o,h.forEach(e=>e.bubbleState()),this.form.alignStateWithFieldMap()}move(e,t){if(!this.value)return;if(e<0||t<0||e>this.value.length-1||t>this.value.length-1)throw Error(`[Form]: FieldArrayModel.move Error: invalid params 'form' and 'to', form=${e} to=${t}. expect the value between 0 to ${length-1}`);let i=[...this.value],a=i[e];i.splice(e,1),i.splice(t,0,a),this.form.setValueIn(this.name,i)}insertAt(e,t){if(!this.value)return;if(e<0||e>this.value.length)throw Error("[Form]: FieldArrayModel.insertAt Error: index exceeds array boundary");let i=[...this.value];i.splice(e,0,t),this.form.setValueIn(this.name,i)}getPathAt(e){return this.path.concat(e)}findAllFieldsAt(e){let t=this.getPathAt(e),i=t.toString(),a=this.form.fieldMap.get(i)?[this.form.fieldMap.get(i)]:[];return this.form.fieldMap.forEach((e,i)=>{t.isChildOrGrandChild(i)&&a.push(e)}),a}constructor(){super(...arguments),this.onAppendEmitter=new c.Q5,this.onAppend=this.onAppendEmitter.event,this.onDeleteEmitter=new c.Q5,this.onDelete=this.onDeleteEmitter.event}},ee=class{set fieldMap(e){this._fieldMap=e}get fieldMap(){return this._fieldMap}get context(){return this._options.context}get initialValues(){return this._options.initialValues}get values(){return this.store.values}set values(e){let t=this.values;(0,C.deepEqual)(t,e)||(this.store.values=e,this.fireOnFormValuesChange({values:this.values,prevValues:t,name:""}))}get validationTrigger(){return this._options.validateTrigger}get state(){return this._state.value}get reactiveState(){return this._state}get fields(){return Array.from(this.fieldMap.values())}updateState(e){}get initialized(){return this._initialized}fireOnFormValuesChange(e){this.onFormValuesChangeEmitter.fire(e),this.onFormValuesUpdatedEmitter.fire(e)}fireOnFormValuesInit(e){this.onFormValuesInitEmitter.fire(e),this.onFormValuesUpdatedEmitter.fire(e)}init(e){if(this._options=e,e.initialValues){let t=this.store.values;this.store.values=e.initialValues,this.fireOnFormValuesInit({values:e.initialValues,prevValues:t,name:""})}this._initialized=!0}createField(e,t){let i=new O(e),a=i.toString();if(this.fieldMap.get(a))return this.fieldMap.get(a);let r=t?new q(i,this):new Q(i,this);return this.fieldMap.set(a,r),r.onDispose(()=>{this.fieldMap.delete(a)}),this.onFieldModelCreateEmitter.fire(r),r}createFieldArray(e,t){return this.createField(e,!0)}disposeField(e){let t=this.fieldMap.get(e);t&&t.dispose()}deleteField(e){let t=this.fieldMap.get(e);t&&(t.clear(),t.dispose())}getField(e){return this.fieldMap.get(new O(e).toString())}getValueIn(e){return this.store.getIn(new O(e))}setValueIn(e,t){let i=this.values;this.store.setIn(new O(e),t),this.fireOnFormValuesChange({values:this.values,prevValues:i,name:e})}setInitValueIn(e,t){let i=new O(e);if(void 0===this.store.getIn(i)){let i=this.values;this.store.setIn(new O(e),t),this.fireOnFormValuesInit({values:this.values,prevValues:i,name:e})}}clearValueIn(e){this.setValueIn(e,void 0)}async validateIn(e){if(this.validateDisabled)return[];let t=this.getValidateOptions();if(t)return Promise.all(Object.keys(t).filter(t=>o.isMatch(t,e)).map(async i=>(0,t[i])({value:this.getValueIn(e),formValues:this.values,context:this.context,name:e})))}getValidateOptions(){let e=this._options.validate;return"function"==typeof e?e(this.values,this.context):e}async validate(){if(this.validateDisabled)return[];let e=this.getValidateOptions();if(!e)return[];let t=Object.keys(e).map(async t=>{let i=e[t],a=this.values;return Promise.all(o.findMatchPathsWithEmptyValue(a,t).map(async e=>{var t;let r=Y(await i({value:(0,g.Z)(a,e),formValues:a,context:this.context,name:e}),e),n=this.getField(e),o=U(e,(null==r?void 0:r.level)==="error"?r:void 0),s=U(e,(null==r?void 0:r.level)==="warning"?r:void 0);n&&(n.state.errors=o,n.state.warnings=s,n.state.invalid=Object.keys(o).some(e=>{var t;return(null==(t=o[e])?void 0:t.length)>0}),n.bubbleState());return this.state.errors=A(this.state.errors,o),this.state.warnings=A(this.state.warnings,s),this.state.invalid=!(!(t=this.state.errors)||Object.keys(t).every(e=>(0,E.Z)(t[e]))),r}))});this.state.isValidating=!0;let i=await Promise.all(t);return this.state.isValidating=!1,this.onValidateEmitter.fire(this.state),(0,b.Z)(i).filter(Boolean)}alignStateWithFieldMap(){let e=Array.from(this.fieldMap.keys());this.state.errors&&(this.state.errors=M(this.state.errors,e)),this.state.warnings&&(this.state.warnings=M(this.state.warnings,e)),this.fieldMap.forEach(t=>{t.state.errors&&(t.state.errors=M(t.state.errors,e)),t.state.warnings&&(t.state.warnings=M(t.state.warnings,e))})}dispose(){this.fieldMap.forEach(e=>e.dispose()),this.store.dispose(),this._initialized=!1}constructor(){this._fieldMap=new Map,this.store=new Z,this._options={},this.onFieldModelCreateEmitter=new c.Q5,this.onFieldModelCreate=this.onFieldModelCreateEmitter.event,this.onFormValuesChangeEmitter=new c.Q5,this.onFormValuesChange=this.onFormValuesChangeEmitter.event,this.onFormValuesInitEmitter=new c.Q5,this.onFormValuesInit=this.onFormValuesInitEmitter.event,this.onFormValuesUpdatedEmitter=new c.Q5,this.onFormValuesUpdated=this.onFormValuesUpdatedEmitter.event,this.onValidateEmitter=new c.Q5,this.onValidate=this.onValidateEmitter.event,this._state=new h.BP({...K}),this._initialized=!1,this.validateDisabled=!1}};function et(e){let{disableAutoInit:t=!1,...i}=e||{},a=new ee;return t||a.init(i||{}),{form:$(a),control:{_formModel:a,getField:e=>{let t=a.getField(e);if(t)return t instanceof q?X(t):B(t)},init:()=>a.init(i||{})}}}function ei(e){let{form:t,render:i}=e;return d.createElement(d.Fragment,null,i({form:t}))}function ea(e){let{children:t,keepModelOnUnMount:i=!1,control:a,...r}=e,{_formModel:n}=(0,d.useMemo)(()=>a||et(r).control,[a]);(0,d.useEffect)(()=>()=>{i||n.dispose()},[]);let o=(0,d.useMemo)(()=>$(n),[n]);return d.createElement(G.Provider,{value:n},t?(0,l.Z)(t)?d.createElement(ei,{form:o,render:t}):d.Children.only(t):null)}function er(e){let t=(0,c.JA)(),i=H();if(!i)throw Error("[Form] error in useWatch, formModel not found");let a=i.getValueIn(e);return(0,d.useEffect)(()=>{let a=i.onFormValuesUpdated(i=>{let{name:a}=i;a===e&&t()});return()=>a.dispose()},[e,i]),a}function en(e){let{name:t,defaultValue:i,deps:a,render:r,children:n}=e,o=H(),s=o.getField(t)||o.createFieldArray(t),f=d.useMemo(()=>X(s),[s]),u=(0,c.JA)(),b=(0,h.nt)(s.reactiveState),g=(0,h.nt)(o.reactiveState),p=F(b),y=d.useMemo(()=>z(g),[g]);return(d.useEffect(()=>{if(s.disposed)return u(),()=>{};s.renderCount=s.renderCount+1,o.getValueIn(t),void 0!==i&&(o.setInitValueIn(t,i),u());let e=new c.K4;return e.push(s.onValueChange(()=>{u()})),a&&a.forEach(t=>{var i;let a=null==(i=o.getField(t))?void 0:i.onValueChange(()=>{u()});a&&e.push(a)}),()=>{e.dispose(),s.renderCount>1?s.renderCount=s.renderCount-1:o.getField(s.name)===s&&s.dispose()}},[s]),s.disposed)?d.createElement(d.Fragment,null):d.createElement(j.Provider,{value:s},r&&(0,l.Z)(r)?r({field:f,fieldState:p,formState:y}):(0,l.Z)(n)?n({field:f,fieldState:p,formState:y}):d.createElement(d.Fragment,null,"Invalid Array render"))}},928079:function(e,t,i){i.d(t,{CM:()=>T,CR:()=>I,TH:()=>E,wL:()=>M,zE:()=>m});var a,r=i(721855),n=i(969134),o=i(863875),s=i(336808),d=i(325681),l=i(437104),c=i(832176),h=i(57064),f=i(755395),u=i(893740),b=i(540300),g=i(280088),p=i(908600),y=i(129034),m=((a=m||{}).onValueChange="onValueChange",a.onValueInit="onValueInit",a.onValueInitOrChange="onValueInitOrChange",a.onArrayAppend="onArrayAppend",a.onArrayDelete="onArrayDelete",a);function E(e){return"onFormValuesChange"in e}function C(e){return e.startsWith("/")?h.b5.normalize(e).slice(1).split("/").join("."):e}function S(e,t){return()=>{null==e||e(),null==t||t()}}function w(e,t,i){i.forEach(i=>{let a=e.get(i);(null==a?void 0:a[t])&&(a[t](),delete a[t])})}var x=e=>{let{formModel:t}=e;return(null==t?void 0:t.formControl)?p.createElement(p.Fragment,null,p.createElement(f.l0,{control:null==t?void 0:t.formControl,keepModelOnUnMount:!0},t.formMeta.render)):null},D=()=>({}),_=()=>new Map([["onValueInitOrChange",{}],["onValueChange",{}],["onValueInit",{}],["onArrayAppend",{}],["onArrayDelete",{}]]),N=()=>[],M=class extends h.au{get valid(){return this._valid}set valid(e){this._valid=e,this.onValidChangeEmitter.fire(e)}get flowNodeEntity(){return this.node}get formManager(){return this.node.getService(h.yf)}get formControl(){return this._formControl}get formMeta(){return this._formMeta||this.node.getNodeRegistry().formMeta}get values(){var e;return null==(e=this.nativeFormModel)?void 0:e.values}get feedbacks(){return this._feedbacks}updateFormValues(e){if(this.nativeFormModel){let t=this.formMeta.formatOnInit?this.formMeta.formatOnInit(e,this.nodeContext):e;this.nativeFormModel.values=t}}set feedbacks(e){this._feedbacks=e,this.onFeedbacksChangeEmitter.fire(e)}get formItemPathMap(){return new Map}get initialized(){return this._initialized}get nodeContext(){return{node:this.node,playgroundContext:this.node.getService(u.xm),clientContext:this.node.getService(u.Zn)}}get nativeFormModel(){var e;return null==(e=this._formControl)?void 0:e._formModel}render(){return p.createElement(x,{formModel:this})}initPlugins(e){e.length&&(this.plugins=e,e.forEach(e=>{e.init(this)}))}init(e,t){var i;let a=this.node.getData(h.Ps);this.onFormValuesChange(()=>{this._valid=null,a.fireChange()}),null==(i=e.plugins||[])||i.forEach(t=>{t.setupFormMeta&&(e=t.setupFormMeta(e,this.nodeContext))}),this._formMeta=e;let{validateTrigger:l,validate:c,effect:u}=e;u&&(this.effectMap=u);let g="function"==typeof e.defaultValues?e.defaultValues(this.nodeContext):e.defaultValues,p=e.formatOnInit?e.formatOnInit(t,this.nodeContext):t,{control:y}=(0,f.Np)({initialValues:p||g,validateTrigger:l,context:this.nodeContext,validate:c,disableAutoInit:!0});this._formControl=y;let m=y._formModel;this.toDispose.push(m),m.onFormValuesChange(e=>{this.onFormValuesChangeEmitter.fire(e)}),e.plugins&&this.initPlugins(e.plugins),m.onFormValuesChange(e=>{let{values:t,prevValues:i,name:a,options:s}=e;Object.keys(this.effectMap).forEach(e=>{let d=(0,r.Z)([...f.rR.findMatchPaths(t,e),...f.rR.findMatchPaths(i,e)]).filter(e=>(0,n.Z)(t,e)!==(0,n.Z)(i,e));if(f.rR.isMatchOrParent(e,a)){let t=f.rR.getParentPathByPattern(e,a);d.includes(t)||d.push(t)}let l=this.effectMap[e];d.forEach(e=>{let r=["onValueChange","onValueInitOrChange"];(0,o.Z)((0,n.Z)(i,e))&&(r=(null==s?void 0:s.action)==="array-append"&&f.rR.isMatch(`${a}.*`,e)?[]:["onValueInit","onValueInitOrChange"]),w(this.effectReturnMap,e,r),l.forEach(a=>{let{effect:o,event:s}=a;if(r.includes(s)){let a=o({name:e,value:(0,n.Z)(t,e),prevValue:(0,n.Z)(i,e),formValues:t,form:(0,f.eP)(this.nativeFormModel),context:this.nodeContext});if(a&&"function"==typeof a&&this.effectReturnMap.has(s)){let t=this.effectReturnMap.get(s);t[e]=S(t[e],a)}}})})})}),m.onFormValuesInit(e=>{let{values:t,name:i,prevValues:a}=e;Object.keys(this.effectMap).forEach(e=>{let r=f.rR.findMatchPaths(t,e),o=this.effectMap[e];r.forEach(e=>{(f.rR.isMatchOrParent(i,e)||i===e)&&(w(this.effectReturnMap,e,["onValueInit","onValueInitOrChange"]),o.forEach(i=>{let{event:r,effect:o}=i;if("onValueInit"===r||"onValueInitOrChange"===r){let i=o({name:e,value:(0,n.Z)(t,e),formValues:t,prevValue:(0,n.Z)(a,e),form:(0,f.eP)(this.nativeFormModel),context:this.nodeContext});if(i&&"function"==typeof i&&this.effectReturnMap.has(r)){let t=this.effectReturnMap.get(r);t[e]=S(t[e],i)}}}))})})}),m.onFieldModelCreate(e=>{let t=function(e,t){if(!t)return;if(t[e.name])return t[e.name];let i=(0,b.Z)(Object.keys(t),t=>!!t.startsWith("regex:")&&RegExp(t.split(":")[1]).test(e.name));if(i)return t[i]}(e,this.effectMap);if(null==t?void 0:t.length){let i=(0,s.Z)(t,"event");(0,d.Z)(i,(t,i)=>{let a=e=>{t.forEach(t=>{let{effect:i}=t;return i({...e,formValues:m.values,form:(0,f.eP)(this.nativeFormModel),context:this.nodeContext})})};switch(i){case"onArrayAppend":e instanceof f.lE&&e.onAppend(a);break;case"onArrayDelete":e instanceof f.lE&&e.onDelete(a)}})}}),this._formControl.init(),this._initialized=!0,this.onInitializedEmitter.fire(this),this.onDispose(()=>{this._initialized=!1,this.effectMap={},m.dispose()})}toJSON(){var e,t;return this.formMeta.formatOnSubmit?this.formMeta.formatOnSubmit(null==(t=this.nativeFormModel)?void 0:t.values,this.nodeContext):null==(e=this.nativeFormModel)?void 0:e.values}clearValid(){}async validate(){var e,t;return this.formFeedbacks=await (null==(e=this.nativeFormModel)?void 0:e.validate()),this.valid=(0,l.Z)(null==(t=this.formFeedbacks)?void 0:t.filter(e=>"error"===e.level)),this.onValidateEmitter.fire(this),this.valid}getValues(){var e;return null==(e=this._formControl)?void 0:e._formModel.values}getField(e){var t;let i=e.includes("/")?C(e):e;return null==(t=this.formControl)?void 0:t.getField(i)}getValueIn(e){var t;let i=e.includes("/")?C(e):e;return null==(t=this.nativeFormModel)?void 0:t.getValueIn(i)}setValueIn(e,t){var i;let a=e.includes("/")?C(e):e;null==(i=this.nativeFormModel)||i.setValueIn(a,t)}onFormValueChangeIn(e,t){if(!this._initialized)throw Error("[NodeEngine] FormModel Error: onFormValueChangeIn can not be called before initialized");return this.formControl._formModel.onFormValuesChange(i=>{let{name:a,values:r,prevValues:o}=i;a===e&&t({value:(0,n.Z)(r,e),prevValue:(0,n.Z)(o,e),formValues:r,prevFormValues:o})})}getFormItemValueByPath(e){if(!e)return;if("/"===e){var t;return null==(t=this._formControl)?void 0:t._formModel.values}let i=C(e);return this.getValueIn(i)}async validateWithFeedbacks(){return await this.validate(),this.formFeedbacks.map(e=>({feedbackStatus:e.level,feedbackText:e.message,path:e.name}))}getFormItemByPath(e){if(!this.nativeFormModel)return;let t=this;if("/"===e)return{get value(){return t.nativeFormModel.values},set value(v){t.nativeFormModel.values=v}};let i=C(e),a=t.getValueIn(i);return{get value(){return a},set value(v){t.setValueIn(i,v)}}}dispose(){this.onDisposeEmitter.fire(),this.effectReturnMap.forEach(e=>{Object.values(e).forEach(e=>{e()})}),this.effectMap=D(),this.effectReturnMap=_(),this.plugins.forEach(e=>{e.dispose()}),this.plugins=[],this.formFeedbacks=N(),this._valid=null,this._formControl=void 0,this._initialized=!1,this.toDispose.dispose()}constructor(e){super(),this.effectMap=D(),this.effectReturnMap=_(),this.plugins=[],this.formFeedbacks=N(),this.onInitializedEmitter=new c.Q5,this.onValidateEmitter=new c.Q5,this.onValidate=this.onValidateEmitter.event,this.onInitialized=this.onInitializedEmitter.event,this.onDisposeEmitter=new c.Q5,this.onDispose=this.onDisposeEmitter.event,this.toDispose=new c.K4,this.onFormValuesChangeEmitter=new c.Q5,this.onFormValuesChange=this.onFormValuesChangeEmitter.event,this.onValidChangeEmitter=new c.Q5,this.onValidChange=this.onValidChangeEmitter.event,this.onFeedbacksChangeEmitter=new c.Q5,this.onFeedbacksChange=this.onFeedbacksChangeEmitter.event,this._valid=null,this._feedbacks=[],this._initialized=!1,this.node=e,this.toDispose.pushAll([this.onInitializedEmitter,this.onValidateEmitter,this.onValidChangeEmitter,this.onFeedbacksChangeEmitter,this.onFormValuesChangeEmitter])}},L=class{get formModel(){return this._formModel}get ctx(){return{formModel:this.formModel,...this.formModel.nodeContext}}setupFormMeta(e,t){var i,a;let r={...e};return null==(i=(a=this.config).onSetupFormMeta)||i.call(a,{mergeEffect:e=>{var t;t=r.effect||{},r.effect=(0,g.Z)(t,e,function(e,t){return(e||[]).concat(t)})},mergeValidate:e=>{r.validate={...r.validate||{},...e}},addFormatOnInit:e=>{if(!r.formatOnInit){r.formatOnInit=e;return}let t=r.formatOnInit;r.formatOnInit=(i,a)=>null==e?void 0:e(t(i,a),a)},addFormatOnSubmit:e=>{if(!r.formatOnSubmit){r.formatOnSubmit=e;return}let t=r.formatOnSubmit;r.formatOnSubmit=(i,a)=>null==e?void 0:e(t(i,a),a)},...t},this.opts),r}init(e){var t,i;this._formModel=e,null==(i=this.config)||null==(t=i.onInit)||t.call(i,this.ctx,this.opts)}dispose(){var e,t;(null==(e=this.config)?void 0:e.onDispose)&&(null==(t=this.config)||t.onDispose(this.ctx,this.opts))}constructor(e,t){this.name=(null==e?void 0:e.name)||"",this.pluginId=`${this.name}__${(0,y.x0)()}`,this.config=e,this.opts=t}};function I(e){return function(t){return new L(e,t)}}function T(e){var t;let i=null==(t=e.getData(h.Ps))?void 0:t.getFormModel(),a=null==i?void 0:i.nativeFormModel;if(!i||!a)return;let r={initialValues:a.initialValues,get values(){return a.values},state:a.state,getValueIn:e=>a.getValueIn(e),setValueIn:(e,t)=>a.setValueIn(e,t),updateFormValues:e=>{i.updateFormValues(e)},render:()=>p.createElement(h.o,{node:e}),onFormValuesChange:i.onFormValuesChange.bind(i),onFormValueChangeIn:i.onFormValueChangeIn.bind(i),onValidate:i.nativeFormModel.onValidate,validate:i.validate.bind(i)};return Object.defineProperty(r,"_formModel",{enumerable:!1,get:()=>i}),r}},569517:function(e,t,i){i.d(t,{Xm:()=>d,bz:()=>c});var a=i(832176),r=i(893740),n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=0,d=Symbol("BackgroundConfig"),l=class extends r.mh{get gridSize(){return this.options.gridSize??20}get dotSize(){return this.options.dotSize??1}get dotColor(){return this.options.dotColor??"#eceeef"}get dotOpacity(){return this.options.dotOpacity??.5}get backgroundColor(){return this.options.backgroundColor??"transparent"}get dotFillColor(){return this.options.dotFillColor??this.dotColor}get logoConfig(){return this.options.logo}get zoom(){return this.config.finalScale}onReady(){let{firstChild:e}=this.pipelineNode;this.pipelineNode.insertBefore(this.node,e),this.playgroundConfigEntity.updateConfig({minZoom:.1,maxZoom:2}),this.grid.style.zIndex="-1",this.grid.style.position="relative",this.node.appendChild(this.grid),this.grid.className="gedit-grid-svg","transparent"!==this.backgroundColor&&(this.node.style.backgroundColor=this.backgroundColor)}getScaleUnit(){let{zoom:e}=this;return{realSize:this.gridSize,renderSize:Math.round(this.gridSize*e*100)/100,zoom:e}}autorun(){let e=this.playgroundConfigEntity.config,t=this.getScaleUnit(),i=10*t.renderSize,n=e.width+2*i,o=e.height+2*i,{scrollX:s}=e,{scrollY:d}=e,l=this.getScrollDelta(s,i),c=this.getScrollDelta(d,i);a.xF.setStyle(this.node,{left:s-r.JW,top:d-r.JW}),this.drawGrid(t,n,o),this.setSVGStyle(this.grid,{width:n,height:o,left:r.JW-l-i,top:r.JW-c-i})}calculateLogoPosition(e,t){if(!this.logoConfig)return{x:0,y:0};let{position:i="center",offset:a={x:0,y:0}}=this.logoConfig,r=this.playgroundConfigEntity.config,n=10*this.getScaleUnit().renderSize,{scrollX:o,scrollY:s}=r,d=this.getScrollDelta(o,n),l=this.getScrollDelta(s,n),c=n+d,h=n+l,f=c+r.width/2,u=h+r.height/2,b=0,g=0;switch(i){case"center":b=f,g=u;break;case"top-left":b=c+100,g=h+100;break;case"top-right":b=c+r.width-100,g=h+100;break;case"bottom-left":b=c+100,g=h+r.height-100;break;case"bottom-right":b=c+r.width-100,g=h+r.height-100}return{x:b+a.x,y:g+a.y}}getLogoSize(){if(!this.logoConfig)return 0;let{size:e="medium"}=this.logoConfig;if("number"==typeof e)return e;switch(e){case"small":return 24;case"medium":default:return 48;case"large":return 72}}hexToRgb(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}adjustBrightness(e,t){let i=this.hexToRgb(e);if(!i)return e;let a=e=>Math.max(0,Math.min(255,Math.round(e+(255-e)*t)));return`#${a(i.r).toString(16).padStart(2,"0")}${a(i.g).toString(16).padStart(2,"0")}${a(i.b).toString(16).padStart(2,"0")}`}generateNeumorphismFilter(e,t,i,a,r,n,o){let s=o?-a:a,d=o?a:-a;return`
      <defs>
        <filter id="${e}" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="${s}" dy="${s}" stdDeviation="${r}" flood-color="${t}" flood-opacity="${n}"/>
          <feDropShadow dx="${d}" dy="${d}" stdDeviation="${r}" flood-color="${i}" flood-opacity="${n}"/>
        </filter>
      </defs>`}generateLogoSVG(e,t){if(!this.logoConfig)return"";let{text:i,imageUrl:a,opacity:r=.1,color:n="#cccccc",fontSize:o,fontFamily:s="Arial, sans-serif",fontWeight:d="normal",neumorphism:l}=this.logoConfig,c=this.calculateLogoPosition(e,t),h=this.getLogoSize(),f="";if(a)f=`
        <image
          href="${a}"
          x="${c.x-h/2}"
          y="${c.y-h/2}"
          width="${h}"
          height="${h}"
          opacity="${r}"
        />`;else if(i){let e=o??Math.max(h/2,12);if(null==l?void 0:l.enabled){let{textColor:t,lightShadowColor:a,darkShadowColor:n,shadowOffset:o=6,shadowBlur:h=12,intensity:u=.3,raised:b=!0}=l,g="transparent"!==this.backgroundColor?this.backgroundColor:"#f0f0f0",p=t||g,y=a||this.adjustBrightness(g,.2),m=n||this.adjustBrightness(g,-.2),E=`neumorphism-${this._patternId}`;f+=this.generateNeumorphismFilter(E,y,m,o,h,u,b),f+=`
          <text
            x="${c.x}"
            y="${c.y}"
            font-family="${s}"
            font-size="${e}"
            font-weight="${d}"
            fill="${p}"
            opacity="${r}"
            text-anchor="middle"
            dominant-baseline="middle"
            filter="url(#${E})"
          >${i}</text>`}else f=`
          <text
            x="${c.x}"
            y="${c.y}"
            font-family="${s}"
            font-size="${e}"
            font-weight="${d}"
            fill="${n}"
            opacity="${r}"
            text-anchor="middle"
            dominant-baseline="middle"
          >${i}</text>`}return f}drawGrid(e,t,i){let a=e.renderSize;if(!this.grid)return;let r=this.dotSize*this.zoom,n='<svg width="100%" height="100%">';"transparent"!==this.backgroundColor&&(n+=`<rect width="100%" height="100%" fill="${this.backgroundColor}"/>`);let o=[`cx="${r}"`,`cy="${r}"`,`r="${r}"`,`stroke="${this.dotColor}"`,this.options.dotFillColor&&this.dotFillColor!==this.dotColor?`fill="${this.dotFillColor}"`:"",`fill-opacity="${this.dotOpacity}"`].filter(Boolean).join(" ");n+=`
      <pattern id="${this._patternId}" width="${a}" height="${a}" patternUnits="userSpaceOnUse">
        <circle ${o} />
      </pattern>
      <rect width="100%" height="100%" fill="url(#${this._patternId})"/>`;let s=this.generateLogoSVG(t,i);s&&(n+=s),n+="</svg>",this.grid.innerHTML=n}setSVGStyle(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.left}px`,e.style.top=`${t.top}px`)}getScrollDelta(e,t){return e>=0?e%t:t-Math.abs(e)%t}constructor(){super(...arguments),this._patternId=`gedit-background-pattern-${s++}`,this.node=a.xF.createDivWithClass("gedit-flow-background-layer"),this.grid=document.createElement("div")}};l.type="WorkflowBackgroundLayer",((e,t,i,a)=>{for(var r,s=a>1?void 0:a?o(t,i):t,d=e.length-1;d>=0;d--)(r=e[d])&&(s=(a?r(t,i,s):r(s))||s);return a&&s&&n(t,i,s)})([(0,r.O0)(r.ER)],l.prototype,"playgroundConfigEntity",2);var c=(0,r.M1)({onBind:(e,t)=>{e.bind(d).toConstantValue(t)},onInit:(e,t)=>{e.playground.registerLayer(l,t)}})},201063:function(e,t,i){i.d(t,{Nj:()=>p,ou:()=>V,qp:()=>r.qp});var a,r=i(66298),n=i(893740),o=i(952893),s=i(938573),d=i(9163),l=i(832176),c=i(336330),h=i(579962);i(908600);var f=Object.defineProperty,u=Object.getOwnPropertyDescriptor,b=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?u(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&f(t,i,n),n},g=class{addEntityData(e){this._entityDataValues.set(e,(0,o.Z)(e.toJSON())),this._toDispose.push(e.onWillChange(t=>{let i=t.toJSON(),a=this._entityDataValues.get(e);(0,s.Z)(i,a)||this._entityDataValues.set(e,(0,o.Z)(i))}))}getValue(e){return this._entityDataValues.get(e)}setValue(e,t){return this._entityDataValues.set(e,t)}dispose(){this._entityDataValues.clear(),this._toDispose.dispose()}constructor(){this._entityDataValues=new Map,this._toDispose=new l.K4}};g=b([(0,d.b2)()],g);var p=((a=p||{}).addLine="addLine",a.deleteLine="deleteLine",a.changeLineData="changeLineData",a.moveNode="moveNode",a.addNode="addNode",a.deleteNode="deleteNode",a.changeNodeData="changeNodeData",a.resetLayout="resetLayout",a.dragNodes="dragNodes",a.moveChildNodes="moveChildNodes",a),y=class{handle(e){"onDragEnd"===e.type&&this._dragNode(e)}_dragNode(e){this._historyService.pushOperation({type:"dragNodes",value:{ids:e.nodes.map(e=>e.id),value:e.nodes.map(e=>{let{x:t,y:i}=e.getData(n.VO).position;return{x:t,y:i}}),oldValue:e.startPositions}},{noApply:!0})}};b([(0,d.f3)(r.qp)],y.prototype,"_historyService",2),y=b([(0,d.b2)()],y);var m=class{init(e,t){this.enable=!!(null==t?void 0:t.enable),t.nodeToJSON&&(this.nodeToJSON=t.nodeToJSON(e)),t.getNodeLabelById&&(this.getNodeLabelById=t.getNodeLabelById(e)),t.getNodeLabel&&(this.getNodeLabel=t.getNodeLabel(e)),t.getBlockLabel&&(this.getBlockLabel=t.getBlockLabel(e)),t.getNodeURI&&(this.getNodeURI=t.getNodeURI(e)),t.getLineURI&&(this.getLineURI=t.getLineURI(e)),void 0!==t.enableChangeNode&&(this.enableChangeNode=t.enableChangeNode),void 0!==t.enableChangeLineData&&(this.enableChangeLineData=t.enableChangeLineData)}constructor(){this.enableChangeNode=!0,this.enableChangeLineData=!0,this.enable=!1,this.nodeToJSON=e=>e.toJSON(),this.getNodeLabelById=e=>e,this.getNodeLabel=e=>e.id,this.getBlockLabel=e=>e.id,this.getNodeURI=e=>`node:${e}`,this.getLineURI=e=>`line:${e}`}};m=b([(0,d.b2)()],m);var E={type:c.fT.DELETE_NODE,toOperation:(e,t)=>{var i;let a=t.get(m),r=e.entity;return{type:"deleteNode",value:{node:e.toJSON(),parentID:null==(i=r.parent)?void 0:i.id},uri:a.getNodeURI(r.id)}}},C={type:c.fT.DELETE_LINE,toOperation:(e,t)=>{let i=t.get(m),a=e.entity;return{type:"deleteLine",value:{from:a.info.from,to:a.info.to||"",fromPort:a.info.fromPort||"",toPort:a.info.toPort||"",data:a.info.data,id:a.id},uri:i.getNodeURI(a.id)}}},S={type:c.fT.LINE_DATA_CHANGE,toOperation:(e,t)=>{let i=t.get(m),a=e.entity;return{type:"changeLineData",value:{id:a.id,oldValue:e.oldValue,newValue:a.lineData},uri:i.getLineURI(a.id)}}},w={type:c.fT.ADD_NODE,toOperation:(e,t)=>{var i;let a=t.get(m),r=t.get(c.L4),n=e.entity,o=null==(i=n.parent)?void 0:i.id;return{type:"addNode",value:{node:r.toNodeJSON(n),parentID:o},uri:a.getNodeURI(n.id)}}},x=[{type:c.fT.ADD_LINE,toOperation:(e,t)=>{let i=t.get(m),a=e.entity;return{type:"addLine",value:{from:a.info.from,to:a.info.to||"",fromPort:a.info.fromPort||"",toPort:a.info.toPort||"",data:a.info.data,id:a.id},uri:i.getLineURI(a.id)}}},C,w,E,S],D=class{handle(e,t){if(!this._historyService.undoRedoService.canPush()||!this._historyConfig.enableChangeLineData&&e.type===c.fT.LINE_DATA_CHANGE)return;let i=x.find(t=>t.type===e.type);if(!i)return;let a=i.toOperation(e,t);a&&this._historyService.pushOperation(a,{noApply:!0})}};b([(0,d.f3)(r.qp)],D.prototype,"_historyService",2),b([(0,d.f3)(m)],D.prototype,"_historyConfig",2),D=b([(0,d.b2)()],D);var _={shouldMerge:(e,t,i)=>!!t&&Date.now()-i.getTimestamp()<500},N={..._,type:"resetLayout",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:async(e,t)=>{let i=t.get(c.ZO);await i.layoutToPositions(e.value.ids,e.value.value)},shouldMerge:()=>!1},M={..._,type:h.C8.moveChildNodes,inverse:e=>({...e,value:{...e.value,fromIndex:e.value.toIndex,toIndex:e.value.fromIndex,fromParentId:e.value.toParentId,toParentId:e.value.fromParentId}}),apply:(e,t)=>{let i=t.get(c.L4);i.moveChildNodes(e.value);let a=i.getNode(e.value.fromParentId);requestAnimationFrame(()=>{a&&a.flowNodeType!==h.Sy.ROOT&&a.getData(n.VO).fireChange()})}},L={..._,type:"dragNodes",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:(e,t)=>{e.value.ids.forEach((i,a)=>{let r=t.get(c.L4),o=r.getNode(i);if(!o)return;let s=o.getData(n.VO),d=e.value.value[a];s.update({position:{x:d.x,y:d.y}}),r.layout.updateAffectedTransform(o)})}},I={..._,type:"deleteNode",inverse:e=>({...e,type:"addNode"}),apply:(e,t)=>{let i=t.get(c.L4).getNode(e.value.node.id);i&&i.dispose()},getLabel:(e,t)=>{let i=t.get(m);return`Delete Node ${i.getNodeLabel(e.value.node)}`},getDescription:(e,t)=>{var i;let a=t.get(m),r=`Delete Node ${a.getNodeLabel(e.value.node)}`;return(null==(i=e.value.node.meta)?void 0:i.position)&&(r+=` at ${e.value.node.meta.position.x},${e.value.node.meta.position.y}`),r}},T={..._,type:"deleteLine",inverse:e=>({...e,type:"addLine"}),apply:(e,t)=>{t.get(c.L4).removeNode(e.value.id)},getLabel:(e,t)=>"Delete Line",getDescription:(e,t)=>{let i=t.get(m),{value:a}=e;if(!a.from||!a.to)return"Delete Line";let r=i.getNodeLabelById(a.from),n=i.getNodeLabelById(a.to);return`Delete Line from ${r} to ${n}`}},k={..._,type:"changeLineData",inverse:e=>({...e,value:{...e.value,newValue:e.value.oldValue,oldValue:e.value.newValue}}),apply:(e,t)=>{let i=t.get(c.dm).getLineById(e.value.id);i&&(i.lineData=e.value.newValue)},shouldMerge:(e,t,i)=>!!t&&!!(Date.now()-i.getTimestamp()<500)&&(e.type!==t.type||e.value.id!==t.value.id||{type:e.type,value:{...e.value,newValue:e.value.newValue,oldValue:t.value.oldValue}})},P={..._,type:"addNode",inverse:e=>({...e,type:"deleteNode"}),apply:async(e,t)=>{let i=t.get(c.L4);await i.createWorkflowNode((0,o.Z)(e.value.node),!1,e.value.parentID)},getLabel:(e,t)=>{let i=t.get(m);return`Create Node ${i.getNodeLabel(e.value.node)}`},getDescription:(e,t)=>{var i;let a=t.get(m),r=`Create Node ${a.getNodeLabel(e.value.node)}`;return(null==(i=e.value.node.meta)?void 0:i.position)&&(r+=` at ${e.value.node.meta.position.x},${e.value.node.meta.position.y}`),r}},O=[{..._,type:"addLine",inverse:e=>({...e,type:"deleteLine"}),apply:(e,t)=>{t.get(c.dm).createLine({...e.value,key:e.value.id})},getLabel:(e,t)=>"Create Line",getDescription:(e,t)=>{let i=t.get(m),{value:a}=e;if(!a.from||!a.to)return"Create Line";let r=i.getNodeLabelById(a.from),n=i.getNodeLabelById(a.to);return`Create Line from ${r} to ${n}`}},T,P,I,N,L,M,k],R=class{registerOperationMeta(e){O.forEach(t=>{e.registerOperationMeta(t)})}};R=b([(0,d.b2)()],R);var A=class{onInit(e,t){let i=e.get(c.L4),a=e.get(r.qp),o=e.get(c.iw),s=e.get(c.ZO);(null==t?void 0:t.limit)&&a.limit(t.limit),a.context.source=e,this._toDispose.pushAll([o.onNodesDrag(async e=>{"onDragEnd"===e.type&&this._dragNodesHandler.handle(e)}),i.onNodeCreate(e=>{let{node:t,data:i}=e,a=t.getData(n.WV);a&&this._entityManager.addEntityData(a)}),i.onContentChange(t=>{this._changeContentHandler.handle(t,e)}),i.onReload(e=>{a.clear()}),s.onResetLayout(e=>{a.pushOperation({type:"resetLayout",value:{ids:e.nodeIds,value:e.positionMap,oldValue:e.oldPositionMap}},{noApply:!0})}),this._operationService.onNodeMove(e=>{let{node:t,fromParent:i,fromIndex:r,toParent:n,toIndex:o}=e;a.pushOperation({type:h.C8.moveChildNodes,value:{fromParentId:i.id,fromIndex:r,nodeIds:[t.id],toParentId:n.id,toIndex:o}},{noApply:!0})}),this._operationService.onNodePostionUpdate(e=>{let t={ids:[e.node.id],value:[e.newPosition],oldValue:[e.oldPosition]};a.pushOperation({type:"dragNodes",value:t},{noApply:!0})})])}dispose(){this._entityManager.dispose(),this._toDispose.dispose()}constructor(){this._toDispose=new l.K4}};b([(0,d.f3)(y)],A.prototype,"_dragNodesHandler",2),b([(0,d.f3)(D)],A.prototype,"_changeContentHandler",2),b([(0,d.f3)(g)],A.prototype,"_entityManager",2),b([(0,d.f3)(c.xV)],A.prototype,"_operationService",2),A=b([(0,d.b2)()],A);var V=(0,n.M1)({onBind:e=>{let{bind:t}=e;(0,n.KV)(t,R,[r.FU]),t(m).toSelf().inSingletonScope(),t(A).toSelf().inSingletonScope(),t(g).toSelf().inSingletonScope(),t(y).toSelf().inSingletonScope(),t(D).toSelf().inSingletonScope()},onInit(e,t){e.get(m).init(e,t),t.enable&&e.get(A).onInit(e,t)},onDispose(e){e.get(g).dispose()},containerModules:[r.Xn]})},697495:function(e,t,i){i.d(t,{J2:()=>R,Jb:()=>C});var a,r=i(89802),n=i(908600),o=i(65881),s=i(336330),d=i(893740),l=i(461249),c=i(9163),h=i(832176),f=i(438024),u=i(854343),b=i(564085),g=Object.defineProperty,p=Object.getOwnPropertyDescriptor,y=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?p(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&g(t,i,n),n},m=l.ZP.div`
  width: 20px;
  height: 20px;
  border-radius: 50%;
  margin-top: -10px;
  margin-left: -10px;
  left: 50%;
  top: 50%;
  position: absolute;
  // 非 hover 状态下的样式
  border: none;

  & > .symbol {
    opacity: 0;
  }

  .bg-circle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    background-color: var(--g-workflow-port-color-background, #fff);
    transform: scale(0.5);
    transition: all 0.2s linear 0s;
  }

  .bg {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: var(--g-workflow-port-color-secondary, #9197f1);
    transform: scale(0.4, 0.4);
    transition: all 0.2s linear 0s;

    &.hasError {
      background: var(--g-workflow-port-color-error, red);
    }

    .symbol {
      position: absolute;
      width: 14px;
      height: 14px;
      opacity: 0;
      pointer-events: none;
      color: var(--g-workflow-port-color-background, #fff);
      transition: opacity 0.2s linear 0s;

      & > svg {
        width: 14px;
        height: 14px;
      }
    }

    .focus-circle {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 8px;
      height: 8px;
      opacity: 0;
      background: var(--g-workflow-port-color-secondary, #9197f1);
      border-radius: 50%;
      transition: opacity 0.2s linear 0s;
    }
  }

  &.linked .bg:not(.hasError) {
    background: var(--g-workflow-port-color-primary, #4d53e8);
  }

  &.hovered .bg:not(.hasError) {
    border: none;
    cursor: crosshair;
    transform: scale(1, 1);
    background: var(--g-workflow-port-color-primary, #4d53e8);

    & > .symbol {
      opacity: 1;
    }
  }

  .cross-hair {
    position: relative;
    left: 2px;
    top: 2px;

    &::after,
    &::before {
      content: '';
      background: var(--g-workflow-port-color-background, #fff);
      border-radius: 2px;
      position: absolute;
    }

    &::after {
      left: 4px;
      width: 2px;
      height: 6px;
      box-shadow: 0 4px var(--g-workflow-port-color-background, #fff);
    }

    &::before {
      top: 4px;
      width: 6px;
      height: 2px;
      box-shadow: 4px 0 var(--g-workflow-port-color-background, #fff);
    }
`;function E(){return n.createElement("div",{className:"symbol"},n.createElement("div",{className:"cross-hair"}))}var C=n.memo(e=>{var t;let i=(0,d.G2)(s.XH),a=(0,d.G2)(s.dm),{entity:l,onClick:c}=e,{relativePosition:h,disabled:f}=l,[u,b]=(0,n.useState)(l.targetElement),[g,p]=(0,n.useState)(h.x),[y,C]=(0,n.useState)(h.y),[S,w]=(0,n.useState)(!1),[x,D]=(0,n.useState)(!!(null==l||null==(t=l.lines)?void 0:t.length)),[_,N]=(0,n.useState)(e.entity.hasError),M=(0,s.gO)();(0,n.useEffect)(()=>{l.validate(),N(l.hasError);let e=l.onEntityChange(()=>{if(l.targetElement){l.targetElement!==u&&b(l.targetElement);return}let e=l.relativePosition;p(Math.round(e.x)),C(Math.round(e.y))}),t=i.onHoveredChange(e=>{w(i.isHovered(l.id))}),r=l.onErrorChanged(()=>{N(l.hasError)}),n=a.onAvailableLinesChange(()=>{setTimeout(()=>{a.disposed||l.disposed||D(!!l.lines.length)},0)});return()=>{e.dispose(),t.dispose(),r.dispose(),n.dispose()}},[i,l,u]);let L=(0,o.Z)("workflow-port-render",e.className||"",{hovered:!M&&S&&!f,linked:x}),I={};e.primaryColor&&(I["--g-workflow-port-color-primary"]=e.primaryColor),e.secondaryColor&&(I["--g-workflow-port-color-secondary"]=e.secondaryColor),e.errorColor&&(I["--g-workflow-port-color-error"]=e.errorColor),e.backgroundColor&&(I["--g-workflow-port-color-background"]=e.backgroundColor);let T=u?{...e.style,...I}:{...e.style,...I,left:g,top:y},k=n.createElement(m,{className:L,style:T,onClick:e=>null==c?void 0:c(e,l),onTouchStart:e=>{c&&d.UJ.onTouched(e,e=>{c(e,l)})},"data-port-entity-id":l.id,"data-port-entity-type":l.portType,"data-testid":"sdk.workflow.canvas.node.port"},n.createElement("div",{className:(0,o.Z)("bg-circle","workflow-bg-circle")}),n.createElement("div",{className:(0,o.Z)({bg:!0,"workflow-port-bg":!0,"workflow-point-bg":!0,hasError:_})},n.createElement(E,null)),n.createElement("div",{className:"focus-circle"}));return u?r.createPortal(k,u):k});function S(e,t){return{x:e.x-t.x+12,y:e.y-t.y+12}}function w(e,t,i){let a=function(e,t){switch(e){case"left":return{x:-t,y:0};case"right":return{x:t,y:0};case"bottom":return{x:0,y:t};case"top":return{x:0,y:-t}}}(t,i);return{x:e.x+a.x,y:e.y+a.y}}var x=l.ZP.div`
  position: absolute;

  @keyframes flowingDash {
    to {
      stroke-dashoffset: -13;
    }
  }

  .dashed-line {
    stroke-dasharray: 8, 5;
  }

  .flowing-line {
    animation: flowingDash 0.5s linear infinite;
  }
`;function D(e){let{id:t,pos:i,strokeWidth:a,location:r,hide:o}=e;if(o)return null;let s=function(e,t){switch(t){case"left":return`M ${e.x-6},${e.y-6} L ${e.x},${e.y} L ${e.x-6},${e.y+6}`;case"right":return`M ${e.x+6},${e.y+6} L ${e.x},${e.y} L ${e.x+6},${e.y-6}`;case"bottom":return`M ${e.x-6},${e.y+6} L ${e.x},${e.y} L ${e.x+6},${e.y+6}`;case"top":return`M ${e.x-6},${e.y-6} L ${e.x},${e.y} L ${e.x+6},${e.y-6}`}}(i,r);return n.createElement("path",{d:s,strokeLinecap:"round",stroke:`url(#${t})`,fill:"none",strokeWidth:a})}var _=(0,n.memo)(e=>{var t;let{line:i,color:a,selected:r,children:d,strokePrefix:l,rendererRegistry:c}=e,{position:h,reverse:f,hideArrow:u,vertical:b}=i,{bounds:g,path:p}=i.getData(s.ps),y=e=>({x:e.x-g.x+12,y:e.y-g.y+12}),m=y(h.from),E=w(y(h.to),h.to.location,i.uiState.shrink),C=w(m,h.from.location,i.uiState.shrink),S=r?i.uiState.strokeWidthSelected??3:i.uiState.strokeWidth??2,_=l?`${l}-${i.id}`:i.id,N=null==c||null==(t=c.tryToGetRendererComponent("arrow-renderer"))?void 0:t.renderer,M=n.createElement("path",{d:p,fill:"none",stroke:`url(#${_})`,strokeWidth:S,className:i.processing||i.flowing?"dashed-line flowing-line":""});return n.createElement(x,{className:(0,o.Z)("gedit-flow-activity-edge",i.className),style:{...i.uiState.style,left:g.x-12,top:g.y-12,position:"absolute"}},d,n.createElement("svg",{width:g.width+24,height:g.height+24},n.createElement("defs",null,n.createElement("linearGradient",{x1:b?"100%":"0%",y1:b?"0%":"100%",x2:"100%",y2:"100%",id:_,gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:a,offset:"0%"}),n.createElement("stop",{stopColor:a,offset:"100%"}))),n.createElement("g",null,M,n.createElement(N||D,{id:_,pos:f?C:E,strokeWidth:S,location:f?h.from.location:h.to.location,hide:u,line:i}))))},(e,t)=>e.version===t.version),N=class extends d.mh{onZoom(e){this.node.style.transform=`scale(${e})`}onReady(){this.pipelineNode.appendChild(this.node),this.toDispose.pushAll([this.selectService.onSelectionChanged(()=>this.render()),this.hoverService.onHoveredChange(()=>this.render()),this.workflowDocument.linesManager.onForceUpdate(()=>{this.mountedLines.clear(),this.bumpVersion(),this.render()})])}dispose(){this.mountedLines.clear()}render(){let[,e]=(0,n.useState)({});(0,n.useLayoutEffect)(()=>{let t=requestAnimationFrame(()=>{let t=!1;this.lines.forEach(e=>{let i=e.getData(s.ps),a=i.renderVersion;i.update(),i.renderVersion!==a&&(t=!0)}),t&&e({})});return()=>cancelAnimationFrame(t)},[this.lines]);let t=this.lines.map(e=>this.renderLine(e));return n.createElement(n.Fragment,null,t)}bumpVersion(){this._version=this._version+1,this._version===Number.MAX_SAFE_INTEGER&&(this._version=0)}lineProps(e){let{lineType:t}=this.workflowDocument.linesManager,i=this.selectService.isSelected(e.id),a=this.hoverService.isHovered(e.id),r=this.lineVersion(e);return{key:e.id,color:e.color,selected:i,hovered:a,line:e,lineType:t,version:r,strokePrefix:this.layerID,rendererRegistry:this.rendererRegistry}}lineVersion(e){let{renderVersion:t}=e.getData(s.ps),i=this.selectService.isSelected(e.id),a=this.hoverService.isHovered(e.id),{version:r,color:n}=e;return`v:${this._version},lv:${r},rv:${t},c:${n},s:${i?"T":"F"},h:${a?"T":"F"}`}lineComponent(e){let t=this.options.renderInsideLine??(()=>n.createElement(n.Fragment,null));return n.createElement(_,{...e},n.createElement(t,{...e}))}renderLine(e){let t=this.lineProps(e),i=this.mountedLines.get(e.id),a=void 0!==i,{portal:n,version:o}=i??{};if(a&&o===t.version)return n;a||(this.renderElement.appendChild(e.node),e.onDispose(()=>{this.mountedLines.delete(e.id),e.node.remove()}));let s=r.createPortal(this.lineComponent(t),e.node);return this.mountedLines.set(e.id,{line:e,portal:s,version:t.version}),s}get renderElement(){return this.stackContext.node}constructor(){super(...arguments),this.layerID=(0,s.x0)(),this.mountedLines=new Map,this._version=0,this.node=h.xF.createDivWithClass("gedit-playground-layer gedit-flow-lines-layer")}};function M(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function L(e){let{location:t,x1:i,y1:a,x2:r,y2:n,curvature:o}=e;switch(t){case"left":return{x:i-M(i-r,o),y:a};case"right":return{x:i+M(r-i,o),y:a};case"top":return{x:i,y:a-M(a-n,o)};case"bottom":return{x:i,y:a+M(n-a,o)}}}N.type="WorkflowLinesLayer",y([(0,c.f3)(s.XH)],N.prototype,"hoverService",2),y([(0,c.f3)(s.oJ)],N.prototype,"selectService",2),y([(0,c.f3)(u.StackingContextManager)],N.prototype,"stackContext",2),y([(0,c.f3)(f.Rf)],N.prototype,"rendererRegistry",2),y([(0,d.RX)(s.e2)],N.prototype,"lines",2),y([(0,d.RX)(s.FD)],N.prototype,"ports",2),y([(0,d.aI)(s.CT,d.VO)],N.prototype,"trans",2),y([(0,c.f3)(s.L4)],N.prototype,"workflowDocument",2),N=y([(0,c.b2)()],N);var I=class{get path(){var e;return(null==(e=this.data)?void 0:e.path)??""}calcDistance(e){return this.data?h.E9.getDistance(e,this.data.bezier.project(e)):Number.MAX_SAFE_INTEGER}get bounds(){return this.data?this.data.bbox:h.Ae.EMPTY}get center(){var e;return null==(e=this.data)?void 0:e.center}update(e){this.data=this.calcBezier(e.fromPos,e.toPos)}calcBezier(e,t){let{controls:i,center:a}=function(e,t){var i,a,r,n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25,s=L({location:e.location,x1:e.x,y1:e.y,x2:t.x,y2:t.y,curvature:o}),d=L({location:t.location,x1:t.x,y1:t.y,x2:e.x,y2:e.y,curvature:o}),l=(i=e,a=t,r=s,n=d,{x:.125*i.x+.375*r.x+.375*n.x+.125*a.x,y:.125*i.y+.375*r.y+.375*n.y+.125*a.y});return{controls:[s,d],center:l}}(e,t,this.entity.uiState.curvature),r=new b.D([e,...i,t]),n=r.bbox(),o=new h.Ae(n.x.min,n.y.min,n.x.max-n.x.min,n.y.max-n.y.min),s=S(a,o),d=this.getPath({bbox:o,fromPos:e,toPos:t,controls:i});return this.data={fromPos:e,toPos:t,bezier:r,bbox:o,controls:i,path:d,center:{...a,labelX:s.x,labelY:s.y}},this.data}getPath(e){let{bbox:t}=e,i=S(e.fromPos,t),a=S(e.toPos,t),r=e.controls.map(e=>S(e,t)),n=this.entity.uiState.shrink,o=w(i,e.fromPos.location,n),s=w(a,e.toPos.location,n),d=r.map(e=>`${e.x} ${e.y}`).join(",");return`M${o.x} ${o.y} C ${d}, ${s.x} ${s.y}`}constructor(e){this.entity=e}};I.type=s.SP.BEZIER;var T=a||(a={});let k={left:{x:-1,y:0},right:{x:1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1}};T.getPoints=function(e){let t,i,{source:a,target:r}=e,n=k[a.location],o=k[r.location],s={x:a.x+20*n.x,y:a.y+20*n.y,location:a.location},d={x:r.x+20*o.x,y:r.y+20*o.y,location:r.location},l=(e=>{let{source:t,target:i}=e;return"left"===t.location||"right"===t.location?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1}})({source:s,target:d}),c=0!==l.x?"x":"y",h=l[c],f=[],[u,b]=function(e){let{source:t,target:i}=e,a=Math.abs(i.x-t.x)/2,r=i.x<t.x?i.x+a:i.x-a,n=Math.abs(i.y-t.y)/2;return[r,i.y<t.y?i.y+n:i.y-n]}({source:a,target:r});if(n[c]*o[c]==-1){t=u,i=b;let e=[{x:t,y:s.y},{x:t,y:d.y}],a=[{x:s.x,y:i},{x:d.x,y:i}];f=n[c]===h?"x"===c?e:a:"x"===c?a:e}else{let e=[{x:s.x,y:d.y}],a=[{x:d.x,y:s.y}];f="x"===c?n.x===h?a:e:n.y===h?e:a;let r="x"===c?"y":"x",l=n[c]===o[r],u=s[r]>d[r],b=s[r]<d[r];(1===n[c]&&(!l&&u||l&&b)||1!==n[c]&&(!l&&b||l&&u))&&(f="x"===c?e:a);let g={x:s.x,y:s.y},p={x:d.x,y:d.y};Math.max(Math.abs(g.x-f[0].x),Math.abs(p.x-f[0].x))>=Math.max(Math.abs(g.y-f[0].y),Math.abs(p.y-f[0].y))?(t=(g.x+p.x)/2,i=f[0].y):(t=f[0].x,i=(g.y+p.y)/2)}return{points:[a,{x:s.x,y:s.y},...f,{x:d.x,y:d.y},r],center:{x:t,y:i}}},T.getSmoothStepPath=function(e){return e.reduce((t,i,a)=>t+(a>0&&a<e.length-1?function(e,t,i){let a=Math.min(h.E9.getDistance(e,t)/2,h.E9.getDistance(t,i)/2,5),{x:r,y:n}=t;if(e.x===r&&r===i.x||e.y===n&&n===i.y)return`L${r} ${n}`;if(e.y===n){let t=e.x<i.x?-1:1,o=e.y<i.y?1:-1;return`L ${r+a*t},${n}Q ${r},${n} ${r},${n+a*o}`}let o=e.x<i.x?1:-1,s=e.y<i.y?-1:1;return`L ${r},${n+a*s}Q ${r},${n} ${r+a*o},${n}`}(e[a-1],i,e[a+1]):`${0===a?"M":"L"}${i.x} ${i.y}`),"")},T.getBounds=function(e){let t=e.map(e=>e.x),i=e.map(e=>e.y),a=Math.min(...t),r=Math.max(...t),n=Math.min(...i),o=Math.max(...i);return h.Ae.createRectangleWithTwoPoints({x:a,y:n},{x:r,y:o})},T.getFoldLineToPointDistance=(e,t)=>{if(0===e.length)return 1/0;if(1===e.length)return h.E9.getDistance(e[0],t);let i=[];for(let t=0;t<e.length-1;t++)i.push([e[t],e[t+1]]);return Math.min(...i.map(e=>{let[i,a]=e;return((e,t,i)=>{let a,r,{x:n,y:o}=e,{x:s,y:d}=t,{x:l,y:c}=i,h=l-s,f=c-d,u=h*h+f*f,b=0===u?-1:((n-s)*h+(o-d)*f)/u;b<0?(a=s,r=d):b>1?(a=l,r=c):(a=s+b*h,r=d+b*f);let g=n-a,p=o-r;return Math.sqrt(g*g+p*p)})(t,i,a)}))};var P=class{get path(){var e;return(null==(e=this.data)?void 0:e.path)??""}calcDistance(e){return this.data?a.getFoldLineToPointDistance(this.data.points,e):Number.MAX_SAFE_INTEGER}get bounds(){return this.data?this.data.bbox:new h.Ae}get center(){var e;return null==(e=this.data)?void 0:e.center}update(e){let{fromPos:t,toPos:i}=e,r=this.entity.uiState.shrink,n=w(t,t.location,r),o=w(i,i.location,r),{points:s,center:d}=a.getPoints({source:{...n,location:t.location},target:{...o,location:i.location}}),l=a.getBounds(s),c=s.map(e=>S(e,l)),h=a.getSmoothStepPath(c),f=S(d,l);this.data={points:s,path:h,bbox:l,center:{x:d.x,y:d.y,labelX:f.x,labelY:f.y}}}constructor(e){this.entity=e}};P.type=s.SP.LINE_CHART;var O=class{get path(){var e;return(null==(e=this.data)?void 0:e.path)??""}calcDistance(e){if(!this.data)return Number.MAX_SAFE_INTEGER;let[t,i]=this.data.points;return h.E9.getDistance(e,function(e,t,i){let a=i.x-t.x,r=i.y-t.y;if(0===a)return{x:t.x,y:e.y};if(0===r)return{x:e.x,y:t.y};let n=Math.max(0,Math.min(1,((e.x-t.x)*a+(e.y-t.y)*r)/(a*a+r*r)));return{x:t.x+n*a,y:t.y+n*r}}(e,t,i))}get bounds(){return this.data?this.data.bbox:new h.Ae}get center(){var e;return null==(e=this.data)?void 0:e.center}update(e){let{fromPos:t,toPos:i}=e,a=this.entity.uiState.shrink,r=[w(t,t.location,a),w(i,i.location,a)],n=h.Ae.createRectangleWithTwoPoints(r[0],r[1]),o=r.map(e=>({x:e.x-n.x+12,y:e.y-n.y+12})),d=`M ${o[0].x} ${o[0].y} L ${o[1].x} ${o[1].y}`;this.data={points:r,path:d,bbox:n,center:(0,s.KH)(t,i,n,12)}}constructor(e){this.entity=e}};O.type=s.SP.STRAIGHT;var R=(0,d.M1)({singleton:!0,onInit:(e,t)=>{e.playground.registerLayer(N,{...t})},onReady:(e,t)=>{let i=e.container.get(s.dm);i.registerContribution(I).registerContribution(P).registerContribution(O),t.contributions&&t.contributions.forEach(e=>{i.registerContribution(e)}),t.defaultLineType&&i.switchLineType(t.defaultLineType)}})},854343:function(e,t,i){i.r(t),i.d(t,{BASE_Z_INDEX:()=>u,StackingComputing:()=>f,StackingContextManager:()=>b,createFreeStackPlugin:()=>g});var a=i(893740),r=i(827656),n=i(9163),o=i(832176),s=i(336330),d=i(579962),l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?c(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&l(t,i,n),n},f=class{compute(e){this.clearCache();let{root:t,nodes:i,context:a}=e;return this.context=a,this.nodeIndexes=this.computeNodeIndexesMap(i),this.selectedNodeParentSet=this.computeSelectedNodeParentSet(i),this.topLevel=this.computeTopLevel(i),this.maxLevel=2*this.topLevel,this.layerHandler(t.blocks),{nodeLevel:this.nodeLevel,lineLevel:this.lineLevel,topLevel:this.topLevel,maxLevel:this.maxLevel}}clearCache(){this.currentLevel=0,this.topLevel=0,this.maxLevel=0,this.nodeIndexes=new Map,this.nodeLevel=new Map,this.lineLevel=new Map}computeNodeIndexesMap(e){let t=new Map;return e.forEach((e,i)=>{t.set(e.id,i)}),t}computeSelectedNodeParentSet(e){return new Set(this.context.selectedNodes.flatMap(e=>this.getNodeParents(e)).map(e=>e.id))}getNodeParents(e){let t=[],i=e;for(;i&&i.flowNodeType!==d.Sy.ROOT;)t.unshift(i),i=i.parent;return t}computeTopLevel(e){let t=e.filter(e=>e.id!==d.Sy.ROOT),i=t.reduce((e,t)=>t.blocks.length>0?e+1:e,0);return t.length+i+1}layerHandler(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.sortNodes(e);this.getNodesAllLines(i).forEach(e=>{e.isDrawing||this.context.hoveredEntityID===e.id||this.context.selectedIDs.has(e.id)?this.lineLevel.set(e.id,this.maxLevel):this.lineLevel.set(e.id,this.getLevel(t))}),this.levelIncrease(),i.forEach(e=>{let i=this.context.selectedIDs.has(e.id);i?this.nodeLevel.set(e.id,this.topLevel):this.nodeLevel.set(e.id,this.getLevel(t)),this.levelIncrease(),e.blocks.length>0&&this.layerHandler(e.blocks,t||i)})}sortNodes(e){let t=e.sort((e,t)=>{let i=this.nodeIndexes.get(e.id),a=this.nodeIndexes.get(t.id);return void 0===i||void 0===a?0:i-a});return this.context.sortNodes(t).sort((e,t)=>{let i=this.selectedNodeParentSet.has(e.id),a=this.selectedNodeParentSet.has(t.id);return i&&!a?1:!i&&a?-1:0})}getNodesAllLines(e){return e.map(e=>{let t=e.getData(s.Z1);return[...t.outputLines.filter(Boolean),...t.inputLines.filter(Boolean)]}).flat().filter(e=>void 0===this.lineLevel.get(e.id)||this.isHigherFirstLine(e))}isHigherFirstLine(e){var t,i;return(null==(t=e.to)?void 0:t.parent)===e.from||(null==(i=e.from)?void 0:i.parent)===e.to}getLevel(e){return e?this.topLevel+this.currentLevel:this.currentLevel}levelIncrease(){this.currentLevel+=1}},u=8,b=class{init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...this.options,...e},this.pipelineRenderer.node.appendChild(this.node),this.mountListener()}ready(){this.compute()}dispose(){this.disposers.forEach(e=>e.dispose())}_compute(){let e=this.context,{nodeLevel:t,lineLevel:i}=new f().compute({root:this.document.root,nodes:this.nodes,context:e});this.nodes.forEach(e=>{let i=t.get(e.id),a=e.getData(d.Lz),r=a.node;if(r.style.position="absolute",void 0===i){a.stackIndex=0,r.style.zIndex="auto";return}a.stackIndex=i,r.style.zIndex=String(u+i)}),this.lines.forEach(e=>{let t=i.get(e.id),a=e.node;if(a.style.position="absolute",void 0===t){e.stackIndex=0,a.style.zIndex="auto";return}e.stackIndex=t,a.style.zIndex=String(u+t)})}get nodes(){return this.entityManager.getEntities(s.CT)}get lines(){return this.entityManager.getEntities(s.e2)}get context(){var e;return{hoveredEntityID:null==(e=this.hoverService.someHovered)?void 0:e.id,selectedNodes:this.selectService.selectedNodes,selectedIDs:new Set(this.selectService.selection.map(e=>e.id)),sortNodes:this.options.sortNodes}}mountListener(){let e=this.onEntityChange(),t=this.onZoom(),i=this.onHover(),a=this.onSelect();this.disposers=[e,t,i,a]}onZoom(){return this.pipelineRegistry.onZoom(e=>{this.node.style.transform=`scale(${e})`})}onHover(){return this.hoverService.onHoveredChange(()=>{this.compute()})}onEntityChange(){return this.entityManager.onEntityChange(()=>{this.compute()})}onSelect(){return this.selectService.onSelectionChanged(()=>{this.compute()})}constructor(){this.node=o.xF.createDivWithClass("gedit-playground-layer gedit-flow-render-layer"),this.options={sortNodes:e=>e},this.disposers=[],this.compute=(0,r.Z)(this._compute,10)}};h([(0,n.f3)(s.L4)],b.prototype,"document",2),h([(0,n.f3)(a.v2)],b.prototype,"entityManager",2),h([(0,n.f3)(a.Tj)],b.prototype,"pipelineRenderer",2),h([(0,n.f3)(a.Rm)],b.prototype,"pipelineRegistry",2),h([(0,n.f3)(s.XH)],b.prototype,"hoverService",2),h([(0,n.f3)(s.oJ)],b.prototype,"selectService",2),b=h([(0,n.b2)()],b);var g=(0,a.M1)({singleton:!0,onBind(e){let{bind:t}=e;t(b).toSelf().inSingletonScope()},onInit(e,t){e.get(b).init(t)},onReady(e){e.get(b).ready()},onDispose(e){e.get(b).dispose()}})},324067:function(e,t,i){i.d(t,{Y:()=>r});var a=i(438024),r=(0,i(893740).M1)({onInit(e,t){!1!==t.enable&&(e.playground.registerLayer(a.aK,t),e.playground.registerLayer(a.Kz,{canSelect:t.canSelect}))}})},148168:function(e,t,i){i.d(t,{Kg:()=>c,cL:()=>b});var a,r=i(893740),n=i(9163),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,d=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?s(t,i):t,d=e.length-1;d>=0;d--)(r=e[d])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&o(t,i,n),n},l=Symbol("ShortcutsContribution"),c=class{addHandlers(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{this.commandRegistry.getCommand(e.commandId)?this.commandRegistry.registerHandler(e.commandId,{execute:e.execute,isEnabled:e.isEnabled}):this.commandRegistry.registerCommand({id:e.commandId,...e.commandDetail||{}},{execute:e.execute,isEnabled:e.isEnabled})}),this.shortcutsHandlers.unshift(...t)}addHandlersIfNotFound(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{this.has(e.commandId)||this.addHandlers(e)})}has(e){return this.shortcutsHandlers.some(t=>t.commandId===e)}init(){var e;null==(e=this.contribs)||e.forEach(e=>e.registerShortcuts(this))}constructor(){this.shortcutsHandlers=[]}};d([(0,n.f3)(r.Qc),(0,n.t6)(l),(0,n.jt)()],c.prototype,"contribs",2),d([(0,n.f3)(r.Ho)],c.prototype,"commandRegistry",2),d([(0,n.zY)()],c.prototype,"init",1),c=d([(0,n.b2)()],c);var h={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,meta:/(mac|iphone|ipod|ipad)/i.test("undefined"!=typeof navigator?null==(a=navigator)?void 0:a.platform:"")?[91,93]:[91,92],selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,"=":187,comma:188,dash:189,"-":189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},f={ctrl:e=>e.ctrlKey,shift:e=>e.shiftKey,alt:e=>e.altKey,meta:e=>"keyup"===e.type?h.meta.includes(e.keyCode):e.metaKey},u=class extends r.mh{onReady(){this.shortcuts.addHandlersIfNotFound({commandId:r.mY.Default.ZOOM_IN,shortcuts:["meta =","ctrl ="],execute:()=>{this.config.zoomin()}},{commandId:r.mY.Default.ZOOM_OUT,shortcuts:["meta -","ctrl -"],execute:()=>{this.config.zoomout()}}),this.toDispose.pushAll([this.listenPlaygroundEvent("keydown",e=>{this.isFocused&&e.target===this.playgroundNode&&this.shortcuts.shortcutsHandlers.some(t=>{if(t.shortcuts.some(t=>(function(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e.key||!t)return!1;let a=t.split(/\s+/),r=0;for(let t of a){let i=f[t],a=h[t.toLowerCase()];(i&&i(e)||a&&a===e.keyCode)&&r++}return i?r===a.length&&function(e){let t=Object.keys(f).reduce((t,i)=>f[i](e)?t+1:t,0);return[16,17,18,91,92].includes(e.keyCode)?t:t+1}(e)===a.length:r===a.length})(e,t))&&(!t.isEnabled||t.isEnabled(e)))return t.execute(e),e.preventDefault(),!0})})])}};u.type="ShortcutsLayer",d([(0,n.f3)(c)],u.prototype,"shortcuts",2),d([(0,n.f3)(r.z2)],u.prototype,"selection",2),u=d([(0,n.b2)()],u);var b=(0,r.M1)({onBind:e=>{let{bind:t}=e;t(c).toSelf().inSingletonScope(),(0,r.yb)(t,l)},onInit:e=>{e.playground.registerLayer(u)},contributionKeys:[l]})},319428:function(e,t,i){i.d(t,{$Y:()=>eN,$e:()=>eM,$s:()=>X,Gw:()=>o,Hx:()=>Y,LF:()=>eI,OI:()=>em,gJ:()=>eD,i2:()=>ew,qR:()=>s,qm:()=>ex,rV:()=>eL,sX:()=>eS});var a,r,n,o,s,d=i(9163),l=i(149674),c=i(832176),h=i(706493),f=i(666442),u=i(340823),b=i(26302),g=i(492320),p=i(499273),y=i(705999),m=i(314842),E=i(98029),C=i(366418),S=i(322972),w=i(129034),x=i(441473),D=i(863875),_=i(268479),N=i(923032),M=i(972453),L=i(207074),I=i(928365),T=i(51429),k=i(661195),P=i(582939),O=i(697497),R=i(908600),A=i(893740),V=Object.defineProperty,B=Object.getOwnPropertyDescriptor,F=(e,t,i,a)=>{for(var r,n=a>1?void 0:a?B(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a?r(t,i,n):r(n))||n);return a&&n&&V(t,i,n),n},$=(e,t)=>(i,a)=>t(i,a,e);function z(e){return c.JT.create(()=>e.unsubscribe())}var G=()=>{let e=new Map,t=(t,i)=>{if(e.has(t))return e.get(t);let a=i();return e.set(t,a),a};return t.clear=t=>{t?e.delete(t):e.clear()},t},j=class{onAnyVariableChange(e){return z(this.anyVariableChange$.subscribe(e))}onVariableListChange(e){return z(this.variables$.subscribe(e))}onListOrAnyVarChange(e){let t=new c.K4;return t.pushAll([this.onVariableListChange(e),this.onAnyVariableChange(e)]),t}fireChange(){var e;this.bumpVersion(),this.onDataChangeEmitter.fire(),this.variables$.next(this.variables),null==(e=this.parentTable)||e.fireChange()}get version(){return this._version}bumpVersion(){this._version=this._version+1,this._version===Number.MAX_SAFE_INTEGER&&(this._version=0)}get variables(){return Array.from(this.table.values())}get variableKeys(){return Array.from(this.table.keys())}getByKeyPath(e){let[t,...i]=e||[];if(!t)return;let a=this.getVariableByKey(t);return i.length?null==a?void 0:a.getByKeyPath(i):a}getVariableByKey(e){return this.table.get(e)}addVariableToTable(e){this.table.set(e.key,e),this.parentTable&&this.parentTable.addVariableToTable(e)}removeVariableFromTable(e){this.table.delete(e),this.parentTable&&this.parentTable.removeVariableFromTable(e)}dispose(){var e;this.variableKeys.forEach(e=>{var t;return null==(t=this.parentTable)?void 0:t.removeVariableFromTable(e)}),null==(e=this.parentTable)||e.fireChange(),this.variables$.complete(),this.variables$.unsubscribe(),this.toDispose.dispose()}constructor(e){this.parentTable=e,this.table=new Map,this.toDispose=new c.K4,this.onDataChangeEmitter=new c.Q5,this.variables$=new l.x,this.anyVariableChange$=this.variables$.pipe((0,h.w)(e=>(0,f.T)(...e.map(e=>e.value$.pipe((0,u.T)(1))))),(0,b.B)()),this.onDataChange=this.onDataChangeEmitter.event,this._version=0,this.toDispose.pushAll([this.onDataChangeEmitter,this.onAnyVariableChange(()=>{this.bumpVersion()})])}},H=Symbol("DynamicVariableEngine"),J=Symbol("ContainerProvider"),X=class{get variableEngine(){return this.variableEngineProvider()}refreshAllChange(){this.variableEngine.getAllScopes().forEach(e=>{e.refreshCovers(),e.refreshDeps()})}dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}get onDispose(){return this.toDispose.onDispose}constructor(){this.toDispose=new c.K4}};F([(0,d.f3)(H)],X.prototype,"variableEngineProvider",2),X=F([(0,d.b2)()],X);var Y=((a=Y||{}).String="String",a.Number="Number",a.Integer="Integer",a.Boolean="Boolean",a.Object="Object",a.Array="Array",a.Map="Map",a.Union="Union",a.Any="Any",a.CustomType="CustomType",a.Property="Property",a.VariableDeclaration="VariableDeclaration",a.VariableDeclarationList="VariableDeclarationList",a.KeyPathExpression="KeyPathExpression",a.EnumerateExpression="EnumerateExpression",a.WrapArrayExpression="WrapArrayExpression",a.ListNode="ListNode",a.DataNode="DataNode",a.MapNode="MapNode",a),U=Symbol("post_construct_ast");function W(e){let{getChildNode:t,updateChildNode:i,removeChildNode:a,nextJSON:r}=e,n=t(),o=(null==n?void 0:n.kind)!==(null==r?void 0:r.kind),s=(null==r?void 0:r.key)&&(null==r?void 0:r.key)!==(null==n?void 0:n.key);if(o||s){if(n&&(n.dispose(),a()),r){let e=this.createChildNode(r);return i(e),this.fireChange(),e}this.fireChange()}else r&&(null==n||n.fromJSON(r));return n}function K(e){return"string"==typeof e?{kind:e}:e}(r=o||(o={})).isString=e=>(null==e?void 0:e.kind)==="String",r.isNumber=e=>(null==e?void 0:e.kind)==="Number",r.isBoolean=e=>(null==e?void 0:e.kind)==="Boolean",r.isInteger=e=>(null==e?void 0:e.kind)==="Integer",r.isObject=e=>(null==e?void 0:e.kind)==="Object",r.isArray=e=>(null==e?void 0:e.kind)==="Array",r.isMap=e=>(null==e?void 0:e.kind)==="Map",r.isCustomType=e=>(null==e?void 0:e.kind)==="CustomType",r.isVariableDeclaration=e=>(null==e?void 0:e.kind)==="VariableDeclaration",r.isProperty=e=>(null==e?void 0:e.kind)==="Property",r.isBaseVariableField=e=>!!(null==e?void 0:e.flags),r.isVariableDeclarationList=e=>(null==e?void 0:e.kind)==="VariableDeclarationList",r.isEnumerateExpression=e=>(null==e?void 0:e.kind)==="EnumerateExpression",r.isWrapArrayExpression=e=>(null==e?void 0:e.kind)==="WrapArrayExpression",r.isKeyPathExpression=e=>(null==e?void 0:e.kind)==="KeyPathExpression",r.is=function(e,t){return(null==e?void 0:e.kind)===(null==t?void 0:t.kind)};var Z=class e{get kind(){if(!this.constructor.kind)throw Error(`ASTNode Registry need a kind: ${this.constructor.name}`);return this.constructor.kind}get children(){return Array.from(this._children)}createChildNode(e){let t=this.scope.variableEngine.astRegisters.createAST(e,{parent:this,scope:this.scope});return this._children.add(t),t.toDispose.push(c.JT.create(()=>{this._children.delete(t)})),t}updateChildNodeByKey(e,t){this.withBatchUpdate(W).call(this,{getChildNode:()=>this[e],updateChildNode:t=>this[e]=t,removeChildNode:()=>this[e]=void 0,nextJSON:t})}withBatchUpdate(e){var t=this;return function(){for(var i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];if(t._batch.batching)return e.call(t,...a);t._batch.hasChangesInBatch=!1,t._batch.batching=!0;let n=e.call(t,...a);return t._batch.batching=!1,t._batch.hasChangesInBatch&&t.fireChange(),t._batch.hasChangesInBatch=!1,n}}fireChange(){var e;if(!this.changeLocked&&!this.disposed){if(this._batch.batching){this._batch.hasChangesInBatch=!0;return}this._version++,this.value$.next(this),this.dispatchGlobalEvent({type:"UpdateAST"}),null==(e=this.parent)||e.fireChange()}}get version(){return this._version}get hash(){return`${this._version}${this.kind}${this.key}`}subscribe(t){let{selector:i,debounceAnimation:a,triggerOnInit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return z(this.value$.pipe((0,p.U)(()=>i?i(this):this),(0,y.x)((e,t)=>(0,_.shallowEqual)(e,t),t=>t instanceof e?t.hash:t),r?(0,m.b)(()=>null):(0,u.T)(1),a?(0,E.b)(0,C.Z):(0,m.b)(()=>null)).subscribe(t))}dispatchGlobalEvent(e){this.scope.event.dispatch({...e,ast:this})}dispose(){this.toDispose.disposed||(this.toDispose.dispose(),this.dispatchGlobalEvent({type:"DisposeAST"}),this.value$.complete(),this.value$.unsubscribe())}get disposed(){return this.toDispose.disposed}constructor({key:e,parent:t,scope:i},a){var r;this.flags=0,this._version=0,this.changeLocked=!1,this._batch={batching:!1,hasChangesInBatch:!1},this.value$=new S.X(this),this._children=new Set,this.toDispose=new c.K4(c.JT.create(()=>{var e;null==(e=this.parent)||e.fireChange(),this.children.forEach(e=>e.dispose())})),this.onDispose=this.toDispose.onDispose,this.scope=i,this.parent=t,this.opts=a,this.key=e||(0,w.x0)(),this.fromJSON=this.withBatchUpdate(this.fromJSON.bind(this));let n=null==(r=this.toJSON)?void 0:r.bind(this);this.toJSON=()=>(0,x.Z)({kind:this.kind,...(null==n?void 0:n())||{}},D.Z)}},Q=class extends Z{isTypeEqual(e){let t=K(e);if((null==t?void 0:t.kind)==="Union"){var i;return null==(i=(null==t?void 0:t.types)||[])?void 0:i.some(e=>this.isTypeEqual(e))}return this.kind===(null==t?void 0:t.kind)}getByKeyPath(){throw arguments.length>0&&void 0!==arguments[0]&&arguments[0],Error(`Get By Key Path is not implemented for Type: ${this.kind}`)}constructor(){super(...arguments),this.flags=8}},q=class extends Q{fromJSON(e){let{items:t}=e;this.updateChildNodeByKey("items",K(t))}get canDrilldownItems(){var e;return!!((null==(e=this.items)?void 0:e.flags)&16)}getByKeyPath(e){let[t,...i]=e||[];if("0"===t&&this.canDrilldownItems)return this.items.getByKeyPath(i)}isTypeEqual(e){let t=K(e),i=super.isTypeEqual(e);return(null==t?void 0:t.weak)||(null==t?void 0:t.kind)==="Union"?i:t&&i&&((null==t?void 0:t.weak)||this.customStrongEqual(t))}customStrongEqual(e){var t;return this.items?null==(t=this.items)?void 0:t.isTypeEqual(e.items):!(null==e?void 0:e.items)}toJSON(){var e;return{kind:"Array",items:null==(e=this.items)?void 0:e.toJSON()}}constructor(){super(...arguments),this.flags=48}};q.kind="Array";var ee=class extends Q{get format(){return this._format}fromJSON(e){(null==e?void 0:e.format)!==this._format&&(this._format=null==e?void 0:e.format,this.fireChange())}toJSON(){return{format:this._format}}constructor(){super(...arguments),this.flags=8}};ee.kind="String";var et=class extends Q{fromJSON(){}toJSON(){return{}}constructor(){super(...arguments),this.flags=8}};et.kind="Integer";var ei=class extends Q{fromJSON(){}toJSON(){return{}}};ei.kind="Boolean";var ea=class extends Q{fromJSON(){}toJSON(){return{}}};ea.kind="Number";var er=class extends Q{fromJSON(e){let{keyType:t="String",valueType:i}=e;this.updateChildNodeByKey("keyType",K(t)),this.updateChildNodeByKey("valueType",K(i))}isTypeEqual(e){let t=K(e),i=super.isTypeEqual(e);return(null==t?void 0:t.weak)||(null==t?void 0:t.kind)==="Union"?i:t&&i&&((null==t?void 0:t.weak)||this.customStrongEqual(t))}customStrongEqual(e){var t,i;let{keyType:a="String",valueType:r}=e;return(!r&&!this.valueType||(null==(t=this.valueType)?void 0:t.isTypeEqual(r)))&&(null==(i=this.keyType)?void 0:i.isTypeEqual(a))}toJSON(){var e,t;return{kind:"Map",keyType:null==(e=this.keyType)?void 0:e.toJSON(),valueType:null==(t=this.valueType)?void 0:t.toJSON()}}};er.kind="Map";var en=class extends Q{fromJSON(e){let{properties:t}=e,i=new Set(this.propertyTable.keys()),a=[...this.properties||[]];this.properties=(t||[]).map(e=>{let t=this.propertyTable.get(e.key);if(i.delete(e.key),t)return t.fromJSON(e),t;{let t=this.createChildNode({...e,kind:"Property"});return this.fireChange(),this.propertyTable.set(e.key,t),t}}),i.forEach(e=>{let t=this.propertyTable.get(e);null==t||t.dispose(),this.propertyTable.delete(e),this.fireChange()}),this.dispatchGlobalEvent({type:"ObjectPropertiesChange",payload:{prev:a,next:[...this.properties]}})}toJSON(){return{properties:this.properties.map(e=>e.toJSON())}}getByKeyPath(e){var t;let[i,...a]=e,r=this.propertyTable.get(i);return a.length?(null==r?void 0:r.type)&&(null==r||null==(t=r.type)?void 0:t.flags)&16?r.type.getByKeyPath(a):void 0:r}isTypeEqual(e){let t=K(e),i=super.isTypeEqual(e);return(null==t?void 0:t.weak)||(null==t?void 0:t.kind)==="Union"?i:t&&i&&((null==t?void 0:t.weak)||this.customStrongEqual(t))}customStrongEqual(e){let t=e.properties||[],i=Array.from(this.propertyTable.keys()),a=t.map(e=>e.key);return!(0,N.Z)(i,a).length&&t.every(e=>{var t;let i=this.propertyTable.get(e.key);return i&&i.key===e.key&&(null==(t=i.type)?void 0:t.isTypeEqual(null==e?void 0:e.type))})}constructor(){super(...arguments),this.flags=16,this.propertyTable=new Map}};en.kind="Object";var eo=class extends Q{get typeName(){return this._typeName}fromJSON(e){this._typeName!==e.typeName&&(this._typeName=e.typeName,this.fireChange())}isTypeEqual(e){let t=K(e);if((null==t?void 0:t.kind)==="Union"){var i;return null==(i=(null==t?void 0:t.types)||[])?void 0:i.some(e=>this.isTypeEqual(e))}return(null==t?void 0:t.kind)===this.kind&&(null==t?void 0:t.typeName)===this.typeName}toJSON(){return{typeName:this.typeName}}};function es(e){let t=e.parent,i=[];for(;t;)1&t.flags&&i.push(t),t=t.parent;return i}eo.kind="CustomType";var ed=class extends Z{get globalVariableTable(){return this.scope.variableEngine.globalVariableTable}get parentFields(){return es(this)}get refs(){return this._refs}refreshRefs(){this.refreshRefs$.next()}constructor(e,t){super(e,t),this.flags=4,this._refs=[],this.refreshRefs$=new l.x,this.refs$=this.refreshRefs$.pipe((0,p.U)(()=>this.getRefFields()),(0,y.x)(_.shallowEqual),(0,h.w)(e=>(null==e?void 0:e.length)?(0,L.a)(e.map(e=>e?e.value$:(0,M.of)(void 0))):(0,M.of)([])),(0,b.B)()),this.toDispose.push(z(this.refs$.subscribe(e=>{this._refs=e,this.fireChange()})))}},el=class extends ed{get enumerateFor(){return this._enumerateFor}get returnType(){var e;let t=null==(e=this.enumerateFor)?void 0:e.returnType;if((null==t?void 0:t.kind)==="Array")return t.items}getRefFields(){return[]}fromJSON(e){let{enumerateFor:t}=e;this.updateChildNodeByKey("_enumerateFor",t)}toJSON(){var e;return{kind:"EnumerateExpression",enumerateFor:null==(e=this.enumerateFor)?void 0:e.toJSON()}}};el.kind="EnumerateExpression";var ec=class extends ed{get keyPath(){return this._keyPath}getRefFields(){let e=this.scope.available.getByKeyPath(this._keyPath);return!function(e,t){if(0===(0,I.Z)(e.scope.coverScopes,t.map(e=>null==e?void 0:e.scope).filter(Boolean)).length)return!1;let i=new Set,a=[...t];for(;a.length;){let e=a.shift();for(let t of(i.add(e),(function e(t){return[...t.children,...t.children.map(t=>e(t)).flat()]})(e).filter(e=>4&e.flags).map(e=>e.refs).flat().filter(Boolean).filter(e=>!i.has(e))))a.push(t)}return(0,I.Z)(Array.from(i),es(e)).length>0}(this,[e])?e?[e]:[]:(console.warn("[CustomKeyPathExpression] checkRefCycle: Reference Cycle Existed",this.parentFields.map(e=>e.key).reverse()),[])}get returnType(){return this._returnType}parseToKeyPath(e){return e.keyPath}fromJSON(e){let t=this.parseToKeyPath(e);(0,_.shallowEqual)(t,this._keyPath)||(this._keyPath=t,this._rawPathJson=e,this.refreshRefs())}getReturnTypeJSONByRef(e){var t;return null==e||null==(t=e.type)?void 0:t.toJSON()}toJSON(){return this._rawPathJson}constructor(e,t){super(e,t),this._keyPath=[],this.toDispose.pushAll([this.scope.available.onVariableListChange(()=>{this.refreshRefs()}),this.scope.available.onAnyVariableChange(e=>{e.key===this._keyPath[0]&&this.refreshRefs()}),z(this.refs$.pipe((0,y.x)((e,t)=>e===t,e=>{var t,i;return null==e||null==(i=e[0])||null==(t=i.type)?void 0:t.hash})).subscribe(e=>{let[t]=this._refs;this.updateChildNodeByKey("_returnType",this.getReturnTypeJSONByRef(t))}))])}};ec.kind="KeyPathExpression";var eh=class extends ed{get wrapFor(){return this._wrapFor}get returnType(){return this._returnType}refreshReturnType(){var e,t;let i=null==(t=this.wrapFor)||null==(e=t.returnType)?void 0:e.toJSON();this.updateChildNodeByKey("_returnType",{kind:"Array",items:i})}getRefFields(){return[]}fromJSON(e){let{wrapFor:t}=e;this.updateChildNodeByKey("_wrapFor",t)}toJSON(){var e;return{kind:"WrapArrayExpression",wrapFor:null==(e=this.wrapFor)?void 0:e.toJSON()}}init(){this.refreshReturnType=this.refreshReturnType.bind(this),this.toDispose.push(this.subscribe(this.refreshReturnType,{selector:e=>{var t;return null==(t=e.wrapFor)?void 0:t.returnType},triggerOnInit:!0}))}};eh.kind="WrapArrayExpression",F([(e,t)=>{if(Reflect.hasMetadata(U,e))throw Error("Duplication Post Construct AST");Reflect.defineMetadata(U,t,e)}],eh.prototype,"init",1);var ef=class extends Z{get parentFields(){return es(this)}get keyPath(){return[...this.parentFields.reverse().map(e=>e.key),this.key]}get meta(){return this._meta}get type(){var e;return(null==(e=this._initializer)?void 0:e.returnType)||this._type}get initializer(){return this._initializer}get hash(){return`[${this._version}]${this.keyPath.join(".")}`}fromJSON(e){let{type:t,initializer:i,meta:a}=e;this.updateType(t),this.updateInitializer(i),this.updateMeta(a)}updateType(e){this.updateChildNodeByKey("_type","string"==typeof e?{kind:e}:e)}updateInitializer(e){this.updateChildNodeByKey("_initializer",e)}updateMeta(e){(0,_.shallowEqual)(e,this._meta)||(this._meta=e,this.fireChange())}getByKeyPath(e){var t;if((null==(t=this.type)?void 0:t.flags)&16)return this.type.getByKeyPath(e)}onTypeChange(e){return this.subscribe(e,{selector:e=>e.type})}toJSON(){var e,t;return{key:this.key,type:null==(e=this.type)?void 0:e.toJSON(),initializer:null==(t=this.initializer)?void 0:t.toJSON(),meta:this._meta}}constructor(){super(...arguments),this.flags=1,this._meta={}}},eu=class extends ef{get order(){return this._order}fromJSON(e){let{order:t,...i}=e;this.updateOrder(t),super.fromJSON(i)}updateOrder(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e!==this._order&&(this._order=e,this.dispatchGlobalEvent({type:"ReSortVariableDeclarations"}),this.fireChange())}toJSON(){return{...super.toJSON(),order:this.order}}constructor(e){super(e),this._order=0}};eu.kind="VariableDeclaration";var eb=class extends Z{fromJSON(e){let{declarations:t,startOrder:i}=e,a=new Set(this.declarationTable.keys()),r=[...this.declarations||[]];this.declarations=(t||[]).map((e,t)=>{var r,n;let o=(i||0)+t,s=e.key||(null==(n=this.declarations)||null==(r=n[t])?void 0:r.key),d=this.declarationTable.get(s);if(s&&a.delete(s),d)return d.fromJSON({order:o,...e}),d;{let t=this.createChildNode({order:o,...e,kind:"VariableDeclaration"});return this.fireChange(),this.declarationTable.set(t.key,t),t}}),a.forEach(e=>{let t=this.declarationTable.get(e);null==t||t.dispose(),this.declarationTable.delete(e)}),this.dispatchGlobalEvent({type:"VariableListChange",payload:{prev:r,next:[...this.declarations]}})}toJSON(){return{kind:"VariableDeclarationList",declarations:this.declarations.map(e=>e.toJSON())}}constructor(){super(...arguments),this.declarationTable=new Map}};eb.kind="VariableDeclarationList";var eg=class extends ef{};eg.kind="Property";var ep=class extends Z{get data(){return this._data}fromJSON(e){let{kind:t,...i}=e;(0,_.shallowEqual)(i,this._data)||(this._data=i,this.fireChange())}toJSON(){return{kind:"DataNode",...this._data}}partialUpdate(e){(0,_.shallowEqual)(e,this._data)||(this._data={...this._data,...e},this.fireChange())}};ep.kind="DataNode";var ey=class extends Z{fromJSON(e){let{map:t}=e,i=new Set(this.map.keys());for(let[e,a]of t||[])i.delete(e),this.set(e,a);for(let e of Array.from(i))this.remove(e)}toJSON(){return{kind:"MapNode",map:Array.from(this.map.entries())}}set(e,t){return this.withBatchUpdate(W).call(this,{getChildNode:()=>this.get(e),removeChildNode:()=>this.map.delete(e),updateChildNode:t=>this.map.set(e,t),nextJSON:t})}remove(e){var t;null==(t=this.get(e))||t.dispose(),this.map.delete(e),this.fireChange()}get(e){return this.map.get(e)}constructor(){super(...arguments),this.map=new Map}};ey.kind="MapNode";var em=class{createAST(e,t){let{parent:i,scope:a}=t,r=this.astMap.get(e.kind);if(!r)throw Error(`ASTKind: ${String(e.kind)} can not find its ASTNode Registry`);let n=this.injectors.get(e.kind),o=new r({key:e.key,scope:a,parent:i},(null==n?void 0:n())||{});if(o.changeLocked=!0,o.fromJSON((0,g.Z)(e,["key","kind"])),o.changeLocked=!1,o.dispatchGlobalEvent({type:"NewAST"}),Reflect.hasMetadata(U,o)){var s;let e=Reflect.getMetadata(U,o);null==(s=o[e])||s.call(o)}return o}getASTRegistryByKind(e){return this.astMap.get(e)}registerAST(e,t){this.astMap.set(e.kind,e),t&&this.injectors.set(e.kind,t)}constructor(){this.injectors=new Map,this.astMap=new Map,this.registerAST(ee),this.registerAST(ea),this.registerAST(ei),this.registerAST(et),this.registerAST(en),this.registerAST(q),this.registerAST(er),this.registerAST(eo),this.registerAST(eg),this.registerAST(eu),this.registerAST(eb),this.registerAST(ec),this.registerAST(el),this.registerAST(eh),this.registerAST(ey),this.registerAST(ep)}};em=F([(0,d.b2)()],em),(n=s||(s={})).createString=e=>({kind:"String",...e||{}}),n.createNumber=()=>({kind:"Number"}),n.createBoolean=()=>({kind:"Boolean"}),n.createInteger=()=>({kind:"Integer"}),n.createObject=e=>({kind:"Object",...e}),n.createArray=e=>({kind:"Array",...e}),n.createMap=e=>({kind:"Map",...e}),n.createUnion=e=>({kind:"Union",...e}),n.createCustomType=e=>({kind:"CustomType",...e}),n.createVariableDeclaration=e=>({kind:"VariableDeclaration",...e}),n.createProperty=e=>({kind:"Property",...e}),n.createVariableDeclarationList=e=>({kind:"VariableDeclarationList",...e}),n.createEnumerateExpression=e=>({kind:"EnumerateExpression",...e}),n.createKeyPathExpression=e=>({kind:"KeyPathExpression",...e}),n.createWrapArrayExpression=e=>({kind:"WrapArrayExpression",...e}),n.create=(e,t)=>({kind:e.kind,...t});var ev=class{get variableEngine(){return this.scope.variableEngine}get globalVariableTable(){return this.scope.variableEngine.globalVariableTable}get version(){return this.variableTable.version}get onDataChange(){return this.variableTable.onDataChange.bind(this.variableTable)}get onVariableListChange(){return this.variableTable.onVariableListChange.bind(this.variableTable)}get onAnyVariableChange(){return this.variableTable.onAnyVariableChange.bind(this.variableTable)}get onListOrAnyVarChange(){return this.variableTable.onListOrAnyVarChange.bind(this.variableTable)}get variables(){return this.memo("variables",()=>this.variableTable.variables.sort((e,t)=>e.order-t.order))}get variableKeys(){return this.memo("variableKeys",()=>this.variableTable.variableKeys)}addVariableToTable(e){if(e.scope!==this.scope)throw Error("VariableDeclaration must be a ast node in scope");this.variableTable.addVariableToTable(e),this._hasChanges=!0}removeVariableFromTable(e){this.variableTable.removeVariableFromTable(e),this._hasChanges=!0}getVariableByKey(e){return this.variableTable.getVariableByKey(e)}notifyCoversChange(){this.scope.coverScopes.forEach(e=>e.available.refresh())}constructor(e){this.scope=e,this.memo=G(),this._hasChanges=!1,this.variableTable=new j(e.variableEngine.globalVariableTable),this.scope.toDispose.pushAll([this.scope.ast.subscribe(()=>{this._hasChanges&&(this.memo.clear(),this.notifyCoversChange(),this.variableTable.fireChange(),this._hasChanges=!1)}),this.scope.event.on("DisposeAST",e=>{var t;(null==(t=e.ast)?void 0:t.kind)==="VariableDeclaration"&&this.removeVariableFromTable(e.ast.key)}),this.scope.event.on("NewAST",e=>{var t;(null==(t=e.ast)?void 0:t.kind)==="VariableDeclaration"&&this.addVariableToTable(e.ast)}),this.scope.event.on("ReSortVariableDeclarations",()=>{this._hasChanges=!0}),this.variableTable])}},eE=class{get globalVariableTable(){return this.scope.variableEngine.globalVariableTable}get version(){return this._version}bumpVersion(){this._version=this._version+1,this._version===Number.MAX_SAFE_INTEGER&&(this._version=0)}refresh(){this.scope.disposed||this.refresh$.next()}onAnyVariableChange(e){return z(this.anyVariableChange$.subscribe(e))}onVariableListChange(e){return z(this.variables$.subscribe(e))}get variables(){return this._variables}get variableKeys(){return this.memo("availableKeys",()=>this._variables.map(e=>e.key))}get depScopes(){return this.scope.depScopes}getByKeyPath(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.variableKeys.includes(e[0]))return this.globalVariableTable.getByKeyPath(e)}trackByKeyPath(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,{triggerOnInit:a=!0,debounceAnimation:r,selector:n}=i||{};return z((0,f.T)(this.anyVariableChange$,this.variables$).pipe(a?(0,T.O)():(0,m.b)(()=>null),(0,p.U)(()=>{let t=this.getByKeyPath(e);return n?n(t):t}),(0,y.x)((e,t)=>(0,_.shallowEqual)(e,t),e=>e instanceof Z?e.hash:e),r?(0,E.b)(0,C.Z):(0,m.b)(()=>null)).subscribe(t))}constructor(e){this.scope=e,this.memo=G(),this._version=0,this.refresh$=new l.x,this._variables=[],this.variables$=this.refresh$.pipe((0,p.U)(()=>(0,k.Z)(this.depScopes.map(e=>e.output.variables||[]))),(0,y.x)(_.shallowEqual),(0,b.B)()),this.anyVariableChange$=this.variables$.pipe((0,h.w)(e=>(0,f.T)(...e.map(e=>e.value$.pipe((0,u.T)(1))))),(0,b.B)()),this.onDataChangeEmitter=new c.Q5,this.onListOrAnyVarChangeEmitter=new c.Q5,this.onDataChange=this.onDataChangeEmitter.event,this.onListOrAnyVarChange=this.onListOrAnyVarChangeEmitter.event,this.scope.toDispose.pushAll([this.onVariableListChange(e=>{this._variables=e,this.memo.clear(),this.onDataChangeEmitter.fire(this._variables),this.bumpVersion(),this.onListOrAnyVarChangeEmitter.fire(this._variables)}),this.onAnyVariableChange(()=>{this.onDataChangeEmitter.fire(this._variables),this.bumpVersion(),this.onListOrAnyVarChangeEmitter.fire(this._variables)}),c.JT.create(()=>{this.refresh$.complete(),this.refresh$.unsubscribe()})])}},eC=class{dispatch(e){this.scope.disposed||this.event$.next(e)}subscribe(e){return z(this.event$.subscribe(e))}on(e,t){return z(this.event$.pipe((0,P.h)(t=>t.type===e)).subscribe(t))}constructor(e){this.scope=e,this.event$=new l.x,e.toDispose.pushAll([this.subscribe(t=>{e.variableEngine.fireGlobalEvent(t)})])}},eS=class{refreshCovers(){this.memo.clear("covers")}refreshDeps(){this.memo.clear("deps"),this.available.refresh()}get depScopes(){return this.memo("deps",()=>this.variableEngine.chain.getDeps(this).filter(e=>!!e&&!(null==e?void 0:e.disposed)))}get coverScopes(){return this.memo("covers",()=>this.variableEngine.chain.getCovers(this).filter(e=>!!e&&!(null==e?void 0:e.disposed)))}dispose(){this.ast.dispose(),this.toDispose.dispose(),this.coverScopes.forEach(e=>e.refreshDeps()),this.depScopes.forEach(e=>e.refreshCovers())}get disposed(){return this.toDispose.disposed}setVar(e,t){if("string"==typeof e&&void 0!==t)return this.ast.set(e,t);if("object"==typeof e&&void 0===t)return this.ast.set("outputs",e);throw Error("Invalid arguments")}getVar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outputs";return this.ast.get(e)}clearVar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"outputs";return this.ast.remove(e)}constructor(e){this.memo=G(),this.toDispose=new c.K4,this.onDispose=this.toDispose.onDispose,this.id=e.id,this.meta=e.meta||{},this.variableEngine=e.variableEngine,this.event=new eC(this),this.ast=this.variableEngine.astRegisters.createAST({kind:"MapNode",key:String(this.id)},{scope:this}),this.output=new ev(this),this.available=new eE(this)}},ew=class{get container(){return this.containerProvider()}dispose(){this.toDispose.dispose()}getScopeById(e){return this.scopeMap.get(e)}removeScopeById(e){var t;null==(t=this.getScopeById(e))||t.dispose()}createScope(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{ScopeConstructor:a=eS}=i,r=this.getScopeById(e);return r||(r=new a({variableEngine:this,meta:t,id:e}),this.scopeMap.set(e,r),this.onScopeChangeEmitter.fire({type:"add",scope:r}),r.toDispose.pushAll([r.ast.subscribe(()=>{this.onScopeChangeEmitter.fire({type:"update",scope:r})}),r.available.onDataChange(()=>{this.onScopeChangeEmitter.fire({type:"available",scope:r})})]),r.onDispose(()=>{this.scopeMap.delete(e),this.onScopeChangeEmitter.fire({type:"delete",scope:r})})),r}getAllScopes(){let{sort:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Array.from(this.scopeMap.values());if(e){let e=this.chain.sortAll(),i=new Set(t);return e.forEach(e=>i.delete(e)),[...e,...Array.from(i)]}return[...t]}fireGlobalEvent(e){this.globalEvent$.next(e)}onGlobalEvent(e,t){return z(this.globalEvent$.subscribe(i=>{i.type===e&&t(i)}))}constructor(e,t){this.chain=e,this.astRegisters=t,this.toDispose=new c.K4,this.memo=G(),this.scopeMap=new Map,this.globalEvent$=new l.x,this.onScopeChangeEmitter=new c.Q5,this.globalVariableTable=new j,this.onScopeChange=this.onScopeChangeEmitter.event,this.toDispose.pushAll([e,c.JT.create(()=>{this.getAllScopes().forEach(e=>e.dispose()),this.globalVariableTable.dispose()})])}};F([(0,d.f3)(J)],ew.prototype,"containerProvider",2),F([(0,d.Pj)()],ew.prototype,"dispose",1),ew=F([(0,d.b2)(),$(0,(0,d.f3)(X)),$(1,(0,d.f3)(em))],ew);var ex=class{handleFieldListChange(e,t,i){if(!e||!(null==t?void 0:t.length)||!(null==i?void 0:i.length)||t.length!==i.length)return void this.notifyFieldsDispose(t,i);let a=null,r=!1;for(let[e,s]of t.entries()){let d=i[e];if(s.key!==d.key){var n,o;if(r)return void this.notifyFieldsDispose(t,i);r=!0,(null==(n=s.type)?void 0:n.kind)===(null==(o=d.type)?void 0:o.kind)&&(a={before:s,after:d})}}if(!a)return void this.notifyFieldsDispose(t,i);this.renameEmitter.fire(a)}notifyFieldsDispose(e,t){(0,O.Z)(e||[],t||[]).forEach(e=>this.disposeInListEmitter.fire(e))}init(){this.toDispose.pushAll([this.variableEngine.onGlobalEvent("VariableListChange",e=>{var t,i;this.handleFieldListChange(e.ast,null==(t=e.payload)?void 0:t.prev,null==(i=e.payload)?void 0:i.next)}),this.variableEngine.onGlobalEvent("ObjectPropertiesChange",e=>{var t,i;this.handleFieldListChange(e.ast,null==(t=e.payload)?void 0:t.prev,null==(i=e.payload)?void 0:i.next)})])}dispose(){this.toDispose.dispose()}constructor(){this.toDispose=new c.K4,this.renameEmitter=new c.Q5,this.disposeInListEmitter=new c.Q5,this.onRename=this.renameEmitter.event,this.onDisposeInList=this.disposeInListEmitter.event}};F([(0,d.f3)(ew)],ex.prototype,"variableEngine",2),F([(0,d.zY)()],ex.prototype,"init",1),F([(0,d.Pj)()],ex.prototype,"dispose",1),ex=F([(0,d.b2)()],ex);var eD=new d.nZ(e=>{e(ew).toSelf().inSingletonScope(),e(em).toSelf().inSingletonScope(),e(ex).toSelf().inSingletonScope(),e(H).toDynamicValue(e=>()=>e.container.get(ew)),e(J).toDynamicValue(e=>()=>e.container)}),e_=(0,R.createContext)(null),eN=e=>{let{scope:t,value:i,children:a}=e,r=t||(null==i?void 0:i.scope);if(!r)throw Error("[ScopeProvider] scope is required");return R.createElement(e_.Provider,{value:{scope:r}},a)},eM=e=>{let{strict:t=!1}=e||{},i=(0,R.useContext)(e_);if(!i){if(t)throw Error("useCurrentScope must be used within a <ScopeProvider scope={scope}>");console.warn("useCurrentScope should be used within a <ScopeProvider scope={scope}>")}return null==i?void 0:i.scope};function eL(e){let{autoRefresh:t=!0}=e||{},i=eM({strict:!0}),a=(0,A.JA)();return(0,R.useEffect)(()=>{if(!t)return()=>null;let e=i.available.onListOrAnyVarChange(()=>{a()});return()=>e.dispose()},[t]),i.available}function eI(){let e=eM(),t=(0,A.G2)(ew),i=(0,A.JA)();return(0,R.useEffect)(()=>{if(!e){let e=t.globalVariableTable.onListOrAnyVarChange(()=>{i()});return()=>e.dispose()}let a=e.available.onDataChange(()=>{i()});return()=>a.dispose()},[]),e?e.available.variables:t.globalVariableTable.variables}},373031:function(){}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(a,r){if(1&r&&(a=this(a)),8&r||"object"==typeof a&&a&&(4&r&&a.__esModule||16&r&&"function"==typeof a.then))return a;var n=Object.create(null);i.r(n);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&a;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>{o[e]=()=>a[e]});return o.default=()=>a,i.d(n,o),n}})(),i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((t,a)=>(i.f[a](e,t),t),[])),i.u=e=>"static/js/async/"+e+"."+({100257:"0cd272d5",100333:"6c1ee850",100391:"fb668dc2",1006:"ddb7a5f5",100732:"d1b66997",10076:"b07420f3",100833:"88ffcf2d",100929:"ff94ccd9",100965:"721609c3",100996:"cd0ff713",101161:"8ac9df78",101180:"9ad0213c",101208:"175f0f59",101262:"6f0bd351",101410:"26d371d6",101500:"c473ec87",101570:"ab76ce08",101668:"14730c82",101759:"9cda12c3",101824:"041aa7d0",101888:"aae3acf6",102173:"62ddf72b",102192:"d3fc7c53",102236:"06219838",102243:"3413eb0b",102306:"a7afcd32",102440:"1aade2b2",102473:"f8be30a0",102517:"0105ce67",102568:"dd650e05",102597:"9daac7a4",102612:"fd5c94a4",102651:"b8a903a2",102729:"ccb4ff59",102767:"24010815",10314:"a15e3630",103274:"62c91745",103298:"2307aa9b",103311:"5ae0b3a0",10333:"e72c68e4",103341:"50cd37c2",103518:"a0e065e7",103683:"b461166f",103742:"64bfba3a",103775:"b477dbcf",10394:"3294f413",104026:"a8bb29a5",104035:"5dab9c71",104076:"81024cde",104121:"b6fd469c",104191:"61b08344",104436:"c3c3e031",104470:"9fe22095",104485:"83f4c809",104757:"1fa003ae",105151:"1eb7e210",105190:"1026d98f",105312:"38ef3fdb",105342:"680b3872",105346:"8b9bc35e",105389:"2336a5ea",105569:"b4ecce1e",105616:"622c9b10",105629:"f3b8a32c",105693:"701b5d15",105749:"da7ac265",105791:"eb55a531",105817:"fc0ef6de",105875:"67fc8254",105993:"fc2b33a3",105996:"72370e4a",106075:"4353fe45",106088:"31b3acf0",106135:"787579ca",106323:"04dcff96",106389:"b42d28cd",106391:"2b191e9b",106467:"a9a5ca21",106865:"33141117",107025:"bcd19a58",107032:"4786a77b",107036:"56e2cd9a",107127:"7327ae01",107155:"f9e9179e",107369:"3f65cd9f",107415:"e36c851e",107426:"6b76d7be",10756:"c22d439d",107572:"a4da9ec0",107774:"bfdde318",107847:"015519ce",107924:"0eaaa928",108025:"f48000c7",108029:"d0fb2d74",108084:"59331cf9",108087:"e677f531",108220:"604052fa",108246:"09edb8a4",108274:"555d5ead",108323:"888a6739",108370:"fa8e59a2",108563:"da7049d6",108849:"efddfe8f",108867:"b8749ee3",109160:"b0905fea",109180:"b809013e",109224:"5dc04e99",109236:"4935ebaa",109318:"5fd9e126",109625:"b4ba39e8",109791:"5efbd596",110034:"f5f053cf",110085:"1b001208",110131:"3fbef989",110135:"b1e1e335",11018:"460ac248",110211:"f82cfdbb",110365:"5f795d08",11055:"539e258e",110728:"e39c58e3",110740:"1fd8511b",110914:"9ea85682",110939:"ddad67a8",111059:"745a8e86",111068:"652d6f3e",111127:"1f8acdc4",111198:"72630727",111279:"48a0f3af",111319:"7d186b22",1116:"28e841ed",111635:"3eef9707",111772:"6cb19dcb",11181:"ad8cdedd",111841:"e6e1a74d",11185:"ce638a24",112147:"6a763ceb",112148:"41e062b8",112331:"03e540be",112447:"3437dd31",112494:"42eaf682",112549:"c2327069",1126:"0d373972",112657:"f8e3df58",112669:"957daef0",112822:"02375ccb",112979:"e345d4c9",113121:"04dde3f6",113215:"b0fac2f4",113303:"18da101f",113306:"697e9eb9",113356:"64ff622c",113423:"e36c3a77",113807:"2aa4952a",113874:"a339ffc4",113905:"0a12ffd8",114016:"c5f618c0",114211:"89bd2539",114243:"3119f43b",114384:"30368c79",114563:"47ae31aa",114641:"1c65312f",11473:"af6d4f88",114805:"1fc9bb8f",114810:"86536221",114880:"af53bb0b",114932:"b106dd73",115115:"3bfd373c",115283:"91f8d1d5",115394:"474a7191",115507:"904faa6a",115563:"6cc2eb4b",115632:"d88e138f",115646:"d6385473",116048:"eba071ec",116319:"8631d29e",116768:"0f37f9be",116780:"88c4c78c",116830:"e2593c73",116855:"20ecffab",116864:"562eb44b",117319:"e517de90",117332:"1b1b0a81",117421:"76ad5f8f",117581:"063d3160",117662:"c58b703e",117687:"92088b0d",117693:"bf26404d",117814:"0c4a3ae1",117956:"05376135",11803:"f569343e",118042:"25202a96",118069:"5cad4b95",118332:"8d95101b",118345:"ed15029d",118360:"428f4309",11849:"56f91665",118502:"4feb2904",118560:"251f52fc",118715:"d68f4a27",119239:"2330c176",119361:"8247489c",119491:"44da46c1",119604:"696c1c7c",119898:"4f1a3272",120054:"0b9b09dd",120246:"df2e1ffb",120354:"f3fdf03b",120397:"bea7b178",12045:"2434be36",120455:"b77bd86d",120569:"3d188e65",120808:"26b5f51a",120810:"4d99c3fc",120851:"b29a3960",120923:"e8c27135",120943:"5d2a4633",12107:"102732af",121070:"1dbe08a7",121167:"4c59dc04",121365:"f8320223",121543:"deb6d33d",121632:"35865af6",121751:"a7313f75",12184:"51f7045d",121943:"75ff8819",122009:"8dba9d04",122027:"a75fe508",122058:"1d0a83b7",12234:"9cc0f029",122449:"70812014",12269:"ab385f0e",1228:"f2b68ab4",122876:"6bc75e82",123019:"a980adb1",123088:"de7fc46a",123126:"5bb00709",123158:"3e3ba461",123173:"3edb7ae2",123188:"c9f44bab",123224:"96d0f91c",123295:"56d58220",123303:"1d5ac26c",123433:"db597180",123458:"f2bd05a7",123500:"0f3d0538",123510:"032bdc86",123682:"486a6454",124032:"6c3a0b14",124059:"a61f7c35",124137:"57b4c6fa",124179:"e0f6736a",124400:"55d98ffe",12444:"b25c4c44",124542:"c0d8fa8f",124730:"0404158a",124801:"2cd6db6c",124861:"27b3a8a4",125012:"74b71a0a",125223:"2ee779ce",12523:"5ae9f577",125241:"4ff38e1d",125283:"113ad76c",125534:"a0e37729",125573:"adda74e9",125748:"462880cf",12586:"b8862d16",125944:"a9d9147d",126170:"4ddefaae",126213:"f4d7560c",126442:"70bb7a2f",126626:"24982c81",126760:"aa47b6da",126796:"c84eca39",126830:"3f01611f",126913:"a46bc42b",126919:"cdb792dd",12703:"5d111a23",127213:"eeec5c88",127223:"3d116cb4",12737:"981d8559",127421:"bed6b390",127427:"474d1099",127625:"0cb4e7e5",127631:"4c7c320e",127665:"104c301e",127710:"7b90c2ea",127745:"5961b9ea",12792:"23d77bb7",128131:"a47ff7cd",128135:"54565603",128313:"b7bf80b2",128349:"ef368399",128549:"6b5d2279",128566:"c64f1433",128663:"7d61965a",128778:"f50312d3",128881:"aff37db9",128901:"3523c479",12892:"1dd7a35c",129029:"fc880061",129055:"a092d87c",129059:"d83e87e3",129072:"3b240c08",129127:"69b3443f",129223:"134d7cfa",129343:"03939b64",129357:"100282cc",129466:"86e225b2",1297:"33f84be0",129710:"dcebe801",129741:"5d0dda73",129760:"7374aa4c",129810:"47623993",129822:"ea414d90",1299:"024fce10",129973:"13c0ef75",130011:"e7828a69",130017:"73b4be31",130191:"25a8bdee",130204:"57541d09",130297:"4b35c270",130317:"526eeae5",130449:"9f9249de",130510:"1ce38001",130651:"eafbe5e8",130738:"4a34d5a1",130880:"15cb2cf4",130881:"3aa9c343",131024:"9697fd17",131083:"66cedcc3",131127:"073de957",131205:"611c021c",131229:"4331e9ee",131238:"ae2e39bc",131283:"3c819bb3",131329:"b3ca7acd",131377:"726beb80",13144:"6db750e0",131567:"601b615a",131702:"23886955",131921:"9b483213",131927:"461e953f",131961:"afc2d919",132033:"c0725354",132099:"e3127411",132123:"71528a8b",132226:"9d932463",132276:"1c633a17",132435:"bb26b5c2",132566:"9dc35f0f",132622:"22c17803",13266:"76b28cac",132912:"f633257a",133015:"a3f34d5a",133038:"47d416ef",133086:"71cb2468",13314:"deb59cd3",133283:"5ead98c4",133480:"0ed70d9c",133631:"94f182ec",133638:"d9ed9671",133710:"40c24735",133725:"4fe49ffc",133748:"2e3370ce",13381:"2b84b0c1",133914:"302a5ab4",134054:"58348742",134175:"ebd7f8f7",134189:"2029300e",134208:"4eca8909",134264:"3a98e1c1",134290:"40d0b2ed",134349:"9af0fed0",134449:"13bd3477",134492:"4316bcd6",134509:"c8e73c80",134598:"f16a3777",134789:"336ee30a",13479:"e461be5e",134834:"9d0bd274",135002:"e7e0142e",135006:"62ce6ea7",135110:"010d2bc4",135172:"151376d2",135233:"342fe03f",135265:"a110ad95",135281:"2d813d2c",135283:"54be5f05",13535:"919dca65",135497:"d27fbcb0",135611:"995e9512",135643:"c6c1925d",135691:"1e5124a8",135707:"f7a61169",136088:"3ba2c17f",136345:"31650e7b",136471:"7b3a6cbf",136475:"7abce26f",136496:"0bdc6cc9",136502:"578890c8",136653:"d5b605c6",136693:"43a4e96d",136739:"c0360835",136854:"909de7c8",137154:"421d47ed",137425:"a6268f91",137484:"0061ba2d",137501:"e0ecbe6a",137533:"cbe556c5",137642:"85c17473",137660:"225d701b",137768:"b70e4407",137819:"15a9c28c",13789:"20e8e9b0",137956:"9cdd1f6e",13797:"cabd7037",137997:"19b9a0ff",137998:"81f34fa5",138180:"80a33edd",138278:"c366d9c3",138304:"d2c37336",138590:"e81ef643",138644:"71060600",138673:"98b2bcb1",138750:"7bf9cb3d",138915:"ceedacad",139003:"0cef7a42",139015:"a689ab3f",139053:"e378b15b",139083:"2a8aa11c",139119:"79a7458e",139167:"59ca2bfc",139195:"b8c85c16",139252:"a4442b0d",13935:"0f77fc35",139363:"8f127450",139593:"30e8a906",13985:"59418797",139894:"70e9f78b",140031:"70723ebc",140049:"533fe6be",140063:"5fa9493d",140108:"054e043b",140124:"a7f8959e",140187:"4afd89c6",140373:"f90a28b6",140596:"ee43fccb",140645:"5ab2951e",140729:"d329d574",140780:"53f1ac55",140795:"45b9495c",140983:"14f627fa",141165:"a1d3a189",141194:"967bb5a6",141235:"414862b6",141390:"427a67e5",141603:"4d4ebc88",141789:"88f16537",141910:"04e6f95f",142045:"b594ee8e",142079:"47476ce4",142095:"594ead89",142154:"67cf9ff9",142382:"7632abb9",142457:"b4745614",142511:"cb04af31",142520:"703a6f00",142642:"6fae9a66",142714:"5beb996c",142767:"35fe9345",142949:"70301fd3",142960:"5b6d3c9e",142998:"2f0dbb75",143248:"40032500",143368:"4925de82",143452:"a2608c5e",14350:"a753a5d2",143503:"b0062640",143574:"9c99122a",143722:"a295910e",144050:"7c2cdc4f",14419:"9ff40ebf",144282:"7533b42a",144414:"9c54e1b8",144430:"3a2c31ff",144464:"3058f446",144499:"66130edb",14450:"e8ac461b",144753:"7aa96ed8",144769:"8a373189",144836:"fb36b98a",144880:"89c7d422",145008:"4e6a8390",14508:"e60f9ba1",145174:"c606ed32",145316:"b8d33502",145343:"7e12d5fe",14537:"6d5e85db",145400:"0ebc2b1e",145461:"a3e983e6",145554:"6286881c",145568:"ee31ab37",145675:"97899702",145709:"3a29a8d7",145827:"cd74564f",14584:"230ee632",145878:"b1eae32c",145905:"3856603a",146207:"a6c21863",146217:"321f0f21",146315:"29c25492",146517:"cb5dafac",146540:"cee11d19",146747:"9a43f395",14684:"14dd66fd",146890:"dcbd409f",146930:"7383934d",146936:"e04e770b",147090:"455d107a",147233:"482436f7",147637:"72c3258c",147831:"361a73ee",147892:"5e837db9",147896:"db643e0d",147952:"085208d6",14810:"64230719",148132:"723e5cf3",148133:"c2ba9084",148172:"ae2d853e",148343:"abac0745",148387:"6075f35c",148651:"a0062583",148754:"6f81c846",148889:"6550fc5b",149051:"d563c202",149062:"554d5f3d",149099:"c8c13fed",149193:"feec00b9",14926:"88cd81db",14948:"d146a762",149561:"d4fb0766",149677:"c7ddf7b0",149834:"a1be37f7",150063:"f58d7219",150163:"a4db9683",150238:"4be522dd",150279:"ff6aa5aa",150361:"82fbca11",150659:"5ef84501",150704:"eacf70d1",150974:"f514824c",151194:"112b1bf8",151224:"84ea7bbb",151274:"9319fe8c",151377:"36886294",151384:"d5bb94f0",151519:"ae9d75af",151657:"45095cb7",151832:"4beda80d",15185:"d01abf22",151856:"af5d05ef",151894:"2841ac5f",152010:"83beefea",152135:"9f3d469d",15215:"8a59c727",152187:"8b0f4ebd",152226:"21625993",152310:"b55392c2",152333:"b80a6eeb",152394:"d1e25645",152415:"06e9bcda",152515:"843311f0",15261:"c6834487",152794:"8adfcb72",1528:"066dd592",15289:"6a3f3552",152933:"11bbd955",152943:"6b6e0319",153134:"732f4b84",153181:"6cfc26d7",153198:"7e63ca97",15418:"2f2c4353",15422:"22116fdc",154224:"e25fa8c2",154288:"933f58f1",15437:"37cc552d",154440:"74aaeb35",154448:"88e8efb2",154458:"530bc2b2",154826:"532ef66e",154836:"69f40929",154932:"3a92482a",155202:"bd7d96bc",155282:"1b733302",155311:"f68782f6",15544:"7e35e253",155467:"f2954992",15555:"16ef52e4",155867:"272a0bfd",155918:"7fcfd005",155928:"dff4322f",156153:"6aa5fdf6",156298:"2fd15c61",156331:"e26d0357",156370:"505763bc",156458:"2cebfb43",156507:"1d4df83e",156824:"35cc1f1f",156955:"a1e3599a",15721:"63eb4279",157227:"d74d9f8e",157270:"e2bf1174",157310:"9ac9d0a5",157331:"c5e68a1d",157423:"e8283aa6",157539:"a1f555e5",157565:"6c75a2fa",157585:"19fe95a1",157617:"0d1112c4",157647:"d3a8c6db",15766:"b833fd09",157665:"cb632535",157695:"045f441b",157859:"be4b0cd6",157886:"7a4ac100",157917:"3d642d4f",157938:"4780f49e",157986:"5a3cd87b",157996:"1edeaabe",158034:"b85018e5",15806:"5849f6f7",158082:"14d81564",158156:"1c6a357f",158266:"ae0b7aed",158296:"b27b25ba",158360:"571f9d62",158622:"86edcb8c",158680:"4fbf3b2d",158701:"18161fe3",158832:"2b27720b",158853:"c867650a",158909:"4c82c2eb",1590:"8c088c82",159011:"10dc90f0",159051:"7299092b",159186:"d07578c6",159313:"990da329",159670:"14656814",159678:"bed3902e",159713:"926f0b9a",159736:"9d4461b1",159775:"205d2373",15978:"93da46b4",159869:"c48c1589",160371:"24adf63c",160380:"299eb873",160402:"1ee6cd44",160428:"fa99785e",160571:"5ac32e94",160649:"5dbed601",160703:"f4f51427",160717:"97e7a029",161040:"ee754db7",161052:"44405d87",161185:"1d4a749e",161399:"378bcc1a",161458:"cd5dadaa",16150:"de91dcba",161545:"bf599bf5",1616:"85963908",161678:"a952d93d",161689:"500ca7cc",161738:"a7616e84",161792:"b97a0de9",161797:"fa784d08",161874:"ca8dc04a",162087:"f8a8d98e",162107:"292ff375",1622:"302dd386",162467:"d0b69a31",162556:"e40d034d",162700:"f23dd951",162801:"5af39aa4",162914:"3acbf372",162950:"af88477b",163108:"e0d5153a",163173:"bb21d028",163195:"95bdb713",163212:"15162810",163252:"6e9d1bcd",163332:"75b9214c",163410:"f94012de",163416:"db34af93",163525:"5a081f0c",163901:"61977b23",163972:"b08ccd8c",163994:"4dbe688d",164048:"f5d6609b",164068:"5522d324",16417:"7096d705",164228:"af3f9458",164350:"c59291e3",164540:"885b1931",164597:"599b0205",164783:"37e1afd1",164793:"6dbb4f57",164808:"d80bbd35",164907:"0e477fbf",165029:"e8155653",165058:"b5d8807f",165089:"c58ca62f",16513:"6c2737fe",165190:"29ea9628",165532:"cd85e9d4",165554:"35054fa2",165588:"2424b8a6",165598:"480461b5",165752:"38015a69",166111:"96699c14",166126:"7289c88e",166212:"95ba329b",166234:"a013a982",166285:"8895b5ea",166356:"18dc5086",166373:"219dcb26",166644:"aad15385",166851:"05d492d0",166974:"8a04f283",167175:"f38744f9",167220:"e54a6e25",167352:"e9842712",167376:"c1bb2171",167421:"fa4f8123",167712:"f5051cab",167932:"88ef41f6",167942:"810aed27",167948:"b1381b9d",168040:"267267b8",168044:"d66045cf",168050:"20ef5a3e",168082:"084f61e4",168097:"d116f37a",168153:"85e11c53",168195:"0ede71ac",168280:"6a5ff099",168305:"a9bb7771",168307:"51e4eff2",168383:"ee4cd3ee",168400:"f18cdb74",168493:"72b16259",168636:"d414d319",168783:"8cc10102",168803:"880c81ba",169011:"b94449b0",169214:"568352a9",169337:"b88dc3d4",169354:"ec1cc2c3",169478:"07686abb",169512:"4bc38a17",169659:"dc0c7415",169746:"a6ea9416",169831:"7d6d92e0",169952:"d6e91059",16997:"f8293a92",170004:"9398f16e",170048:"81b6feb7",17011:"b85c9035",170167:"99f18b0c",170191:"2b57958c",170435:"19475115",170504:"fda2cc5a",170540:"f8a084ec",170558:"3e7fd17d",170685:"a8cc6005",170696:"0eac1973",170787:"8a63fb88",170852:"154f862d",170859:"eb2eefd4",170882:"f9a799b8",17090:"60937570",170981:"614f31b8",171202:"fbc2b2cf",171333:"69860289",171393:"c92db31c",171486:"ef734950",171616:"ce3cb064",171647:"a7e4ba9f",171706:"b1f052b9",171861:"f3bc292b",171990:"278868f9",172555:"51d1d00c",172713:"6ee424bc",172868:"0f31ffb0",172913:"df63898f",172915:"c1784464",172946:"3afbac14",173012:"883c8979",173090:"34e874c6",173383:"5544f98e",173431:"c4b6e920",173523:"5e9c49ca",173714:"2447c6f6",173734:"85c3dab3",173739:"c5ff30a6",173755:"6490fc5f",173767:"c2b017f1",173920:"25905914",173967:"297eac28",174022:"04ca9f99",174039:"196eb093",174134:"a3e251ea",174146:"52799ee7",174377:"a151e77b",174387:"dfe0fe0e",174426:"3a817079",174528:"910a19c1",174536:"4c24f3e5",174842:"1c032f69",174854:"65202729",174931:"876c9de3",175051:"fc55e4b5",17525:"52c1015f",175339:"ef9233f3",175548:"cfc5f169",175553:"38e3e38f",175681:"4cd3ad36",175715:"9d25f499",175771:"61172ff3",175889:"fc6329f2",176160:"b554789e",176278:"be6821cf",176352:"ccf9d1de",176368:"1c88e946",177075:"097d99cb",17713:"16ca9669",177147:"56e4f9a3",177394:"354d873e",177738:"7b805dc0",177754:"50c67994",177938:"4345886c",178237:"482847c4",178335:"7ea6fd9c",178364:"a0eabd15",178523:"eba34f57",178589:"a461fce4",17879:"958e2cf4",179022:"0576c458",179133:"8d4b56e4",179139:"6bf80dfb",179167:"b299deae",179221:"c229ab03",179483:"1ecadc3d",179519:"18a21042",17974:"1bf733e4",179926:"092f4865",179986:"f7bbab0a",180:"19a921e7",180127:"5ff940f0",180138:"8a02dd51",180432:"5f403287",180491:"61e3fdf4",180521:"4fbac907",180591:"50c504c2",180595:"e9253e90",180626:"97847304",180639:"8d1814a7",18074:"cc605b6e",181161:"9a8277d6",181209:"fc2062cb",181219:"34ac26c0",181305:"65df637a",181351:"c252f21e",181376:"40f9aa97",18147:"5d2f7001",181560:"d99d0d78",181663:"a7821740",181693:"07aec8d0",181815:"fd677c67",181822:"700654a8",181823:"fa8b6dce",18190:"b3d5bcf8",181966:"a3aa89f0",182024:"fcee9573",182170:"e1cd8faf",182344:"e40d20aa",182402:"765ff91f",182432:"19ebf857",182631:"0ab86d35",182692:"2e5b3d8d",18272:"5c23573e",182765:"21504551",182864:"3b79665d",182916:"5f89c047",182981:"64ffdbe7",1831:"65899c34",183338:"1a9165bd",183356:"96ba2957",183652:"a8046fc4",183682:"7619bd48",183755:"21f43abd",183904:"91ac54b8",183916:"814af446",183955:"eb484d01",184005:"1b1f6aa8",184070:"868db16f",184340:"2e1d3630",184342:"4d2846b9",184505:"e2d14a9d",184642:"4d70d57d",184724:"8c3520b2",184750:"275814c6",184778:"3b75d8b7",184858:"4e071ffd",185019:"b4cc35dc",185056:"dca68edf",185265:"c157f707",185464:"837e4c5f",185508:"c7a0b389",18581:"544bec1d",185886:"4a693bdd",18589:"40f98ce3",185895:"8fed9164",186018:"baa1edb4",186374:"ef446d61",186422:"eec4dc64",18651:"cc84ce61",186577:"f80395cf",18667:"81cae86e",186755:"0b71466d",186806:"bb7bf7b4",186985:"80cc548b",18714:"8fbcce4f",187200:"b6adbc38",187294:"559a5212",187506:"5167072f",187516:"9a79e8c3",187554:"324c7597",187598:"bbabe34a",187647:"25a5bb5e",187916:"892aa133",188034:"4fca5bae",188057:"51560119",188081:"78cd4fde",188141:"c7fb4f2c",188193:"99f86909",188349:"7600a452",188686:"a63bf51c",188797:"61f38ee3",189029:"65bd8b10",189070:"439220e3",189436:"ca747532",189528:"d2dbff23",189549:"d0c2a212",189593:"c739b5dd",189793:"b19fbcfb",189867:"12697e44",18992:"a9e7f6f4",190054:"476fc8c0",190066:"16a82cf0",190078:"e82c4732",190086:"6000149e",190141:"5e1e579a",190211:"0c79baef",190617:"3adf2337",190740:"39afb24a",190747:"84c535b7",190782:"c75da513",191154:"fc29cc5e",191174:"14e10dda",19121:"c8cc942b",19124:"25d86464",191343:"9332ce57",191514:"fb4dcf5c",191729:"7342b089",191748:"adbf07e5",191781:"8e5190fd",191814:"f8aa479c",191969:"43d9a26e",191992:"0c0140db",191994:"b59a415b",192200:"ecbe0d69",192299:"2b8d2dca",192459:"4f41ea25",192652:"93a9aa83",192928:"9c949ec8",193038:"f4169027",193040:"dd85bb40",193110:"be5e8ca0",193184:"c94f54f0",193186:"5036baf4",19325:"f7e47627",193262:"5932d350",1933:"4b2d675e",19348:"095315b3",193611:"ea2ba483",193651:"ba966a47",193696:"edf4be11",193707:"cfde8e09",193766:"0f3c511d",193897:"bff0fc57",193999:"44d91cf7",194073:"d0289e5f",194101:"48e44be0",194117:"3cf67902",194170:"46e4664a",194205:"653bb215",194367:"aab8e6ee",194418:"90bb0317",194502:"a8a7c10a",19454:"7b9cf8d0",194585:"a30bc0d7",194790:"c109e1ef",194801:"f19959c4",194950:"bacb0474",195:"65aaeb09",195192:"ba2abebe",195240:"c9e33df8",195446:"1e866437",195927:"f5c3630a",195999:"3cb2b1bf",196098:"b7919df6",196221:"3d8d8404",196552:"55b5929e",196626:"ca699a89",196650:"8fde353c",196752:"4a5a654b",19678:"c49d1126",196955:"61367612",196958:"6ae286ae",196966:"be8f2566",196977:"abcb7393",197221:"21ca8929",197250:"a0f22379",198027:"3590b359",198205:"1da259b7",198302:"6e08976a",198441:"c5a1db04",198652:"4311a7f4",198690:"fb0fc671",198709:"06f5b1ad",198888:"2003993e",198909:"9fcb3c0d",198955:"33a1daf5",198988:"e1d5c6fe",199228:"4ced4fd0",19930:"c88ead31",19939:"2c0f9ea2",199423:"988cd74d",19945:"2474bf52",199503:"3d0752c0",199519:"0a1ecd4a",199526:"3cca8cf1",199625:"4a38b9ad",199683:"6981b195",199692:"0984cc4b",199698:"37631e80",19989:"ad8dfd39",199905:"be35e0fe",199917:"0310b310",200026:"ef65e1cb",200047:"2978011c",200192:"b01a8002",200206:"1b32630c",200214:"a8233cf4",200259:"ea396088",20029:"317fa734",200394:"4e335d80",200510:"7110365a",200645:"8d305a22",200671:"92596443",201068:"e07b0368",201088:"5b683b9b",201173:"b9b356b4",201214:"0b2ba59e",201218:"10c639b2",201361:"d0001d36",201505:"a35af9a7",201605:"b2a98e30",201696:"184ffc9d",201753:"b3ee0fb3",201829:"e2458ba5",201832:"b09c216b",201852:"3bfc7ade",202075:"ff85dd3f",202183:"ec5d7f93",202305:"24df2ec0",202450:"c91ecea1",202477:"5d65150e",202542:"d03247f9",202551:"a9812912",202661:"fc5b1005",202684:"145f8b60",20287:"77c13c4e",202878:"373ee4c4",202967:"b5d32663",203175:"edc72c4b",203290:"85d05250",203488:"b73ffb2a",203649:"123090f4",203693:"0a18068f",203708:"e493a831",203732:"f284d0eb",203852:"9fc60600",203902:"451cbd29",204033:"efee7f4d",204226:"0c49ffe7",204288:"44c99fda",204340:"4bc55c11",204384:"ef1b429b",204415:"32275d06",204425:"7499e884",204599:"f95dd316",204676:"6736b768",204689:"1795238e",204794:"d9475e35",204887:"7919d9c7",204920:"ec6051a5",204986:"b608fd3b",20513:"93e14307",205239:"20aacc6c",205241:"d1669097",205356:"48a65e0f",205357:"7ead9050",205597:"832da570",205810:"bd06151e",205891:"3fb0bfce",205978:"67ac26d5",206218:"e1fd5fed",20640:"7ece6278",206491:"8f2080bf",207001:"7b3b3123",207031:"fa2e2922",207091:"578fcb19",207309:"2d61db37",207478:"c0546a9c",207616:"7e70650f",20793:"602e69d0",207984:"b7ad0a6d",208059:"47d43f55",208100:"05aa03e2",208274:"db5868a3",208280:"19457fca",208357:"cb97f0b9",208583:"384a8c94",208603:"8d48550e",208686:"08e3917e",208767:"473063a0",208785:"432f4f58",208901:"f2417b12",208988:"72d5357e",209185:"e1ce41eb",20924:"2b9f1215",209329:"58021a71",209465:"dc0baf73",209597:"3a68ba5c",209601:"bef49329",209740:"0de5d6c7",209758:"906914bb",209802:"66feab7e",209814:"1675bb77",209885:"b33cf724",210072:"13b0fb50",21009:"c939178e",210100:"51dde4b1",210125:"c5f0d114",210194:"9f0e276b",210256:"c01c7dd6",210294:"f9725fb3",210511:"a1e95993",210522:"ef0481b0",210523:"2bdb2ae8",210527:"99aabdfc",210570:"6508939f",210577:"49497b11",210614:"6aefed15",210636:"c11ca507",210768:"dedbf9f1",210779:"72b71924",210987:"925ced59",211257:"02a51500",211452:"c0b1990b",211543:"f7708a8d",211607:"be5d5e99",211653:"9c5b9f45",211742:"919ef818",211819:"5f12c55b",21200:"4af80a57",212324:"fd50a1cf",212405:"bed739fb",212582:"fe685e3c",2126:"68e5e340",212624:"5747dd61",212825:"09eb1a3c",212847:"05536f09",212877:"9b7bf088",212886:"4a08a9a5",212900:"9a410ab6",213113:"b36889de",213414:"301f0a48",213528:"671a1c83",21360:"b82b1588",213682:"0e3d1516",21370:"b72ff1f2",213787:"6df41c66",213798:"b00191eb",213875:"55814775",213937:"5b07351b",214250:"74e3bc0b",214327:"80e84038",214337:"67df8d36",214433:"603523b6",214552:"508c7a7b",214612:"adeac95c",214896:"321751e8",214939:"552d4b14",214945:"d8a82c6d",215001:"782c3f5c",215048:"c910a3e2",215161:"de7226a4",215275:"45b27149",215507:"0828ad61",215594:"96004b0a",21561:"e9660ea9",215717:"6554e032",215855:"23ec1a57",215921:"3f95901e",215998:"e0e18027",216007:"a658b596",216134:"f74363d9",216163:"b6fa890b",216187:"fdfda7bc",216300:"5b078b22",216315:"b60e1244",216321:"682db292",216393:"fc49ce35",216498:"2c8cc593",216523:"119b34d7",216558:"90f18e83",216571:"50120624",216596:"8691f8ff",216600:"74de3e4a",216610:"54b563be",216631:"2e16ccc9",216671:"8807c893",216887:"d1678429",216907:"f6b25d16",216940:"89ceb97d",216952:"65fb019a",216953:"bada8cb3",217097:"53f3e9fd",217223:"d7227a78",217263:"03623936",21744:"15bc4437",217518:"e71ad527",217666:"2c80c1f9",217678:"34f419af",217794:"459999b1",217814:"a586d330",217900:"4d7663bd",218024:"a973dae6",218028:"40425e67",218167:"cfe3dd53",218196:"8db740e9",218216:"e9711880",218265:"86979de9",218340:"6ec498b4",218410:"430b7e46",218563:"b5c4a1c2",218603:"f5ddc0c6",218686:"3dc54222",218752:"250556ad",218754:"102e4202",218924:"f1d94948",219053:"383c33b5",219172:"449caf5c",219301:"7a33752f",219561:"ca37290f",219626:"a2d6e887",219654:"c76d1ed1",219755:"49995160",219838:"cec72c65",219949:"bbc10da3",219991:"6b2f6d3d",220079:"900bfe0b",220112:"138e5f0e",220190:"c884efd7",220253:"c211facc",220257:"0630add2",22042:"83ab6b94",220538:"315ed425",220539:"31d3b62b",220580:"a58d8773",220597:"05375f6c",220825:"b4c67f28",220846:"9768a0a9",221081:"f904edf0",221133:"01871aba",221218:"27632243",221305:"1bec2e47",221311:"aa0fa7c3",221331:"57a5514f",221381:"24729774",221604:"b2d5611e",221654:"8a77320d",221698:"ec02c4ab",221816:"22a70134",221912:"a0348134",222032:"a23dda84",222344:"4a8e0a71",222414:"3a795a60",222775:"9448da63",222954:"9cf3ee85",222981:"e34d28ac",223150:"5008c439",223418:"71798a44",223492:"50dbb195",224139:"3bf36a49",224164:"c79f4fe5",224186:"c4016715",224209:"825a43cf",224305:"5b7c8d1f",224868:"940dbba0",224929:"cc776232",224974:"ad15cb9a",225228:"c65427d1",225296:"c99e4e32",225396:"dd2ecadf",225427:"f99dbe84",225459:"c643d7fd",22553:"fd205e59",225583:"f9ddeaf2",225637:"db8f70b4",225683:"2a1fd424",225742:"d9846f58",225816:"3dd10ff5",225867:"f653ca89",226228:"0528a99b",226237:"0a579593",226291:"a4d3a168",226334:"27a38eb6",22638:"f59640c5",226385:"5bd952f0",226406:"9774647c",226479:"af0e9147",226505:"0ffd9372",22661:"8c106848",226870:"745cf24a",226945:"ac009e7a",226974:"6722d0e8",227084:"a85dbb76",227147:"4799b8b7",227202:"5ee4ab1b",227293:"0aa11927",22734:"f217ca4c",227607:"663e345d",227692:"33885306",227717:"f4bb2354",227796:"f5341b31",227882:"650048ee",227894:"673ea99c",227900:"429e8cb9",227927:"a90b6e77",228044:"1acc3316",228067:"d9a8d6f3",228092:"1a6e657a",228123:"1d220d04",228323:"a7c7e2b1",228513:"33669b68",228550:"aa883844",228594:"ad010aef",228776:"d8121e6e",22892:"3d833e46",228922:"f960965c",229031:"32cac401",229121:"ecd6b531",229336:"aaee40d1",22976:"ab7ffeba",230032:"1af7ffc8",230124:"9d6a99c1",230230:"2c999d5f",230237:"89b2775a",230274:"8458694e",230537:"71a577f4",230587:"e3a63f38",230598:"74d8a6e7",230626:"46201b94",23070:"7ad76158",230858:"1009e594",230870:"a91d5430",230926:"09752c93",230928:"06e7977c",231029:"b2c1479d",23105:"5ef01075",231138:"3aaae33a",231145:"58dd18c0",231254:"7d5aa35d",231258:"51f3bf71",231272:"63cf4488",231545:"36febd0f",231660:"9b1229dc",231702:"ee61baa9",23175:"8abbdadb",231783:"5e5f9ac2",231932:"c3f885e0",231943:"02d2c265",232023:"93006021",23222:"52146187",232246:"5d58bcc0",23234:"6c3a4aed",232460:"9e135ffb",232462:"f9e25114",232466:"548f1723",232532:"b367666c",232725:"0de11e0a",232827:"811c805d",233038:"fec8358e",23321:"57a64b59",233249:"6f12d5ef",233443:"faa0e33b",233444:"37709bb5",233500:"fd3dd21a",233546:"4c0a5798",233605:"8983e067",233755:"ab80b168",233942:"ff1db4a7",234013:"4e06430e",234017:"a6f9378d",23402:"e7e625e4",234131:"4a24c301",234178:"c2a5798c",234256:"c6b89a9c",234345:"33699e2e",234390:"c16c8d50",234655:"43df2f81",2347:"d64bdedf",234701:"df5aa539",234822:"36103e1d",234891:"9cea7e80",234907:"d6fcb5fe",234978:"93997b65",23501:"913d93f2",235189:"e54b9986",23523:"daf21b8e",235236:"53c072f6",235277:"74a4d1b8",235308:"406d3638",235368:"74060186",235390:"52b4c092",235539:"7caf4b4e",235582:"bf206c02",235690:"7c047fde",235787:"d643b259",235798:"1d65e2b1",235806:"d37b3eb3",235979:"ddf1487d",235995:"51fa7782",23607:"5ad58116",236103:"43e119ef",23618:"c56488b2",236237:"a36c872c",236257:"17d7f55a",236318:"8ebbeee1",236326:"d5e1ba6f",236373:"d32884a6",236495:"a4fbeaed",236551:"6ceac91c",236695:"880c7ef8",236719:"ed797108",236749:"2cc28d2d",236809:"18c50e9a",236845:"c6804dc2",236889:"b8fc046f",236979:"e0728266",237045:"ef0168fa",23707:"5cea67dc",237337:"97cf11ab",237448:"d61c370c",237499:"ef0fd1e7",237509:"48d09351",237557:"d331296f",237558:"31f45ac8",237875:"0140a28d",237878:"6a0b1602",237901:"5da2e74e",238001:"9d5b3c2d",238121:"4d506af6",238399:"d611825e",238432:"5f2a78e2",238489:"f975b611",238545:"3c67984b",238552:"e8701823",238765:"0b90e1c1",238782:"ea04e35f",238830:"27055710",238842:"94387d65",239134:"5ac401b8",239214:"367b04a5",239266:"2452cf26",239338:"0e02f687",239378:"c44dcda5",239693:"a4f308cb",239697:"e444efa0",239890:"3048f598",239899:"d9bb4369",239901:"c9b60812",239960:"706d85ef",239990:"1410b651",240092:"01c2527a",240286:"44c5d380",240351:"d8f00abb",240569:"cc0d0b8e",240579:"6ac83f73",240694:"e6d8a877",240714:"7236fd8f",240862:"0cec5a5c",240885:"277465e0",24098:"77bcc704",241006:"1c1f3c18",241094:"b95868ed",241183:"d75abea4",241204:"7a29d02d",241232:"04c0cd6d",241327:"9fe86d8a",241381:"32ddf15e",241468:"679bd86e",241492:"d360ef42",241612:"18620204",241613:"cffab10c",241679:"108044dc",241689:"1aab6e51",241759:"342a92c4",241761:"cc673c56",241827:"865d3feb",241943:"eda3710e",242117:"03034be9",242216:"a53245e1",24244:"1cc63cde",242468:"7f5a72b0",242472:"8f0e6702",242531:"7030fed1",242560:"52348120",242601:"bd8b3a8e",242676:"34b6f21d",242689:"241f43b6",242777:"821b2b18",242998:"3b4f5c4b",243225:"51cd68d6",243339:"6478b942",243367:"6f1062ef",243370:"3fe87b6f",243556:"70822b61",24372:"db70dfc7",243771:"c3d86c05",243820:"4cd53119",243891:"a537c8ab",243932:"7c9bd08e",243973:"24661774",244084:"22d3c482",244246:"d71a5f96",244379:"3ea964a0",244416:"ddc33667",244427:"8c48055a",244447:"233c9117",244511:"a1bb0322",244526:"0002b89d",244553:"fb708644",244590:"3beab215",244626:"61c650d1",244780:"bebe561b",244934:"8efaafc7",244994:"2395a22b",245056:"c4b14190",24523:"41b65365",245492:"c41aa12d",245854:"53fcd03c",245908:"838e9a87",245955:"fdd56438",245963:"15f27cc7",245969:"edc60e65",246055:"76563e8a",24614:"dbb3b0b4",246179:"2b5ca5de",246197:"f7ca9ef4",246306:"42d46eed",246319:"51f589b4",24650:"538e0c65",246547:"6946df37",246589:"66af4f75",246627:"a033e19a",246644:"ad5d5e07",2471:"2f6e8ed8",247170:"83634201",247270:"6800f459",247364:"292f79c5",247455:"b7cd8d5a",24753:"a68f7a0f",247903:"802a6b9c",247905:"2b0f7cac",247960:"ff5b1d62",248070:"9cfaf0e5",248103:"6801f41c",248179:"92a9bbc9",248253:"46ea32fd",248279:"707f0dcd",248288:"1796318e",248299:"790cf06b",248313:"9df05f91",248361:"75e48cac",248567:"8fc43e56",248612:"76de1853",248651:"a09050fd",248708:"3a8126b4",248806:"fb00f26a",248831:"4e38a7a4",249026:"e9f66581",249064:"df47392b",249119:"01a5dd5e",249142:"a95d98da",249791:"c92f2511",24981:"c413e5e6",249847:"cf522f50",249924:"9f42c8d2",249990:"1cc914fa",250022:"2c2fcb30",250059:"9d014c09",250073:"9d8e78f8",250183:"173b26d9",250251:"9d31b73d",250279:"abffbda6",250281:"b8e6201c",250350:"c9f3f331",250380:"86c73ed0",250402:"bd69d354",250726:"453c5c94",250756:"f773edf8",250939:"b803e412",250970:"600d1b41",250989:"fdeac6ac",251214:"d8c01e8b",251368:"11759bf9",251385:"1f75b9e8",251423:"c137c5e4",251433:"0b0c8bef",251578:"5fa3c550",251916:"376f7f7e",251989:"a6b98cc0",252322:"4e020f30",252649:"06c3abcb",252670:"54f03828",252735:"a0894b03",252816:"375a0f82",252856:"2590d01a",252938:"bceb5e32",253141:"444324d5",253487:"1adade4f",25365:"07016593",253666:"925ab596",253709:"42ecdb31",254129:"91c1b679",254131:"d6b865e7",254178:"78fe27e4",254181:"5533eaaa",254210:"d63bcb71",254332:"f4449ab2",254548:"caa7d83e",254597:"91dab5ab",254637:"de74d5d8",254680:"e0e88d95",254735:"c222323a",254825:"5924cfd3",254883:"34f6891d",254895:"2cdac564",254986:"06a85cf7",255091:"67c1c5e1",255092:"f2d70312",255359:"1ab5b725",255547:"e1b62a1d",255725:"76fc3613",255753:"9afa2eda",255765:"2b9f7196",255809:"6e1c3f6f",255824:"be080a70",255895:"d829f6a2",255983:"b3dde965",256024:"28a39ac1",256057:"31b8db86",256185:"e805c584",256200:"f42b4ea6",256242:"dc4bdbca",256295:"e6ecb507",256337:"8ce9ba06",25650:"e4514312",256636:"3c3cdd5f",256764:"5473ab2c",25679:"eee03929",256968:"efa23038",256973:"a5c22b80",256999:"eee33b9d",257013:"1549d1cc",257145:"c83c3aec",257265:"9b7bbb66",257304:"cc3d3a60",257387:"74767cd0",257394:"199ea8b5",25765:"fd0e4cc6",257723:"0ba6a7bc",257745:"3395a620",25782:"cb1d7b84",257922:"89c9906d",257960:"0351e1c5",257961:"9b303b4d",258050:"2f7161cc",258864:"b2a5ead4",258982:"326929b4",259007:"3551702a",259018:"7ce71ada",259070:"352e2e75",259072:"3052e3df",259114:"2e1bbc19",259175:"37de6b55",259330:"44234f26",259418:"59ba0bfc",25943:"4fc35150",259455:"24670525",259500:"26be8621",259520:"f9dd220e",259593:"e0e631e7",259624:"3dd22d62",259637:"f154d410",25966:"214d4e7d",259792:"0fc3b7b3",260003:"529e76d9",260048:"33f19442",260072:"6c6bc922",260259:"a24f7afc",260291:"afd920ae",260354:"15a957e5",260401:"2182813d",260467:"a9f15d75",260477:"ff47d299",260612:"bb3c14dc",260756:"042af1e0",260918:"3e81be59",260943:"a399a69d",261113:"51e2b465",261130:"a09c46d2",261295:"4ea80467",261397:"8785a7c3",261566:"a3f48459",261855:"5c94b1f3",261936:"c1f66197",261991:"167ad71a",26202:"f7310119",262020:"fa8d2d74",262273:"f1c66309",262308:"eec858af",262406:"cbf480ad",262521:"68cd8064",262678:"caf799a9",262706:"5dcc2756",26273:"e4f68332",262840:"aec29517",263023:"be78631d",263041:"63b8a030",263093:"065deae3",263379:"3c45ac55",263538:"d940c3e0",263570:"07edf039",263710:"4f060328",263736:"1d44ae54",263797:"95949abd",263846:"9a351a8d",263971:"609e8505",264029:"2d9b17a9",264132:"92e74df2",264152:"6df54b6f",264205:"703c69aa",264297:"43f9e62a",26435:"63003a5b",264371:"75685ca4",264375:"b0ce57c0",26446:"d8d54ba3",264485:"95eb26e4",264489:"ee2d33cf",264906:"283a9f45",265048:"9310d112",265051:"00fd18e8",265070:"65f612f3",265157:"b2fefccb",265159:"5b79a6bd",265280:"8bb6d570",265295:"ee6a9cec",265323:"6ee254ea",265353:"44b35f65",265466:"49f22f8b",265576:"0fa34490",265642:"e5b8936f",265679:"bb22d0fc",265734:"2f2a1c70",265794:"07c6c808",265797:"56205e2a",265948:"eaadf6b3",265978:"e3e2e0a7",26602:"1184b24c",266036:"b2d23e2b",266047:"6c3d3425",266091:"ead5a1e3",266094:"dabdae10",266184:"339b3b01",266219:"50f71bda",266228:"3a64146f",266299:"3af7d02d",26631:"35e2460a",266357:"f2726721",26645:"85829879",266852:"5a68669f",266855:"c4638861",266897:"3a018865",266898:"534c01f3",266991:"f5db3975",267045:"00208607",26709:"adbf6d9b",267120:"53ff0ffa",267161:"e4a3e228",267170:"0d72a321",267349:"59cc867d",267692:"42ae7555",267722:"febf117b",26790:"f12fbb48",268244:"09cf2a6e",268285:"318e4075",268292:"1c9a8acd",268603:"0ae13e60",268614:"53c293d2",268676:"7a195166",268777:"e1473ef9",26889:"fff1e759",268934:"2ef93866",269028:"d8622e51",269032:"54b2306f",269297:"698bfd2b",269453:"b3082fb6",269649:"f7ece4f4",26976:"2c57780f",269895:"0f1b2f90",270044:"598c2ee2",270259:"e398edb1",270386:"84d9b17d",27047:"57e7d1b3",27071:"f0f78fe7",27076:"1bc50bfe",27078:"aef17bf6",270808:"608acea8",270906:"ad57201f",271027:"d7018aec",27115:"daaef5b9",271366:"5c185398",271428:"86e275e4",271476:"8a4000a1",271499:"34b23447",271719:"9f516778",271749:"d5e99234",271887:"a49cd158",271930:"28e6cd49",272058:"505ce2b5",272130:"c819d56f",27235:"b7ecae5f",272546:"3d483977",272596:"058ad7a3",272611:"ed3f7a8e",272633:"820d8a46",273011:"f7ad1f76",273042:"80e461c5",273335:"bfdb4621",273367:"fc8775a4",273463:"84f8cf3f",27355:"cde2f1b2",273608:"646f7387",273660:"c0dd359b",273751:"f652a99f",27389:"4abdf66c",274229:"265e7ac9",274296:"27c8188b",274337:"75246ec7",274517:"b3f1efa9",274536:"f1244e3d",274539:"37ce60fc",27461:"c56415fa",274810:"bf16e0c5",274947:"2137ca4d",275464:"19cb2b1e",275544:"3433ec17",275556:"056f08f1",275586:"a4aedb30",275761:"56aa1297",275837:"a806bf34",275943:"b1f447c9",276029:"6d0bf649",276083:"8c828be3",27612:"428d2dc6",276127:"7a04bd35",276145:"390795b4",276151:"1e99c404",276227:"b12761e9",276338:"16ef71b1",276567:"f7f1ea81",276682:"cc4a3cb9",276687:"a13a3555",276776:"75b36c55",276784:"68443a5d",27693:"e5d42358",277171:"29fc55b3",277176:"868e59f8",277207:"5eb57deb",277211:"5897ede3",277219:"bdbf4a7a",277506:"934c10f5",277577:"68d1295f",277899:"b6641594",277954:"402b6ab1",278067:"0c596115",278090:"4f7217f4",278382:"b032d525",278434:"4d91ebc5",278470:"bd359783",278581:"36b4e2a0",278603:"79445d23",27862:"f702cafd",278691:"e2252aa2",278710:"94f0ee78",27872:"35181985",27878:"d7964f1b",27883:"2c8483a5",278833:"4baff135",27885:"a96c98f7",278981:"563be218",279256:"91757ba4",279361:"2503ef67",279513:"0ee4052b",279539:"c3856333",279674:"730be278",27972:"5724303e",279758:"f29728b8",279827:"81965b81",279891:"2e829a60",279893:"ad2db0ec",27992:"bccc2e40",28013:"11170ee2",280134:"d7a78dc4",280149:"549e868f",28022:"541ba0c7",280242:"9dddcd0b",280278:"f5f32534",280293:"66ff6640",280361:"326f7d90",280532:"b833ea1e",280546:"da0f1dbe",280564:"d4896083",280671:"f58372ac",281063:"79461a4d",281148:"49b79cdd",28117:"f6786173",281275:"fbfceb4a",281287:"0476244a",281354:"81f9ba78",281419:"3068a545",281629:"a827fd7a",281832:"df082191",281853:"a09fe788",281892:"7f860da4",281907:"421d90ff",282019:"f894cd0b",282030:"c66a02db",282137:"54358836",282217:"ae4e9950",282258:"e1749500",282606:"95dae5ed",282678:"a1637924",282715:"01b6ad9a",282853:"9968d7f0",283421:"b09be004",283755:"8533706b",283797:"99e0f2d7",284150:"0dd742c1",284166:"f788192d",284365:"07b03dd7",284402:"efdbcae8",28449:"cca784ef",284578:"8060e01b",284594:"f30c8d93",284619:"21225560",284663:"b7d7455b",284725:"cc4ab791",284844:"e93d51c0",284904:"fd60894b",284907:"829128a2",285061:"2e31e722",285118:"1029e9f9",285125:"44aaef0b",285312:"c94369bb",285319:"cc9f4443",28533:"956df3ad",285363:"aa38073c",285376:"df38054d",285392:"26bfc31c",285517:"7ee208ec",285571:"51affd92",28565:"53e3279e",285720:"50275dbd",285882:"a3deb1d8",285888:"ea42d41c",286091:"8bddc6f0",286403:"c69127ef",286474:"1c54b28d",28661:"843d85c9",286681:"513273f5",286755:"a9a68024",286830:"a7779928",286832:"a12d3379",287017:"05c8dfc5",287106:"68133e70",287136:"38d71eb8",287367:"c6aca37f",287598:"e3bac307",287626:"aa84534b",287723:"bb5798bd",287792:"bdfcc238",288012:"4ff507be",28808:"32b8e8ec",288085:"995f2bf5",288103:"3d568b28",288262:"e04f3122",288439:"22e9a8e5",288441:"109dde1d",288509:"1a1a87bf",288518:"3a208f3f",288677:"cf4a2202",289032:"81e0d6df",289183:"ae06667d",289254:"3bfbb451",289339:"df8115f1",289488:"b7b7fb73",289590:"128a097a",289622:"5b29dcaf",289623:"122a55ef",289818:"cbe7f537",289830:"53e4283e",289834:"2b207d9e",289836:"c22f0eeb",289942:"a6e7c409",290140:"f6e56587",290690:"5c7b908b",290791:"aa7bf2e4",290819:"7b57f357",290834:"e1c57658",291075:"19cae458",291095:"f487e309",291239:"47d80ea9",291260:"6d922892",291278:"dbaf0e56",291429:"e530ef44",291465:"569d1ea6",291637:"2ad269f6",29164:"507e0a3f",291675:"e42227e9",291886:"48e855e0",292078:"81bf7713",29232:"3ff28472",292345:"6a38f6b7",292358:"795a4b6f",292392:"496f6f99",292462:"a51c3c06",292470:"4fd8009c",292507:"e980fd37",29260:"224ce286",292614:"b97ae824",292698:"92d5ef5b",292745:"4c7309af",292799:"b78d58c6",292812:"2ceea414",292842:"11bfb510",292891:"e06004e8",292905:"a82caefe",293027:"4e229a85",293167:"61f9d1d9",293219:"b6baab95",29329:"867cfe58",29331:"2b9344fe",293343:"a69f8833",293354:"0d4e08b3",293402:"5e805636",293490:"a5fbf4c2",293532:"661b41c5",293572:"112e45a1",293662:"62bf419f",293715:"33702016",293721:"b98449a9",293729:"8699a6f9",293749:"4a54fd02",293824:"5d8cb150",293837:"d4a72725",293838:"b79a11c5",294047:"2658e861",294057:"5060f362",29412:"f1abe5d5",294265:"2e4c832d",294304:"4dfd5b78",29439:"d478e116",294422:"e72a4ba9",294439:"75a28397",29444:"a7ebd2f8",294658:"eb6a0d15",294684:"13e14db5",29477:"6a5dbdc8",294840:"a8692fb5",294980:"6af8d8d5",295005:"6ed6f08e",295293:"680edba3",29550:"6cec6b8c",295554:"6bb201a9",295659:"d71ffea3",295682:"d0d7884d",295745:"78cac805",295799:"75497f9b",295960:"ac17a416",296149:"61518e4f",296159:"5c16bc6c",296246:"210170a5",296265:"1e75d128",296292:"636a1551",296306:"55ab8ad7",296433:"7e3a58e0",296466:"737c51eb",296747:"29430b6d",296835:"b5f10017",296845:"8f7eca77",296869:"3f29025d",296883:"29607f18",296884:"a0ae6778",297012:"fa78f7f5",297132:"349d09de",297221:"a0958369",29729:"59cd0773",297399:"f77aff31",297512:"cbb98262",297566:"f343a5e7",297576:"ea4439d0",297616:"595fff05",297754:"1aa55852",297858:"0a43492d",29794:"56ec5542",298014:"96958a71",298020:"41745945",298110:"b3c0d477",298204:"d5c9b619",298224:"35245d30",298338:"af73fa08",298396:"b674cc61",298425:"bd0f870d",298433:"7f818989",298513:"be0a38e5",298607:"e73b4c28",298717:"88fcd593",298722:"ebd9804b",298818:"a784d1e9",299135:"92b711a0",299154:"8448b843",299227:"bd46609f",299353:"fc0e1854",299355:"5aef8135",299391:"a0ed9a2f",299414:"6075ded0",29953:"ffa53d4b",299530:"e79c19b5",299651:"0d3989ab",299718:"c9768a26",299749:"d571190f",299877:"d196b7ea",299975:"878d3999",300050:"d1158325",300063:"f4594dae",300231:"a7a02482",300474:"af133477",300730:"e35dac93",300917:"960d79d3",30096:"1657b086",301097:"a9f03279",301113:"3cc6024e",301315:"39d54ba6",301346:"bd708b5c",301766:"22808bab",301785:"693ec4cc",301862:"acb2afe3",301958:"3ccab605",302031:"ef9ab77d",302063:"2ec41aeb",302153:"a1df31de",302303:"5c99ee73",302494:"3ebac5eb",30259:"9af804f6",302678:"c5c21f46",302702:"69bc69eb",302731:"2ffbfcfc",302851:"56eae92a",303014:"708f1095",303210:"32d7ebec",303217:"032b8ae2",303275:"66390b02",303358:"afc74bb6",303747:"439345d9",303752:"53f6e914",303770:"a318ce36",303824:"a920984a",30441:"8eedcd70",304499:"8ad48791",304540:"2781a67d",3047:"40dd2ca2",304862:"ce8280e7",305141:"bc015828",305225:"22fb824f",305231:"1b5553e1",305260:"84a44bfe",305300:"0976da69",305328:"f32f2f0d",305573:"579d095f",305608:"fbebbf25",305641:"a0463653",305774:"5d8ef30a",305857:"25df336b",30602:"d4f3339b",306107:"d17776af",306221:"6cc4b221",306266:"fdcb87bb",306299:"12373d72",306309:"697fd043",306368:"ab9baad1",306432:"8c5f951d",306720:"6c5fad37",306729:"16763914",306730:"db9ef71e",306801:"780b5b85",307:"b15e14c5",307134:"660e3563",307164:"ef6be377",307244:"f403daa4",30728:"2e31bcc3",307354:"410044fe",307506:"fbe0cc10",307537:"d73bb9db",307576:"8dd49dcf",307759:"7c3f1a1a",30787:"c7d73a87",307977:"1638b121",308088:"6ef7dfd3",308173:"88eae376",308316:"3c63f3af",308348:"bc6496e7",308355:"be35260d",30844:"91b79856",308465:"0c3804e0",30850:"0e19340d",308500:"6942d49d",308773:"74b3d051",30885:"e10c289d",308969:"6889d37c",308985:"6f70746c",309372:"52d7a944",309391:"091ca6b0",309441:"edb87338",309545:"3290192c",309584:"77144384",309651:"636d8ca5",309668:"97efdc69",309741:"2082e7e2",309933:"621537ef",310141:"e231f85d",310227:"13b27108",310353:"935f2465",310428:"e3ff72d6",310499:"bd2fee7a",310517:"1f8483e2",310526:"ab9aa26d",310539:"1ea44f77",310570:"cb329dae",310582:"ac29cbb3",310886:"9cea8c7e",310898:"721b0db8",310901:"a4ebacbf",31093:"8288b00c",310974:"20103e5c",310985:"cc00128f",311041:"66a61fea",311050:"d905dee2",311278:"b13477e4",311457:"13819bd7",311477:"d4274472",31154:"676d076b",311625:"ebf575a6",311656:"120b9221",311774:"1ec4ca1b",311855:"dfdecebf",311989:"6bc6d897",312028:"466b0f72",31216:"51e4a9b3",312438:"65f2fb06",312459:"9f0e538b",31253:"cd137e55",312550:"72485de0",312704:"9852d30e",312908:"eec5405d",312995:"14e31ed5",313122:"08f74d85",313241:"0ae0b1bf",313302:"da6a67b0",313387:"f12e6d52",313407:"b2416d9a",31341:"14ebf56b",313426:"98039e28",313444:"ec11926e",313599:"4620d021",31377:"9d6b4fa0",313950:"a81fef21",313973:"41bee773",314030:"dd7641ed",314064:"018d7a4e",314334:"427d8c4a",314344:"e03c7d5f",314422:"4ec151ca",314461:"2f29aa88",314520:"727853bc",314556:"483a65a3",31463:"6bd4914f",314640:"456bbbc6",314701:"d7f5546b",314856:"4364d7bc",31490:"05e1bdba",315043:"f9ebc9e4",315086:"d9901ca2",315341:"a9e5a3a0",315366:"03e1fd16",315402:"7d71c110",315443:"22a7650b",315537:"18022731",315716:"0dfd461f",315881:"79dc4483",315919:"b4380440",31602:"0862ceee",316122:"a6613bb9",316124:"fff6ac9c",316218:"8ed0b208",316436:"19289c81",316550:"636c6865",316604:"6b69a58d",316606:"ade408ab",316638:"75a6031f",316688:"c9a213ea",316751:"5511e8bc",31678:"8c7a3dcd",316830:"4002261b",31684:"325ddb00",316880:"ebc46280",31695:"b5431501",317059:"111634be",3171:"b9996f63",317104:"874cbb4e",317161:"0a9a620c",317388:"844001e2",317467:"c26800f8",317536:"2d67a441",317627:"7d18c920",317629:"59ec0006",317671:"95d7fdb6",317703:"fe5d8c94",317748:"85972846",317826:"b35d5f18",317860:"a1617640",318048:"f1d7b9b2",318132:"20616768",318158:"61f7257f",318365:"d168a173",318520:"200c4881",318991:"112157ab",319058:"c0effb48",31922:"6990623d",319293:"4665f906",319298:"efb52c08",319426:"cec2a6cb",319704:"de5792ef",319750:"d7f2d4f1",319991:"896c412f",320050:"c82633b4",320203:"3665fb18",320442:"cd22a57f",32045:"e9b5c061",320574:"4af3359e",320660:"8c41f51b",320779:"fcc54daa",320975:"e6365236",321270:"be6fb99f",32146:"7bcb0bd1",321724:"d6bcc3a7",32175:"e6de43c9",321802:"3d48e1a7",321869:"dad1fa25",321963:"c545de94",322104:"7723bb9c",322200:"02e599a0",322272:"7a0112d2",322292:"1783b6cc",322347:"e5d5fb61",322500:"4eb4e01e",322781:"638561ca",32291:"041d8277",322945:"cbbbcbf6",322950:"f6b95b69",323037:"eef914e1",323040:"4657244a",323112:"8740b08d",32359:"a3152157",323664:"b5ee7d98",323698:"2d226f70",323820:"39dcf916",323846:"fc9f0241",323847:"a040003b",323896:"b5f5cae6",3241:"0cba0e3f",324268:"3ea65644",324345:"7155426d",324424:"98ac8cbc",324501:"1b70c660",324748:"5e30aff4",32475:"d25b4470",324783:"1e23c434",32483:"194660e2",32489:"d7867402",324960:"58b22c36",324975:"377bfd32",324995:"61140e0d",325021:"83934e48",325033:"b575f7f7",325097:"1b6c7c4e",325129:"edf570f8",325170:"b9ef26a6",325260:"163b3a7f",325307:"78ad89eb",325433:"057e3ddb",325488:"33246203",32561:"40f6f22b",325644:"f3e63189",325798:"202d24a7",326017:"b7f97e50",326091:"15f55443",326155:"8cab6b4f",326180:"9a427d11",326217:"f255d23a",326302:"e2150342",326352:"2234061f",32637:"f6304dc5",326407:"71f81ef8",326490:"3609a60f",326511:"986c710f",326579:"55283cc0",326599:"ba731b90",326637:"86bac607",326706:"a0c493b0",326756:"e7b04786",326785:"f02a3e22",32684:"03e502de",32696:"14a8ed27",327187:"781871b7",327241:"9f9c5781",327311:"f3571f37",327345:"8f03e345",327371:"fc0e4dac",327445:"c91887bb",327527:"791b9056",327589:"894556be",327613:"a93c0fc2",327857:"f3b6c47c",327962:"1b7af891",327997:"574b3a1e",328016:"ec53688f",328156:"15e7d0fa",3285:"cf8d4618",328594:"6ad428a2",328693:"36100471",32870:"a5004f12",328706:"67662165",328771:"1c7be3c0",328813:"fca914d8",328939:"0aeb1649",329623:"9d9fb9df",329649:"c5f17b80",329709:"8b76ec33",329748:"44cc5977",329749:"35bfde58",330008:"fd3b112f",330144:"2568ac43",33020:"d027169c",330356:"9313764d",330358:"e0b9b9c2",330420:"f9874240",330535:"07679dec",330604:"1edbe494",330800:"9fefbaef",331124:"8897b5c8",33117:"b0b7749f",331187:"cd4302d9",33129:"f83e79d5",331462:"059b9970",331553:"abc9274f",331584:"b8585369",331817:"a3be5e6c",331855:"38f6b5ec",332006:"efb25edb",332150:"75d9ef2b",332207:"f57dd738",332442:"1b6b520c",332474:"f3e6455c",332500:"93ddd77d",332570:"6840cfa2",332649:"8ed21b46",33278:"e6d7b19f",332934:"bd9c0f4f",332989:"2c6c8633",333029:"604fb0ad",333098:"c55ce6eb",333320:"70d17ac7",333533:"fc741875",333821:"1c35de91",334122:"b7903811",334180:"8bd992ca",334389:"e32134a3",334510:"e30ab00f",334609:"2c3797ad",334652:"c3c1cc67",334695:"54cca739",33493:"2f760551",335177:"a832fab7",335222:"3e76e303",335273:"51c31d27",335415:"bfcdf9ff",335425:"5072a8c4",335445:"3aa78d56",335588:"8f37d5aa",336088:"01b18c96",336090:"69389b66",336122:"19cdf630",33629:"93811edf",336321:"3fcffc33",336410:"e451f321",336728:"62b26e88",336745:"593029c9",33676:"35b7f25f",336905:"1b842351",336925:"d337c8da",33708:"cb683624",337203:"e38ec1dd",33746:"b58a6e3c",337583:"38463371",33772:"df67f999",337765:"cbff23a2",337825:"c64ba771",337864:"7159d513",33789:"b76ba3f1",338184:"ac1dcae5",338215:"e0002946",338322:"7693ade2",338381:"b4485b4b",338508:"d63de822",33870:"c64e549b",338877:"1ce39765",338946:"72513f82",339008:"01faf496",339046:"abf7f794",339193:"0650bd92",339227:"a40ba91e",339375:"1eb8db2b",339709:"5b06c2d5",33976:"8f9ca33f",339773:"1ec00fa5",339966:"2ad1f537",340063:"6e8a257a",340113:"48f31368",340203:"7dd92f4f",340237:"6cb3b9f4",340298:"0221bde8",340355:"c35ea31b",340476:"a7de0d99",340726:"79b026a6",340875:"5e7ad2e1",340880:"cd308461",340916:"5e9975bf",34098:"782c2b1f",341028:"7806c5ee",341169:"214581f4",341200:"1f13a645",341353:"d8d494f4",34153:"8b806836",341535:"ee77f68a",341580:"3d419844",341583:"07c9a69d",341589:"bc86992d",341612:"16b2f448",341615:"e7fb3507",341662:"ded783a3",341732:"84f6348b",341844:"db0a5480",341874:"b283a756",341947:"75b44270",341984:"d399448f",342023:"3a2fdefe",342177:"7be52547",342210:"22da70b6",342231:"bb5e47d8",342245:"535b6c65",342279:"19bb6419",342285:"a09353b9",342324:"d17d2fdb",3425:"488a9780",342723:"091f6aa7",342753:"09d6e2c5",342812:"245b409b",342842:"37d5a516",343131:"15e701bc",343159:"1c36bd0a",343172:"8e1622c7",343304:"c82ce8ea",343359:"b86053ee",343430:"1f874653",343477:"d5fa8c2c",343555:"17b0a6ac",343688:"a7a80705",343695:"89905064",343741:"66a284b1",34380:"7a7bc8ef",343948:"37a278d2",343993:"2c1d4881",344181:"d5882474",344357:"dd6c0cf4",344392:"1f5c08c3",344489:"b86be427",344594:"bd5300ea",34472:"a154dcea",344725:"80d555b7",344844:"11804678",34492:"8252d300",344940:"777bfc54",345278:"c50422fc",345444:"b40ca274",345483:"9ce62680",345633:"3197139d",345638:"29503a5e",345670:"1e83db2c",345674:"552584c9",345757:"09b2ddd5",345809:"e67399b1",345878:"9ede178a",345925:"394938a7",346160:"cf880782",346165:"a1c90a45",346345:"36c5d254",346471:"21e54a03",346483:"52c37ba9",346530:"807ed652",346537:"839e9d6f",346541:"901f035f",346827:"4d2128a9",346913:"6a78ca74",346927:"35aa1997",34708:"ce530256",347099:"f00a66bd",347232:"1ad7c9a4",347328:"e3e92bb7",347403:"12355de2",347543:"51c8da65",347574:"f697bb51",34779:"c3c2e9e3",347852:"174a1c13",347936:"636338f9",347995:"71c45e31",348032:"1b305b8c",348283:"3975749f",348420:"bb7818c6",348432:"3cbcb109",348562:"c9b041c7",348626:"509896c0",34867:"cee89d31",348674:"3129da4a",34874:"432e176f",348742:"f864d8f1",348858:"6196ef43",348885:"cc6f538b",348955:"c7e54f7f",349024:"235c94f9",349109:"0dd2c275",349330:"762d39f1",34941:"7c66c2fd",349522:"d27ea926",349571:"3b5edb5b",349696:"cd57d39f",349848:"e3b8796e",350300:"b0a3bafc",350490:"c998ed8d",350565:"7041ea1e",35062:"1b39059f",350728:"eb297a9a",350735:"4d4fcce2",350773:"e5b42085",350987:"d3c1881c",351095:"f0b86a7b",351119:"0c63344f",351133:"76826d21",351161:"02d91d41",351198:"60e980f9",351386:"667e8d41",35151:"2c0e5693",351729:"71c1b53c",351793:"12196f17",35189:"8bf45f99",352047:"748d73ad",352257:"656e5c37",352343:"2d1121e3",352469:"2a4c3532",352536:"7387ce86",352674:"96a121a4",353289:"cc85f817",353356:"9a937311",353547:"e412a062",353572:"7ca20cc0",353781:"920559dc",353975:"22e296ea",354060:"9ec3e724",354147:"340838eb",354342:"1b8b2f1b",354415:"8e5fc935",354439:"b66e8d18",354466:"6183accf",354582:"001d7dee",355009:"f411a605",355057:"68fb7cca",355223:"b5543f51",355273:"939436f5",355329:"38cf0d61",355416:"8ca8d3e6",355504:"192f9364",355694:"6b35758e",355745:"6e40e592",355977:"c3577e94",356081:"4a970796",356272:"1a99ad7e",356367:"b79830a6",356481:"50fa519b",35651:"ed908591",356655:"87a4486a",35671:"25994132",356736:"119018e2",356743:"2a6f0762",35689:"37f8f230",356924:"17fcc4d8",35699:"97bd3cbd",357014:"fbf7b44b",357063:"c614cc78",357077:"dd4c5e52",357104:"ed3ba9e3",357105:"5392d575",35716:"ce17e1c9",357221:"57ea1098",357264:"4a5d6657",357354:"c3bfe7e7",357375:"4b78e7b3",357423:"4562424f",357452:"8c92d78a",357694:"0f73c059",357826:"e96a4077",357828:"d715d61b",357874:"c0dd9afa",357954:"970c9b0f",357983:"770adde9",358075:"b193aea6",35808:"484c259c",358086:"8bca39fd",358157:"e387919d",35819:"7fcbb01c",358211:"3a145543",358257:"633a1cc2",35828:"09d8cb74",358400:"296160b0",358435:"381b60b2",358440:"fc132aca",358551:"17a0424e",358634:"5afa3a99",358901:"e4030683",358919:"2ac3e409",358928:"d91a87b6",358988:"7d37aae6",359072:"40903211",35928:"8328f03f",359329:"a40d6c1d",359349:"6facc697",359374:"5168d5b8",359408:"ce78a24d",359424:"816d2364",359437:"2b87db93",35961:"9cc2883e",359942:"aee70cda",360004:"81433bc5",360007:"da63454c",360026:"686a7e68",360160:"eaf4a550",36036:"8ec6fd2b",360422:"dbb12ad3",360485:"7e73699d",360899:"fca0213f",360946:"7c28a01d",361098:"9a09418c",361258:"672bc062",361362:"28121cbd",361435:"c4bbfc1a",361505:"2cdf0181",361605:"b6ad1668",361659:"94e69d58",361694:"36b929ab",361782:"286ac97c",361825:"d4ca76e8",361929:"a936b46c",362364:"81f61c50",36266:"f97cc79f",362717:"16908c78",362759:"f36e7321",362884:"503ca3d9",362893:"ee0bb68d",36308:"b92a34ac",363182:"198b6395",363240:"676170d7",363246:"3e1108c7",363358:"d8b312e9",363433:"1532eea5",363468:"55fbbc5c",363491:"fae4040c",363532:"06909d35",363550:"0454d3b8",363628:"d467c7a2",363708:"c6570980",36380:"4c356ab1",363844:"00954ef4",363952:"d6563070",364081:"d8531cc3",364086:"b5e1e9f6",364152:"301ba67a",364183:"1e92863e",364609:"d16ca97b",364649:"b1a56516",364686:"67238451",364722:"8c606a08",364772:"f60421ba",364902:"2fc23cae",364955:"ad2510a3",365135:"ce9a39fb",365433:"2c56ba3c",365438:"730ddd03",365479:"0cfe2e23",365574:"6ffc7e69",365715:"5936de8a",365758:"d8481230",365979:"7d124cad",366038:"d2c0acc2",366091:"776ca1be",366131:"b742342c",366234:"3d68cc7c",366362:"475eac86",366419:"e53c158e",366522:"c2d50832",366588:"5e0cc18e",366609:"1b4f2a69",366722:"8b6be6b9",366731:"bcda4e64",366739:"6d30105a",366903:"f2ca9ea5",366907:"5c45a187",367058:"7e9d0f6f",367120:"44e144e3",367155:"1bb18af4",367209:"5a6edd2d",367246:"a9108224",367267:"063c1afa",36731:"6db3b89b",367498:"cb315a5e",367538:"51cc537f",367555:"e6f135f2",367648:"6f295b5f",367687:"2a470d1e",367714:"c718056a",367762:"46c4d3ba",367881:"0397727a",367891:"b9fef737",367995:"9c3c34cd",368078:"1a6cb4d2",368178:"fc69b415",368198:"a92f0b25",368230:"685dac79",368266:"510fe71f",368307:"3d413478",368361:"94e09f66",36847:"92f4d5ca",36848:"17a8f73c",368593:"86a61ac7",368602:"d7614dfd",368636:"1d9e71b0",368739:"8235048d",368764:"ab16f5ef",369014:"36f420ac",369015:"48e0adba",369221:"142aab01",369255:"8515cacb",369267:"9c54b712",369272:"7ed946b8",369296:"eec9bfd2",369507:"fcaa51ac",369624:"46f09621",369866:"97263708",369993:"34dde97b",370075:"5db37073",370205:"0c4d547f",370225:"0e638be4",370232:"10e6694d",370316:"4be95fad",37032:"b81f6d90",370365:"f8db7830",370372:"98d33011",370485:"20ad78bb",370554:"24ea803f",370576:"a7b86013",370601:"db874a7e",370603:"1cb541fe",370666:"6cf68ec6",370791:"4a406002",371061:"610b521d",371130:"b732662d",371261:"5ca5f83c",371374:"8b5db9cd",371412:"0275d71d",371420:"9d118714",371430:"c1062b5f",371516:"b9cc91d3",371779:"c6b12974",371794:"78210ce9",371870:"c3b225b0",371892:"d46b873d",371907:"ab4d7a7b",372105:"92b31f69",372262:"7184cef2",372341:"1576cd77",372432:"ab24aaff",372486:"2243be09",372541:"6e94fa95",37266:"805bc25c",372669:"64d18b44",372745:"f06b3400",372778:"483e8b99",372829:"f2f5859a",372989:"1ef166e7",37307:"2cd52e34",373117:"a0dd7ac6",373388:"43cd6c8a",373537:"88f3d47e",373538:"30c6940f",373609:"83bc8b3c",373705:"1aabb906",373714:"88bf7d83",373943:"e9f13a3f",373953:"ed1049e6",374071:"09d02882",374170:"1d156b2c",374212:"11138f36",374263:"02bbccca",374324:"c5c61120",374438:"f4e810c4",374491:"da14d992",374571:"304dc327",374838:"b2c45917",374859:"bf6dd12d",374895:"e2eda2ca",375006:"1e64a0f9",375019:"4087c272",375267:"266d8a8a",375279:"c565dda8",37530:"06c3fed4",375332:"aec6d2ef",375386:"226f0a7a",375441:"58ee1b04",37551:"8c1944e8",375534:"0059c574",375579:"414e3824",37561:"413beca8",37574:"769be823",376004:"5fdb7ce6",376066:"47fd7b4b",376220:"628a4196",37629:"5d20688f",376347:"40effaff",37637:"be53d7f6",376461:"7986bdd8",376633:"a46f1852",376868:"16e1ec0d",376886:"a8db7d8d",377019:"7e36533f",377129:"99edae98",377136:"b17079d1",377210:"a34ca11c",377229:"82bf2104",37750:"a05d775e",377512:"d3617397",377579:"942260c5",377605:"1f45bb3e",377609:"b1a5e92f",377631:"4241dde2",377780:"99829ea1",377892:"10d6e9be",377906:"8dbe4943",378050:"c56ff314",378130:"3f4b51bc",378273:"6f0506f8",378309:"94fa63b5",378337:"00fcaa6c",37850:"62a094c1",378665:"ae720d71",378693:"98a733aa",378797:"70f83d5e",378862:"59bb7336",378991:"19b8a16f",379019:"e3ce50a7",379045:"6d26b459",379177:"eeba4af4",379393:"33d0680c",379404:"fc6bc8f7",379429:"833b5b83",379527:"d79354b4",379546:"d19bba1f",37960:"f31b57c3",379620:"662b6dbe",379726:"56d9fc8d",379811:"38a7f8c8",379934:"8b3c01c2",379937:"101a8ec5",380024:"6604c0d1",380359:"76e0a02a",380392:"ee71c30d",380420:"74460848",38072:"3510c6fa",380809:"89f7bd8d",380870:"36617b3f",381048:"22b81999",381062:"30bcd26e",38118:"233879f2",381248:"9ede39c2",381319:"010b297b",381396:"a7be81d5",381454:"69ac325b",381519:"f1ac5412",381632:"6fb483e5",381667:"80017cb9",381708:"7392863f",38177:"d543589a",381949:"d72e7411",382068:"91e7ad39",382148:"0cad4e5a",382182:"2160aad3",38232:"dc0c6f52",382505:"ee762dbb",382512:"bacaeb98",382515:"7a48fc93",382536:"57912c48",382601:"43f3810d",382705:"d08bd5c7",382810:"4a3e74ce",382837:"92aff30e",382860:"d801a84a",382930:"7ef226f3",383022:"e42e3a00",383088:"82ed9a2f",383103:"63c6f93b",383155:"2a34ba37",383181:"78f7c0a3",38326:"ded8026e",383409:"7fed488e",383454:"effb8ff0",383549:"d05d61ef",383612:"08194592",383653:"f81b81eb",383750:"89342344",38389:"ed6d4ed4",383983:"820ada70",384035:"a42c1c5e",384157:"5c49f6c4",384186:"a461f0b7",384228:"ec01f6fe",38424:"7f821cd2",384326:"548fcd1e",384669:"fc12eb16",384720:"e8cabf18",384735:"b1d1b5c6",384738:"369a70b1",384741:"5a0f45db",384778:"8c168a3d",384789:"14420362",384911:"4188d2ed",384913:"77dc0e49",384957:"2f43f22f",385138:"e13ba763",385387:"ed125d28",385494:"bebe562c",385534:"d0ce3c46",385642:"95a59267",385941:"c32db8b5",385986:"6b3e0dff",386039:"ae38f921",38617:"fc408873",386377:"4fa96d8b",386403:"289680a5",38642:"92445d0a",386434:"c4352e95",386445:"b68f7dd4",386455:"bdc1531e",386521:"8176f02c",386544:"01eed4cd",386655:"3ee1a874",38684:"32af836a",386906:"2e4c25be",386913:"8600b2ad",38692:"0744b028",387069:"5233ceff",387184:"d6263822",387253:"939b0473",387328:"55223514",387423:"9675ef22",387524:"cb39fd68",387527:"a4e97768",387723:"90a4e7db",387745:"76f4f6ca",38783:"31633e2d",387929:"3203bd3a",388031:"46c814a0",388130:"a888e2a7",388210:"123f1284",388252:"42dc84a3",388377:"b760a2f4",388412:"67ccecc9",388424:"9b8e608c",388472:"c9548870",388481:"346af96e",388485:"4b331adb",388519:"a947588c",388570:"248ed127",388714:"73630d39",388915:"dcbd3417",388925:"bfc99eee",388977:"c0ba313b",389044:"7b957603",389048:"de28c48b",389108:"82a811c9",389159:"8b1d7517",389218:"81c1eb9b",389391:"ebd4d457",389439:"d322cf12",389480:"b14eb8f7",38963:"43a70551",389681:"c5f1328d",389698:"e92fac11",389719:"c64ae59b",389864:"51573f24",390010:"7a88a471",390095:"4215f827",390374:"0f5da728",390435:"e3e829e5",390506:"ff77b874",390522:"3157a2eb",390567:"5da82779",390574:"037a073f",390628:"976d7a4a",390656:"e4d8fc6b",390659:"ca16c874",390675:"77a1ff9f",390735:"b920d401",390908:"9a0d21e1",390911:"29f8e380",39095:"fa2396ba",391086:"75ec1e8d",391145:"d501fcb7",391209:"9f4fe71c",391237:"e6054365",391240:"c4e8e2d5",391256:"016eff3c",391437:"9f7e9e8d",391451:"4a7c777f",391629:"c454e31c",39176:"30561697",391844:"022b6d7e",391997:"ea96c07b",392363:"9a28f540",392587:"b662479a",392721:"6a87ee0c",392754:"8455ded5",3929:"d3108abf",392968:"ec3106a9",39314:"5466ff8a",393181:"24146053",393227:"13f3522b",393296:"ba06bc5f",393444:"dbb68eb8",39346:"b42ce50a",393826:"14c42441",393879:"3031e7c3",394066:"7500c7dd",394182:"36b536ba",394334:"22a74103",394425:"d91f66e0",394573:"b9dc4131",394577:"165cb403",394620:"2ac23692",394634:"662d65b2",394794:"d7f29854",394841:"923462f1",394904:"a3cbe64e",394916:"e5cafa92",395052:"cfe2adb5",395084:"d27cb9f1",395175:"895ec364",395413:"7d9a2e56",39546:"5c4f8a56",395549:"1ee9004b",395761:"19b8478a",395838:"267775ca",395849:"eac5c275",395871:"d2c8d593",396091:"b9caef69",396195:"d3d2a9dc",3962:"10d2f34f",396299:"1a1ce05d",396326:"b99b64c1",396436:"b611d86f",396475:"8388dd09",39660:"e930cb55",396610:"56c1ee6d",396788:"ea148a61",396979:"8da1351a",397008:"80e80878",397114:"259b79a3",397349:"6a377189",397422:"16ea97b4",397426:"d74fc68d",397441:"6554f310",397599:"7512a9cb",397698:"65777232",397708:"5bf9eb9d",397987:"11115158",397997:"b113d66a",398093:"21b7493b",398244:"cbd40e75",398534:"5dc255ff",398549:"1607cb20",399:"917f9aad",399182:"dfb87977",39919:"6f932938",39925:"8bdae270",399485:"4ae5845c",399574:"08ec3b65",399628:"bf262553",399654:"e61c8ce7",399661:"b7f81a7d",399750:"e4ac546a",399829:"ab5228dc",399999:"0cea5e8b",400211:"fca98d91",400359:"7df1b983",400425:"adf54d0f",400477:"a87ee3bd",400496:"1472e224",400691:"89dcec93",40075:"4d649c1d",400775:"0a2aa5dd",40083:"9aad4227",400865:"468b1ea7",400949:"702bab51",401085:"26ae63ad",401204:"26aff1fc",401269:"7ce33cf5",401342:"822e27d2",40138:"e2bcea87",401386:"8d232cec",401669:"07320e32",401754:"f319237c",401826:"a4dafa7a",401925:"b94f7f4e",401928:"c53521bd",402059:"a257dcdd",402173:"24aa0b92",402278:"d617651f",402347:"0677706c",402351:"543d26ff",402437:"c738bb15",402502:"041c072f",402520:"6d5d011e",402538:"a66efbc8",402624:"b10cea83",402668:"fb01bb99",402809:"ba4de7d0",402902:"c96920bb",402970:"6c224658",403028:"4dbf4515",403098:"361e544a",403177:"c383c218",403271:"cd6b3c95",403357:"a6e6916d",403421:"7d86f901",403434:"dee4feed",403496:"fc2773ca",40350:"8d3c222a",403653:"34a7bcaa",403725:"d367ad3e",403824:"b182e4ea",404024:"d3bbb5e2",404055:"bc67cdef",404068:"b9a91d16",404336:"f0b8379e",404586:"dc712836",404593:"6aa070fb",404648:"bba0ccac",404742:"7ee4d0d6",404805:"254fe560",404957:"0c13b57d",40508:"fbc8e709",405168:"e40fac8b",405214:"bf29e884",405279:"4579e60d",405499:"03f222d2",405629:"d989c4ca",405810:"ab416935",405854:"dfbf2b98",406137:"a7198ff8",406176:"10d29091",406420:"ad50fa29",406454:"b616f5d5",406459:"91e99fce",406498:"fdc67284",406504:"e2af9bf4",406551:"d67def0d",406586:"6df0fc34",4066:"b7859566",406638:"b1a0016a",40678:"5abbc99d",406979:"c0c9f920",407287:"ee9123a9",407288:"13bf3231",407323:"6bd1ed77",407382:"1e6944f9",407455:"acf5b8f4",407596:"8f771a01",407700:"9799e2f9",407807:"11e53854",407858:"f282a916",407957:"10fe0b29",408131:"ea957dbe",408345:"d4c2762e",408408:"84db3f5a",408409:"433fb850",408414:"64a3f0da",408676:"0e608880",408679:"e13cef6f",408883:"2a7931d5",408899:"13efcb55",4089:"c5e5fce4",40906:"173deaf3",409173:"4e5de117",409315:"6a00d201",409327:"57db2079",409381:"7a3c87a3",409439:"232a9cca",409583:"f53de525",409663:"4fecb230",409789:"ce53c4b8",409839:"fe6b80eb",409915:"b6a82343",410021:"85c233c2",410044:"f5462588",410114:"deb97feb",410131:"f63dab1d",410352:"33b43674",410534:"4a8e79b4",410591:"ca6424aa",410614:"ffa4cb64",410644:"19ef4400",410647:"88af8132",410714:"f84995a5",410767:"54579bd5",410874:"9e71725a",410875:"314da0fa",410881:"eb509394",411393:"8a494b40",411439:"0aba7ec3",411525:"41cd40e9",411758:"81527acb",41180:"59ea10d5",411890:"f23272bc",411918:"adead041",411928:"e3679d47",412e3:"380a2a06",412092:"2a286f28",412096:"b2f15ae8",412325:"9f67c4a5",412453:"ca8b3f0c",412511:"017af85f",412591:"4a79a5f8",41263:"e53265f1",41270:"86ce6eec",412830:"d28a95b0",41306:"36d232a4",413097:"2204cbff",413137:"bb27778b",413138:"c43042bd",41317:"c6f1e9be",413315:"c111214e",413355:"6ec9aecf",413553:"a7c4d01c",413592:"e2b941bd",41387:"9267db95",41403:"75a1625d",414185:"a909a4e3",414312:"e3dc5a65",414337:"61ea2002",414466:"e7f47dc3",414605:"ecf0a40e",41466:"2630d273",414747:"2114ce86",414750:"1da9d49f",414818:"010fdb2c",414886:"881ccb22",414899:"5eddea9a",414904:"230358b4",415019:"95f6fb89",41514:"84fc82aa",415205:"89639362",415285:"50a413b0",415337:"ac5e810b",415353:"511ca402",415427:"6c62eb6d",415469:"d1b86492",415671:"dd1676ec",415848:"888332c7",415924:"781645c0",416041:"265d6f44",416281:"d29ee249",416516:"e53b80c2",416577:"31a984c5",416625:"967de6e9",416637:"02b9f724",416744:"551ea6d4",41677:"672aa4ff",416933:"11e5dc40",417178:"d6afa5e0",417191:"5bac7bb4",417243:"5d318a85",417311:"fa8fc544",417329:"e94b792b",417454:"d93d6d28",417479:"8ed9ce8a",417806:"7ffef85d",417937:"2e95b440",418073:"096a1c93",418106:"01653b78",418183:"df3596d3",418227:"632f0f3d",418454:"ec2a6c7c",418464:"005e9da7",418605:"fe59e575",418608:"6034af21",418629:"f9dc571d",418695:"3db6f24b",418723:"23db87f9",418869:"99f10d96",418871:"fa769c26",418875:"1adfe0fc",418896:"09ccdaa5",418946:"7b14f3a0",419103:"11fddbd1",419146:"01c0136a",419157:"2ad7a7fa",419187:"bcb71f45",419217:"fdd1c310",419323:"4c730301",419380:"ddcca8cf",419416:"8ef3e3e5",419565:"c183aaa3",419668:"fda529d1",419843:"a453861e",419904:"6e65a4b3",419991:"41c5eb93",419993:"8d426663",420072:"8d3d3135",420106:"b4845854",42012:"df9afae7",420417:"ffb5ea4e",420506:"3f9d8f39",420547:"1354a722",420566:"c1564600",420575:"405b36dd",420642:"3f4d4f58",420831:"07872b0e",420861:"7654afe0",420908:"1cc611c5",421001:"1003ec99",421167:"bb122201",42123:"a69c4c7e",421504:"2329591d",421560:"6497beaf",421838:"2e6aa8c9",421922:"747370e6",422045:"57ce7cd5",422054:"1f9937c0",422119:"11ef6af2",422166:"196b0453",422288:"c20c577e",422324:"41a057c4",422437:"644d6903",422483:"6060efc1",422557:"975b4b57",422734:"4a901c1c",42275:"ae977c0e",422763:"0f34e157",422785:"7600bff5",422946:"9ac1723a",423027:"caa99711",423167:"0f91ebc2",423171:"be03d128",423189:"5e0f9f10",423248:"b796db10",423335:"821a0b0f",423360:"7f6b1fd0",423492:"726357d7",423601:"a472a47e",423615:"bd4dbc22",423699:"3ecf2c78",42371:"8cdd1f4c",423762:"7aaf5b99",423870:"66397040",423938:"3a05fe59",424151:"0e51467d",424153:"7ee05696",42423:"8b9daa9b",424417:"aecfff78",424482:"91b100f8",424544:"8881c124",424884:"0bba77cd",424974:"ac958477",425072:"af92c2bd",42509:"6797143d",425260:"7ef1aacc",425361:"6b87adb4",425378:"4d40d5fb",42551:"3074d155",42568:"ab3d35ca",425759:"b66935a5",425944:"c53996ef",426061:"b45b53d5",426063:"69bda692",426070:"145cc3a6",426193:"20fa50c5",426221:"545864e4",426263:"e1556811",426379:"5681097b",426446:"e50bbb3f",426524:"a6be8047",426552:"955107d7",426664:"ead40cdf",42671:"1ae92b46",426823:"c2eaba72",427073:"0baffc87",427079:"fb3b2465",427217:"77dfefa1",427431:"f7feaabf",427814:"98ff902b",427944:"3c5480fe",427968:"ef10ec5e",428312:"fb1fad14",42836:"99b8f86f",428413:"5b5aa88e",428422:"ce007648",428448:"8ce52664",428547:"de32421b",428647:"065a0a2d",428775:"4a136822",428872:"e04be632",42890:"15a693ca",428926:"f6238f0d",429097:"da877e96",429103:"f9549c2a",429203:"137f5790",42922:"bd447a6f",429717:"83b905a3",42973:"9c801cb0",430057:"dbb060c6",430125:"6ec6916f",430186:"3648216e",430247:"8e714a31",430478:"680dae96",430521:"7e628056",430644:"c1fd3d88",430775:"87d156a5",430825:"9091d4c1",431041:"c467f6bf",431236:"00ec5bf2",431496:"bf771660",431575:"a353d0b4",431739:"79b547d6",431859:"fdee1950",431971:"479365b1",431998:"4ee40d10",432037:"d700b7aa",432149:"897d40d1",43216:"8657f4a1",432292:"6edb26bb",432312:"d3caecc2",43234:"5f89a568",432394:"ec93a9d6",432412:"09972edc",432466:"17b45aeb",432484:"39234620",43274:"165cb8cc",432811:"464a361c",432944:"a0e6f3f4",433049:"eafdee3a",433133:"0af61e77",433194:"10b7a193",433206:"f4949bb3",433309:"95889df1",433405:"8116518b",433562:"a4f30213",433620:"d6a96cab",433655:"e3942d7c",433809:"28e8d4ec",433989:"2938b7e5",434088:"ce016c6a",434093:"58ba14e3",43410:"654a845b",434160:"e4459b84",434261:"ddcf4f5e",43443:"63071358",43453:"e9aa2686",434717:"33af6b41",434722:"5ecd8307",434789:"629cce22",434993:"bf2babb8",435184:"addf806d",435208:"dc9c4d18",435300:"022f07c7",435463:"22fa880f",435485:"e3b2879b",435793:"5a13d0c3",436016:"b6d9e6c0",436177:"9a42d7ba",436383:"ee04e21d",436434:"dba2bdcd",4365:"bc301d51",436559:"48cae593",436634:"89c88777",436653:"d68ed921",436706:"2b213367",436763:"1c59d261",436927:"71ff2304",43696:"8029eb8f",437099:"519e2a1c",437130:"5a843406",437149:"375d4c39",437179:"00f0bc0f",437345:"fc6f4aa1",437569:"2664168e",437641:"f1ccbffe",437854:"d0b5b7fb",438040:"2c4e0b34",438077:"6fb4e75b",438192:"4592ffce",438238:"69777f91",438313:"7b2a3b08",438415:"1ba2840d",438487:"5cf8b281",438657:"0194cee5",438769:"bc8ace12",438837:"cc31acbf",43898:"cb1abc45",43903:"765334eb",439064:"d707e4db",439269:"5982fd5d",439287:"d5274de5",439398:"22ddfba6",439530:"5f016d62",43959:"81b9e76f",439884:"f8b7946d",439974:"c46cccc3",440019:"0cda72de",440032:"73921b40",44005:"ebc35d10",440312:"c20219c5",44036:"22155d4e",440379:"361e2b6d",440529:"b8f299b7",440697:"567da471",440717:"60c39e0c",440742:"5244ae75",440913:"0a695bef",440964:"f7a97037",441301:"d822cff8",441304:"492f5f31",441798:"edfb51d4",44185:"f0c33be8",442064:"192088da",442093:"cd73f8d6",442276:"3dcac0c5",442340:"73945712",442348:"a82efcc0",44265:"92f8995c",442690:"416e5db4",442703:"7136dcce",442818:"8d6fe5f9",443031:"6af39685",443036:"ceb89eb2",443085:"21545005",443230:"a7226276",443257:"e5f9bd98",443352:"a8b4c1a5",443486:"8ccb1b2d",44361:"835969ce",443801:"a183649a",444023:"dce40dd4",44419:"2f4e79e7",444341:"bc9fdb2a",444372:"04409efd",444471:"95cc33ab",444493:"4322904f",444494:"10bb70ae",444545:"94ffc207",444568:"4874a121",444786:"09d9e432",444834:"7c5b6e1b",444875:"d5499349",444937:"d3e7b6c8",445025:"56834c0a",445133:"57e8ae6d",445135:"a0eab283",44515:"109a24b8",445347:"35fb5474",445351:"d2a3d2ad",445530:"5c970c36",445590:"93493937",445638:"3fd95d3e",445641:"1236d54d",446032:"1f98dfa1",446040:"9101e9c6",446093:"7e273dae",446144:"058affc8",44642:"d14beff5",446606:"42c301a5",44661:"b5f67d34",446742:"4cc2133f",446892:"8b9aa6f8",446901:"38089748",446914:"19a6e761",447037:"8f8e8efa",447168:"59114106",447221:"f09abf24",447226:"13a21fd4",447396:"c0b15cc2",44743:"96dd1ff8",447629:"b69ced95",447690:"358dab96",447739:"c6c70269",447753:"8f31a4f0",447767:"e8da4193",44793:"002166f7",448083:"3fd4307f",448138:"c1ff61fd",448141:"38f6e36e",448310:"f4febb8f",448346:"5220d54e",44835:"5fbe1451",448385:"ead219ab",448660:"76ce842d",448912:"eb99c708",448923:"9ac3a653",44895:"ab903e53",449116:"6aede60d",44924:"e4c04dbf",449289:"950587a5",449290:"4c418b23",449357:"54636645",449422:"25396409",449465:"7f0cce5d",449493:"3bededd2",449499:"66c9de0c",449512:"42e544c7",44955:"41c2b68a",449652:"f7cc7c9c",449667:"bd5206aa",449680:"9689cd5e",449703:"1c218d8c",449728:"bfcabbdc",449785:"be31003b",44981:"76c6076d",449913:"ade4256c",449931:"e1395f6b",449983:"aaa01559",449985:"eb281901",450067:"5cbba705",450130:"b970aa43",450149:"9a70e972",450178:"5af699cb",450393:"c9372ee0",450549:"ce49da2d",450648:"1d173880",450829:"c22a1c1a",451114:"1a243c80",451187:"9cd0b5e4",451351:"5a0de988",45144:"3bbd096a",451668:"620fd87b",451982:"a2daaa5c",452301:"508088de",452314:"9acbe8b1",452431:"c0ffc3ee",452701:"da60afb8",45281:"24410205",452853:"9bc6cf6c",452912:"e8626649",452942:"aaea20e2",453013:"dfab36de",453074:"fa6dd81f",453079:"faaa8548",453122:"2a73462d",453249:"0d921ece",453253:"f4d2d569",453263:"c5282ec1",453498:"2b06cc8e",453499:"79aae8f4",453641:"4aea65e9",453992:"3711e316",454167:"adea87b1",454201:"d718f598",454410:"8ecd8f1e",454456:"f6232443",454539:"2fc41dc3",454633:"91a8223f",45467:"698f8d4e",454907:"f6800435",455125:"16eeb3cd",455327:"a426234f",455565:"8bb86b34",455569:"b7e49d98",455628:"c1016be8",455723:"573e6bc3",455754:"3e50d8bd",455799:"6dba00cc",455822:"a6a4aa29",456301:"a96af089",45635:"40db1d2e",456413:"a03da9d8",456438:"cadb8213",456547:"d26f88c2",456561:"77e4ced5",456580:"8a394db9",456628:"89b25375",456836:"387bbcfb",456912:"03a50017",457035:"342eb23d",457072:"415774ec",457302:"56801f0d",457317:"c8144a13",457391:"f6b6c11e",457430:"7f9dabd2",457459:"98701cf2",457633:"15a2cf89",457635:"6e507755",457644:"73984703",457663:"6e22866c",457682:"5ffea31c",457718:"94c87439",457719:"2bcbe85f",457976:"d89f6f74",458102:"9d11ffed",458155:"a2f098ac",458338:"1f46417e",458445:"fc917599",458619:"9c696cc9",458848:"ca2a6e8a",45890:"1172542b",458940:"5da71199",459017:"18eeaf28",45910:"b8997da8",459145:"25c38a99",459201:"df78c2c1",459490:"d129f6f9",460034:"a1c69a57",460053:"2b1b77ba",460156:"1eaff03c",460170:"705779db",460238:"f91dc1b8",460288:"16ab88b6",460374:"90abe0e9",460382:"691fd4be",460476:"06dde607",460537:"97959c49",46056:"2f7a3e0a",460696:"6318e922",460748:"d466627a",46075:"0d95f54a",460831:"3abfaebf",460862:"faebd8be",460957:"1e09a33a",46139:"87340c72",461448:"da14cc09",461537:"953fa038",461540:"cd1a87ef",461546:"58508400",461681:"a73d71c8",462013:"068a5b46",462059:"f1a82cde",462075:"0f5cac5f",462195:"4b4c6d78",462384:"cfb5761a",462529:"c985e88b",462534:"12112b08",462624:"bcb80675",462702:"d9035fae",462752:"b0d4e220",462774:"15178ae8",462843:"04d52a13",462953:"6fa3fca4",462983:"d79e0bd6",463138:"5b98296f",463161:"abc71ad8",463240:"9584b1c8",463270:"a5ae649b",463325:"d297ae53",463347:"1381d862",46353:"57996570",463549:"bf961e7e",463736:"2871396c",463858:"5d544dbe",463881:"e3c1d057",463916:"8ea08ad6",464145:"014cc140",464181:"9d4ac47a",464264:"cfdee142",464338:"90c004c6",464497:"4ea17463",464519:"b651bc22",464659:"2b40a13e",464715:"04d6f89f",46474:"fb9b194d",464774:"0aa9383f",46491:"a30b7c61",465051:"731a9369",465089:"66d8b124",465091:"6e6d94e7",465103:"69d1eeb2",465147:"1205dfa0",46519:"93d85e62",465199:"5a9726af",465250:"0d854158",465422:"dce18e87",465460:"5f721fe5",465482:"24e1f71e",465770:"0dfa89ae",465839:"0d29785c",465975:"1f3ee153",465991:"72d7f1c8",466049:"881caf84",46611:"261b7f9a",466113:"1c0ec3aa",466178:"2f2df8b9",466200:"325cc70c",466408:"aabace64",466468:"b6e0eead",4665:"e249d26f",466657:"d22011f0",466671:"682fd539",466771:"08c3ede1",466837:"46529a4c",466897:"2c32c7ab",466923:"acebd3f2",467104:"c5351306",467188:"6f144bcb",467201:"f6447deb",467210:"1e14161c",467295:"e4247e7c",467299:"7d6ae925",467572:"5fb470e4",467626:"cab8c0bb",46771:"006e05f6",467748:"453221da",467776:"f3fe97d0",467794:"522899c7",46781:"2dacfcbf",467850:"e65d8f7f",467859:"55509553",467865:"9a09b2fc",468051:"4bc148b3",468090:"09d6b7a1",468162:"4e91e444",468349:"96383b70",468363:"e110d977",468516:"b6c13835",468518:"e43db2fe",46854:"c7492c0d",468544:"52fcf3b1",468697:"ddc247cf",468706:"a245fddb",468919:"ae8432cd",46892:"1add63ce",469023:"f0fe65aa",469080:"df3ebeb2",469507:"24f69e47",469557:"9aa4ad16",469679:"fe58ba14",469714:"7dd3cf3b",469736:"90a8babf",470016:"039cd2a9",470094:"b549cbd8",470145:"fb1c96be",470252:"2a211262",470257:"cac9717b",470433:"c01adb7c",470511:"5c051bd1",470527:"f32f3001",470574:"69df90a7",470720:"85a8f468",470853:"71184770",470867:"26982be7",470928:"735e9d2b",470965:"00bbfdb8",471097:"e4691f51",471131:"a350b28f",471144:"9ff0b172",471406:"640b73e5",471459:"22743d6d",471541:"689b0674",471629:"d2d47e67",471840:"71a72095",471884:"838492cd",472007:"89f8648e",472085:"5000990a",472127:"c287a8ce",472139:"49c7c19b",472306:"a15d10d1",472410:"d7f5700b",472418:"6357f116",472504:"bdedd5ed",472530:"e35041e9",472609:"578ca134",472694:"b9c98959",472831:"41ec1394",473018:"1790bab5",473054:"521837ab",473086:"57da6323",473247:"180efc83",473380:"b25b2ed6",473402:"4b7ebe14",473476:"4551d6e2",473596:"51449252",473747:"bf91c16d",473771:"eb58222b",473788:"0b104174",473810:"79043834",473823:"476f11a9",474016:"83d233a1",474141:"49feb486",474146:"14e18730",474203:"656cb655",474223:"e26167ba",474429:"6bc8daa8",474449:"87307c57",47454:"8c30d7bc",474642:"ed48c5f1",474729:"4a9acc43",474735:"3e6c18d7",474753:"5af2022b",474772:"8633b4ec",474773:"fe79f7bd",474893:"48879aa7",475082:"4cb42748",475108:"ef527592",475116:"d94b9009",475148:"d2c05d3e",475197:"595e3aec",4752:"c0f7ff3b",47520:"1a65ae54",475333:"d73e74fe",475369:"2afdfe23",475385:"461e0016",475516:"6ddc1dca",475720:"ca98f870",475922:"ed78ac20",476051:"138eb6fd",47621:"f4daf878",476353:"b7c3ad2e",476396:"840689c1",476507:"8e0bfc21",476614:"96ec8735",476656:"c631def5",476664:"0947c401",47669:"1e200303",476755:"8d61462d",4768:"f64ec82a",477030:"0c35a655",477203:"6e4f20ab",477291:"88d353bf",47758:"e22c26cc",47765:"26eb7f4c",477828:"7ba7abcf",477903:"76170a7a",478104:"2fc02bc2",478305:"c92c513d",478312:"755f1db0",478425:"4ec278d9",478713:"7f7b126e",478854:"56f0e941",478887:"d28a3d72",478936:"66196b9e",478943:"319abbc7",479033:"1f6dc281",479117:"b8638132",479254:"f299717a",479279:"90faa08b",479377:"1ffa4e70",479449:"a32297dd",479456:"605225d4",480005:"2cc86e1f",480025:"110d7cbf",480179:"00105d79",480329:"9034f51c",480377:"ed43a3d4",480632:"82b62908",480702:"db49a426",480713:"2b43a937",480745:"7cdafd06",481161:"a951b840",481192:"ad2abb3d",481250:"bd06612d",481370:"3ae1caab",481454:"47e6df54",481814:"44ba58d1",481894:"d081ca15",481900:"d400442f",481943:"78702ce1",482016:"acab7405",482201:"ffd1665b",482291:"34efa1c9",482347:"21053304",482359:"da7a00f9",482397:"a93b3cde",482555:"da81dfe4",482655:"6427730c",482676:"00f9f025",482772:"0c18d05f",482909:"900bb4e8",483003:"221be8d6",483021:"89ddaede",483203:"2e7008d2",483206:"681dd489",483288:"e656e2cc",483427:"00daf5c9",483465:"85f4d80b",483774:"20366e32",483823:"0e71067b",483837:"70f101ae",483942:"2e0b19cb",484198:"18f1adcb",48427:"475bb101",484274:"35a940cf",484362:"6e209764",484366:"6718bb04",484472:"dbbd953b",484507:"34312307",484568:"f0341890",484709:"7076d6f7",484762:"be139753",484780:"f6a12d21",484830:"e7b97fb5",484870:"fe3b4394",484922:"a99a0c09",485004:"3000f431",485020:"a00c239b",485062:"c5980dde",485212:"f77e3af5",48523:"32cb862f",485323:"bbc28bbd",485596:"44a43e3d",485654:"645ccfcf",485775:"03ee82b8",485847:"d976a472",485905:"cadd5504",485951:"9c641ae9",485980:"d71a18cd",486108:"749739e6",486166:"c71665e0",486247:"80ad90d4",486260:"ab232662",486334:"85501d31",486430:"1c074ec9",486568:"eab8f952",486700:"1f62e5aa",486870:"27b4d6b2",487:"03c04954",487068:"a3947658",487083:"98befbbc",48712:"4617284a",48718:"fb9a39ac",487335:"eea7dda5",487390:"d7191b58",487404:"a9e8c6db",487466:"b56f5d95",487509:"21456b9f",487582:"e91435eb",487599:"d46f2d30",487726:"ad849d9f",487833:"35445d0b",487912:"8d047a12",487956:"670995ed",487989:"99461498",488049:"de0a4235",488129:"dd37022a",488215:"6274da3f",488225:"cfdb96c4",488355:"5fa87ecd",488417:"f259eeb7",488474:"fba08129",488529:"159f5411",488696:"9d97cc0c",488716:"082d67a3",488721:"9ce7cb52",488727:"d93024b8",488828:"d611d489",488986:"ebb2a236",489018:"37fefdb9",489047:"ccc2c0ee",489192:"b4fbe3dd",489228:"386d7074",489278:"db6a7394",489334:"8fe5d929",489340:"d9601381",489460:"b42a9f27",489480:"b19bbea7",489511:"5164a7df",489614:"48d677fa",489685:"cff31395",489862:"1e46e1e8",489882:"7c66a6f5",490108:"f86e4d7b",490141:"6845ecf9",490180:"a42d2ba2",490181:"568fea02",490191:"848ddb6b",490272:"a75b58b2",490549:"8a51749f",490575:"7f5e93e6",490580:"f00815d7",490588:"a734c456",490610:"43d7a7e2",490614:"b0109f64",490647:"48126378",490678:"b155bd44",490718:"66162247",490981:"23ddb069",491050:"4ec62e93",491229:"8f80efe9",491260:"c71a92bf",491584:"89e4dff9",491711:"9e1e8754",491758:"2c1e0fb1",492060:"6e29976d",49213:"89da66b8",492142:"e5a4ae7c",492400:"701a0ec1",492418:"83aa22de",492429:"f6a6bfbe",49247:"56106994",492607:"aa34c71c",492649:"67c98a9f",492712:"26c28d0a",492746:"1b154848",492822:"7ec643e1",49287:"a23519fd",492967:"6ff96367",493022:"0a646089",493046:"f0fc6807",493061:"4430cb48",493065:"e2878115",493080:"955ee201",493137:"6a106167",493232:"ddda3879",493246:"97cd04ce",493276:"e6b9f810",49339:"b19930e0",493446:"aa922289",493598:"98c7989f",493627:"ef1971af",493786:"217a1989",493805:"603b2ff4",494098:"affceb14",494198:"e7dd353a",494200:"0e00a14c",49422:"68e976d7",494276:"ef133716",494292:"baddafce",494512:"1723c3a8",494771:"c201257d",494774:"e0293bbf",494875:"7bbdc63c",494953:"65d34e41",495719:"996379ff",495848:"5a048494",495869:"adee0640",495944:"ab06a54d",496152:"4efdcb00",496153:"62aaa3ba",496171:"6788fded",496399:"44b921cf",496530:"dac483c5",496548:"05ec8fde",496768:"54fc6387",497018:"07da57fd",497104:"f570a767",497263:"67422916",497364:"bc2bbcce",497387:"41a0ac28",497457:"2920e5e7",497596:"0468c87b",497667:"891cff6c",497929:"4d6ec0d9",498007:"0636f505",498031:"9a4224db",498069:"adf16633",498107:"45b1f3a0",498126:"9ea2d853",498184:"8e863a74",498457:"55c7c28d",498603:"eaf3640c",498645:"66c961a8",498789:"0dea80fb",498852:"6aa95e67",49889:"9f42ae52",498912:"72ef1081",498918:"2a75d055",498925:"845a2566",498937:"0cd8eeb5",49900:"778b7bd5",499031:"ac63d092",499115:"0d1ab7cd",499215:"96f2c043",499434:"3753d324",499459:"b0a780b5",499540:"52cbb6e5",499622:"3c237c09",499623:"c8465f98",49963:"db52d63c",499740:"d4d674a0",499745:"41fe9f55",499785:"d7690cf4",499826:"ef0163ad",499911:"f6e3284a",499990:"865c3194",500009:"dc678870",50002:"b5e499ad",500170:"2e28a5f4",500176:"dd000683",50021:"c237c1f2",500218:"05d94f2a",500662:"dbe9bcbb",50073:"d118215e",500808:"557855d0",500840:"e4f32933",500996:"0f39ddac",501050:"34b8da6d",501113:"94d00feb",501257:"f0c0789d",501302:"66733d14",501313:"bda2a4ec",501331:"291cea34",501340:"e8ab46a3",501412:"535d9c1b",501432:"680f3593",501514:"b5372b54",501592:"f5540c69",501772:"2b9174e5",501775:"9b1775a3",501825:"550716df",501856:"7b7dce55",502156:"3a0bbe84",50216:"859cac21",502417:"e67b51f5",502558:"59b0472a",502983:"1f5b1092",502993:"ccd9abf3",502997:"7bf527fb",503003:"4dd3bcf7",503004:"da8b1303",503036:"f426510e",503056:"d1dadbff",503057:"5bbdc7af",503093:"84e4a4f1",503179:"7d0d5ba2",503501:"c32fa008",503578:"08750cc0",503697:"0d856576",503732:"baf29b25",503797:"032935b8",503940:"ed3a849b",504031:"c30085ed",504188:"8749a231",504319:"3c3a7cc2",504384:"d1003bfe",504446:"8a47947f",504463:"b4dab13c",504586:"8314bbcc",504639:"c5ae7d19",504718:"57879484",505033:"d2bdde03",505158:"21e35f48",505243:"5b539f28",505266:"f9727786",505326:"9edcf854",505328:"c8dda384",505337:"4afc2113",505359:"2bf0e897",505731:"57c5c5d6",505834:"e6c78d7d",505868:"753393ac",505894:"c0c7b8e3",505978:"782f833f",506431:"68b6a5d6",506443:"c04e6d44",506503:"5b6e79a6",506549:"6ae6e62e",506633:"04f0aeec",506831:"5b3b407f",506877:"63e275b5",506924:"49c69b0c",507013:"2ab52b30",507021:"1da0cf60",507132:"db057ea1",50716:"eb49cda9",507208:"be35a66e",50737:"d69fecb4",507397:"35e72273",50749:"2457f9ae",507665:"17f872e2",507678:"c09fc283",507816:"ba20bf78",507931:"d207c0a2",508019:"b87a06c4",508061:"8363a28e",508352:"33f8ef5f",508530:"dba31481",508577:"b6632847",508602:"6ab54e4c",508684:"116ef9d9",508814:"9eea0e6f",508819:"3821ddaf",50895:"fdf3ad63",508978:"8d0121f0",50901:"1f50f30e",509063:"cc335b43",509161:"9258667a",509247:"8b797c30",509278:"5a9b38bd",509308:"486911c1",5094:"c8e0a416",509652:"9e4f6e20",509706:"d4c38a83",509709:"78aa12c6",509865:"3a651551",50987:"dfc21f71",509880:"794146f3",509901:"28a96179",509926:"a9916d9b",509937:"6aa815b7",510050:"b333bf32",51008:"45f48ae0",510181:"50ca8c1d",510238:"c2a8970e",510441:"31d9c9ee",510471:"328bbb19",510571:"e1ed36d3",510589:"aec9374a",510694:"46d9bfb5",510701:"96d9d481",510822:"c114632f",510945:"28777dc7",51101:"95e8d5a1",511018:"4ca6cf16",511212:"f4fa13be",511245:"97313f38",511313:"6f07fe11",511345:"9157fed9",511463:"7cbb8f84",511554:"cfb68a89",511649:"cc68f5b7",511827:"315d6c5d",511874:"54d5f93c",511888:"dbc42c49",512059:"bc8f60bd",512191:"2890d852",512271:"d6e9c77c",51228:"c28dc062",51246:"ac58d734",512629:"852836ba",51270:"c9519621",512702:"59246b5c",512835:"e9bf6482",512983:"d7b535ea",512989:"75230a50",513065:"c7a70b40",513197:"a8c12922",513251:"0f240476",513374:"66f11946",513441:"92b9ffa7",513809:"2997d73e",51384:"a3491684",513869:"7c1db0f8",51388:"f9be6c83",513887:"88c72c61",51389:"99db932b",51429:"1db86b08",514303:"b4e5c79b",514412:"3dc06252",514511:"8d7d993b",514697:"4188a383",514722:"8b141610",515023:"64941a93",515156:"031784cb",515273:"64a8321e",515315:"d2143709",515379:"5391028e",515445:"85f5d8f9",515465:"4c0d7acc",515790:"e3d9ef97",515961:"468b1855",516066:"60637787",516090:"11d9ad5d",516147:"f2415176",516209:"f7c11a81",516237:"75a887b5",5163:"d6238e9a",516323:"55398847",516347:"fd6ebcf5",516690:"7e334907",516774:"795e5523",516995:"c8e99b08",517021:"9ec44b9d",517128:"189f50c2",517210:"3958ebce",517229:"b5778e63",517358:"b3bd64b2",51738:"2a086850",517666:"6c064e4d",517676:"56bf2e15",517719:"397307c8",517793:"475b2188",517873:"651f3388",517904:"f1e7390b",517910:"bab5f0f7",518041:"6f92c2ee",518082:"c86e96d8",518114:"d0ea5661",518184:"6d00eb61",518224:"852bf09e",518245:"5ccb8440",518455:"a8202ad7",518538:"637a3deb",518539:"f2eb4e7a",518773:"f4f4b726",518779:"5a11ed60",518800:"757f78d8",518805:"36a466f7",518810:"673e3e01",518814:"4136c7c9",518832:"cb1fc956",518904:"0896940b",519251:"5cb9210e",519355:"89c9d281",519383:"0b364130",519427:"adb7946e",519430:"87aea0dc",519510:"fda554c8",519679:"564e9e62",520133:"2a2851b8",520397:"2a131e96",520630:"527b5d2f",520829:"8f0f7722",520865:"243be582",520885:"80b00c24",520894:"efe3cd22",521332:"a902d48e",521391:"5fba4bd9",521505:"10621ae8",521526:"a42a41e3",521573:"4f550576",521838:"e51eb26c",522176:"2f4353c2",522510:"59fa776e",522614:"31458256",522971:"342c2438",523017:"6ad82eac",523067:"3ca1e0bb",523152:"9b1b2c2f",523294:"c5c2f185",523360:"b9f2add4",523737:"b40a7f15",523819:"f8af19a0",523857:"ef8cc575",523974:"54ffd049",524093:"dfb8d2ff",524165:"7019dd1e",524452:"1190300f",524514:"2efdacd6",5246:"6db116f4",524705:"87997327",524771:"cc7fec5d",52509:"af1043e3",525100:"5ae9897a",525115:"5a53269b",52517:"bd6d6cff",525291:"991879e1",52532:"b35efbf0",525502:"1e6bc163",525504:"46482bc2",525570:"07727fb5",525612:"9b1abe99",525649:"bdd98388",525694:"8c06235a",525741:"9cacc1f9",525836:"e6c0a047",525846:"ac56ad10",525860:"9abdc4cc",525866:"a22b804f",525909:"e501f849",525932:"0ba298b7",52614:"b33c87b1",52619:"7e6634f6",526219:"cce12087",526419:"42ff91cb",526490:"3f8cb1e1",526520:"40322610",526612:"89bad5f7",526667:"dcb5d9f1",52669:"a46f3fd3",526841:"307b8c44",52701:"b9963302",527089:"f3d4bbc1",527134:"7dbdf215",527193:"4f9e4dd9",527218:"bd696ffe",5274:"b994cd31",527533:"0f953978",527653:"20875d5d",527782:"3eba9fdc",527803:"182783db",527877:"9eebeb81",527957:"98e85e65",528009:"617e9f88",528022:"8cb53f5e",528026:"d0b59f2f",528076:"c51d355d",528120:"03b8728c",528153:"90e5c17e",528192:"f0a1abb0",528539:"35b80fe3",528612:"fe712c51",528755:"04de0fd9",529024:"127f0604",529059:"0954885a",5293:"a773a45e",529426:"d8ae2cc1",529466:"a4af9d3c",529590:"7a3b643b",529593:"1a9aeee9",529605:"64b87d61",529615:"815099ce",529649:"87eac039",529691:"2a2d390b",529699:"30d8326c",530004:"cce08d81",530006:"749ecb84",530325:"34c651f4",530364:"989edac9",530420:"aef1c09e",530585:"5fc7d4d6",530600:"91d7f4fd",530956:"2116680f",530970:"3fe969e3",531103:"c2a8b526",531579:"a82ae7be",531622:"7ee458b6",531755:"9ee77b45",53178:"a7c1fbe8",531835:"101ea180",531978:"a22dcd35",532084:"81af4961",532089:"56d269e4",532123:"f08f6255",532289:"19f30906",532441:"bbc3cd2c",532530:"8d538d68",532787:"e586085e",532829:"b9bb90de",532832:"df4e79a7",532927:"f10cc817",532944:"692b94a5",533197:"b0444bf0",533347:"5b5c73b2",533401:"f6cec7f1",533454:"c4d6da2f",533764:"0f0e3373",534187:"f2882fdd",53466:"b8725488",534909:"8c0fb432",534976:"dd69f9a8",534979:"a8996746",535006:"893ece96",535046:"03515853",535163:"f1e1cb49",535182:"3c1882aa",53520:"86429a54",535204:"1a39736a",535292:"47a1b41d",535380:"7e199f9b",53545:"dd9e9983",5355:"4ef69b55",535660:"75bf8100",535777:"9aac5efb",535778:"9465343f",535834:"a81cc6cf",536013:"75dea8ac",536209:"5410397d",536301:"67024b56",536519:"93401a98",536602:"dd546481",536673:"4fd200a0",536851:"07e1a940",536999:"8906a5fa",537101:"2cbd2944",537330:"eb057e64",537530:"940ca1bb",537618:"3fd3c2ea",537713:"20f0925d",537763:"ae2dcbf6",537840:"780cf167",537985:"cd1d7c51",538105:"e592b42f",53815:"1159b220",538182:"3ac727e8",538272:"02cbf2ae",538588:"f58a5a35",538848:"12b8d435",538889:"6dc3cc89",539114:"0954fa3d",539224:"ae9c1628",539231:"0dae988a",539246:"ab13443d",539324:"83d8a72d",539340:"760a66f6",539810:"e6365e57",539830:"37310b18",539913:"00a9230a",539923:"2a115d4c",539927:"d3e21dd2",539968:"3d99b81c",540237:"6841e4aa",540332:"7a65eac4",540334:"7aca7a27",54053:"3f771d6d",540579:"06659299",540596:"ae41f4c8",540604:"c53a9eb2",540640:"4b3cb9d1",540686:"8832ae7c",540724:"61ceb193",540769:"062ef4d2",540786:"e836e419",540844:"fa9452c8",540937:"27afa0ac",541047:"7a971555",541123:"7f028118",541329:"81d5977d",541521:"84bbc87b",541524:"0d67c8f7",541590:"937a196f",541679:"9d70dfc3",541684:"c35d79c9",541703:"2ea34bf2",541909:"202117e9",541951:"a1e0e475",542075:"5d13b1c7",542122:"c37238b8",542173:"9ab23d82",542177:"f308ac06",542484:"fca7205e",542558:"6dc357be",542602:"c980e407",542645:"337d741c",542682:"9724e91d",542749:"01668791",542786:"b5d8181c",54282:"ee38fa5f",543013:"71af9b8c",543178:"fef744c7",543778:"4608ca11",543954:"acef4ad2",54398:"e8dcbd97",543983:"db99db17",544150:"b19f27dc",544161:"d77c6351",544200:"7d22d1b3",544218:"3f8928df",544220:"702570dc",544242:"6cf216bb",544339:"bcce1a9d",544725:"f9522c43",54475:"221f11b7",544850:"38e74762",545100:"b97281b7",545199:"b3c5f8e5",545257:"ab61edcd",545314:"ea25798e",545369:"93d32141",545439:"c3f45ce8",545442:"8420a117",545446:"86b71cf5",545577:"d07ef815",545608:"92e238c8",545632:"0cbf5230",545846:"2900c3eb",54596:"88d02b43",546077:"a63fda8f",546100:"70be670b",54614:"257a3136",546195:"e7a643b7",546348:"25e6548d",546395:"9e57e911",546445:"37b60e56",546510:"682f9bd3",546739:"520a2ed2",546763:"635a4ece",54709:"9c623e35",54715:"e37cf4d8",547151:"548b3fd6",547227:"26dc1136",547260:"aedfe223",547266:"84d11ccd",547646:"d5b84978",54810:"beaf9f8b",548213:"ebcf746d",548295:"ead1aba0",548309:"4fa2a978",548329:"7adc85f7",548335:"a428ded8",548405:"6b5896e5",548598:"75930439",548613:"52d9222b",548624:"9cafa130",548629:"962ea5fa",548830:"7c552344",548924:"21fc9176",548939:"907af3d9",548978:"85e55c98",549061:"4326fb45",549145:"92b76540",549157:"09acd4bc",549286:"247291a7",549571:"474c5ec9",549618:"0185f330",549659:"9e835812",549702:"bfe48094",549728:"d974941a",54980:"c82af32d",549835:"c659dd8f",550013:"2eff360a",550150:"65dec415",550161:"a1a8231c",550216:"666148d9",550335:"381607c8",550422:"cc05d68c",550504:"80ae3d3e",550647:"ca0e9961",550657:"cb343c18",550807:"a376e485",55093:"9c4e91db",550973:"b9da83e4",551009:"ae513ddb",551016:"8d0cd9b0",551019:"b291ba52",551022:"37debfe5",551071:"1316cab7",551293:"75111864",551311:"594c3fcf",551397:"984e300b",551419:"20c97dc1",551593:"8117f0f6",551631:"af053bdd",551647:"216e76f8",551698:"06be9f37",551883:"72f96b37",55190:"0c3fde96",551941:"ef161cfe",552005:"20b7f40b",552037:"0a7b8106",552089:"a2df7fd2",552096:"329ec267",552242:"4562f3dd",552511:"7a147529",552536:"c2b5c507",553084:"3307b58f",553226:"57bad7de",553411:"fbc61254",553426:"975b34d3",553530:"dcdca229",553595:"2dc776c9",553697:"20bee95f",55376:"d61b3c59",553815:"46a297df",553829:"8eccb307",553914:"6044c0d6",553946:"e28ff9c6",554143:"410b2c04",554270:"7bf548ae",554347:"d5c4a838",554361:"e5ea1244",554479:"515b6bca",554671:"d3fa07aa",554984:"d6dba94c",555099:"38346c9c",555107:"e3f30b86",555138:"e395eeaf",555195:"09446022",555285:"c3963b56",555524:"87136f1f",555652:"99f54b8b",555701:"7e172d01",555718:"df101da1",555796:"adb3d327",555976:"af927553",55602:"95188395",556182:"4fa70287",556217:"077e6072",556326:"4d65681a",556350:"2968fc04",556445:"d3f1a9f5",556476:"3bfe924b",556774:"71db4fe0",556852:"7602d942",556854:"3dd60f8e",557:"b49553f1",557031:"0a9c8ab3",557149:"7718183f",557628:"8e876bbb",557697:"7d06a399",557745:"9f566692",557781:"d9e09523",55779:"9f28a422",557833:"f72c31d3",557893:"bdd1d100",557966:"ab6c3214",55819:"f79f1563",558297:"3a882174",558517:"163ae75f",558583:"f2fd3d9c",558633:"56af6a5a",558657:"fe8604fe",55867:"0252842b",558701:"0cbf376e",558718:"75dfa267",55889:"1f7fae68",558945:"4c067711",558974:"94ebd24d",559062:"a109b3f9",559113:"d149db42",559240:"296a7fee",55930:"c6c56857",559424:"5dcdc16e",559498:"aadc1ec5",559630:"9b3b05a6",55978:"358c30cf",559956:"aa1f27c3",559963:"115c26b6",560007:"71816fcd",560018:"41b78a3c",560034:"43dfc654",560035:"71d1d2ed",560146:"6920a4aa",560267:"4ded2917",560312:"34187989",560329:"05e5b2a3",560355:"e2ad8643",560373:"bd058dd7",560389:"13253a0a",560401:"6cf680ea",560427:"b376820d",560489:"3322c308",560510:"f70e7b79",560515:"e3718bf5",560637:"1d74b859",560937:"0674f6b0",560987:"06dfb448",561134:"f797ac7f",561186:"ad2149a4",561221:"24d10675",561259:"729ae2f8",561406:"13f137e4",56146:"0385b013",56157:"fcbaae1f",56161:"a88ba2f9",56162:"f5fdb934",561756:"aad9aecb",561764:"30a3b6c0",561769:"6f4c15d5",561830:"be74d0b9",561861:"f57b955a",562025:"cf830c61",562155:"712c52d7",562179:"1d55227e",562180:"c2ef66c6",562271:"7c88dc92",562337:"e72fa3e2",562387:"07a20bb2",562438:"2f69c0c0",562455:"b0f22bef",562710:"98d712c9",562740:"95cf5b06",562837:"808a14d9",562981:"84e37d17",563072:"7ca5d464",563091:"6e5f07b5",563202:"66595aaf",563329:"a2990188",563366:"77f42582",563533:"506814d3",563887:"9c8cdd1f",563908:"2e720c46",563977:"3c0a59a2",563999:"702fd30f",564106:"25f20f13",564142:"06bbbafb",56429:"7f281533",564318:"deaa9844",564323:"1c7d47bf",564714:"00d7beb9",564716:"b48f92ec",564725:"ea75555c",564728:"f9648ccf",564748:"3c79396d",564781:"938e5cb2",564914:"644af982",564938:"064b1d31",565052:"5e3d59ba",565103:"00077944",565218:"1863a6e9",565283:"0f7876b5",565428:"93ae7c87",565449:"802c36f3",56554:"33f3415a",565571:"427f4eac",56559:"451d0bb0",565662:"ff4a301b",565713:"621f8a66",565843:"087e1243",565946:"08e681dc",566050:"843f9fdf",56610:"ca561d79",566112:"f5793ac5",56628:"0af4ac43",566299:"c07efa11",566462:"6666872d",566582:"7cde2fa7",566851:"f551a5dd",56691:"529778ca",566974:"6b76f7f8",567028:"77bdf7d2",567091:"7744f71b",567154:"e014ce79",56719:"810038a0",56720:"62363859",567258:"b6258677",567301:"f1de5a84",567440:"b377b6f0",567547:"2e38ed08",567625:"43040330",567664:"ddd275fc",567758:"e1306a2f",568006:"23e85ea6",56803:"c6b82398",568032:"34276373",568389:"ef8642ad",568586:"9891df4b",568588:"2ae252cc",568640:"a812cc8e",568751:"be3c1937",568854:"e9886943",568917:"3d02c6aa",56892:"0959def6",569386:"6a85032e",569401:"411eab60",569431:"766c82c1",569440:"c89b8eef",569453:"c5975906",569566:"53d85153",569664:"b956cecc",569688:"cfc0ea86",569754:"a5e3f2cb",569791:"62a16394",569803:"ec2f4cac",570163:"63daa762",570320:"90bb4c91",570366:"faee1ade",570394:"883d5058",57042:"7ef46542",570473:"fcb6813f",570535:"953d3a89",570593:"9b362d4d",570600:"f47cfaaa",570617:"7dde62a8",570676:"0a843740",570708:"5488889a",570753:"e1963965",57088:"c7bd31ed",57100:"02bf9228",571090:"12367256",571208:"2f7ebd52",571271:"160678ae",571300:"755a1c9f",57132:"3a31a056",57178:"8d7262d2",571812:"4d4dce29",571868:"75afcd0b",571905:"1225b935",571916:"2818f5bf",572193:"73bf33d0",572346:"24a9636f",572396:"f68e9b26",572521:"77f5d31c",572522:"cb211790",572724:"68bad3a3",572769:"9083aadc",572891:"ea125f60",573005:"88a8a63a",573085:"e2b3292b",573106:"c9bd14bc",573131:"12522462",573164:"5a0c11e4",573235:"e06b5e98",573337:"83d6fcde",573455:"095a8cf3",573474:"b2dd713d",573685:"85563ca4",573756:"d1fc2ec4",573935:"6e199bf5",573988:"16e07556",57405:"93a996fc",574109:"06968b92",57411:"c3665a85",57412:"d760ef73",574270:"a2d0b35e",574422:"ccd288d5",574714:"f3b3cb43",574829:"5d0021d2",574833:"bd7e2852",574855:"34c5328d",574856:"337e7d56",574893:"17ab424e",575142:"44ed9763",57518:"580a54ce",575210:"2bfce44e",575231:"001394fe",575300:"ea4e3352",575333:"d79f1121",575386:"217ae2bc",575397:"195176b5",575484:"7472f71a",575605:"1355ec07",575606:"0d220240",575647:"c7a1060f",575663:"431bc20f",575718:"d19f6d1b",575811:"3e4701c6",575883:"f306d483",57634:"b6628cec",576355:"14ff4b46",576420:"f8085101",576562:"00997f81",576784:"d00b022d",576795:"a177cd3e",576857:"20f79a2a",576877:"f864efea",576910:"19494b9d",576969:"31385b5e",577e3:"d4cfa00f",577002:"02e301db",577007:"eeb91850",577072:"be1c335a",577218:"04efda56",577333:"c69b5f15",577372:"6a7188fa",577485:"171e520e",57753:"0fdd4729",577547:"18d5cea8",577712:"dc899265",577721:"2fc4ed93",577730:"e4a6b6fd",577993:"5ccf26bb",578004:"17ee2ac9",578035:"819fd53e",578116:"79c81a03",578135:"548fe228",578244:"4a067bee",578329:"afc4130b",578394:"2a7516a5",578507:"f48ea7bd",578671:"d9be7eba",578830:"579d6149",578935:"a19b6a3e",578983:"695c1139",579027:"5a010b4e",5792:"1f2f2d46",579602:"88c6846e",579635:"0a232048",579670:"532125fc",579694:"e448d943",579755:"906c25b7",579918:"75177345",580095:"8012640b",580211:"61f30553",580219:"e8b3081b",580281:"17972172",580544:"b031d37a",58059:"a12c61d8",580607:"b38dc234",58077:"e0c288c1",580886:"8feb3021",581094:"c5ddabaa",581291:"a94de045",581317:"2eba1bb7",581346:"55947ff3",581520:"212b1fd2",581547:"592c7e3e",581631:"0f8e82ae",58168:"ca62803e",581683:"f2bdb3a5",581684:"c1acbef1",581694:"4e89c408",581814:"5d4a55f2",58182:"6fecb5fa",581874:"a000344e",581902:"c2ad70f1",582153:"4c874393",58231:"5fc969b3",582313:"1dab33bd",582406:"d1e8f19e",582421:"ea3fa08e",5825:"71f777b2",58255:"7d3c6a86",582565:"bde4647d",582597:"b61e0526",582631:"91bf492b",582662:"cc608d3a",582686:"1112c6ac",582709:"2e4317c3",582970:"71f7b368",583023:"22954ec8",583057:"3f2ecdb6",583263:"fd8216c5",583418:"4bddee76",583497:"ec644abe",583517:"cc107a40",583539:"45cc2e14",583848:"95dcef51",583851:"79557e37",583862:"109a9693",583876:"bb250766",583967:"5c2baa67",584217:"3ca8f42d",584233:"f9cbf7cc",584273:"02f86ecb",584327:"5a8e758d",584329:"5ccd497e",584379:"c725052d",584487:"9045229d",58449:"38a591ea",584576:"f61f18f7",584717:"41dcdaf7",584868:"f19dfb2d",584877:"dc568fa5",584910:"a925c3cd",585019:"9c598cfb",585043:"3f49a1b3",585161:"d756145a",585395:"f44e3d9e",585496:"a56d1c74",585548:"65b3430c",58581:"c7218766",585903:"f92a0385",585947:"7a7a87f5",586055:"df2af9de",586127:"fb16559c",586428:"376d0602",586458:"984a2f56",586513:"17ce71a9",586537:"5ee4bbe4",586693:"96ca5c6e",586768:"27213e76",586841:"61c41231",586928:"9e772b52",586957:"0a4ba6c3",587043:"ead3611a",587077:"8be35546",587178:"9519511a",587279:"a4ed5b59",587291:"0431289f",587323:"54451f8d",587357:"9746bc5c",58737:"1b649879",58751:"6fff05d6",587602:"afc6d609",587645:"c9e47d20",587662:"520a8637",587759:"cf71b7d9",58780:"b725f241",587943:"384d0b12",588084:"5dbe8c54",588113:"ac08fe86",588145:"e86c6fe7",588338:"1fde7790",588353:"38c690fb",588420:"92c1d1e0",588718:"42d14afc",588868:"7bb67534",588969:"f8dda655",589017:"0fe9be19",589137:"5bdac6e3",58934:"87bf21ed",589503:"c98446c5",589530:"34050a10",589638:"7e0c6bda",589683:"07e0136e",589686:"793295ba",589756:"72e932f0",589882:"0a2c1c80",589907:"9cbbdc97",590089:"751a8e6a",590123:"2a3302f7",590131:"0b49a6bf",590238:"d0cf0d42",590336:"4e78574f",590391:"60ebabbd",590491:"f8a22296",590712:"beb7add4",590717:"e845c828",590908:"a70b95d2",591037:"8a1792c6",591086:"efdaead4",591115:"79bdc907",59121:"67f8c0b8",59139:"6c2d137a",591475:"ed44926d",591483:"e6e2526e",59150:"522ba539",591847:"c828d3b6",591860:"f5deb06f",591891:"d9974089",592028:"07fe111a",592057:"81c70fe4",592087:"2bdc4bf4",592221:"ae005b34",592455:"bf4ea743",592712:"4df37cce",592750:"5866d146",592790:"2c354b66",592890:"f03be104",592913:"e020ca5c",592931:"6a353053",592970:"eb85a400",593028:"71203837",593055:"febc8e8a",593088:"ac36a8a3",593269:"aedd4dba",593323:"3b5b33bc",593437:"706b8919",593446:"5d837fb1",593476:"fc041988",593673:"15ca8122",593701:"99cc0e24",593816:"f223e09c",59386:"8f17a096",594101:"4b2f8ce1",594246:"dafcd821",594248:"7dacf584",594390:"ff8570fd",594521:"6758acf7",594572:"bde50a8b",594681:"2439a9be",594797:"3e0f9872",594878:"ba7b21dd",595042:"e9cdc2c2",595150:"d4af4342",59548:"0a07f209",595512:"7741cc54",595548:"e372e923",595593:"5377f3b0",595732:"67b6fb8a",595743:"ed0592f4",595795:"87abb993",595816:"fdce5055",59601:"33f01f14",596013:"f42421fb",59606:"229efea9",596080:"99c7c83a",596083:"d5f20a8e",59619:"05ef0310",596190:"bec3e150",596208:"228cd236",5964:"776ae6ca",59642:"201f7684",596583:"41157bf3",596727:"e87c0de5",59683:"876d6f11",596887:"c1e014dd",596912:"d39132d8",596929:"62eafe06",596947:"66b53020",597129:"fd290f26",597296:"f4295cfd",597381:"1ae6fbaa",597422:"47cb2d81",597432:"4dc2144a",59809:"a959cb7a",598197:"34431a52",598256:"38889b6f",598288:"823f55d0",598668:"53c8a9be",598694:"c90faa9b",598696:"8bef94d1",598740:"2f61a89f",598806:"7669fe21",598854:"86869a1c",599041:"5a03717e",599043:"6922791f",59917:"bc34ae78",599227:"7257e05a",599229:"715e6432",599330:"e96f9c58",599386:"62897fb1",599441:"55a512cb",599681:"12d5bc19",599789:"df71f063",599969:"e6a4246c",600020:"131b76a8",600114:"6d0254c6",600115:"71aa4939",600211:"a6754473",600261:"05626e19",600271:"66ce1d1b",600276:"8f23fe40",600306:"e75b7668",600433:"c5c78c79",60055:"7b61b331",600554:"e403130c",600598:"c265bb0e",600666:"540d0ac7",600828:"9902cda4",600925:"a8872e40",601047:"d6df59f9",601118:"e15f42c7",601172:"5766f263",601204:"ace9e9ce",60146:"ed8bba03",601523:"c0a5554f",601581:"ad5c8973",601747:"f4574174",601826:"02bfbc3f",601915:"09f8a81c",601987:"1aa320c7",602108:"a0545bb4",60232:"7c6ae9ba",602550:"6281d419",602664:"ecdfdaf2",602807:"fb367ac5",602821:"72b6709d",602891:"fea40f60",602980:"2eba784a",6030:"2e56fa97",60301:"91ced80e",603030:"bbe50576",603182:"85c56957",603343:"e2e89b08",603484:"f99db561",603516:"cd0d7f7d",603628:"a8c83662",603647:"158657dd",603693:"2f728133",603735:"65b58291",604041:"3e3e6457",604312:"9d8c3c25",604463:"b37fad18",604474:"736c2a7c",604635:"2ccbb1cd",604675:"5ff865c5",604706:"c32aee61",604735:"a762b7cd",604851:"11ba8bd4",604977:"74d50168",605004:"6b2af3c3",605109:"c1ffed36",605175:"f4e39a92",605295:"8e47866c",605305:"91c99878",60542:"83d442b7",605678:"12f6a150",605743:"95d49ff0",605777:"dd6e24dd",605784:"6d2ee674",605823:"ae7d8af8",605878:"c90c7397",605915:"91ac9aa1",605937:"b5e5ea2f",605941:"71cb6354",605983:"02aefbc8",606079:"8facb1e5",606111:"eccfbb6f",606120:"4d933c9e",606217:"f6038c18",606331:"c2957c6a",606336:"0a925007",606446:"e585dd5c",606538:"3dd30da8",606697:"d4ac80b8",606725:"6c3d81c3",606727:"4d0b2025",606837:"ae8a7208",606875:"e55f119a",60689:"c3526453",606916:"48fea45a",607083:"38dbe656",607086:"af08353c",607291:"1a9e66bd",607381:"40f3df48",607397:"fa2b6dd3",607423:"f8780dd7",607586:"1c0689ee",607710:"4983895c",607817:"b21f89d1",607875:"92451c81",607929:"62f329cb",607951:"fb00bf63",608017:"b7745b31",608082:"c6d57971",608121:"74597904",608241:"6436bfe8",608317:"490f7b9b",608330:"a4543b53",608415:"f634531b",608433:"98f92b73",608596:"85aaa0f4",608610:"f913eb5b",608611:"3c9a7b52",60871:"e90f558c",608710:"18111c0f",609033:"76a4c7cb",609122:"94c27a57",609225:"42d1e396",609318:"e5830589",609327:"e7dd3b00",609449:"73894006",609486:"b6c6cce3",609516:"0077d2bc",609517:"b02ae721",60957:"ae52d27b",609682:"b0534a60",609739:"0aeee790",609860:"700e7219",610045:"c2ef3c72",610069:"d2bcf3ba",610099:"8c309db4",610134:"8b2ae7f9",610224:"323de466",610389:"42f77295",610391:"c30668fd",610429:"abf67520",610446:"a12cc9e2",610667:"eb9ae822",610872:"77bd4652",610944:"c9396b18",610977:"474b4cc2",611025:"da4a797c",611029:"7b9d29ee",61103:"976accc3",611191:"6ae7a0a2",611217:"5cdab886",611238:"9a0fe0ef",611242:"9537abe4",611364:"9f452e14",611402:"d81351d9",611469:"683ec72a",611474:"89ccaa37",611488:"1e444878",611562:"f960282c",611563:"6baa97b7",611576:"2aa94d9e",611603:"c5ceb004",61212:"fe58f79a",612121:"3353db79",612170:"a95d1138",612214:"9508f6be",612361:"dea52160",612477:"ab353dbb",612479:"a6ded9fc",612652:"6f435975",612682:"f3ca7fc1",612756:"6598d906",61286:"f7414ac2",612896:"c9926299",612937:"4365890d",613252:"4781f18a",613402:"49e2b5a7",613568:"44b036e1",613695:"4eae67dc",613822:"73c8d6b3",613841:"316b9a4b",613900:"f98d6920",613967:"dfc80cc3",6141:"ee65761e",614202:"adf3080c",614239:"2ddd2752",614320:"d99a4a78",614337:"7f68ac0c",614373:"41ceb777",614446:"efc0b8fd",614504:"8f50ab00",614720:"bf2da75a",614787:"8ce0b485",61490:"2ddae614",614925:"f80fe1b9",614937:"32ac4608",6150:"7ee4caf0",615030:"00e7f804",61516:"cf639c4e",615342:"2ba1244d",615487:"82d240f5",615539:"97ce0c80",615600:"b9419d3d",615607:"b1b7342b",615764:"e4f8debc",615859:"a7c4a028",615863:"689cda7b",615945:"016c14ad",615967:"87039767",616038:"4f825694",616206:"5467fc5b",616404:"2bdc1dc7",61676:"bf4bc897",616799:"2d4a2598",616815:"5ca897e9",616903:"10b5192a",616931:"0b4d93d3",617006:"9c2d35c5",61725:"f0413341",617293:"51c0659d",6173:"128b8abe",617425:"f175f079",617468:"ecd10e14",617483:"ec05f4c0",61749:"5f95cb47",617721:"5cbedf12",617730:"ad46e834",617799:"c4753aa6",617820:"63dd9e85",617885:"85d13b32",618059:"166fe3b9",618075:"692da04b",618244:"6d735c52",618373:"076c4a17",618386:"a6155d1e",61841:"16ef375d",618477:"c41d3931",618480:"0abc4f3e",618520:"4d485053",618544:"aef18976",618547:"fb9f55f7",618549:"197de921",61861:"be31ad4c",618857:"b4411f2f",618975:"2b6a8c3c",619074:"53437d77",619102:"0a4865db",61914:"4b0b057e",619165:"0e39d38a",619205:"81fdde1a",61938:"08481abe",619504:"cf8c649d",619578:"82a99e8c",619699:"0945e957",619751:"5ddee092",619757:"b3efd8cd",619832:"74c48cbb",619859:"587958fd",619967:"130cb339",620158:"102e3a2e",620215:"371744b4",62035:"efae82bc",620543:"8ff393d8",620556:"fe502636",620750:"eeaeda06",620786:"3d3f808a",620910:"395bfafa",621034:"5bb941e4",621360:"a0a7d2f7",621641:"5efa1bb3",621648:"79dbdf88",621752:"77b55f57",621790:"5617078e",621804:"4493f6fe",621850:"227f274b",621870:"5b71e9d1",621940:"250065fa",621990:"4e1a4580",622042:"6241b915",62242:"98359bc8",622452:"1cb7884c",622570:"00b79fc0",622594:"14ef3dc2",622637:"08f3b23b",62271:"4479de41",622740:"e8a8efee",622763:"824516ac",622937:"76cf79c9",623022:"fb104fe1",623073:"27408cfc",623245:"138595ca",623281:"ed213929",623887:"270fe85b",623890:"82c8fbec",6239:"6349276a",624084:"7dca23b0",624086:"ec4a5d6b",624092:"8dd41c31",624139:"d50d875e",624154:"8da3dbdf",624249:"d9705837",624331:"4bebc90b",624345:"f13c3430",624402:"f3e084dd",624419:"d29d924a",624424:"54c10bbd",624475:"039c7073",624575:"9c93af52",625021:"e457d0e7",625052:"afdaade2",625101:"2b1d42af",625131:"35f0f80d",625257:"eff31b3a",625305:"94e0e2dc",625443:"9481c63a",625731:"344a7032",625878:"8e823421",625967:"c804c74b",626063:"d63eb5ad",626067:"a1e8d670",626086:"fd3ef021",626121:"425ceacd",626145:"f1e379a4",626194:"22ca75a8",626303:"4445c267",626326:"feac52f4",626363:"c906669a",626470:"84eaf751",626560:"e5cb3b0b",626763:"a2137352",626959:"499f65cf",627048:"819cb587",627103:"6acfe1d4",627193:"b38a8175",627289:"a8eed624",627391:"3a664db3",627516:"9e61be1b",627650:"6d04d127",627698:"c591208d",628127:"7d3ecede",628216:"703d712d",62822:"c0e4f6e4",628360:"b71bf6ce",628368:"52f0b4c9",628453:"61a680fc",62846:"bdb0e04a",628673:"b194bbb2",628701:"0d7efa94",628829:"72b005f0",628978:"98963f9f",629050:"fe331e2e",629257:"651f8437",629385:"5096d36d",629388:"7ef22a2a",629470:"ad625118",629472:"eed925fd",62948:"90b54ed5",629488:"ebebee47",629522:"acac78a8",629547:"e6fc00a7",629624:"d800760e",629646:"257fd6ff",629975:"0e193f55",629989:"c2cc08d5",630014:"1b9b1c54",630151:"a9a39b2b",630169:"23a6664f",630261:"984f63a0",630288:"a1d2cdae",630381:"5d8947d3",630433:"d7ed601a",630470:"f25319b9",630753:"635a2b18",630787:"3fce3aac",63087:"068139b8",631097:"47785550",63116:"1f8730f2",631161:"320052de",631166:"3f9edba6",631286:"c89b1695",631428:"c0476599",631473:"c06c79ba",631798:"4e855b1f",631863:"7ab8e4b8",63193:"0ec790d7",631930:"03f16f67",631978:"6f55522e",632035:"0c46a838",63207:"f6c05d7e",632131:"7eb8ee10",632263:"4ce06558",632623:"04f48684",632637:"bab405a6",632731:"dcd1941b",632782:"38a87b24",632783:"453fe175",632951:"4ca3339b",633093:"ea5fd6e8",633094:"d2cd212e",633178:"9ba2ce3c",633201:"fe7d40e1",633335:"3e36606a",633365:"24231852",633410:"606d683b",63342:"074eadb1",633608:"4a15083c",63363:"17797c44",633649:"940e45ca",633885:"2955af24",633971:"076e6c6e",634007:"483312db",634025:"b4cdfbc7",634046:"33742579",634155:"5d5396cf",634166:"aee0c257",634341:"247253ca",634367:"929832ed",634426:"de037631",634645:"6d875fd1",634753:"82f4b83a",634798:"996f2425",634816:"d7b2578e",634823:"7d09ee26",634827:"7d73622f",635061:"77e71aed",63525:"f30bd476",635484:"b956e004",635537:"8b85ed3a",635834:"9ef2abcd",635854:"8a9fea51",635878:"80d2450b",635903:"e625afc9",635920:"b5d61ce9",635938:"47e902ce",63597:"b5b593f6",635997:"0bebd4b5",636051:"83d8f4d8",636094:"0989ccae",636155:"5e3a274e",636307:"32e3808f",636427:"57c01982",636509:"f464148d",636586:"d00b2a95",636724:"1130bf65",636759:"33528e52",636960:"fc95131e",637117:"de9d8e19",637170:"f1c13859",637190:"d910bba1",637232:"5660f718",637303:"4428e06e",637312:"3314bff7",637366:"1587efd7",637388:"e84d6045",637403:"2b3141a0",637455:"0f9742fa",637464:"11a305cf",637467:"f3edad9b",637533:"c34d5731",637668:"2c0aca42",637834:"6aa215dd",637879:"b49316e5",637912:"ffe5d33f",637915:"8406401e",637930:"ffab6c2a",638221:"8bcc107e",638254:"a38f8ada",638287:"0d0248c2",638359:"33c59b7f",638375:"93243c90",638516:"c85f3c8b",638544:"549fd7bf",638564:"1ce1395a",639017:"a66189cf",639105:"e02c4a9e",639306:"7905f918",639338:"9f613345",639519:"279a8053",639628:"bf4f2938",639630:"00a25db8",639699:"631197fa",639701:"731ee24b",639710:"42c9f5bf",639750:"a6bf6845",639781:"a71334d7",640037:"ba83dc99",64015:"d384d028",640216:"49733b14",640444:"4e77f7e6",640446:"7d08ba8c",640737:"19865f9c",640762:"5201eeab",640907:"a580228c",641001:"ef23be7d",641113:"08fd4b0c",641114:"ae050b62",641126:"a9e501cb",641153:"ec729245",641191:"9f158828",641318:"1e13fe19",641343:"67ab185a",64150:"52b97f8f",641544:"172c350d",641770:"65a93766",641854:"c005613b",641855:"e299e8a7",641897:"dea03fbb",642133:"cfdb4075",642166:"18d84cb4",642175:"40fbb848",64244:"1945c235",642513:"aaa5fe2d",64260:"b5963acf",642722:"a71c28cc",642986:"6f7d6ba0",643051:"bb89b687",643069:"f08b1139",643259:"c303e9e8",643310:"ab8a807b",643429:"5301fe76",643490:"42bc1570",643738:"65d0fd32",643739:"26e0286b",64399:"5f8ab417",644001:"274c31ef",644217:"3d25cb91",64433:"63751db8",644336:"4dce831c",644427:"23c4afd7",644556:"cd0cd5e5",644569:"96e49126",644618:"c2d4202e",644630:"cc8aa34c",644632:"bce458f8",644675:"b3606c3b",644753:"978f141d",644813:"a637f7c7",644815:"13f724c9",644886:"e9c50d1a",644980:"9f30edc8",645044:"2a06659f",645055:"6e0b5e3a",645176:"e9ea1a86",645195:"f5e4b007",645248:"cea32f70",645531:"30699a76",645597:"fca83fa9",645647:"e9acd330",645767:"ff784d4e",645776:"88356c87",645831:"54c872a0",645918:"6446a4c3",645947:"57397f53",64596:"ae1f5aac",64608:"22e741ba",646152:"55bb1188",64625:"13accc83",646298:"bef2bc90",646311:"f1c28d64",646338:"f41d3b21",646367:"e4fbaed9",646509:"c0240626",646539:"888ed8fc",646584:"fdb12318",646834:"271685cf",646913:"450bd201",646929:"1c5c88f3",64694:"6ea25a89",647010:"6f476b10",647094:"fc56670e",647180:"51068400",647413:"c309b6b9",647504:"9ace9ebc",647886:"a6e79bc1",648014:"c195955b",648067:"766dd235",648078:"15601acb",648178:"2b624a20",648253:"6752cb3a",648278:"538d1549",648356:"e3f62e05",648429:"2d12197a",648587:"c9e8a1f9",648762:"3b2ed9c6",648765:"e3dba039",648863:"879b43eb",649235:"8e0ae145",649265:"69ee814a",649349:"e275c1a7",649414:"b3cdbd6c",649589:"eb3e5eda",649639:"780de10d",649644:"40e1e969",649812:"b3228ada",649903:"079ec46d",649947:"88fcf383",64996:"55a5ae7b",650176:"fd6b7416",650294:"2b8f5c90",65048:"3837ba0f",650554:"1db34115",650648:"e24a775a",650655:"b007aae4",650669:"8da9debd",650682:"0efbc8aa",650790:"88cf6eec",650868:"0abdfb8c",650889:"89baf0ba",650894:"72ee9ae1",65093:"8f087436",651188:"1c2e7d39",651243:"423248ff",651328:"484e0ebf",651329:"2c307c5c",651355:"44c53b86",651496:"237f309d",651697:"24635447",651879:"aa71cf39",651940:"9f20cdc6",652086:"272d4d80",652113:"a18b6fd0",652143:"0b67dbb4",652148:"2ebd8f80",652212:"fdffeca7",65233:"6dc455df",652460:"825d0744",652495:"78a04c9d",652732:"70999a93",652933:"f5badd38",65306:"da6b324f",653158:"3067c71f",653183:"08bb8145",653387:"d16b9ca3",653429:"6899abdc",653627:"625bc4a6",653677:"22d683b1",653713:"ee246b18",65378:"6676473e",653893:"d6b25665",65391:"d63e50ca",653997:"d8c71a01",654059:"ecc68588",654124:"18377156",654387:"8e4dae9e",654643:"0c90ced9",654892:"1b8a8c80",65490:"2847f531",655159:"b323e347",655249:"f01bfd71",655331:"bedb5984",655429:"58bf982a",655454:"2ea27a5c",655478:"c5cf2f14",655499:"f2cb6717",655702:"6875aaa1",655712:"6dd77031",655825:"8e848796",655892:"1bb11a0a",656283:"7b90f68f",656369:"6b6de416",656388:"6459d21b",656405:"ea300efb",656515:"f37aa6c8",656521:"3e959a01",656675:"66ecb1dd",656758:"94e0fbde",65682:"f3ccd87f",656830:"b23cda6b",656927:"57bc7663",657041:"2caa9810",657195:"83b2653a",657245:"5b5ffd45",657437:"838545e9",657476:"1599521c",657488:"b84a24e7",657607:"3041da01",65770:"324dc81b",657703:"59224f3a",657718:"934d1053",657760:"f80366e1",657873:"c336966a",658031:"b2c1ce42",658086:"f1be6dd2",658273:"7937503f",658359:"bd99e184",658407:"9090bc34",658530:"65ed0fa7",658658:"3db73892",659246:"92b2dd51",659419:"1cea5086",659625:"fb9a4221",659660:"58126309",659752:"6802ed92",659831:"e71b527b",659835:"0915372a",659903:"cd8e4bc9",660113:"bd5d1e47",660310:"5c84f815",660479:"6d97a7d3",66055:"d8f81f0f",660559:"422b0bbb",660614:"5f3df945",660625:"05a82798",660757:"109a2099",660773:"1cdc20dc",660875:"f6011f46",66099:"626a2a76",660994:"132e21ac",661086:"f56641af",661090:"9879bfc8",661117:"c7458be2",661175:"e1d3f775",661186:"a0fd2581",661633:"4ee59370",661819:"549297a7",661856:"8bebb729",661998:"98b67519",662059:"f3a5efbc",662077:"813c5315",662207:"0c0f20f3",662322:"5195cc00",662402:"c39dec7c",662531:"c476ccba",662552:"97a87e7a",662641:"9912b977",662711:"b0121946",662765:"f2fd95c4",662925:"5243e94d",662969:"54a7578d",66310:"11e2ee62",663120:"fb8d5988",66321:"7c1ff251",663211:"5b167c18",663229:"c4ce378a",663291:"f9ff10e8",663306:"afa0664e",663316:"74f858dd",663335:"2b737316",663415:"eca9b316",663416:"d69e427b",663537:"e3fec23c",663670:"4114fb02",663738:"578ff0b5",663766:"4d932cee",663823:"19ec6074",663920:"9d1da5b4",663944:"3b39c6a7",664019:"01db45c2",664040:"10053405",664178:"41a22469",664185:"e20af354",664285:"7f599d84",664349:"72a1dac3",664646:"2cb7ee6f",664652:"885b4e8b",664905:"494c177a",664939:"eea08508",665015:"141472bd",665092:"80d47a65",665111:"fe226fd6",665191:"eda3c4f9",66527:"2d2d75f9",665342:"6b954386",665623:"2ee0e1b5",665714:"d868dc57",66582:"65d20cf0",66588:"596b8981",66598:"2a9ede17",666079:"4c3b3760",666214:"3a16cb83",666258:"7d98b63e",666312:"11dba2c5",666354:"4fcb8440",666412:"bcf97dd4",666469:"81bc7af1",66653:"0c836cd4",666700:"d56ed5c4",666727:"16ff917b",666751:"ce158d53",666770:"072e6887",666871:"c453c745",667025:"b14b19ec",667286:"68b21b9f",667412:"d2650ab1",667422:"7d7cb7e0",6675:"cf24944d",667561:"64feaa3e",667748:"e581ad74",667792:"008f5338",667810:"25c2bb08",667834:"7af29863",668015:"67fd6d00",668063:"2c8b0381",668065:"3c4da6a8",668080:"a2927582",668110:"f65a386c",668254:"562874f1",668309:"1e7e60c1",668329:"61e97cba",668338:"4f9a6b19",668512:"6044cc2b",668527:"495f0649",668536:"4cef15e6",668587:"a2171082",668592:"8eb39cf5",668618:"c52bae14",66865:"787985bd",66875:"778d3c12",668777:"df538ead",668820:"18f38027",668845:"d8322aeb",66892:"54f3781a",668920:"0236666d",668978:"753ff979",669055:"010e8e5d",669063:"58eb457c",669122:"cb79259e",66913:"b62eb351",66934:"4959f704",669352:"88a759dd",669865:"5c39304c",670042:"10f4d20e",670319:"4a938964",670573:"c4fa86d5",670687:"29906e19",670808:"fc05aa8e",670831:"51febbc1",670852:"6d287a9c",671033:"434a2a58",67104:"7a46b42b",671057:"3ea0a1f3",671069:"ddc68f99",671330:"91faabd7",671654:"bc63a702",671814:"71a6c764",671856:"dc6b11e3",672190:"e055906d",672193:"4f5150c1",672352:"23d76666",672415:"ef24e374",67245:"05bfd3fe",67253:"c8f444f4",672578:"2290d629",672596:"e87d6f16",672704:"9f8b6f6d",67271:"515c68fb",672832:"e7a88a24",672881:"f908faf6",673025:"89479d1a",673259:"f7c2bd8d",673324:"ceeb65f4",673426:"08c7569d",673565:"b591aaed",673813:"46083e5f",673839:"ead3561a",673878:"deb41b75",6739:"a3a88dd3",67405:"e7b79eb1",674109:"010da13c",674185:"2133ea6e",674200:"c98d4c2d",674267:"97f9997c",674298:"baa7a5d8",674332:"18d72fd8",674347:"e5109684",674360:"b54df6c4",674367:"834862d8",674466:"5625f26e",67448:"08e5b46c",674576:"a58dfb2e",674685:"b33b57b7",674686:"742704b0",67471:"a048d52f",674725:"537b7657",674890:"bd4256ab",675303:"05b3514b",675304:"36875c3f",6754:"487d4741",675432:"cec35623",675441:"b47a823b",675537:"d4af03e1",675670:"fb147ff2",675712:"ee3bbf66",675739:"7f6b5f86",67581:"0b15e7d3",675857:"f396088d",675901:"115a27d9",676060:"2576f9ee",676174:"498b6a8c",676222:"79557261",676398:"0c8652ea",676431:"ec49fe4a",676488:"e62a3402",676577:"b30f637a",67677:"5181d9d0",676779:"8c07164e",676809:"26dd1d7e",676833:"0ec85e17",677066:"48bad0a9",677243:"845c76c2",677299:"c3d35292",677304:"f73322dd",677383:"d250a8d1",677614:"b4c3db06",677668:"b0e7af82",67767:"45537ad7",677747:"ba44b5fc",677795:"13e2ae47",677828:"f3840ccb",677928:"e4545415",678185:"814a9ce0",678191:"6d3f38c4",678232:"ec57a719",678234:"2c0babcf",678311:"5154c18f",678428:"01008b62",678543:"faa2c760",67879:"32c459a5",678800:"120e75bc",67898:"a9850a01",678999:"c94b680e",679087:"0ea155ed",679098:"8bdb182b",679112:"e8fb2557",679141:"94de5e4b",679156:"77a988a3",679185:"f0d4735d",679196:"9d18fc6a",679197:"917e4ef5",679244:"c2f40040",679283:"0aa1b851",679292:"71f39393",67940:"07943820",679426:"1835be5c",679457:"0c0cc5bc",679582:"30afc195",679807:"073b44b6",679833:"7ebd1fdc",679866:"01d65de0",679896:"43f949e1",679909:"68d7ffc7",679920:"eef82239",679928:"433af6b6",679937:"9a60f141",680002:"ad1a098d",680590:"ef6bd35a",680734:"8d61e836",680823:"5b1e6140",681354:"056d4bfb",681480:"9cc44fb4",681491:"af38d95d",681538:"140feed7",68154:"1946e23b",681576:"f433ad41",681781:"deb3edab",681845:"0ddf5a86",682006:"cf39d049",682208:"cac37300",682250:"88bfb696",682358:"6ac28c89",682404:"ea3cd6a2",682440:"795e23c3",68249:"3190f0df",682522:"e2b47e34",682533:"a29be596",682567:"a78f2ad1",682622:"dc1dbac1",682816:"4740a93e",68289:"00a790ae",682900:"be118108",682909:"eb1d7d3b",682959:"fdb77ad4",682984:"09fe4c00",682988:"b3438cc6",683185:"d7289503",683386:"bd4114f6",683452:"d790f004",683499:"51e00897",683510:"3c231251",683553:"9ef04472",683590:"6489e7f6",68362:"18137f83",683623:"87c2e4e0",68367:"d695f88b",683687:"eb9d5f2f",683745:"e352663a",683780:"c8a7466b",683905:"5d95ef8e",684066:"06a4f0bb",684107:"547a7126",684161:"3aad5b44",684233:"e5a7920c",684403:"887e27af",68449:"1f1aa2e5",684524:"c8646ef7",684568:"edc34365",684572:"c6bf5db3",684793:"72a9b9fc",684875:"3cc32e73",684951:"cb1d3e76",685054:"3d5977f9",685086:"b558a464",685089:"e9b20527",68512:"5c5ba06f",685157:"8d4268af",685327:"b0b4dcff",68535:"66ed228c",685446:"256b552a",685538:"3f11166a",685544:"763ece06",685549:"22a939c5",685610:"7ab412b0",685654:"5a5dbdfb",685691:"e549eeb2",685793:"9d6464a7",68611:"f08e4bc3",686172:"6169fa90",686523:"7f2e392c",686669:"8a8e6f8e",686760:"523150d1",686771:"b0ada301",686829:"8f433504",686938:"7b7e81ab",686945:"45d1b64d",686962:"cfd83989",687007:"4edac2fe",687016:"e1088797",687023:"66bac53d",687034:"8b57df6e",687114:"809f956d",687185:"9818f273",687236:"954df2a6",687282:"35b7a245",687474:"fd0f5a68",687509:"e3259e2b",68758:"79f0c718",687691:"19fc80d7",687779:"96c8ef64",687959:"677e98f4",688123:"1240a891",688160:"c782f0b5",68832:"3075e8b9",688351:"6c2c96c4",688469:"a882ee64",688701:"01f1592e",688844:"b31505fd",688887:"6a83ed7b",689384:"8bf9e68b",689518:"3478ca01",68967:"6be692bb",68979:"23362e21",689995:"48f0bd11",690126:"f0b21386",690151:"6c8f0906",690216:"d28d986f",690378:"86ecc9c5",690449:"3ae0c513",690536:"fd1c70c6",690552:"e057b779",690571:"eab9c234",691007:"93ee6c53",691028:"5ae7c631",691040:"f00b3d2e",691205:"d4628db8",691300:"70862c53",691309:"b2abbfe2",691388:"5f5bcdb2",691609:"45273734",69163:"b15420a6",691630:"92abf5a6",691659:"f5cf1074",691753:"6e68716a",691814:"33434b6a",691820:"a0615427",691896:"0743f360",692074:"3a2c0c45",692198:"8ec6f9e1",692294:"2dda351b",692305:"f4e60662",692314:"ea610e6e",692354:"fe9aa540",692435:"286d5684",692513:"fc66a721",692582:"27a55f1d",692586:"14bd7107",692644:"0b8e9a94",69271:"853609a6",692738:"580e43ad",69276:"7fefa5bb",692764:"f17a7640",692995:"1d5d381c",693058:"12a084c6",693079:"fae5cbf6",693121:"6d507807",693168:"f9f32d6c",693229:"00b27a0c",693305:"b6e513ac",693329:"c72f2179",69339:"14890830",693419:"051449c1",693442:"5080ba6b",693772:"2666675e",693846:"9dac09ae",693859:"4b589262",69388:"d3d5c4fd",693885:"2cd8800f",69403:"ae648ba6",694308:"c49c1e3b",694340:"6b8be8d5",694376:"d326a755",694435:"3100a4c6",694496:"e16b64d0",694559:"9c5cde05",694616:"bc2d30a5",694752:"347ba4a1",694782:"23b62b6e",694793:"f5c22e97",6949:"3cdb98e5",694923:"7e3cd156",695e3:"c0953337",695183:"01cbdb99",695198:"6ad88978",695201:"b47bb2e6",695365:"842ebc93",695435:"085e7e79",695463:"1c5bd9cd",695639:"62667b1e",695695:"e03cc316",695741:"8b59291b",695817:"790a2975",695823:"61941710",69588:"592dd786",695957:"1b50f694",69620:"c9c16ef4",696312:"130d1071",696334:"0fc5eae8",696374:"1990388a",696421:"52111ab0",696435:"e1369952",69665:"a95b4842",69674:"1f1c4723",696812:"319011ce",696909:"158ccd73",696965:"91010627",697010:"c94e28a8",697079:"f2cda8c5",697103:"fa5facb2",697136:"0bed7f3c",697247:"31ab7e34",697396:"df9790d5",697447:"8aae391d",69758:"2f86c855",697637:"338d30be",697745:"cf206f14",697746:"c483c3d0",697786:"0bfa1ccf",697807:"3f25ce46",697871:"fb20833f",697938:"5734971f",697940:"136d676f",698146:"b45a53f3",698175:"8e395b61",698189:"0802f13f",698472:"852c0ced",698536:"0672def6",69885:"c0e954fc",699013:"4e6dbbb7",699016:"645f10b3",699060:"d101da9d",69915:"d7b365b7",699347:"e4942416",699419:"ed69b7da",699570:"c22c8e56",699737:"f505283d",699831:"bb22cc95",699900:"bf5c4f23",699948:"d6d898f4",700070:"5a535349",700183:"036fb560",700430:"9c931578",700468:"a912461b",700487:"7c8a76a4",700590:"477d4988",700709:"1276af37",700785:"5b112200",700896:"c629d980",700962:"dcb1c042",70136:"bec2ff43",701474:"9de0efbb",701618:"0146c997",701784:"de6bb950",702088:"e1c74927",70242:"4837c000",702539:"d051bf79",70260:"f11866c9",702686:"7073a996",702689:"fd910060",702718:"ea96d9b0",702733:"68f5471d",703024:"3851e840",703182:"2d09fca5",7032:"8b4ae3f7",703468:"85a35aea",703474:"6afc7d84",703476:"de6cbc94",704092:"dd7d5add",704104:"6a916015",704150:"0db995c7",704207:"4149a1ac",704214:"8a978c96",704234:"39b1cc8a",704243:"ddf27129",704419:"db07d498",704638:"0e2eb791",704753:"b3033df5",704774:"8f7e1a15",705039:"4c8ebdf7",705160:"ea8a2812",705271:"f0a40f67",705284:"7da802a4",70529:"fea9a9fb",705467:"7397d70c",705617:"d2250ff4",705627:"79808e8f",70567:"14b8dcc7",705707:"601fe464",70577:"08c6204b",705861:"9d7e3b42",705881:"8d3172db",705941:"eceaf8b2",706030:"16465334",706047:"f565f026",706079:"16393048",706132:"99f3b1c6",706270:"ecfe012a",706463:"731304f8",706537:"d06f0e37",706552:"e36954fd",706555:"07934753",706681:"ba5b7bd6",706878:"2836b117",707039:"95fd211c",707097:"387bdc68",707326:"a79773c6",707330:"05dfd30f",707359:"1556e50e",707383:"4d74d2e2",707498:"be7c7ef7",707538:"af747949",707646:"c21fe156",707653:"b54e651f",707744:"97308cd5",707778:"c46bd50a",707848:"8ff8ba5b",70811:"99834e06",708159:"3006cc6a",708167:"145cc5a3",708277:"b2c47835",708367:"6cf59205",708401:"de637bb7",708415:"2cc30911",708435:"537ac391",708482:"965a915c",708499:"3fce74a0",70872:"0b79070c",708959:"3538ddbb",709024:"bbbd04fa",709093:"204aee01",709321:"b17e8e25",709449:"b010cdb2",709460:"84868544",709512:"dc699ac6",70956:"a044a545",709655:"544b103d",709674:"18cfc273",709676:"5bab2ac3",709728:"f896f89d",709792:"b4a6d25f",709851:"9516bb31",710061:"66b21cbb",710371:"b469eb97",710453:"ad66597b",710514:"e43b7e89",71057:"fc684ec5",71070:"a1f4faea",710789:"86ceb2f3",710857:"67a8879e",710957:"533999fd",711020:"98e3ca7e",711038:"4c7b83a4",711050:"1ac1d9ed",711202:"79c0b9ed",711312:"3cab98f8",711427:"522bc254",711631:"bfd2e2f7",711784:"442bc9d3",711925:"6c1e5282",712022:"bd95bc8e",712095:"b90b9f2d",712150:"09dc5df8",7122:"00071c90",71225:"ebfab345",712301:"d16d9e5a",712332:"b7db819b",712425:"e4ca4583",71249:"6ed1c114",712525:"69ebb695",712552:"c6bfd44a",712604:"38f030ec",712966:"70cf72ea",713197:"e8967856",71333:"21672cd7",713331:"c45f8f77",714182:"f13b89c4",714288:"a09160e2",714311:"b7f02821",714407:"67e5fcf6",714456:"b97cbd4b",714850:"dcb684fb",715004:"bf86b8f6",715029:"d210bfb7",715213:"f06ab658",715283:"14fbfa50",715326:"3bb192a1",715419:"fb13166a",715477:"8c125e9c",715588:"34130430",715603:"e9911d99",715658:"78767061",715706:"b750d06c",715755:"b1e99d96",715835:"47d8bf52",71584:"d4f0cc17",715903:"d7c56a88",716283:"fa583335",716368:"68d1b40e",716378:"3f192151",716446:"ab7b22a3",716519:"2355a58d",716691:"d4a1f734",716862:"24eda3ff",716915:"927f296c",716934:"3ccfa28f",717081:"49d6222e",717095:"48b9dfa8",717109:"b52285a1",717411:"895521fc",717423:"324aedf9",717487:"4244d823",71763:"bdcea4a4",717791:"c9866628",717845:"aa390134",717865:"65c1ec9a",717913:"89492a8c",717940:"2cf04619",718046:"c12bbccb",718174:"bbae910a",718244:"a6a987e0",718260:"7003f85a",718322:"71cb96e4",718520:"95432377",718580:"67c2ab8c",718605:"a5da5cd0",718641:"8edc7020",718731:"bc4ce430",718781:"5807cca3",718788:"50300b4a",719032:"4062e09f",71910:"3930ef99",719116:"1f5722ce",719118:"dee32d28",719201:"3c7826a3",719225:"251b5191",719238:"4df33d51",719315:"b6ea2827",719373:"c5b600e5",719458:"e04d050b",719510:"52c3780c",719598:"59eae287",719804:"f92762c3",719843:"2d756b2a",71989:"3fd52be8",720076:"037bf62c",720221:"f1662fd4",720400:"813cd72d",720430:"cba83c2f",72048:"45ec02e1",720518:"3e1039fc",720560:"e6f34d0c",720756:"d802d48e",720775:"59862187",720884:"e49fcc49",720932:"2bb40eb1",721218:"0de0ca13",721250:"c257c5a1",721427:"d39609ed",721618:"521d403f",721716:"d9dcb14a",721788:"732c924d",721813:"ac4e3d0c",72185:"9eb51ac7",721983:"d1b54e88",722278:"ce97d141",722319:"ce44451c",722378:"c18b489a",722415:"5ba751b6",722498:"463a6248",722613:"63d51fe9",722870:"4e248db0",723012:"3dd118a7",723157:"a754e4c3",723172:"740d4a2a",723210:"9433aeb1",72331:"f7367b67",723350:"d7fbec04",723409:"87d145cd",723441:"cf8e856d",723445:"31382695",723566:"8241d8de",723580:"ede88388",723628:"e3be03b9",72366:"afbad980",723667:"672992a8",723677:"bce913a7",723703:"7838e0ce",723720:"90ce9f08",723722:"f99fc237",723757:"8d62fffe",723836:"c0361be3",7239:"600e83bc",723929:"4d1902ba",724003:"1f48a236",72404:"e69a4a27",72411:"6848d396",724362:"3edaf162",724512:"4306aef4",724535:"73c04c1e",724601:"3bfbb723",72469:"71f9d4cf",724729:"debcb4d0",724926:"30b65ae8",724986:"b348cda7",725099:"e40e4653",725118:"cd373b29",725220:"4b5995c5",725254:"83d2f5ac",725282:"fb4a5625",72531:"f2b71d1e",725345:"30718bb5",725446:"dec9c5f8",725559:"6ad5f61e",725606:"9a56cec8",72567:"e751d2f1",725783:"c2a98a4d",725815:"addcd884",725990:"f02d666c",726024:"2a89bbab",726035:"fb2ad7d0",726115:"e2d2c31c",726145:"c1bd8c50",726147:"7cfa514d",726158:"77263a9e",726358:"13db6781",726367:"10dfea43",726379:"914e3950",726443:"acc49a07",726477:"fb40b634",726505:"c57548e2",726733:"a0beec73",726826:"597653ab",72689:"fbed804f",726942:"66a43a8f",727010:"b285edeb",727035:"766b4c90",727069:"4c6a0605",727083:"649ca10c",727217:"42d294cb",727332:"59df2004",727414:"745d8869",727425:"8ec52b8b",727493:"a9e54428",72758:"868faa3a",7276:"c1bc54e4",727833:"a94ca527",727931:"bc7556d1",728140:"21ba1465",728260:"a72cf997",728335:"7e5cab5e",728344:"4968fd19",728451:"a5020a34",728635:"2f67b94d",728751:"32157672",728860:"4fb3231e",728882:"bf46c2a3",728904:"1f9ed387",728917:"7771b1a9",728935:"12f2cc6b",728942:"780b747e",729002:"3d0b54a4",72905:"c2bcc150",729125:"4f1b3d72",729258:"a636b037",72937:"b6a5a8a3",729399:"a87f35b1",729456:"5c681af0",729495:"522bbbbd",729528:"0552056b",729534:"791d125f",729755:"756e9ad5",729759:"c08b0a02",729813:"207e789d",729843:"c9531eed",729939:"6730f843",730042:"027a01ee",730077:"9cdf8362",730142:"bc9b0c2b",730185:"6375b8cc",730303:"f39275e1",730450:"2f4c2440",73051:"1033376d",730595:"08873376",730733:"6b9375b0",730751:"4ebbaf54",730776:"0385257a",730848:"3a206e0b",731017:"2de24ce0",73113:"4600fee4",731187:"abf0552e",731280:"8c6d38eb",731332:"310c08eb",731354:"c5150630",731356:"7ede7833",731463:"8600ae7f",731748:"2ca9a090",732008:"87c28727",732169:"12bc3b19",732392:"ab3762fe",732406:"6932d7de",732574:"64f4f0bb",732660:"5c509356",73283:"d186102a",732878:"c858b516",732990:"88d7bb87",733010:"618b8421",733055:"5a3ae21e",733074:"79268615",733257:"db42a898",733284:"2b6d12ee",733288:"6f3c3147",733521:"d62e1876",733626:"ab71b7aa",733696:"17702e0b",733802:"6b3cda38",733843:"29f735aa",733858:"ccd07f0a",733873:"a5e48cd0",734066:"c4e24887",734099:"29e44104",734131:"1f7f30b5",734136:"5ed7fae1",734157:"cd1d863e",734210:"7c545471",734403:"09f313be",734429:"4ede6071",73450:"7140c9b5",734507:"50f973c9",734509:"1e3ddeb3",734620:"7a08598e",735006:"b8901613",735077:"11d3af90",735234:"0d785fd5",735263:"d8c1a348",735394:"6f746910",735413:"9048084c",735600:"570a3733",735625:"70e9518a",735666:"d2d2d3b4",735750:"0cc223ee",735839:"05bd8e32",735876:"44171ff4",736003:"673b389d",73602:"1bf3b0b2",73614:"54308493",736190:"ba08dad6",736285:"60f7c963",736289:"f26f05ea",736487:"b3c3d94a",736512:"b07500e6",73656:"33b944cf",736631:"507a8ce0",736819:"4843dc7b",736904:"253faa14",736918:"ded224c9",737367:"14379e6c",737380:"878de785",737415:"2f7ff27d",737433:"586ce8cf",737620:"848dd4b0",737648:"a1f05f5a",737882:"8dfcecbc",737887:"09a44ee1",737962:"e68dac25",738025:"bf6fbad0",738086:"a31747d8",738107:"65e4908b",7383:"ac1c5d6c",738328:"80453d4d",738523:"2117bb19",738543:"b67b800f",738623:"11d7cf82",738700:"b21e03d4",738749:"f54b910b",7388:"38fa7c4b",738869:"bbd47d14",738964:"71c05eb9",738974:"145ec710",738988:"9964d245",739046:"2fa501e2",739064:"9f14191d",739375:"4ec35480",739428:"dfb465a0",739613:"4a004655",739690:"71992206",739727:"d98a4ef2",739949:"bc1b5888",739961:"afaf487f",740105:"c78f4934",740115:"23fa0f1d",740155:"69f0eeca",740169:"50f6ee00",740191:"7de225aa",740204:"81206637",740275:"fc283b4d",740411:"7e63014c",740634:"629cde2d",740656:"abbf7cf2",740657:"5f59d400",740830:"93d82279",740943:"debb7905",741162:"1c05cbc9",741325:"6f6bd998",741379:"5d05c5e7",741399:"68ea70cd",741493:"024088ae",741608:"4001b1ae",741623:"0bc50d61",741630:"1a88046a",741658:"6fa84af5",741747:"285a961e",741782:"7e9b0356",741938:"c01f2cad",7422:"62dba385",742264:"973c617c",742344:"d8d5b8ac",742373:"fe9a7adb",742388:"579e95f1",742547:"74363014",742695:"c9927e4c",74270:"42f4610a",742797:"de4b75f3",74285:"ac6baddc",742917:"b7f04518",742918:"fb0b642b",742950:"92cbdc1b",742975:"a205bc04",743087:"ddcd608d",743137:"067bbdb7",743213:"82e24ca0",743241:"87590c00",743358:"0f4ed016",743652:"443034ad",743800:"c818dab4",743821:"9b3b56fe",743862:"5226255e",743887:"1e5783c3",743923:"f19849b1",744092:"05704044",744339:"aeb6f2ec",744343:"f4c1ee7f",744460:"6b2d1e1c",74462:"44ac8052",744638:"92ff4c71",744663:"6818e663",7447:"ff74ffcc",744713:"7bfa7d9f",744883:"03f52b9f",744919:"f4318428",744956:"d64baf06",745117:"ac9563ea",745329:"35100325",745338:"9b468c34",745421:"d526944c",745481:"0a9d3e43",745615:"03cf7134",745629:"52e5a93b",745679:"b4270755",745704:"d73d2d34",745705:"a835a7c2",745739:"6f478262",745760:"2585a4ad",745889:"dd862dae",74589:"296efc1e",7459:"fc91b491",746029:"47c9c57c",746053:"62a1a796",746105:"f27c21ee",746174:"d119b9d1",746235:"b85dd0f4",746406:"4e7d6b7f",746489:"dc0257b6",74651:"f4577e20",746704:"e468d5da",746718:"89208fce",746797:"a0c1198e",746829:"5bb9c347",746943:"fa9d2ec9",746965:"f6d9f263",747008:"0be4c7b8",747255:"8e012e0f",747268:"cc59c404",74733:"7f2f79fd",747447:"56356fb8",747772:"25ae0006",74783:"0d2616b9",747844:"0c72f878",747869:"519ed254",747906:"86016e33",747987:"c3f51bd8",748059:"ac04ecff",748096:"60ab6fcb",748307:"3e076093",748538:"4f456373",748576:"3a6fe994",748604:"dadb0c4a",748653:"d720f827",748721:"829306e4",748729:"75eec73b",748822:"bbeff4d1",748867:"9d10b6c7",748883:"8dc2d1db",749376:"95e73b97",749495:"8619c6a4",749588:"819b5f9d",749646:"055a5903",749785:"76222410",749804:"e3c4bb5f",749887:"3248ed94",750043:"37bd3950",750068:"2c11b76e",75026:"d2d651b3",750419:"66fc9d64",750729:"78dbd632",750733:"1ae7fec5",750737:"8253366a",750875:"d0d00e24",750981:"a2d66648",751088:"2adfa8b6",751089:"11017780",751153:"99f74e20",751567:"28d4225b",751717:"bd1d8f90",751728:"d12240de",751836:"4dc04923",751877:"35bfd71a",752017:"d2da2e2d",752191:"76b6b3fb",752209:"ce1e040b",752275:"ae0a1643",75231:"43e65b75",752430:"50a77c44",75252:"fbd130cb",752584:"7db63a12",752757:"030080f2",753030:"38ab5512",753040:"3478b7ee",753215:"96bc1f1a",753218:"37df8014",753221:"e9f50117",753225:"fded0e91",753697:"4c7c7cf3",753860:"2660f0c6",753910:"3a3e5e8b",753977:"37ab4b3d",754128:"d8b82b8a",754205:"063d5337",754213:"0e04e7ed",754244:"7529cd24",754350:"e2e0606c",754490:"da5a5f38",754578:"6483aa8c",754594:"b234b755",754625:"6cb38311",754736:"dc7abd4c",754794:"0d5d96bc",754858:"86f52b3d",754859:"1391b8ff",754877:"4fdf400b",754893:"099d8864",754974:"ac087cf0",75521:"ce586372",755290:"64590917",755305:"3e6e9ad3",755320:"1862d0b4",755347:"4991bc66",755365:"f711dc10",755448:"0d9666dc",755725:"27c6cbcb",755840:"1fe19ec6",755849:"9fcfbb1c",755883:"4ff34174",75602:"9b7a9eac",756105:"55310209",756293:"bc113cef",756312:"fbe9d947",756377:"ed3aabc4",756421:"49c372ac",756579:"991afb95",756659:"1d98dfa2",756725:"6338a56d",756748:"e1c27428",756769:"4910fa55",75681:"a3f72af7",756909:"8c10b7dd",756913:"bdbc33a5",756916:"a9d2b139",756972:"76a7480a",757069:"06e2233a",757075:"79d06eed",757166:"9dfba234",757308:"f7595278",757392:"990486a8",757637:"d6be5677",75766:"fcb23279",75790:"b8ce30ab",757925:"74b29b1c",758105:"9d812108",758139:"cb909d61",758220:"4aed8e87",758291:"b936a10c",758321:"c84330da",758552:"04f2dc42",758627:"3c0b7fff",758646:"0773917d",758668:"5eed3c59",758984:"3d543d88",759018:"ed56a899",759024:"92a96e47",759032:"2d355e5a",759140:"f0615c17",759168:"c7daa3c0",759193:"d66af938",759283:"911c05c4",759285:"2121a60f",759487:"93e99b1e",759525:"66b6dd5a",759616:"c34eb9d7",759640:"54140179",759738:"63c9dd7d",760034:"a4300d77",760051:"76f6ad5a",760097:"882bbf71",760235:"f9a2e3bb",760350:"de31bc0b",760413:"5a955c29",760419:"5062568e",760464:"6c25e8e5",760482:"0372792c",760499:"1d93968b",760625:"2a728e6c",760632:"037053f8",760856:"204db01e",76088:"3e0e401d",761027:"4b5509bf",761088:"658b14c0",761407:"a694ea28",761414:"c174415f",761445:"27bd4e3b",76157:"9752afc8",761682:"8004becc",761731:"6bf334e6",762034:"8aee8cff",762123:"93eaa84b",762137:"47b8928c",762222:"9388682b",762229:"287e83d9",76232:"56d70381",762484:"720c3b0c",762503:"e048fa1b",762533:"d7de2893",762585:"558dd1cf",762727:"19c27fb3",762813:"a0d8595f",762866:"17bb1444",762967:"9bdb7a4b",762988:"f3242935",763331:"c7d671a1",763343:"239d6c49",763512:"c6de7a84",763537:"b641daad",763543:"c4f73aad",763785:"1b3065aa",763915:"34062208",764017:"3cb1470f",764037:"368be2aa",764132:"dda165e4",764149:"c06586c5",764183:"b6b9e5dd",764194:"99d8a245",764256:"f3715a5d",764279:"3764f7a4",7643:"b32333f8",764471:"72a63b51",764487:"ca4835e6",764503:"dd0ee830",764527:"0b71b5ab",764571:"6887b4b6",764620:"ff660eac",764630:"5adadb83",764811:"0ba3e468",765144:"19923295",765261:"819f2362",765283:"463652de",76538:"1ecc8070",76546:"49a4ed76",765460:"b0d79d35",76551:"7f625a42",765529:"2a1e6d4f",76568:"bcf6cca6",765815:"e271df64",765919:"5bb06e7d",765974:"693e1b04",766084:"d70406cc",766276:"8d74a4e6",766420:"494be732",766425:"2c45668d",766534:"a1669558",766556:"2ffbc93e",76663:"0e328982",766654:"02dd5e10",766792:"58043b1a",766839:"9c9ffdfc",76693:"5bbe6dd8",767230:"72890e92",767374:"24dda740",767484:"0dfea15e",767516:"3ff669ae",767531:"867f037b",76761:"8ee3c309",767647:"7a211f29",767965:"993e608e",768032:"38c701e4",768070:"5fad8730",76828:"e0b98cd7",768336:"1ba90a1c",768405:"27ab8a68",768424:"4921db01",768507:"3a18c884",76854:"0701afc4",768734:"b3a28959",768985:"3ff1e5a3",769313:"b73cc7f1",769328:"2ee3882b",769401:"b66f8056",76954:"ce89d341",769591:"e85feae3",769629:"1ab36a1d",76988:"66f87300",769885:"f4e480fb",76997:"91354f84",77006:"23a77d73",770175:"75a2d1b3",770358:"200b9d05",770382:"242aff0b",770415:"4df09399",770505:"bd18e882",770712:"9e42529c",770837:"41210049",770848:"a65b09f5",771006:"87ffefc7",771035:"d917caed",771155:"21866c70",771177:"7d56240b",771195:"4aef8380",771230:"dd8042a0",771311:"d2ad9316",771402:"6d1f3c28",771749:"fddc49f1",771751:"c0ac838a",771769:"f8d7fd7b",771797:"8cfd2f08",771877:"ef975f84",771912:"9890e1d9",772051:"9245cce7",77217:"a4c19679",772235:"5eafc543",772320:"8809bbba",772329:"aff3c61a",772338:"d2d2aef6",772603:"46645c98",77271:"e53c4c15",772795:"6c427d04",772815:"3eef1a2e",772831:"86dd6530",772848:"119a373e",772932:"a11dbf19",77298:"06831642",772988:"1cc247e5",773157:"336622e1",773178:"28e17780",773214:"1d867842",77324:"b3aca361",77325:"2e0033f5",7734:"c42e1544",773406:"a01a6af2",773417:"e4cf7b89",773495:"c90d5a2b",773499:"e64b7933",7735:"9a31c9a5",773515:"5be8afa4",773527:"40644ea6",773960:"98314dc0",774227:"a09d1f3b",774312:"28c46324",774325:"7271038b",774334:"6dc3dbb1",77449:"32372773",774541:"0137f1f5",774568:"53c0588c",77463:"dd859ca5",774708:"2a291b47",774717:"21789b18",774896:"8badbffe",775091:"5b0688a6",775092:"33b978ce",775111:"86f84f29",775140:"28d187d3",775172:"a6eb5901",775266:"d780f6af",775399:"6722503c",77580:"5868e8c0",77594:"98a2a922",776091:"d5ec9e3b",7761:"5b12422d",776206:"d88be53c",776321:"21400b33",776330:"6c204d7d",776335:"aeb658f4",776369:"225f3b8a",776416:"7ceb1783",77666:"0dce390e",776688:"61df7b6b",777178:"494bdf32",777304:"e3be32c4",777517:"58414db3",777574:"9066a67d",777632:"e7b3839a",77786:"52a81a44",777967:"61336f45",778100:"8f47c156",778380:"54f75351",778455:"335849b8",778486:"e8b20d3e",778493:"4b29261a",778567:"a9ae6b7d",778613:"a39d3f5d",778685:"e30b4113",778802:"d8a08144",778919:"b38e8455",778969:"ce18c367",779067:"cdb1f1c7",779175:"886fc38e",779180:"6b5e3f09",779219:"55cac1ec",779232:"be2892c7",779408:"7bad905e",779507:"c3abb5f8",779626:"ac6522d2",77964:"a296e733",779643:"6b38639d",779659:"8ab978fc",779704:"b5b9658c",779940:"0e8867d3",780096:"1c698ebb",780110:"0143dc24",780328:"a817cd20",780624:"162977a6",780650:"9249c845",780731:"42fdc5e5",780736:"7aa4fc66",780770:"c1429b89",780838:"16bb88a5",780909:"9251369e",781057:"bef5417b",78122:"df725d61",781390:"1ae2dafc",781482:"b954bb5e",781562:"f918e065",781618:"776db53c",781649:"fc059635",781811:"32aa365c",782088:"7489b465",782200:"f8569195",782285:"962d4de3",782309:"30548278",782354:"cfe065df",782377:"f1547ae3",7825:"5dfacc6a",782643:"0dc2c97b",782679:"ce573e0d",782835:"c74efee0",782880:"45d5df95",782885:"2c81417a",783245:"e7a00088",78327:"6cb92bb7",783302:"1056c93a",783607:"fbc7caac",783621:"846f661d",783670:"8c9fef3d",783673:"407b3f53",783694:"7ecefd95",783754:"a5eecd51",783788:"97d890f4",783804:"4217890a",783827:"f790b229",783973:"c715fe95",783997:"ca8eb9a3",784158:"8de66c12",784169:"72de5350",784273:"21515842",784374:"d0f55e6b",784792:"be9cbcb1",784827:"1d556e1c",785002:"c6ea1a49",785072:"1619b61e",785212:"50873175",785217:"3c744599",785220:"690eac48",785242:"378b2670",785289:"cbead65e",785360:"904def30",785368:"1ac2a15f",785544:"6aec9cbd",785576:"0c328331",785673:"adcfa920",785693:"81a6e327",785815:"667d1086",785824:"eacff20f",785855:"bd473217",785876:"ce510c8e",785913:"bcbc91c6",786095:"b6b55abe",786096:"5d9ea4bb",786145:"7ff14112",786165:"a5041ebb",786261:"2b20e075",786340:"44e558e8",786648:"82955eb5",786654:"1813bf34",786742:"49b3c5ab",786886:"a32fbe6d",78691:"f22224cf",787677:"e158ca52",787752:"548697e5",787754:"0a1cb13e",788212:"1f2b0d70",788242:"85b8bd2b",78826:"5e4fde45",788566:"30910ef0",788733:"52d8a116",788736:"369f090d",789078:"c2bc5770",789079:"9b40df11",789085:"851d897a",789177:"a0a26c14",789188:"e9b985fb",789222:"4ce321f5",789237:"2c79748e",789253:"286cd5a9",789530:"37721938",789786:"49ae316b",789887:"638859aa",789969:"bd236198",790060:"a3b8cdb2",790240:"a33fb88b",790453:"75057bbe",790462:"232a586e",790480:"50e22360",790584:"23f4ea5e",790659:"9969f77c",790833:"afbcff0a",790960:"82bd3a19",790969:"3fe9b403",791036:"732db4e2",791055:"0e5afe65",791100:"9b5decf5",791279:"c04a8e7f",791437:"34370131",791509:"a8ac5a91",791733:"fd00b5dd",791789:"ab188abe",791793:"c7235b5f",791847:"97448292",791890:"9e3b6920",791896:"26bd77a9",79205:"18d2a9c9",792053:"33b2a61f",792089:"532f84ca",792221:"7cf24519",792340:"4e12052a",792699:"1bcdaace",792974:"ef5e2598",793018:"fca46287",793557:"86f7f7ef",793607:"5ba77aa9",7937:"0ccd9f43",79382:"21035632",793850:"727bc336",793910:"09664f43",793948:"b1bb50cd",7940:"6799810d",794015:"f4981095",794034:"436ae8e8",794207:"192c69c5",794226:"16ed1216",794374:"317e99f4",794501:"b3eb929b",794646:"be5b6854",794901:"7846d49e",794934:"b9833e53",795035:"caae6780",795063:"fed57268",795232:"2053184b",795246:"d0e99839",795251:"ef7aee02",795387:"accde13a",795396:"5c1242c2",795597:"aa9680b8",795726:"bfafb2b5",795733:"cc0ba8a5",795833:"9b069659",796118:"20b6a813",796210:"0d4fb1df",796223:"1c4737fb",796425:"5e9c2deb",796582:"d6ef798e",796664:"faa64b06",796785:"2a2dc7cd",796791:"1cff4734",796844:"e351da13",796868:"cce5f979",796904:"76bba3bc",796973:"8a739dc1",797040:"c5117e07",797183:"0e30c303",797382:"4526231d",797533:"4f1500cb",79760:"3c74fd41",797605:"798a922a",797652:"9d3bfe64",797814:"8667764f",797848:"38bf861b",797854:"261e1665",79791:"c6422204",797964:"3469a8c8",798061:"991332bd",798131:"8ad74842",798215:"17c40395",798337:"ed400b91",798387:"632ee4f4",798464:"19be20d2",798513:"005adee7",798538:"ab877ad4",798591:"88584b85",798825:"e9ce7ba1",799090:"9c1961e7",799190:"691723f4",799349:"6474664c",799423:"aa0f6382",79944:"e04088ab",799495:"3f1ca0ee",799533:"0032afd1",799594:"c04395df",799756:"37d030bf",79987:"71eb1ec1",800045:"034f97d9",800076:"161ddb67",800226:"79968799",800243:"9fe2adea",800335:"7da3381e",80035:"6f1c2d8b",800505:"415ecca4",800529:"8ef3fd24",800580:"c1162174",801115:"f20132b6",801303:"4b5c8413",801395:"2f1e9bfc",80165:"183291fb",801707:"b509defc",801831:"4baee325",802006:"ad8ee1fb",802055:"ca617152",802056:"1b4d6c88",802071:"815ed791",802093:"dbd5753b",802163:"4bd53f5c",802329:"580b03d7",802406:"acc3f34f",802423:"9b571042",802449:"49a3d068",802592:"f0089aa6",802620:"2bdf3010",802661:"e4a79081",802827:"35c84e8e",802986:"06916096",803152:"279ebe03",803203:"87df872a",803254:"c368579c",803314:"13dbc37a",803432:"53de7693",80347:"bc32098a",803676:"71f234a8",803702:"f734dc8f",803703:"c2a6008b",803734:"5505ffe0",803862:"7bbe74da",804028:"9893a131",80403:"3afd92fb",804119:"4c086859",804276:"7df2c2c4",804326:"f8324951",80435:"c40c8265",804513:"3e36dbff",804567:"293c9f32",804581:"a9beb0d0",804584:"b556aa26",804702:"560a0505",804768:"060162df",805046:"231a7d11",805119:"5cd3b3cc",80513:"0f949c42",805500:"c790097e",805724:"03ee0c96",805948:"0272e432",805971:"f3ae631e",806347:"1a6eca59",806354:"cc332498",806641:"0c34373a",806748:"13d73fb5",806851:"9626080e",80693:"000eaaf4",807056:"27283557",807076:"79a3d93e",807182:"cdef6c40",807320:"656600bc",807354:"86f91a44",807463:"bdd1a2ac",807584:"1b233d40",8076:"cfbe5083",807600:"4577ef6f",807686:"b02eb820",807768:"0e3fd2fd",807786:"36321dc4",807973:"e1ae4010",808065:"2494acdb",808107:"dcb2db66",808187:"38970cd5",808272:"68cd05c9",808281:"20a97d6e",808317:"325c4327",808325:"2a5fa3f2",808407:"8e275e37",808429:"e83ff492",808444:"968ad31b",808653:"e6802f24",808930:"076fa03b",809171:"5b0819c6",809212:"ca2a5f93",809228:"51e0a597",809324:"ef6692e6",80940:"ae43a2e7",809413:"a2011d4b",809437:"58de6553",80955:"f9c767de",809649:"c86c9e50",809729:"f84f2559",809819:"80c6beec",809841:"7bc3df9d",809872:"967038a0",810037:"f6e3e21c",810063:"2d44c859",81019:"791e3101",810307:"4180ad76",810319:"cfb9f75e",810368:"548dde1c",810463:"5bb8e022",810555:"ce4e8fc6",810566:"bdeff875",810627:"61c1841f",81068:"072a61e4",810702:"9756f71e",810734:"521554ce",810882:"d1c301d7",810945:"78a23b1a",811055:"448c0fc0",811060:"f570a9fd",811136:"b9d56036",811367:"b404344a",811390:"4372d76b",811395:"2fe0af04",811414:"451c3c2b",81145:"6f57980b",811499:"3ad57611",811559:"0f1d4487",811797:"45f75959",811856:"b2aff162",811865:"af6baa1a",811906:"8661033d",811929:"4953c814",812096:"4545e20e",812149:"e9a95a87",812278:"643e6a58",812447:"94e67448",812504:"6dd14e09",812514:"75bbbcb5",812600:"e8e68650",812641:"db30311a",812887:"9e08b932",812961:"2031b292",81318:"48d93a50",813189:"5278180f",81320:"a8e410f8",813339:"f4830ddf",813386:"69b1aa2b",813515:"78ba8f42",813585:"88715cab",813617:"ad8ce0ab",813634:"e9961520",813686:"30a59f6b",813851:"1a286ed2",813888:"40168e01",813901:"f345ebed",813912:"ba6fb950",814035:"fee25c96",814063:"c170752a",81412:"157292a1",81437:"7b41343f",814462:"eacc00d3",814488:"e297b72b",814541:"291d4be1",814642:"0f7fa174",814739:"af82079a",814830:"d9cb615f",814925:"57d45f91",81502:"7b392900",815117:"571f6781",815238:"9980528f",815241:"522e6874",81533:"31c2ce12",815524:"db8da484",815555:"a5525ad0",815848:"c2917a67",815865:"abbc8b68",815893:"4a639449",816015:"8635caee",816043:"69a07c5b",816214:"a8b8a07e",816400:"a7a0f602",816538:"379a38b7",816581:"cd2fc952",816603:"70c0ae88",81681:"19010eaf",817152:"8f2199b6",817199:"9c785cbd",817228:"21f8c6aa",81734:"61ea2ac4",81739:"e784ec5c",817412:"a853f8e3",817502:"50e48fba",817528:"af13a7e9",817535:"abf35d25",817585:"bc337228",817762:"5ef030cf",817787:"415bedc8",817874:"460f4039",817940:"b828aace",817947:"e15c4def",817962:"27eb5397",817967:"daca4e12",817985:"b878cb22",81818:"cbb4e1ee",818401:"7e3db659",81861:"3970f221",818705:"a5f641f0",818710:"8466a916",818786:"b2e395a8",818787:"75654012",819158:"df42e1dc",819168:"7c913970",819301:"053d28e0",819338:"5f22c9dd",819374:"b7033874",819413:"42f383c1",819462:"012f4d96",819723:"76294adf",819738:"2a8b1f85",819812:"ff10b9a2",819833:"53ad4afd",819937:"258d0719",819939:"332f4996",820227:"88122f41",820252:"84f999ca",820300:"c6625e8a",820302:"932361d3",820366:"48e0ec82",820639:"e5d0dd1c",820687:"c23c541b",820826:"325a9d93",820840:"fededd53",820859:"f94a294a",82110:"f2d2dff5",821173:"dbd53c46",821189:"93f4115d",821217:"72f849f7",821281:"1c2121a5",821461:"e321cd81",821504:"81b3411c",821603:"a1fafdcf",82162:"bed5687a",821624:"aad18c53",821826:"35288516",821912:"ab56eeb7",822002:"c6508ef7",822021:"3160b37a",822026:"87af26f9",822084:"6d2f1dd2",822107:"7f57d110",822198:"5a1967c2",82223:"d209a042",822252:"4f7b557e",822291:"df108145",822692:"db4d2fc1",822849:"c44bd071",822891:"f6de2428",823032:"6c6cdff6",823187:"be30f0e2",823291:"2270a74c",823421:"cc981e24",823511:"eff12250",823539:"dae7e69c",82355:"b19da847",82363:"8285351c",823854:"6ba43b9e",824056:"a378ad99",824062:"d74daac6",824192:"46cd7742",82424:"65ca1233",824309:"5958c63a",824697:"39adeb70",824711:"cb568222",824728:"58895ec1",824879:"d214b551",82500:"f1d2d8ab",825007:"5281d5b2",825028:"89ce721f",825255:"697c8fc0",825256:"b3404475",825338:"08e130c5",825481:"c1d9070c",825495:"9c73b3f9",825649:"9c33ab04",825674:"97be5e8b",825872:"5792867e",825976:"7962f166",826049:"553b70fd",826126:"db285559",826193:"1774d220",82638:"54fa0920",826517:"a9a9ce37",826521:"2aff7cb6",826527:"10bb5500",826644:"7e2f6611",826674:"78590a44",826692:"ab45a60c",826722:"efdf56f4",826733:"aaad785e",826778:"e607a331",826847:"acb95386",826945:"b8668cf6",827029:"5a3662d9",827130:"b250fb6a",827251:"2dd1db2b",827379:"960f6780",827615:"73805a0f",827792:"7f66de5d",827796:"d2b60659",827813:"1788d298",827883:"36d3289a",827930:"a0902227",828002:"850734de",828801:"818161bf",828846:"8740f7b3",828855:"a0a180a1",828932:"75f8d34c",828985:"4a76cb25",82908:"3057bda6",829102:"346225d0",829141:"f0f7781a",829258:"3c4e8362",829486:"f5250f2f",829572:"fe87e3ac",829659:"fefa1631",829847:"2c0dde2a",829948:"0cd877a1",829981:"6005cbb6",830017:"4408bfd9",830215:"67d0f2b6",830238:"9a6be273",830302:"3cc145c4",830345:"92cb3eef",830351:"aa9ef4c5",830402:"4e57618e",830504:"3abb0e88",830514:"00588a9c",830847:"57916bb7",830945:"c029b7b7",83099:"d358ab1d",831076:"cebfb2bb",831395:"127bd621",831422:"3a66bbc2",831449:"d09be3e0",831743:"3305e6cb",831787:"60a472da",831925:"2a1fc0e5",831966:"5fa95941",832149:"6914def2",832307:"921acd9f",832360:"d94cd771",832605:"d7140be6",832735:"e2464468",832766:"db9d2183",832779:"35e4b85d",832814:"6188e3b1",832839:"9c40d2d1",832911:"b8943959",832941:"fc11d0a2",83313:"ffea6fbf",833168:"241e71b5",833262:"4f0be681",833305:"1cb6eaa4",833328:"ff771061",833363:"a85bebc7",83347:"69dab37c",833688:"37a81410",833694:"39feacfe",83375:"0f84f045",834020:"18131839",834075:"5b368b88",83415:"e88bd930",834458:"91516035",834467:"01f509e1",834738:"d18d3941",834751:"bb56b395",834907:"410e7b47",834954:"8a3acaeb",834956:"2aa84c83",834968:"cc2c1b0f",8350:"d53f4afb",835073:"b283efdc",835136:"0a6133b9",835198:"e9673bb4",835255:"206c188c",835364:"4257fe5f",83539:"789fdc67",835398:"39daaa1d",835403:"20ff9cb6",835444:"23c87e9b",835561:"8e2657d2",835586:"6efb2068",835601:"adf4dc26",835768:"8bdc96df",835773:"496ffc91",835816:"3294402f",835894:"9c1ea479",83603:"00bdb181",836034:"7ad64c98",836078:"4fc8eaea",836097:"34d31189",836178:"0e62992c",836217:"a4ad8e30",836259:"354569c8",836302:"54665bdd",836304:"771e9120",836410:"009cde60",836543:"4b9e2d91",836556:"3c79b0e8",836562:"b0765dea",836726:"7ec549f0",836886:"92b843fa",836975:"69f23bc6",837122:"a3ccf76d",837136:"feb0bd2c",837210:"09821a82",837272:"fcdba6c5",83745:"3aef185b",837482:"843055ee",837509:"f4d60223",837519:"2d931787",837567:"73cd5032",837905:"a8a23173",837986:"ae0c7391",838008:"80378085",838038:"5f9d8f17",838136:"98219d2c",838147:"fe9179c8",838166:"b5a1eacd",8382:"efaa91b6",838234:"710e9ea7",838682:"be0f2932",838747:"a3ceaf67",838805:"280e0557",838814:"1e97bb55",838945:"554c3781",839053:"18a90c1f",83907:"feebeddf",839101:"554dc424",839201:"204c9e42",839208:"68c18c9b",839398:"045a865f",839403:"2a2364c3",839484:"02b39d87",839525:"52bc0107",839601:"20452bd4",839656:"40655adf",83972:"eed6a907",83988:"ec8f8d9a",839981:"5531d091",839985:"05867ff6",84016:"808b89ae",840240:"da2298b7",840255:"dd9bb806",840275:"b851d6ac",840277:"b0e189f0",840283:"cd85c101",840335:"99cd1907",840358:"daaeb807",840394:"94299e86",840418:"26367c47",84043:"c9715133",840524:"a1e33190",840965:"cc697173",840996:"4848eeb6",841018:"712aae26",841074:"88743534",841225:"79be2c99",841289:"87db5abb",841315:"8b704752",841500:"c527ac62",841553:"02d20419",841881:"061e5c9d",841951:"431f6ad9",842065:"c84ff839",842350:"ff208426",842454:"2c9cdf39",842517:"4e5890de",842552:"a89cf8ee",842645:"8a9a53e1",842861:"d4054b99",842891:"653623f5",842910:"b04f086f",843089:"e9ab9619",843189:"fd774139",843490:"05dab7f8",843492:"025d3441",843568:"29b54f7e",843815:"5a384ded",843903:"ce96db44",844048:"3c9c9af6",844095:"d4c1addf",844440:"714556eb",844444:"6a17c9b2",844539:"ae49019e",84483:"04ea2ba5",844912:"44af4bfb",844989:"e6d76ce0",84509:"8078e2f2",845265:"bbb9ce92",845277:"7f2c0812",84536:"f5dd827b",845628:"224e36dd",845708:"a1422137",845769:"7108fff5",845804:"c72c5678",845815:"23064dd3",845866:"4866e3a8",845944:"a982c1bf",846146:"85c44442",846258:"e04455cf",846388:"58dc9348",846456:"df8e4fa7",846567:"8e546b13",846583:"cb73785c",846637:"c59cc7e3",846726:"3e7501bc",846773:"e8d9854d",846789:"b6fad526",846819:"e6153f03",847012:"f7081f24",847035:"e0529c10",847150:"00c131ae",847186:"3b54454d",847376:"c35c370a",847418:"ab2cce38",847431:"eeaa9f2d",847475:"df43e43b",847513:"9ff40269",847580:"ff66d84b",847711:"8abb7f70",847735:"11037423",847758:"18990eed",847802:"aaa9239a",848348:"1f37332d",848571:"661f0ce8",848630:"f6197aa9",848722:"49037b4e",848778:"e4db1760",848819:"06787659",848894:"f56bc9eb",848977:"4109c894",849024:"f72f8b5a",849077:"01973822",849093:"3d53ae5e",84911:"01b1670c",849114:"b72a460e",849150:"11ab015c",849166:"08961030",84941:"a5500da0",849452:"bb9fb962",849524:"b7bc02ea",849538:"31f4c362",849741:"b3a1019d",84994:"53ced3ce",850055:"850b9dcb",850278:"16e0ad63",850282:"6c214a67",850303:"ee3e6876",850312:"983ec4d2",850390:"de384039",850872:"52a360f9",851125:"ebb52665",851163:"f729c702",851544:"a0b2a57e",851593:"3451d121",851659:"228dac91",85170:"e1c68fc8",851746:"5a7b6211",851778:"d5a68bb1",851838:"9cc226d8",851867:"d9ee1450",851944:"dcec172e",85240:"0f4cd50f",852419:"8a518f23",852464:"2cde2da6",8525:"94ea6ffa",852577:"b67b2429",852601:"e5537188",852650:"2b0ad2e2",852717:"ea0895b0",852902:"62be43d3",852912:"57a4e645",852956:"3e6b6f6a",853001:"25a39f5d",853290:"27e948d8",853390:"0508bc76",853468:"4638442f",853494:"36b5d6b3",85350:"c871b94f",853527:"8e529b1c",853661:"7fd93ef1",853694:"342227ad",853798:"e508a6aa",853897:"4e752542",853972:"5744618c",85415:"eea140d5",854189:"dda167a8",854190:"68687193",854199:"32dba1d1",85426:"dc694984",854323:"cefbb484",854801:"9129da11",85486:"bc934ce3",854866:"fc685a61",854870:"982128b6",854944:"e234bded",855020:"a5a2d328",855084:"c17fd388",85511:"2af9ddee",855117:"b031d1de",855175:"2c9e51f7",855266:"a224b58e",855326:"ffd313e6",855359:"ce62357c",855418:"99150ed0",855457:"2535641f",855493:"f3de34b9",855684:"fdfa0ac0",855851:"3243e0c7",855880:"510d0ec1",855929:"a3ed0721",85595:"452a0189",856120:"b2f5db78",856130:"9c1b8d0e",856157:"fadf84e8",856221:"6877b309",856295:"3c316048",856314:"a06b4579",856415:"07c91a1b",85671:"c40b4d2a",856710:"356622fb",857004:"286c505a",85702:"e9779b9b",857033:"fce069bb",857045:"52a3c2c8",857075:"6e35e01b",857091:"357eaa9c",857267:"bfb5d187",857898:"54123a87",858147:"f18c2d70",858225:"59bded64",858235:"3082e419",858248:"4bcaf9dc",858253:"af0564c1",85840:"691858fd",858442:"d5b21827",858506:"8a1e9b01",858578:"544b8a58",858634:"f0bc912d",85866:"1947c9a9",858664:"2a564856",858682:"a0f86ee6",858761:"cefbc205",858850:"c139f8fc",85887:"59676b1e",858872:"d704b1f9",858932:"5ed8be4c",859127:"341b958c",859323:"1996798a",859360:"1c427c7a",859363:"5ca54b5d",859515:"7d219b49",85958:"87575a5e",859590:"3e0eb2ba",859764:"a4207871",859785:"43195338",859914:"f4a0814f",859958:"560983d9",859968:"b2908834",860090:"2b08ed78",860367:"29b843cc",860418:"9281fdbd",8605:"6e03a251",860547:"ac54186a",86061:"628c5605",860615:"872062f7",860762:"bcb9e648",860882:"c29f6007",861006:"938548d7",861083:"e52fe32f",861127:"632cacf4",861153:"17112193",861206:"61e8dbbd",86122:"39827d8a",861398:"1fa532c6",861443:"d1b53de6",861465:"c9c60d92",861667:"2d534e34",861668:"292f6819",861669:"b72c7d52",861699:"ddffab84",861905:"108619dc",861945:"ac84b547",861954:"a1211a8e",862324:"7696c593",8624:"9c0a76d1",862401:"e8011a57",862424:"204185ca",862430:"433525ec",862490:"da6a8d04",862656:"a7121d0a",862682:"645e1b59",862909:"0634afa7",862922:"0b466ab6",863001:"3099cc4c",863145:"906a53e9",863362:"2f42b593",863451:"94c832de",863529:"fc76ccf8",863595:"5d4d6b14",86362:"e4692b22",86364:"4a4fb27d",863860:"4dbaf9b2",863893:"4be829a2",863897:"5c83d2b5",863904:"b1396b6d",863951:"e680f2d2",863953:"43be106a",863962:"2eac2ecf",864038:"7e26a132",864165:"1132d3e7",864293:"02a47e72",864301:"33a58d4d",864341:"913c824a",864542:"aa2d0aac",864608:"6df209ab",864614:"5444c96d",864659:"48eaf09a",864956:"d325b43a",86510:"e28f9ca9",865218:"063f7125",865331:"d465b464",865373:"dcf4aeb7",865384:"49a07754",865485:"ac6e2a40",865499:"cda1acbd",86569:"02a98bf5",865699:"400ce66e",865763:"a0dd02e0",865806:"88c719eb",865821:"882017f8",865955:"6a404665",866248:"738e4d50",866522:"c07a01ab",866600:"de69a430",866608:"52aba180",866674:"58ae8204",866887:"c2a22ee3",866920:"2ac95a34",867072:"6cf19523",867152:"c862701b",867168:"11890f23",867180:"218096c4",867310:"b3cbb90f",867358:"77868dc3",867484:"7d96ba33",867815:"9d228e02",86812:"6b9882e9",868435:"2969ddad",868496:"dca6068a",86855:"6ff05e78",868551:"753640a6",868585:"05917da8",868871:"de41c05c",868890:"9b960354",868953:"e9091940",869022:"4412a4c7",869036:"0e8315d6",869043:"db92f9d3",869176:"53e37c54",869263:"96243e8f",869280:"fc067a51",869355:"8cfd2c1c",869383:"b827f949",869393:"96a01186",869414:"6d7ea538",869563:"dd0bc155",869574:"69be9b8d",869601:"16649206",869618:"d24861fd",869750:"392452c3",869762:"835b713d",869803:"a32b42f8",869807:"0efec63d",869984:"b79816c4",870009:"e156d6e3",870082:"061ec1e0",870197:"11fa3b48",870326:"1c5f2a29",870514:"22c3bf31",870533:"52584140",870727:"62bf9b09",870748:"db8fd1ca",870776:"3f3fc2b2",871016:"082f8eab",871160:"f5fd2684",871575:"1e4de8b5",871604:"645163a9",871621:"30547c0c",87174:"d47e82be",871797:"d1d47a7e",872007:"d593c314",872024:"6db9dd1e",872030:"e87446e7",872090:"a9f40367",872093:"aaf25c6d",872128:"47c1bc60",872183:"bf11d2d9",872214:"76c88e6b",872245:"6e0c32ac",872296:"1b0c3f5d",872315:"1ce57ee7",872385:"68414029",87250:"a7207f08",872596:"a45a41e5",872598:"ce07c19e",872841:"2632251d",872891:"b9466350",873059:"057e30e5",873492:"6d3976fc",873599:"f6617b32",873615:"c9ef9d34",873934:"721f00aa",873976:"f31032a3",874182:"0424245f",874447:"4990ed83",874585:"c68deec1",874601:"34cd2f22",874653:"3004abb9",874789:"81042e3e",874832:"27b1a35d",875020:"b66138ad",875041:"5b8c48c1",875085:"0bbcd5b0",875101:"0aa53c66",875176:"765abebf",87518:"b460be90",875223:"1c78174c",875383:"519ac02f",875590:"8acfc3d5",87580:"e181be71",875861:"3479f594",876076:"9c199897",876111:"78d0e168",876134:"21bc429a",876271:"5b4ecb25",876356:"0a3c7747",876445:"85824e77",876621:"1fe59f8f",876737:"511a48e3",876744:"25512fca",87689:"7ba77930",87690:"8ca53ac3",876979:"1d0ec48b",876988:"a6a2d303",87712:"0bd8b540",877151:"857c9f8e",877262:"b3b844fe",877265:"bd21de03",877461:"21ad798d",877546:"03b9d86c",87762:"de0f4564",878327:"6fc5bdf8",878348:"dd0f7f5f",878480:"837b0bb9",878589:"db923d12",878663:"65470c95",878882:"3a20adbc",87896:"4e2bae00",878986:"f45b6c7d",879291:"05b757a5",8795:"009445c7",879535:"50ee7d68",879593:"a389c13c",879681:"b2b980c1",879874:"2676cec1",879891:"df93d1bb",879991:"bffd75bc",880091:"72eb5e98",880348:"bbe3798c",880646:"2fd87582",88067:"35793240",880894:"73c95f4e",880946:"b6c04c27",880958:"eabc93c7",881024:"e000393b",881282:"bd0be7a6",881354:"49b2b254",88138:"a177e10c",881464:"139e60b3",881547:"3e4d1b02",881644:"614a8504",881668:"d11c4574",881819:"752d0666",881910:"a4a3d4d5",881933:"52c541a7",882038:"ff710db4",882147:"d0f50295",882233:"d817fad0",882308:"4612f3d6",882434:"85357aa0",882457:"40c253b7",882477:"71228d55",882563:"0c64ffcc",882571:"53c283aa",882664:"3cfc6061",882830:"95b3c99b",883322:"8d78ff06",883529:"41052af0",88354:"735676b7",883654:"a8450396",883849:"044e0f0c",883909:"82ab146d",883955:"c52b39f0",883959:"cfe60094",883970:"91cb821a",884063:"01191108",884330:"41c00804",884421:"92cf14f3",884514:"f84f5df5",884718:"99715ff8",884752:"fbe54f9b",88477:"4b141f9d",884940:"ad36aa03",88496:"199638d9",88497:"9c3d9343",885193:"a8a0d5f3",88537:"292859fd",885513:"795050b9",885538:"b3a807a3",885589:"f8c6f1e0",885764:"1c8c4d28",885793:"163c7f38",886254:"445c081f",886326:"6c895706",886470:"bd280fb5",886490:"a393285e",886547:"b3a54e62",886655:"df2afc9f",886671:"9f82420c",88677:"9ec24ac8",886794:"f596dd7a",887159:"8d199768",887183:"b9b4141b",887267:"53d2f02d",887271:"d937e5a6",887325:"f2f333be",887680:"b93f135f",888132:"c21aa481",888186:"b68a6b10",888288:"8bd81fc3",888401:"a2b79116",888585:"3a3955fe",888613:"fede00ec",888624:"9c349331",888652:"74cfb80d",888724:"b759ce6c",88880:"cf3b1504",888822:"86405857",888926:"c50441aa",888945:"763ebf89",889001:"f4ac458b",889158:"dc857364",889195:"3581f2ba",889381:"bad3c688",889790:"5808b3e4",890088:"3f5ff06f",890221:"b10eb38d",890292:"419711dc",890518:"0d83b98b",890589:"8728a7c6",890652:"2b38b557",890769:"04685fc4",89085:"57dd518f",891179:"a696ef5a",891249:"d7fce57e",891292:"dd90e4a3",891297:"ddb00a46",891321:"5a43de63",891394:"5b0914fb",891405:"5a5fbb02",891428:"736a11c9",891495:"3c41dc4a",891668:"27de01ff",891702:"56e5aed9",891817:"02a4c0df",891827:"9539c5b0",891904:"f8f83afa",891925:"31e502b3",892057:"3178c921",892062:"2f432710",892120:"9b084afb",892175:"af59bec6",892236:"47d0eab2",892248:"8f953987",892413:"09c644b6",892842:"9d442951",892912:"f76f9f00",892927:"4d1ccead",893e3:"6b8cdc32",893009:"d873388a",893213:"a828a5b7",893216:"9f2137cb",893376:"2c591ad0",8935:"6fd7e459",893578:"7aeb721a",893675:"976a0bb7",893758:"c3ddf5ff",893814:"52485bea",894183:"8fa47340",894251:"93da7584",894308:"6548cbc2",89434:"d4f78642",894486:"53e82ce5",89465:"d2f5485f",894656:"43c48119",894658:"482f4049",894787:"822f3a6c",89488:"e1be963e",895040:"077ed6ed",895261:"971d3078",895393:"e7e453ff",895400:"e7b09264",895512:"82e5bf04",895563:"61ce1755",895622:"0adf6b1c",89570:"0a6f54c5",895720:"e9d5708e",895750:"2c8e8fa2",895843:"1bfb22a3",895866:"8b03d532",895924:"34e4b624",895961:"a1a6c542",895988:"84cac500",895994:"def41f39",896034:"5ecf66d4",896040:"d0ad687c",896049:"271ffaa8",8961:"de451c45",896246:"469e0c18",8963:"5e748896",896336:"bd6933bc",896537:"6c52503b",896540:"ee93c932",896693:"20e4be8e",896786:"10233a56",896881:"0ff69c88",896924:"ca7ef5a8",896971:"28f94241",897124:"eb794c1d",897156:"a15d1b1b",897299:"7163476f",897533:"11b5af30",897604:"668363aa",897722:"695a9fc5",897946:"86fc0373",898005:"0ed60ea3",898043:"ad976b08",898062:"bf9063d6",898290:"eb29800a",898305:"29e3e879",898381:"2eaaa182",898654:"43a4d051",89872:"522a8d94",898724:"ae8dcffd",898748:"6c1c3d55",898837:"3ba4e964",898948:"a6f81bcd",898963:"c3bd74fd",899023:"752f6f07",899093:"4a9f7f00",899146:"27a7bf8e",899236:"2551632d",899486:"ca4b56d9",899540:"20a89fc2",899644:"271b3197",899675:"abb88113",899722:"11e085e3",899738:"e9dc336f",899811:"14ca9372",899833:"7503a6d5",899865:"2381bbe2",89987:"25bf9507",899904:"4f8b5574",900006:"1b6c1422",900013:"40260507",90005:"77e237e2",900235:"b763db84",900258:"fb283270",900315:"5bd2e3fd",900326:"1a6b00b6",900402:"e642fa3a",900470:"48e6ab19",900481:"666db7a4",900523:"47a899c8",900740:"da2ca8f6",900774:"d728515e",900848:"7536e76a",900909:"1ce30888",900979:"2b51dc64",901008:"d597f20a",901073:"6bd87fda",901120:"9510426d",901177:"e6dbeb5d",901314:"af6aefd2",901389:"ae920b62",901434:"69df3c23",901490:"057890a5",901795:"e89820da",901849:"332c2aaf",901905:"01ae10ae",901995:"919fdc6f",902015:"69319fd1",902233:"ba75a466",902265:"339c19a0",902429:"30eeb09e",90276:"92f75ead",902766:"8348e76b",902973:"4deaf3a8",903082:"af0256f1",903214:"d57e6582",903230:"44665ab4",903268:"b9647bc0",90328:"efa90fd8",903420:"db46fe4e",903438:"f52b08a3",903548:"648ba7f9",903565:"b71a2fc8",903596:"70574c72",903721:"b540c758",903753:"612db164",903834:"31fac413",903868:"3ff660e9",903943:"d3cf8292",904013:"8c09f503",904104:"615e3db7",904189:"eb395f98",904223:"c5697087",904409:"deec7771",904633:"4a9e182c",904714:"77f5a0a9",904815:"85648f04",904952:"751d5c32",905140:"28e005d2",905314:"23934aa0",905436:"011b1d38",90545:"1b22f80e",905595:"cd011281",905607:"e7512a71",905625:"841b1756",905707:"894b3cdb",905761:"5334d006",905791:"600bac19",9059:"a9aa2220",906010:"7feaa5d6",906066:"09536c17",906164:"02d6dd5d",906378:"3d55ba34",906595:"45057818",906649:"e8534ac0",906724:"fedaaa61",907050:"c7e412c0",907099:"d5a2158f",907139:"b65571c1",907197:"d7e3bf68",907207:"17927216",907220:"798e0381",90729:"60bb8e96",9073:"bdb86de0",90743:"bbbc8c7c",90761:"bc8b7947",907658:"fb19a650",907698:"eee4cf72",90775:"74b68776",907759:"3f3c86f1",907773:"e16e3238",907814:"d33ca614",90784:"e9bd69e7",908032:"d99e1308",908042:"d83a1374",908086:"bc732b13",90821:"311d132a",908321:"c7f31864",908353:"7020aedc",908589:"414feebf",908648:"8180cafc",90869:"31affdf7",909084:"795c5b4a",909151:"8a91472d",909368:"4e80377a",909525:"bd87cdc8",909570:"477bfec0",909574:"3b8b87cb",909712:"602e078d",90973:"232fd581",909827:"dc2dbed7",90983:"7000b631",909943:"e4201822",90996:"d9dfefa1",909969:"6d25df24",910064:"99831862",91014:"3473a61c",910322:"7b93b1ad",910408:"29a659a6",910722:"dc939b31",910805:"767f8a57",910829:"2e95abfe",91083:"c315dc06",910925:"c82007b2",910969:"1ced45ca",91101:"49b11b4d",911072:"f8453b0a",911132:"6a8e27bf",911336:"99447d06",911455:"4e093d17",911522:"ba597e84",911529:"bcc15a4e",911587:"7b2b6241",911661:"7fcfea0c",911706:"9a2aa55c",911709:"43fa762b",911736:"a3cfd945",912015:"cdb02700",912147:"496c1fa0",912159:"3041cd37",912228:"9281d909",912263:"0626c31a",912287:"05ace7ba",912346:"9512ddbb",912564:"680bc29a",912618:"325b6d44",912753:"9d433b4c",912935:"14eae163",913018:"edd3dedd",913042:"cb7212e0",913110:"27246ae6",913186:"3335cc55",913196:"f574c7ce",913238:"1f51b06b",913279:"d0497621",913418:"838fd75b",913618:"a5da89a2",913667:"6c5eb8fa",913866:"6230ebc1",913874:"6fc38aea",914073:"a6f41941",914223:"3d9ed039",914238:"0cee3e8b",91461:"0d4761b8",914713:"814b1ec2",914735:"1da559b0",91506:"8b07e5b9",915092:"8daf91c3",915189:"a73654f2",915544:"ff2140bd",915559:"5e7ec496",915571:"921f646d",915964:"5022779b",916020:"7cd945be",916051:"0b0de318",916195:"c7b597b2",916249:"b304fdaf",916250:"b8573591",91633:"4fdd0b99",916346:"02b6743c",916371:"89ea9b35",916380:"8ffdcd2a",916487:"c085d358",916494:"b239ce41",916502:"85d463d7",916534:"ae9084d1",916711:"462ef441",91681:"d31c2b06",91690:"d667ab4f",916990:"310e8cda",917062:"0e3967be",917121:"2764280d",917182:"6ff92ed2",917281:"9d124b22",9173:"45588eff",917386:"b2b7388b",917404:"62262332",917410:"4253d7b9",917575:"7db185ed",917697:"e8646cf7",917796:"7531a063",91782:"ba765886",917940:"eef4dfe2",917964:"ebd00cfb",918025:"9703055a",918117:"4a1f97d8",918353:"e86a1ea1",918378:"9771ff03",91841:"9d0ec339",918558:"23f298e8",918610:"b09bfcbf",918688:"9941cae5",918855:"da0dedfb",919054:"a28ff221",919211:"569de5d8",919286:"63f8d9f3",919398:"dc2f180d",919411:"be6ca78c",919451:"d8538b19",919543:"fd21d727",919628:"18ed2c64",919641:"99ed501b",919877:"21559e75",920151:"d2c4b52f",920231:"f4d75077",920285:"7a559dd9",920594:"9f82eae9",920645:"d7033076",920729:"1791a9b0",920775:"0270e5de",920828:"4f4f2de4",921125:"d82e07b0",921446:"c36c4de3",921464:"098cd945",921545:"2cadc5d2",921660:"0005b99a",92181:"bfc227fa",921884:"56b6a0b7",921999:"bf2436f8",922276:"494ed58c",92229:"c6fafb81",922303:"149fe08f",922400:"09135ba7",922412:"7a61df1c",922471:"506859e8",922641:"26210676",922669:"bf7c81e6",922765:"5a7bd64a",922919:"dad6f050",923778:"7e8c923c",923843:"dd06a47a",923904:"35e54b7e",923919:"de48be3e",923986:"8da149cf",924225:"0f968d12",924625:"5742a54c",924638:"cd62c5f1",924890:"33ed57b0",9252:"057f8ae2",925267:"0eed383e",925270:"5be17393",925411:"218642de",925454:"6e00e77f",925501:"80ac6b5e",925622:"2acdc87f",92580:"04468619",926137:"637acc05",926240:"25a69c36",926310:"1d0e8b2e",926325:"a5e437ba",926510:"86534c65",926654:"2c17d7ff",926656:"f7af5b0c",926661:"d3ccbe3b",926844:"0e9637b1",926951:"9efa452c",927171:"eb1df864",927218:"41631df5",927297:"1f902372",927322:"c4500207",927366:"6cffc79a",927593:"d6b07a41",927609:"60d16dbc",927618:"48689408",92767:"7b66ee12",927855:"208b903c",928076:"316f3433",92818:"3c74d339",928240:"1e64bc5c",928329:"0f3d1845",928406:"c4394388",928531:"aec08d45",928534:"62e2d7db",928605:"fd398a15",928719:"4e88496f",928748:"de2426fd",928834:"63837dd3",92888:"332f5fdb",928936:"c6d75982",929185:"865fea26",929207:"2f32efe2",929286:"08a7252b",929302:"d6c09258",929326:"3fccb99d",929437:"04ad13fa",929490:"2a19ca96",929537:"3b7ff865",929542:"e8526bda",929594:"3badb7e3",929669:"62c02e19",929813:"9f246b20",929905:"e55a48cf",930128:"8ac454fe",930241:"3586426e",930604:"5b56198c",930626:"da20c34b",930649:"5cd35c13",930738:"51b07249",930822:"e58da6ea",930914:"4eb49818",931009:"2a4cf980",931045:"ed146af5",931113:"237bbafc",931200:"91713604",931296:"8aac5e84",931410:"9d14fa6a",93142:"4a00bdb6",931424:"96cd25ad",931431:"df0e8e75",931454:"0f23a642",931541:"d63ce17b",931588:"7a845443",931780:"31d273ca",931790:"0d060040",931840:"37501745",931927:"fd2979a1",931945:"3e5d12c4",93196:"6cda7c1f",932080:"12c8ef98",932088:"92355dbe",932189:"80e80743",932216:"9c07a5c5",932464:"f6259ba6",932484:"31443974",93257:"44107253",932624:"1b88820a",932670:"33c21815",932685:"2d3ddd77",932705:"cb389129",932769:"a343fd7d",932788:"c9833979",93282:"cb2d5876",93292:"72faadf5",932933:"a8a4515e",933127:"05e05dcf",933170:"33e05c9e",933290:"f19596ff",933350:"36834b7b",933451:"0c5be6b6",933511:"02743d66",933685:"ad83fe4a",933808:"714409a3",933867:"996c4098",933968:"84d0dc81",934066:"8a186ab6",934088:"f5507ba0",934680:"06252b8d",934711:"0c76bfd2",93472:"5fa29685",934786:"e3ca2795",934907:"bd198350",934991:"aef3d704",935029:"d0e545ff",935034:"7325b038",935075:"39b14ebc",935160:"f85e3394",935209:"845afe22",935306:"26abb52a",935352:"eb6147d4",935376:"ae95a432",935646:"ca2b5d39",935656:"68a7bebe",93607:"398d482a",936296:"e846ec4c",936340:"8f8b3f1f",936414:"3dd6070c",936492:"9b02d45e",9365:"25ace30a",936529:"a9a5aa60",936683:"3a6b4059",936924:"199d3063",936927:"40d6ecda",936971:"f52f30c7",937201:"dfae5d1b",937377:"287f5546",937511:"0cd5ad84",937605:"1641a39b",937911:"e6bf7cd5",937939:"ca9d6880",937985:"51539567",938005:"7cf6be17",938027:"4f287bcc",938154:"82f3783f",938219:"373a4f4c",938405:"61be285a",938641:"a743b7fb",938817:"9e5cc6a0",938895:"21a0122b",93894:"c905fbdf",93898:"3d442471",939e3:"28b4a683",939030:"d352c6a5",939223:"510dd8b0",939306:"86e89d32",939399:"8e607649",939411:"bf516fbf",939520:"4fd90618",939552:"a343793a",939684:"f8fd23ad",939689:"d76da7a0",939864:"65a0117f",939897:"cc3ef787",93995:"847ba408",939990:"b1a11bab",940074:"c09ea6f1",940151:"10b8a5ea",940375:"ca8d2546",940496:"1e9edc64",940568:"eb51e9ac",940633:"10f6eaa1",940654:"a85cb29a",940683:"00d94392",940819:"00a24930",940853:"207b5f37",940884:"8e1e2b39",941013:"e0a1c840",941020:"af8ecb78",941107:"11b23cd6",941208:"5285421b",941262:"3d01e748",941337:"76b1a8d9",941358:"81e5a13c",94141:"b6acf06a",941418:"c47d4a84",941487:"847bed7d",941596:"6f02199c",941779:"70d4ff2d",941797:"562b543b",941830:"8acba1d4",941890:"5f50209a",941909:"e7815f68",942128:"d1e8291d",942166:"05f33cf2",942193:"c3ae9bf9",942208:"d42c40d5",942211:"6a198c99",942264:"ae73662f",942317:"ee67a5fe",942362:"64b0ead3",942447:"4770fe15",942602:"afafab22",942808:"9d2acd33",942819:"bb798378",943009:"75e46b83",94316:"99c72580",943256:"15e11971",943313:"01ca979f",943395:"af134b38",943441:"5b1c3fc6",943573:"36b3ece2",94368:"fd9a3e1d",943716:"564c1aac",943755:"b8de31bb",943970:"6ca8b76e",94407:"47b6042f",94413:"1f9ffa10",944182:"a73284c8",944529:"d8554ed4",944566:"93e15e09",944743:"87571bf2",944874:"5855aa67",945377:"2ac88ae2",945424:"a1701b6c",94559:"b3da1a9e",945608:"1f37b726",945668:"310eda22",945726:"0c5655c2",945801:"1be0f865",945821:"f61451ba",946077:"3237018f",946097:"e6495f2b",946113:"9055ba0f",946323:"81be57d4",946329:"15c26863",946456:"2164b2b7",946565:"0438e29b",946621:"2edcbeea",946720:"6f470080",946811:"f5108afe",946921:"7ec02a10",946986:"395895e1",947022:"8ebb4b4c",947028:"c6d02a20",947035:"5e897824",947040:"82dd160c",947060:"bd24d597",947064:"fac08b5d",94718:"e7879934",947181:"9cc1fb78",947219:"d093df72",947315:"569e16ea",947429:"11105441",947505:"c83d802f",947510:"00b7eac9",947629:"709e54ed",947733:"bdbb85de",947787:"a5d4f76c",94779:"452639f6",948039:"189e13f0",948049:"c49b60e7",948186:"d9a2fba9",948254:"fbe563a4",948288:"67ae0f9c",948321:"96107d90",948343:"759be6a0",948467:"6f3aeb75",948522:"47a1ecdf",948550:"8598324e",948674:"a613b15b",948689:"77099237",948934:"27258f49",948974:"204309c8",949157:"6ebc5e4a",949158:"2b35e013",949181:"e461624a",949216:"c247e2cc",94941:"ec38d317",949496:"deac02ed",949583:"84b1dc2a",949618:"478bafe7",949660:"4e016242",949821:"b0bf11b1",949849:"4fff376e",949855:"0aef9fe4",950011:"9847ede7",95003:"14975f98",950080:"607edb35",950676:"4e898a4d",95072:"57d9bb9d",951035:"3ab267fc",951300:"b4d28757",951347:"31d1dc5c",95137:"2989fa6d",951718:"c5fdf7b5",951721:"16408059",951948:"0ebd2ef8",952163:"4b27c096",952174:"c4fc5ec6",952229:"38230b21",952530:"35237b02",952782:"12e22ae5",952786:"4d563048",952829:"67bfab20",952879:"4f0b95de",952938:"40766b6a",953089:"3c1c925f",953091:"d8992ea7",953139:"c7d5df11",953317:"3ef68dca",953475:"00b5c76a",953827:"734449c5",953886:"8b9f08d9",953942:"cafb3bbc",954054:"cf5f5da4",954064:"23298157",954073:"f773fe28",954094:"d4011dc1",954095:"e700507a",95412:"84c35211",954199:"4fb552dd",954308:"13133602",954334:"933695c8",954369:"4e567673",954411:"e2c8b9d0",954499:"5973c210",954576:"e05ada12",954650:"72eb3cb9",954660:"d43ab3c2",954717:"4fb6f988",954770:"2ec006e0",954868:"f0ccd584",954877:"477ba697",954934:"59f06b8a",954948:"d4c4a512",955101:"f0a0dca5",955353:"c0edc687",955690:"518a27c4",955762:"ab6cc2b6",955976:"d9f8d072",956015:"dd6fbbdf",956065:"f5567c75",956139:"93602586",956258:"1c991acf",956319:"73a3d65a",956321:"26269d58",956422:"4c20f4be",95648:"85c892fa",956533:"e5476023",956567:"8c043c52",956664:"685cbd37",956765:"a54013aa",956791:"a3306714",956987:"23b6252b",957128:"1792e669",957188:"9c1a00dd",957323:"a038b590",957491:"d55b711a",957497:"70956db1",957589:"96261880",957690:"193d9a5d",957771:"35a2b007",957831:"bb7e4c4c",957981:"38350b9f",958061:"a734e43a",958064:"4af01e46",958086:"f42e3627",958148:"ee337698",958164:"d710b69d",958176:"fdcbfed2",958549:"43206f54",958661:"112453cd",958738:"d162f5b2",958936:"6650188e",959057:"86e1bfab",959237:"71fe5175",959330:"4e17512d",959359:"c8a59a4a",959611:"f583c6c9",959757:"c639c1da",959841:"14712c21",959933:"3099bba0",959994:"9d9cf24d",960045:"9c650b07",960065:"bf342c75",960290:"63a8acb8",96042:"14499872",960449:"72e132f0",960472:"c2d3dcde",960637:"ed353121",960639:"cfcfb7a4",960669:"5be47ee9",960880:"7c167753",960917:"d3034a74",961049:"11de6444",961164:"e2dd63b0",96121:"5ec4ef4a",961306:"9c870bbe",961314:"13a0a977",961318:"6cafaa7d",961385:"84bec49e",961393:"13ae3599",961407:"7e536f25",961633:"0a5c59d7",961762:"8aa60f53",961842:"e79d27a5",961931:"e2dee7e8",961940:"9ab4e8ad",962054:"26a0ab13",962073:"97a99ef1",962185:"39fd311f",962406:"6cd522d6",962508:"b2c00cd0",962550:"f4a16d6f",962572:"47a5f6bd",962600:"9fc20a4c",962707:"992f06fd",962780:"bfed74e7",962798:"d4f6cfc3",962829:"b0f1cb72",96290:"344718fc",962994:"997d755b",963056:"e2186232",96312:"6e7ae263",963130:"fb043bcd",96318:"e9a20f75",963316:"f1cffe40",963398:"ccd55c4d",963402:"d2a84c65",963502:"c21d2c88",963525:"acc5a536",96365:"e36e0d9e",963711:"982cbab1",963816:"9d0a7378",963825:"0bb8cc4a",963873:"fa39b844",963906:"b7c7e8e0",964144:"c683c42d",964196:"7045a13c",964224:"ad1b3017",96450:"9f5d4b67",96458:"915fc053",964628:"11ec57a3",964643:"86f4e537",964901:"e1b14ca5",964933:"251b2cd3",965009:"d036c4a9",965219:"4c0728f9",965245:"e6601cd2",965251:"706fc6dc",965384:"69e1e2e7",965416:"025f6c8a",965481:"21b25b9a",965843:"b7d3fcf0",965929:"06f314bb",966017:"1f0c3d7c",966187:"791902f0",966212:"530d8abf",966266:"f5f44f18",96628:"4fe1762e",966404:"e610959c",966431:"637903f2",966450:"5285dad9",966469:"21ac552e",966611:"73285279",966622:"efdf4e72",966627:"233cf483",96681:"94409321",966960:"ee87ea7a",966986:"76b5a286",967061:"1775e04f",967064:"0975f2c4",967065:"3198a9c4",967087:"e4d3e7de",967095:"9a02cf72",967355:"420ae3a4",967400:"d3ebc528",967473:"9c7b869b",967488:"2f67e6e8",967561:"025cf732",967694:"273982f5",967716:"12afdfcf",967775:"88a5192c",967862:"170deb15",967897:"d3be2f23",967901:"3f2d1c26",968003:"9f9b15be",968121:"b1620c4d",968139:"1a735359",968157:"4ac9c463",96817:"35b678a1",968178:"1eb2982c",968386:"857ed743",968552:"1db1ed45",968568:"434a2e62",968594:"de3b147c",968598:"ca5c9cfb",9686:"e118bd5e",968684:"fa9a3a2b",968706:"ca7684ac",968712:"ed52b378",968891:"000cbe0f",969146:"69da8f8b",969163:"bd84a8e9",969215:"e0ecb4ce",969228:"91f46acc",969295:"c4ede877",969483:"4aaaa04a",969566:"74821557",969580:"ed49341b",969653:"3916fb04",96984:"cc2f7d1a",969983:"c4522726",970009:"1bd4e6f8",970068:"a4f7851a",970084:"a884de8d",970094:"71c78035",970186:"8a9b2a45",970393:"c6be7d12",97041:"9506cca2",970457:"87d5ea09",970536:"e8557ab0",970754:"8c34a627",971079:"f603a7a0",97125:"404735e9",971336:"5d26ec3c",971340:"3077ed3c",971664:"f63730f7",971724:"9fee0642",971732:"8b5a64fc",971795:"99dc13fd",97180:"261d4a57",971871:"50a83640",971876:"1d329ac2",971889:"e2431a15",972142:"2cf5937f",972275:"415c2c7d",972546:"3f830589",972656:"187e1a67",972661:"c69053a2",972692:"79fd3b0d",972717:"8a0c29f8",972723:"4e5a4e7f",972741:"911a38ed",972753:"8e11811d",972812:"3261e08a",972959:"89bf50ae",97297:"6056499f",97316:"d4f5a99b",973162:"551b0920",973195:"77c96b6d",973285:"5cf4525a",973357:"ac0bd5b9",973534:"2e31ba35",973601:"bb9ba0f2",974050:"96035a36",974218:"90e51271",974262:"dfd3f7ba",974348:"51e78eeb",974370:"a1a42a69",974445:"95716167",974550:"0372cf07",974637:"33717c6c",974663:"f8e3d5b6",974856:"fd8a3c90",974865:"1cb518b5",974963:"edd79c00",975078:"327e245a",975211:"f46f93bf",975226:"dec760ca",975246:"3dbf8b3d",975265:"f1a58bf0",975470:"46a571c8",975472:"df7c98ac",975478:"182b788e",975690:"6951d3b9",975709:"25a8c084",975834:"8188da3a",975945:"43df233a",976018:"eaaf134d",976349:"570df7cc",976354:"eafb20ff",976378:"338f61c5",97647:"3f05a176",976564:"866ac97f",97661:"2c6ef981",976610:"bb1f2a84",976638:"f3c93d6d",976712:"92a71412",976738:"bb3817ac",976947:"0692b676",977049:"26f298a0",977202:"2ae119a8",977277:"828f6419",977282:"c06236b3",97737:"9619db0d",977376:"002f61a4",977495:"07aa5259",977522:"af26d325",977551:"339a5ba5",977552:"22cae425",977601:"1b7b943c",977631:"63fb9a17",977641:"72d30304",977645:"c4197021",977882:"f4f24314",977937:"b25ccc5f",977961:"780b9a0a",97800:"54fef1ea",978030:"745b815c",978135:"2e882b44",978215:"18d44908",978221:"53a90218",978315:"ddd51f1b",978406:"97c4a595",978419:"3bc2c1fa",97844:"71e43fc0",978459:"844cd70e",978512:"b657eb73",978551:"bb896ac1",978774:"17a09537",978817:"c52247c2",978894:"e12aa636",979126:"eeaf7ab3",979285:"e03b9e55",979345:"becb039a",979376:"2fa6e6f7",979460:"9154fc95",979480:"7ccdafe0",979598:"77ca32f0",97967:"b399f52c",979715:"535a6e66",979716:"5e61d691",979740:"daaad362",979905:"697faae2",979938:"81eddf91",980079:"8e6b0c7b",98011:"15435f45",980134:"e5487784",980158:"e9336ea6",980402:"55a5cd40",980407:"249175c5",980442:"9ae5e1aa",980615:"b0066a94",980771:"bd4bffe5",98078:"fab9e2e3",980874:"3e4b76ff",980888:"993edc3a",980924:"8c97ae73",980932:"bfa21ff7",980957:"d196a2c0",981022:"e6b5e7a5",981106:"49e4e12c",981246:"b3de013b",981370:"00176f63",981380:"58f91c32",981583:"060b36b7",981667:"33ba60dd",981756:"36874d6a",981778:"45026b82",981844:"35895043",98218:"fa82012d",982203:"a9f587b2",982323:"54189ae8",9825:"fe929727",982540:"341345cf",982707:"437299b6",982895:"aadb8d80",982951:"8c247485",982997:"0e92428a",983022:"3f45a067",983125:"f6f09209",983155:"f75fd2fa",983199:"a0e5ac53",983413:"ecb6aa33",983498:"d447cda0",983727:"c41b2188",983766:"c913d641",983859:"9d80d4e3",983970:"af3b12c8",98428:"4f101f10",984432:"173c3bdb",984858:"f8bb3616",984970:"665b649c",984979:"4cd32b48",984994:"5c4d5ede",985088:"c5ae1130",985180:"9ed3a8ed",985304:"7a4e009b",985560:"afa6d250",98566:"2e117a1f",985676:"0531c5fb",985740:"411fab20",985820:"1079135e",98593:"d4990014",986098:"05129673",986136:"fbb09807",986321:"5c963971",986347:"50ee10f6",986575:"705e7cb9",986661:"bdceee02",986677:"7c702cdc",986825:"73ee0f1b",986828:"3e7da7a2",986938:"4505f753",987133:"d3b3909d",98719:"c683f316",987220:"d6e8a4de",987247:"aab5a750",987277:"42b4d62e",987670:"ccf828fb",987737:"0ac15e5c",987740:"9f305945",987745:"0cbb60d6",987834:"33439278",987909:"09672107",987957:"a23eba41",987991:"1bba35db",987993:"6132dff8",988056:"a0e7856d",988070:"33a83c2d",988108:"306546e3",988118:"ec7dfb9a",98814:"bc21dae5",988319:"c2fb4417",988343:"922e558e",98842:"b26cde78",988458:"5577f5d4",98846:"5c2fbb5b",988482:"7a8e7dcc",988568:"af15e1a6",988581:"df2ce361",988780:"8749829c",988835:"0f1206b9",988878:"f3c88087",988879:"13370c55",989029:"bec25d0b",989184:"ab859667",989227:"482bcf81",989354:"2bf67bd4",989401:"b37bf7dd",989469:"0f7aaaa5",989521:"f9a7a7cf",989571:"3c02d161",989626:"7dd43dfb",98972:"54527721",989768:"e94ac8bb",989813:"e7d11dca",989872:"7c9ec661",989913:"33989d39",990007:"6804568e",990024:"51222e46",990203:"0b0c9233",990526:"513071bf",990599:"2d9d3a52",990710:"7d0cd211",990745:"723b198f",990786:"ccecd181",990812:"dcff3b69",990851:"bc5fca2d",990882:"97ca13be",990928:"026af49e",99098:"46a7bb7c",990982:"8e5d6deb",990987:"9d6a5d59",991065:"6a35b874",991338:"d78b0f78",991355:"fd8c6886",991645:"fd059168",991655:"4f5c3a84",991693:"a44141da",992045:"f971deeb",992063:"9c0a8259",992070:"91042fc4",99225:"a05383b4",992253:"b2edb3ef",992364:"00cb9b08",992429:"3eb5f810",992493:"ceb16526",992584:"ea79e8fb",992591:"ec99d0a0",992612:"891fdecd",992633:"df1ef6e7",992712:"a2e46d8e",992750:"91208b7a",992768:"1abcfce0",993147:"6ec198ee",993218:"2f7feff2",993385:"80ba6b58",993413:"55b54283",993489:"bc8a472c",993502:"8565a1f1",993543:"18490e5d",993590:"b9b8febf",993639:"615dc05d",994114:"8df33519",994210:"2246fe13",994257:"a4b5a342",994269:"a64bd498",994319:"526d1834",994321:"0f22c24c",994332:"9fce41ea",994345:"fc48c63b",994349:"abe6e1f9",994433:"d26aabc9",994605:"87b1c386",994660:"5ab08b53",994816:"ede00691",995011:"b4908b97",995073:"a3c01e91",995146:"9b280a14",995306:"14750e2e",995314:"0bdff1e2",995432:"1b624d41",995553:"a6cad57f",995565:"c0569aac",995596:"d5927744",995602:"dce5ecb1",995658:"b88a6b0d",995732:"2d6cb0b9",995753:"be4c656f",995833:"7ec39d22",995895:"f862742c",996103:"f4e7dbbb",996191:"947ae373",996241:"e9b9a746",99636:"e5c6c2f2",996370:"028c4d45",996556:"89a8f44e",996698:"39b08ffd",996947:"191fca44",996993:"0944a15d",997061:"63ceafba",997140:"1b6ab4db",997166:"5c5b76dd",997271:"cbee1f18",997318:"be76160a",997381:"b0e3c061",997524:"49514a71",997636:"04c5c3fa",997789:"20717131",99792:"e2eff4aa",998:"af2a8b78",998128:"f6656114",998349:"e366a0ac",998405:"88f3ee81",998563:"935091d5",998765:"85e59c8f",998806:"598f514f",998881:"5ed434f4",998932:"4d61bda5",998933:"4e164a2b",99895:"c17f81e0",99897:"11250a74",999576:"8e18e373",999733:"c36368a2",999798:"8b75263c",999974:"31efd125"})[e]+".js",i.miniCssF=e=>""+e+".css",i.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@flowgram.ai/docs:";i.l=function(a,r,n,o){if(e[a])return void e[a].push(r);if(void 0!==n)for(var s,d,l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==t+n){s=h;break}}s||(d=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+n),s.src=a),e[a]=[r];var f=function(t,i){s.onerror=s.onload=null,clearTimeout(u);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(i)}),t)return t(i)},u=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),d&&document.head.appendChild(s)}})(),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.nc=void 0,(()=>{var e=[];i.O=(t,a,r,n)=>{if(a){n=n||0;for(var o=e.length;o>0&&e[o-1][2]>n;o--)e[o]=e[o-1];e[o]=[a,r,n];return}for(var s=1/0,o=0;o<e.length;o++){for(var[a,r,n]=e[o],d=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(i.O).every(e=>i.O[e](a[l]))?a.splice(l--,1):(d=!1,n<s&&(s=n));if(d){e.splice(o--,1);var c=r();void 0!==c&&(t=c)}}return t}})(),i.p="/",(()=>{i.b=document.baseURI||self.location.href;var e={412980:0};i.f.j=function(t,a){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var n=new Promise((i,a)=>r=e[t]=[i,a]);a.push(r[2]=n);var o=i.p+i.u(t),s=Error();i.l(o,function(a){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",s.name="ChunkLoadError",s.type=n,s.request=o,r[1](s)}},"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[o,s,d]=a,l=0;if(o.some(t=>0!==e[t])){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(d)var c=d(i)}for(t&&t(a);l<o.length;l++)n=o[l],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},a=self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),i.O(void 0,["386212","943361","402118","13236"],function(){return i(548898)}),i.O(void 0,["386212","943361","402118","13236"],function(){return i(323304)});var a=i.O(void 0,["386212","943361","402118","13236"],function(){return i(113836)});a=i.O(a)})();