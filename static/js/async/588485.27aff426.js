"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["588485"],{744596:function(e,t,n){n.d(t,{K:()=>d});var l=n(110239);n(908600);var i=n(617704),r=n(499164),o=n(857527),a=n(510165),s=n(244359);function d(e){var t;let{value:n={operator:"assign"},onChange:d,onDelete:u,readonly:c}=e;return(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,l.jsx)("div",{style:{width:150,minWidth:150,maxWidth:150},children:(null==n?void 0:n.operator)==="assign"?(0,l.jsx)(o.NB,{style:{width:"100%",height:26},value:null==n||null==(t=n.left)?void 0:t.content,config:{placeholder:"Select Left"},onChange:e=>null==d?void 0:d({...n,left:{type:"ref",content:e}})}):(0,l.jsx)(s.A,{style:{height:26},size:"small",placeholder:"Input Name",value:null==n?void 0:n.left,onChange:e=>null==d?void 0:d({...n,left:e})})}),(0,l.jsx)("div",{style:{flexGrow:1},children:(0,l.jsx)(a.t,{readonly:c,value:null==n?void 0:n.right,onChange:e=>null==d?void 0:d({...n,right:e})})}),u&&(0,l.jsx)("div",{children:(0,l.jsx)(i.hU,{size:"small",theme:"borderless",icon:(0,l.jsx)(r.Z,{}),onClick:()=>null==u?void 0:u()})})]})}},986377:function(e,t,n){n.d(t,{H:()=>s});var l=n(110239);n(908600);var i=n(950454),r=n(617704),o=n(633988),a=n(744596);function s(e){let{name:t,readonly:n}=e;return(0,l.jsx)(i.F26,{name:t,children:e=>{let{field:t}=e;return(0,l.jsxs)(l.Fragment,{children:[t.map((e,i)=>(0,l.jsx)(a.K,{readonly:n,value:e.value,onChange:t=>{e.onChange(t)},onDelete:()=>t.remove(i)},e.key)),(0,l.jsxs)("div",{style:{display:"flex",gap:5},children:[(0,l.jsx)(r.zx,{size:"small",theme:"borderless",icon:(0,l.jsx)(o.Z,{}),onClick:()=>t.append({operator:"assign"}),children:"Assign"}),(0,l.jsx)(r.zx,{size:"small",theme:"borderless",icon:(0,l.jsx)(o.Z,{}),onClick:()=>t.append({operator:"declare"}),children:"Declaration"})]})]})}})}},332208:function(e,t,n){n.d(t,{U:()=>u});var l=n(110239);n(908600);var i=n(950454),r=n(617704),o=n(551503),a=n(633988),s=n(393767),d=n(857527);function u(e){let{readonly:t,style:n}=e,{list:u,add:c,updateKey:p,updateValue:v,remove:h}=(0,s.S)(e);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"gedit-m-batch-outputs-rows",style:n,children:u.map(e=>{var n;return(0,l.jsxs)("div",{className:"gedit-m-batch-outputs-row",children:[(0,l.jsx)(r.II,{style:{width:100},disabled:t,size:"small",value:e.key,onChange:t=>p(e.id,t)}),(0,l.jsx)(d.NB,{style:{flexGrow:1},readonly:t,value:null==(n=e.value)?void 0:n.content,onChange:t=>v(e.id,{type:"ref",content:t})}),(0,l.jsx)(r.zx,{disabled:t,icon:(0,l.jsx)(o.Z,{}),size:"small",onClick:()=>h(e.id)})]},e.id)})}),(0,l.jsx)(r.zx,{disabled:t,icon:(0,l.jsx)(a.Z,{}),size:"small",onClick:()=>c(),children:i.oci.t("Add")})]})}n(524161)},683411:function(e,t,n){n.d(t,{u:()=>a});var l=n(110239);n(908600);var i=n(950454),r=n(857527);let o={type:"array",extra:{weak:!0}};function a(e){return(0,l.jsx)(i._cB,{children:(0,l.jsx)(r.W3,{...e,includeSchema:o})})}},168059:function(e,t,n){n.d(t,{T:()=>o,y:()=>r});var l=n(690542),i=n(370516);let r=()=>Promise.all([n.e("363844"),n.e("662322"),n.e("279539")]).then(n.bind(n,984654)).then(e=>{l.Mj.register("typescript",e.typescript);let t=new Worker(new URL(n.p+n.u("780328"),n.b),Object.assign({},{type:"module"},{type:void 0}));e.typescript.languageService.initialize(t,{compilerOptions:{lib:["es2015","dom"],noImplicitAny:!1}})}),o=(0,i.h)(r,{displayName:"TypeScriptCodeEditor",fixLanguageId:"typescript"})},240835:function(e,t,n){n.d(t,{Id:()=>s,J_:()=>a});var l=n(110239),i=n(908600),r=n(906387);let o=(0,i.createContext)({rules:{},ops:r.s}),a=e=>{let{rules:t,ops:n}=e;return(0,l.jsx)(o.Provider,{value:{rules:t,ops:n},children:e.children})},s=()=>(0,i.useContext)(o)},548034:function(e,t,n){n.d(t,{k:()=>a});var l=n(908600),i=n(950454),r=n(164910),o=n(240835);function a(e){let{leftSchema:t,operator:n,onClearOp:a,onClearRight:s,ruleConfig:d}=e,u=(0,r.M)(),{rules:c,ops:p}=(0,o.Id)(),v=(0,l.useMemo)(()=>(null==d?void 0:d.rules)||c||{},[c,null==d?void 0:d.rules]),h=(0,l.useMemo)(()=>(null==d?void 0:d.ops)||p||{},[p,null==d?void 0:d.ops]),m=(0,l.useMemo)(()=>t?u.getTypeBySchema(t):void 0,[t,u]),y=(0,l.useMemo)(()=>{if(m)return v[m.type]?v[m.type]:"function"==typeof m.conditionRule?m.conditionRule(t):m.conditionRule},[v,t,m]),f=(0,l.useMemo)(()=>Object.keys(y||{}).filter(e=>h[e]).map(e=>{var t;return{...(null==h?void 0:h[e])||{},value:e,label:i.oci.t((null==h||null==(t=h[e])?void 0:t.label)||e)}}),[y,h]);(0,l.useEffect)(()=>{n&&y&&(f.find(e=>e.value===n)||null==a||a())},[n,f,a]);let g=(0,l.useMemo)(()=>{let e=(null==y?void 0:y[n||""])||null;if(e)return"string"==typeof e?{type:e,extra:{weak:!0}}:e},[y,n]),x=(0,l.useRef)(void 0);return(0,l.useEffect)(()=>{var e;(null==(e=x.current)?void 0:e.type)!==(null==g?void 0:g.type)&&(null==s||s()),x.current=g},[g,s]),{rule:y,opConfig:(0,l.useMemo)(()=>h[n||""],[n,h]),opOptionList:f,targetSchema:g}}},318036:function(e,t,n){n.d(t,{i:()=>p});var l=n(110239),i=n(908600),r=n(937643),o=n(950454),a=n(617704),s=n(521419),d=n(857527),u=n(510165),c=n(548034);function p(e){var t;let{style:n,value:p,onChange:v,readonly:h,ruleConfig:m}=e,{left:y,operator:f,right:g}=p||{},x=(0,o.rVg)(),j=(0,i.useMemo)(()=>{if(y)return x.getByKeyPath(y.content)},[x,y]),b=(0,i.useMemo)(()=>{if(j)return r.Kz.astToSchema(j.type,{drilldown:!1})},[null==j||null==(t=j.type)?void 0:t.hash]),{rule:T,opConfig:w,opOptionList:k,targetSchema:C}=(0,c.k)({leftSchema:b,operator:f,ruleConfig:m,onClearOp(){v({...p,operator:void 0})},onClearRight(){v({...p,right:void 0})}});return(0,l.jsxs)("div",{className:"gedit-m-condition-row-container",style:n,children:[(0,l.jsx)("div",{className:"gedit-m-condition-row-operator",children:(0,l.jsx)(a.Ph,{style:{height:22},disabled:h,size:"small",value:f,optionList:k,onChange:e=>{v({...p,operator:e})},triggerRender:e=>{let{value:t}=e;return(0,l.jsx)(a.zx,{size:"small",disabled:!T,children:(null==w?void 0:w.abbreviation)||(0,l.jsx)(s.Z,{size:"small"})})}})}),(0,l.jsxs)("div",{className:"gedit-m-condition-row-values",children:[(0,l.jsx)("div",{className:"gedit-m-condition-row-left",children:(0,l.jsx)(d.NB,{readonly:h,style:{width:"100%"},value:null==y?void 0:y.content,onChange:e=>v({...p,left:{type:"ref",content:e}})})}),(0,l.jsx)("div",{className:"gedit-m-condition-row-right",children:C?(0,l.jsx)(u.t,{readonly:h||!T,value:g,schema:C,onChange:e=>v({...p,right:e})}):(0,l.jsx)(a.II,{size:"small",disabled:!0,style:{pointerEvents:"none"},value:(null==w?void 0:w.rightDisplay)||o.oci.t("Empty")})})]})]})}n(781634)},688660:function(e,t,n){n.d(t,{AC:()=>o,UE:()=>r,vI:()=>a});var l=n(908600),i=n(843091);let r=(0,i.f)((0,l.lazy)(()=>Promise.all([n.e("942362"),n.e("1831")]).then(n.bind(n,866146)).then(e=>({default:e.VariableTree}))),{renderKey:"EditorVariableTree"}),o=(0,i.f)((0,l.lazy)(()=>Promise.all([n.e("386212"),n.e("273660")]).then(n.bind(n,916450)).then(e=>({default:e.VariableTagInject}))),{renderKey:"EditorVariableTagInject"}),a=(0,i.f)((0,l.lazy)(()=>Promise.all([n.e("942362"),n.e("475385")]).then(n.bind(n,591718)).then(e=>({default:e.InputsTree}))),{renderKey:"EditorInputsTree"})},795486:function(e,t,n){n.d(t,{t:()=>d});var l=n(110239),i=n(908600),r=n(937643),o=n(950454),a=n(687252),s=n(993700);function d(e){let{value:t,title:n,showIconInTree:d}=e,u=(0,o.rVg)(),c=(null==t?void 0:t.type)==="ref"?u.getByKeyPath(null==t?void 0:t.content):void 0,p=(0,i.useMemo)(()=>(null==t?void 0:t.type)==="ref"?r.Kz.astToSchema(null==c?void 0:c.type):(null==t?void 0:t.type)==="template"?{type:"string"}:(null==t?void 0:t.type)==="constant"?a.U.inferConstantJsonSchema(t):{type:"unknown"},[t,null==c?void 0:c.hash]);return(0,l.jsx)(s.s,{title:n,value:p,showIconInTree:d,warning:(null==t?void 0:t.type)==="ref"&&!c})}},221191:function(e,t,n){n.d(t,{l:()=>c,y:()=>u});var l=n(110239),i=n(908600),r=n(111886),o=n(950454),a=n(687252),s=n(795486);n(703295);var d=n(993700);function u(e){let{value:t,showIconInTree:n}=e,i=Object.entries(t||{});return(0,l.jsx)("div",{className:"gedit-m-display-inputs-wrapper",children:i.map(e=>{let[t,i]=e;return a.U.isFlowValue(i)?(0,l.jsx)(s.t,{title:t,value:i,showIconInTree:n},t):(0,r.Z)(i)?(0,l.jsx)(c,{title:t,value:i,showIconInTree:n},t):null})})}function c(e){let{value:t,title:n,showIconInTree:r}=e,s=(0,o.rVg)(),u=(0,i.useMemo)(()=>a.U.inferJsonSchema(t,s.scope),[s.version,t]);return(0,l.jsx)(d.s,{title:n,value:u,showIconInTree:r})}},746640:function(e,t,n){n.d(t,{L:()=>s});var l=n(110239),i=n(908600),r=n(937643),o=n(950454),a=n(993700);function s(e){var t;let{value:n,showIconInTree:s,displayFromScope:d}=e,u=(0,o.$eD)(),c=(0,o.JAk)();(0,i.useEffect)(()=>{if(!d)return()=>null;let e=u.output.onListOrAnyVarChange(()=>{c()});return()=>{e.dispose()}},[d]);let p=Object.entries((d?null==(t=u.output.variables)?void 0:t.reduce((e,t)=>{var n;return e={...e,...(null==(n=r.Kz.astToSchema(t.type))?void 0:n.properties)||{}}},{}):(null==n?void 0:n.properties)||{})||{});return(0,l.jsx)("div",{className:"gedit-m-display-outputs-wrapper",children:p.map(e=>{let[t,n]=e;return(0,l.jsx)(a.s,{title:t,value:n,showIconInTree:s,warning:!n},t)})})}n(104576)},993700:function(e,t,n){n.d(t,{s:()=>s});var l=n(110239),i=n(908600),r=n(617704),o=n(164910),a=n(143768);function s(e){let{value:t={},showIconInTree:n,title:s,warning:d}=e,u=(0,o.M)(),c=(null==u?void 0:u.getDisplayIcon(t))||u.getDisplayIcon({type:"unknown"});return(0,l.jsx)(r.J2,{content:(0,l.jsx)("div",{className:"gedit-m-display-schema-tag-popover-content",children:(0,l.jsx)(a.u,{value:t,typeManager:u,showIcon:n})}),children:(0,l.jsxs)(r.Vp,{color:d?"amber":"white",className:"gedit-m-display-schema-tag-tag",children:[c&&i.cloneElement(c,{className:"tag-icon"}),s&&(0,l.jsx)("span",{className:"gedit-m-display-schema-tag-title",children:s})]})})}n(537827)},143768:function(e,t,n){n.d(t,{u:()=>o});var l=n(110239),i=n(908600),r=n(937643);function o(e){return(0,l.jsx)(a,{...e})}function a(e){let{value:t={},drilldown:n=!0,depth:o=0,showIcon:s=!0,parentKey:d=""}=e||{},u=(0,r.MT)(),c=u.getTypeBySchema(t),p=u.getComplexText(t),v=null==u?void 0:u.getDisplayIcon(t),h=Object.entries((n&&c?c.getTypeSchemaProperties(t):{})||{});return(0,l.jsxs)("div",{className:`gedit-m-display-schema-tree-item depth-${o}`,children:[(0,l.jsxs)("div",{className:"gedit-m-display-schema-tree-row",children:[0!==o&&(0,l.jsx)("div",{className:"gedit-m-display-schema-tree-horizontal-line"}),s&&v&&i.cloneElement(v,{className:"tree-icon"}),(0,l.jsx)("div",{className:"gedit-m-display-schema-tree-title",children:d?(0,l.jsxs)(l.Fragment,{children:[`${d} (`,p,")"]}):p})]}),(null==h?void 0:h.length)?(0,l.jsx)("div",{className:"gedit-m-display-schema-tree-level",children:h.map(t=>{let[n,i]=t;return(0,l.jsx)(a,{...e,parentKey:n,value:i,depth:o+1},n)})}):null]},d||"root")}n(216006)},800274:function(e,t,n){n.d(t,{s:()=>l});let l=(0,n(47430).d)(()=>n.e("642722").then(n.bind(n,499576)).then(e=>({default:e.JsonEditorWithVariables})))},637298:function(e,t,n){n.d(t,{B:()=>o});var l=n(110239);n(908600);var i=n(794297),r=n(688660);function o(e){return(0,l.jsxs)(i.Q,{...e,children:[(0,l.jsx)(r.UE,{}),(0,l.jsx)(r.AC,{})]})}},794297:function(e,t,n){n.d(t,{Q:()=>l});let l=(0,n(47430).d)(()=>Promise.all([n.e("386212"),n.e("913667"),n.e("942362"),n.e("905761"),n.e("609033")]).then(n.bind(n,130460)).then(e=>({default:e.PromptEditor})))},316374:function(e,t,n){n.d(t,{l:()=>i});var l=n(950454);let i=(0,l.W2M)({private:!0,parse:(e,t)=>{var n,i;return[l.qRT.createVariableDeclaration({key:`${t.node.id}_locals`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(i=t.node.getNodeRegistry().info)?void 0:i.icon},type:l.qRT.createObject({properties:[l.qRT.createProperty({key:"item",initializer:l.qRT.createEnumerateExpression({enumerateFor:l.qRT.createKeyPathExpression({keyPath:e.content||[]})})}),l.qRT.createProperty({key:"index",type:l.qRT.createNumber()})]})})]}})},236831:function(e,t,n){n.d(t,{H:()=>i});var l=n(950454);let i=[{event:l.zEJ.onValueChange,effect:e=>{let{value:t,context:n}=e;n.node.getData(l._J4).allScopes.forEach(e=>{e.output.variables.forEach(e=>{var l;e.updateMeta({...e.meta||{},title:t||n.node.id,icon:null==(l=n.node.getNodeRegistry().info)?void 0:l.icon})})})}}]},183173:function(e,t,n){n.d(t,{S:()=>r});var l=n(437104),i=n(950454);let r=function(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{event:i.zEJ.onValueInit,effect:t=>{let{context:n,form:r}=t,o=("private"===e?(0,i.u$R)(n.node):(0,i.k6H)(n.node)).available.onListOrAnyVarChange(()=>{(0,l.Z)(r.state.errors)||r.validate()});return()=>o.dispose()}}]}},48557:function(e,t,n){n.d(t,{F:()=>a,m:()=>o});var l=n(383909),i=n(937643),r=n(950454);let o=(0,r.W2M)({parse:(e,t)=>{var n,l;return[r.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(l=t.node.getNodeRegistry().info)?void 0:l.icon},type:r.qRT.createObject({properties:Object.entries(e).map(e=>{let[t,n]=e;return r.qRT.createProperty({key:t,initializer:r.qRT.createWrapArrayExpression({wrapFor:r.qRT.createKeyPathExpression({keyPath:(null==n?void 0:n.content)||[]})})})})})})]}}),a=(0,r.CR5)({name:"batch-outputs-plugin",onSetupFormMeta(e,t){let{mergeEffect:n,addFormatOnSubmit:a}=e,{outputKey:s,inferTargetKey:d}=t;n({[s]:o}),d&&a((e,t)=>{var n;let o=null==(n=(0,r.k6H)(t.node).output.variables)?void 0:n[0];return(null==o?void 0:o.type)&&(0,l.Z)(e,d,i.Kz.astToSchema(null==o?void 0:o.type)),e})},onInit(e,t){let{outputKey:n}=t,l=e.node.getService(r.Aub),i=e.node.flowNodeType,o=`${i}-outputs`;l.hasTransformer(o)||l.registerTransformer(o,{transformCovers:(e,t)=>{var n,l;let o=null==(n=t.scope.meta)?void 0:n.node;return(null==o||null==(l=o.parent)?void 0:l.flowNodeType)===i?[...e,(0,r.k6H)(o.parent)]:e},transformDeps(e,t){let n=t.scope.meta;if((null==n?void 0:n.type)===r.loc.private)return e;let l=null==n?void 0:n.node;if((null==l?void 0:l.flowNodeType)===i){let e=l.blocks;return[(0,r.u$R)(l),...e.map(e=>(0,r.k6H)(e))]}return e}})}})},769424:function(e,t,n){n.d(t,{n:()=>s});var l=n(689478),i=n(241787),r=n(383909),o=n(937643),a=n(950454);let s=(0,a.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,mergeEffect:s}=e,{assignKey:d,outputKey:u}=t;d&&u&&(s({[d]:(0,a.W2M)({parse:(e,t)=>{var n,r,s;let d=(s=e.filter(e=>"declare"===e.operator&&e.left&&e.right),s&&s.length?(0,i.Z)(s,(0,l.Z)("left",2)):[]);return[a.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(r=t.node.getNodeRegistry().info)?void 0:r.icon},type:a.qRT.createObject({properties:d.map(e=>{var t,n,l,i;return a.qRT.createProperty({key:e.left,type:(null==(t=e.right)?void 0:t.type)==="constant"?o.Kz.schemaToAST((null==(n=e.right)?void 0:n.schema)||{}):void 0,initializer:(null==(l=e.right)?void 0:l.type)==="ref"?a.qRT.createKeyPathExpression({keyPath:(null==(i=e.right)?void 0:i.content)||[]}):{}})})})})]}})}),n((e,t)=>{var n,l;return(0,r.Z)(e,u,o.Kz.astToSchema(null==(l=(0,a.k6H)(t.node).output.variables)||null==(n=l[0])?void 0:n.type)),e}))}})},401255:function(e,t,n){n.d(t,{k:()=>u});var l=n(969134),i=n(383909),r=n(492320),o=n(631952),a=n(950454),s=n(687252);let{produce:d}=new o.Ve({autoFreeze:!1}),u=(0,a.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,addFormatOnInit:o}=e,{sourceKey:u,targetKey:c,scope:p,ignoreConstantSchema:v}=t;u&&c&&(n((e,t)=>d(e,n=>{let o=(0,l.Z)(e,u);if((0,i.Z)(n,c,s.U.inferJsonSchema(o,"private"===p?(0,a.u$R)(t.node):(0,a.k6H)(t.node))),v)for(let{value:t,path:n}of s.U.traverse(o,{includeTypes:["constant"]}))s.U.isConstant(t)&&(null==t?void 0:t.schema)&&(0,i.Z)(e,`${u}.${n}`,(0,r.Z)(t,["schema"]))})),v&&o((e,t)=>{let n=(0,l.Z)(e,c);if(!n)return e;for(let{value:t,pathArr:r}of s.U.traverse((0,l.Z)(e,u),{includeTypes:["constant"]}))if(s.U.isConstant(t)&&!(null==t?void 0:t.schema)){let e=r.map(e=>`properties.${e}`).join("."),o=(0,l.Z)(n,e);o&&(0,i.Z)(t,"schema",o)}return e}))}})},38643:function(e,t,n){n.d(t,{W:()=>o});var l=n(863875),i=n(950454),r=n(687252);function o(e,t){let{node:n,required:o,errorMessages:a}=t,{required:s="Field is required",unknownVariable:d="Unknown Variable"}=a||{};if(o&&((0,l.Z)(e)||(0,l.Z)(null==e?void 0:e.content)||(null==e?void 0:e.content)===""))return{level:i.Odm.Error,message:s};if((null==e?void 0:e.type)==="ref"&&!(0,i.k6H)(n).available.getByKeyPath((null==e?void 0:e.content)||[]))return{level:i.Odm.Error,message:d};if((null==e?void 0:e.type)==="template"){for(let t of r.U.getTemplateKeyPaths(e))if(!(0,i.k6H)(n).available.getByKeyPath(t))return{level:i.Odm.Error,message:d}}}}}]);