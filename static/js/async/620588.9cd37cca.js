"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["620588"],{679442:function(e,t,o){o.r(t),o.d(t,{DemoFreeLayout:()=>y});var n=o(110239),i=o(640898),a=o(908600),d=o(330893),r=o(773898);let s=[{type:"start",meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"output"}]}},{type:"condition",meta:{defaultPorts:[{type:"input"}],useDynamicPort:!0}},{type:"chain",meta:{defaultPorts:[{type:"input"},{type:"output"},{portID:"p4",location:"bottom",offset:{x:-10,y:0},type:"output"},{portID:"p5",location:"bottom",offset:{x:10,y:0},type:"output"}]}},{type:"tool",meta:{defaultPorts:[{location:"top",type:"input"}]}},{type:"end",meta:{deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"input"}]}},{type:"custom",meta:{},defaultPorts:[{type:"output"},{type:"input"}]}],l={nodes:[{id:"start_0",type:"start",meta:{position:{x:150,y:100}},data:{title:"Start",content:"Start content"}},{id:"node_0",type:"condition",meta:{position:{x:550,y:100}},data:{title:"Condition",content:"Condition node content"}},{id:"end_0",type:"end",meta:{position:{x:1350,y:100}},data:{title:"End",content:"End content"}},{id:"144150",type:"node1",meta:{position:{x:950,y:0}},data:{title:"New Node1",content:"xxxx"}},{id:"118937",type:"node2",meta:{position:{x:950,y:200}},data:{title:"New Node2",content:"xxxx"}},{id:"chain0",type:"chain",meta:{position:{x:150,y:246}},data:{title:"Chain",content:"xxxx"}},{id:"100260",type:"tool",meta:{position:{x:55.8,y:410}},data:{title:"New Tool",content:"xxxx"}},{id:"105108",type:"tool",meta:{position:{x:280.5,y:410}},data:{title:"New Tool",content:"xxxx"}}],edges:[{sourceNodeID:"start_0",targetNodeID:"node_0"},{sourceNodeID:"node_0",targetNodeID:"144150",sourcePortID:"if"},{sourceNodeID:"node_0",targetNodeID:"118937",sourcePortID:"else"},{sourceNodeID:"118937",targetNodeID:"end_0"},{sourceNodeID:"144150",targetNodeID:"end_0"},{sourceNodeID:"chain0",targetNodeID:"100260",sourcePortID:"p4"},{sourceNodeID:"chain0",targetNodeID:"105108",sourcePortID:"p5"}]};function c(){let{history:e}=(0,i.sX$)(),t=(0,i.erw)(),[o,d]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let t=e.undoRedoService.onChange(()=>{d(e.canUndo()),s(e.canRedo())});return()=>t.dispose()},[e]),(0,n.jsxs)("div",{style:{position:"absolute",zIndex:10,bottom:16,left:226,display:"flex",gap:8},children:[(0,n.jsx)("button",{onClick:()=>t.zoomin(),children:"ZoomIn"}),(0,n.jsx)("button",{onClick:()=>t.zoomout(),children:"ZoomOut"}),(0,n.jsx)("button",{onClick:()=>t.fitView(),children:"Fitview"}),(0,n.jsx)("button",{onClick:()=>t.autoLayout(),children:"AutoLayout"}),(0,n.jsx)("button",{onClick:()=>t.switchLineType(t.lineType===i.SPu.BEZIER?i.SPu.LINE_CHART:i.SPu.BEZIER),children:t.lineType===i.SPu.BEZIER?"Bezier":"Fold"}),(0,n.jsx)("button",{onClick:()=>e.undo(),disabled:!o,children:"Undo"}),(0,n.jsx)("button",{onClick:()=>e.redo(),disabled:!r,children:"Redo"}),(0,n.jsxs)("span",{children:[Math.floor(100*t.zoom),"%"]})]})}let u=["Node1","Node2","Condition","Chain","Tool"],p=e=>{let t=(0,i.G2Z)(i.iwM);return(0,n.jsx)("div",{className:"demo-free-sidebar",children:u.map(e=>(0,n.jsx)("div",{className:"demo-free-card",onMouseDown:o=>t.startDragCard(e.toLowerCase(),o,{data:{title:`New ${e}`,content:"xxxx"}}),children:e},e))})},x=()=>{let e=(0,i.G2Z)(d.I5);return(0,n.jsx)("div",{style:{position:"absolute",left:226,bottom:51,zIndex:100,width:198},children:(0,n.jsx)(d.Zd,{service:e,containerStyles:{pointerEvents:"auto",position:"relative",top:"unset",right:"unset",bottom:"unset",left:"unset"},inactiveStyle:{opacity:1,scale:1,translateX:0,translateY:0}})})};o(324681),o(250146);let y=()=>{let e=(0,a.useMemo)(()=>({background:!0,readonly:!1,initialData:l,nodeRegistries:s,fromNodeJSON:(e,t)=>t,toNodeJSON:(e,t)=>t,getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0},formMeta:{render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.gNt,{name:"title",children:e=>{let{field:t}=e;return(0,n.jsx)("div",{className:"demo-free-node-title",children:t.value})}}),(0,n.jsx)("div",{className:"demo-free-node-content",children:(0,n.jsx)(i.gNt,{name:"content",children:(0,n.jsx)("input",{})})})]})}}),materials:{renderDefaultNode:e=>{let{form:t,node:o}=(0,i.PVB)();return(0,n.jsxs)(i.IxS,{className:"demo-free-node",node:e.node,children:[null==t?void 0:t.render(),"condition"===o.flowNodeType&&(0,n.jsx)("div",{"data-port-id":"if","data-port-type":"output",style:{position:"absolute",right:0,top:"33%"}}),"condition"===o.flowNodeType&&(0,n.jsx)("div",{"data-port-id":"else","data-port-type":"output",style:{position:"absolute",right:0,top:"66%"}})]})}},onContentChange(e,t){console.log("Auto Save: ",t,e.document.toJSON())},nodeEngine:{enable:!0},history:{enable:!0,enableChangeNode:!0},onInit:e=>{},onAllLayersRendered(e){e.document.fitView(!1)},onDispose(){console.log("---- Playground Dispose ----")},plugins:()=>[(0,d.qP)({disableLayer:!0,canvasStyle:{canvasWidth:182,canvasHeight:102,canvasPadding:50,canvasBackground:"rgba(245, 245, 245, 1)",canvasBorderRadius:10,viewportBackground:"rgba(235, 235, 235, 1)",viewportBorderRadius:4,viewportBorderColor:"rgba(201, 201, 201, 1)",viewportBorderWidth:1,viewportBorderDashLength:2,nodeColor:"rgba(255, 255, 255, 1)",nodeBorderRadius:2,nodeBorderWidth:.145,nodeBorderColor:"rgba(6, 7, 9, 0.10)",overlayColor:"rgba(255, 255, 255, 0)"},inactiveDebounceTime:1}),(0,r.Z)({edgeColor:"#00B2B2",alignColor:"#00B2B2",edgeLineWidth:1,alignLineWidth:1,alignCrossWidth:8})]}),[]);return(0,n.jsx)(i.EhS,{...e,children:(0,n.jsxs)("div",{className:"demo-free-container",children:[(0,n.jsxs)("div",{className:"demo-free-layout",children:[(0,n.jsx)(p,{}),(0,n.jsx)(i.R6T,{className:"demo-free-editor"})]}),(0,n.jsx)(c,{}),(0,n.jsx)(x,{})]})})}}}]);