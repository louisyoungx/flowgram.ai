"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["131355"],{68456:function(s,e,n){n.r(e),n.d(e,{default:()=>c});var i=n(110239),r=n(712394),a=n(835853);function l(s){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...(0,r.a)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"best-practices",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#best-practices",children:"#"}),"Best Practices"]}),"\n","\n",(0,i.jsx)(a.U2,{}),"\n",(0,i.jsxs)(e.h2,{id:"installation",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#installation",children:"#"}),"Installation"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsx)(e.code,{className:"language-bash",children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/create-app@latest"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" fixed-layout"})]})})})}),"\n",(0,i.jsxs)(e.h2,{id:"source-code",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code",children:"#"}),"Source Code"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/apps/demo-fixed-layout",rel:"noopener noreferrer",target:"_blank",children:"https://github.com/bytedance/flowgram.ai/tree/main/apps/demo-fixed-layout"})}),"\n",(0,i.jsxs)(e.h2,{id:"project-overview",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#project-overview",children:"#"}),"Project Overview"]}),"\n",(0,i.jsxs)(e.h3,{id:"core-tech-stack",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#core-tech-stack",children:"#"}),"Core Tech Stack"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Frontend Framework: React 18 + TypeScript"}),"\n",(0,i.jsx)(e.li,{children:"Build Tool: Rsbuild (a modern build tool based on Rspack)"}),"\n",(0,i.jsx)(e.li,{children:"Styling: Less + Styled Components + CSS Variables"}),"\n",(0,i.jsx)(e.li,{children:"UI Component Library: Semi Design (@douyinfe/semi-ui)"}),"\n",(0,i.jsx)(e.li,{children:"State Management: Editor framework developed in-house by Flowgram"}),"\n",(0,i.jsx)(e.li,{children:"Dependency Injection: Inversify"}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"core-dependencies",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#core-dependencies",children:"#"}),"Core Dependencies"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"@flowgram.ai/fixed-layout-editor: Core dependency for the fixed-layout editor"}),"\n",(0,i.jsx)(e.li,{children:"@flowgram.ai/fixed-semi-materials: Semi Design materials library"}),"\n",(0,i.jsx)(e.li,{children:"@flowgram.ai/form-materials: Form materials library"}),"\n",(0,i.jsx)(e.li,{children:"@flowgram.ai/group-plugin: Group plugin"}),"\n",(0,i.jsx)(e.li,{children:"@flowgram.ai/minimap-plugin: Minimap plugin"}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"code-overview",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#code-overview",children:"#"}),"Code Overview"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-txt",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"src/"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── app.tsx                    # Application entry component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── editor.tsx                 # Main editor component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── index.ts                   # Module export entry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── initial-data.ts            # Initial data configuration"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── type.d.ts                  # Global type declarations"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── assets/                    # Static assets"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── icon-mouse.tsx         # Mouse icon component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── icon-pad.tsx           # Trackpad icon component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── components/                # Common components library"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts               # Components export entry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── node-list.tsx          # Node list component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── agent-adder/           # Agent adder component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── agent-label/           # Agent label component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── base-node/             # Base node component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── branch-adder/          # Branch adder component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── drag-node/             # Draggable node component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── node-adder/            # Node adder component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── utils.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── selector-box-popover/  # Selection box popover component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── sidebar/               # Sidebar components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── sidebar-node-renderer.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── sidebar-provider.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── sidebar-renderer.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── tools/                 # Toolbar components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── fit-view.tsx       # Fit view tool"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── minimap-switch.tsx # Minimap toggle"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── minimap.tsx        # Minimap component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── readonly.tsx       # Readonly mode toggle"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── run.tsx            # Run tool"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── save.tsx           # Save tool"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── switch-vertical.tsx # Vertical layout toggle"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       └── zoom-select.tsx    # Zoom selector"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── context/                   # React Context state management"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts               # Context export entry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── node-render-context.ts # Node render context"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── sidebar-context.ts     # Sidebar context"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── form-components/           # Form components library"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts               # Export entry for form components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── feedback.tsx           # Feedback component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── form-content/          # Form content components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── form-header/           # Form header components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── title-input.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── utils.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── form-inputs/           # Form input components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── form-item/             # Form item component"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.css"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── form-outputs/          # Form output components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── properties-edit/       # Property editing components"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── property-edit.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       └── styles.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── hooks/                     # Custom React hooks"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts               # Hooks export entry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── use-editor-props.ts    # Hook for editor properties"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── use-is-sidebar.ts      # Hook for sidebar state"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── use-node-render-context.ts # Hook for node render context"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── nodes/                     # Flow node definitions"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts               # Node registry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── default-form-meta.tsx  # Default form metadata"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── agent/                 # Agent node type"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── agent.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── agent-llm.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── agent-memory.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── agent-tools.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── memory.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── tool.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── break-loop/            # Break loop node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── case/                  # Case branch node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── case-default/          # Default case node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── catch-block/           # Exception catch block node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── end/                   # End node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── if/                    # Conditional node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── if-block/              # Conditional block node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── llm/                   # LLM node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── loop/                  # Loop node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── start/                 # Start node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── switch/                # Switch branch node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── trycatch/              # Try-Catch node"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       └── form-meta.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── plugins/                   # Plugin system"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts               # Plugins export entry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── clipboard-plugin/      # Clipboard plugin"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── create-clipboard-plugin.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── group-plugin/          # Group plugin"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── group-box-header.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── group-node.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── group-note.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── group-tools.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   ├── icons/"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   │   └── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │   └── multilang-textarea-editor/ # Multi-language textarea editor"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │       ├── index.css"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │       ├── index.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   │       └── base-textarea.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── variable-panel-plugin/ # Variable panel plugin"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── variable-panel-layer.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       ├── variable-panel-plugin.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│       └── components/"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│           ├── full-variable-list.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│           ├── global-variable-editor.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│           └── variable-panel.tsx"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── services/                  # Services layer"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── custom-service.ts      # Custom service"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"├── shortcuts/                 # Shortcuts system"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── index.ts"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   ├── constants.ts           # Shortcut constants"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│   └── utils.ts               # Shortcut utilities"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"│"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"└── typings/                   # Type definitions"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"    ├── index.ts               # Types export entry"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"    ├── json-schema.ts         # JSON Schema types"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{children:"    └── node.ts                # Node type definitions"})})]})})}),"\n",(0,i.jsxs)(e.h2,{id:"architecture-design-analysis",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#architecture-design-analysis",children:"#"}),"Architecture Design Analysis"]}),"\n",(0,i.jsxs)(e.h3,{id:"overall-architecture-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#overall-architecture-pattern",children:"#"}),"Overall Architecture Pattern"]}),"\n",(0,i.jsx)(e.p,{children:"This project adopts a layered architecture combined with modular design:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Presentation Layer"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Component layer: responsible for UI rendering and user interactions"}),"\n",(0,i.jsx)(e.li,{children:"Tools layer: provides editor tool features"}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"Business Logic Layer"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Node system: defines the behavior and properties of various flow nodes"}),"\n",(0,i.jsx)(e.li,{children:"Plugin system: provides extensible functional modules"}),"\n",(0,i.jsx)(e.li,{children:"Services layer: handles business logic and data operations"}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsx)(e.li,{children:"Data Layer"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Context state management: manages global application state"}),"\n",(0,i.jsx)(e.li,{children:"Type system: ensures consistency of data structures"}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"key-design-patterns",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#key-design-patterns",children:"#"}),"Key Design Patterns"]}),"\n",(0,i.jsxs)(e.h4,{id:"1-provider-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#1-provider-pattern",children:"#"}),"1. Provider Pattern"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// The main editor component uses multiple nested Providers"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"FixedLayoutEditorProvider {"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"editorProps}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"SidebarProvider"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"EditorRenderer "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"DemoTools "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"SidebarRenderer "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"SidebarProvider"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"FixedLayoutEditorProvider"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})]})})}),"\n",(0,i.jsx)(e.p,{children:"Use cases:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"FixedLayoutEditorProvider"}),": provides core editor features and state"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"SidebarProvider"}),": manages sidebar visibility and the selected node"]}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"2-registry-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#2-registry-pattern",children:"#"}),"2. Registry Pattern"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" FlowNodeRegistries"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" FlowNodeRegistry"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"[] "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ["})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  StartNodeRegistry"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  EndNodeRegistry"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  SwitchNodeRegistry"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  LLMNodeRegistry"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // ... more node types"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"];"})})]})})}),"\n",(0,i.jsx)(e.p,{children:"Advantages:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Supports dynamic registration of node types"}),"\n",(0,i.jsx)(e.li,{children:"Easy to extend with new node types"}),"\n",(0,i.jsx)(e.li,{children:"Decouples node type definitions"}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"3-plugin-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#3-plugin-pattern",children:"#"}),"3. Plugin Pattern"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"plugins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ["})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  createMinimapPlugin"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"})"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  createGroupPlugin"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"})"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  createClipboardPlugin"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  createVariablePanelPlugin"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({})"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]"})})]})})}),"\n",(0,i.jsx)(e.p,{children:"Plugin system highlights:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Minimap plugin: provides a canvas minimap"}),"\n",(0,i.jsx)(e.li,{children:"Group plugin: supports node grouping and management"}),"\n",(0,i.jsx)(e.li,{children:"Clipboard plugin: enables copy and paste"}),"\n",(0,i.jsx)(e.li,{children:"Variable panel plugin: provides a UI for variable management"}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"4-factory-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#4-factory-pattern",children:"#"}),"4. Factory Pattern"]}),"\n",(0,i.jsx)(e.p,{children:"Widely used in node creation and configuration:"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getNodeDefaultRegistry"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(type) {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    meta"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      defaultExpanded"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  };"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsxs)(e.h4,{id:"5-observer-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#5-observer-pattern",children:"#"}),"5. Observer Pattern"]}),"\n",(0,i.jsx)(e.p,{children:"Implemented via the history system:"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"history"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  enable"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  enableChangeNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  onApply"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" debounce"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"((ctx"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" opt) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'auto save: '"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" ctx"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".toJSON"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"());"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 100"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsxs)(e.h4,{id:"6-strategy-pattern",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#6-strategy-pattern",children:"#"}),"6. Strategy Pattern"]}),"\n",(0,i.jsx)(e.p,{children:"Reflected in the materials system:"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"materials"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  components"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    ..."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"defaultFixedSemiMaterials"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    ["}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"FlowRendererKey"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ADDER"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]: NodeAdder"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    ["}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"FlowRendererKey"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"BRANCH_ADDER"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]: BranchAdder"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"    // Different render strategies can be swapped by key"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsxs)(e.h3,{id:"state-management-architecture",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#state-management-architecture",children:"#"}),"State Management Architecture"]}),"\n",(0,i.jsxs)(e.h4,{id:"context-system-design",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#context-system-design",children:"#"}),"Context System Design"]}),"\n",(0,i.jsx)(e.p,{children:"The project uses multiple dedicated Contexts to manage different domains of state:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"SidebarContext: manages sidebar state"}),"\n"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" SidebarContext"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" React"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".createContext"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  visible"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" boolean"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  nodeId"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  setNodeId"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (node"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" void"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}>({ visible"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" false"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" setNodeId"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {} });"})]})]})})}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"NodeRenderContext: manages state related to node rendering"}),"\n",(0,i.jsx)(e.li,{children:"IsSidebarContext: simple boolean state"}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"custom-hooks",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-hooks",children:"#"}),"Custom Hooks"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"useEditorProps"}),": centralizes all editor configuration props"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"useIsSidebar"}),": determines whether the current environment is the sidebar"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"useNodeRenderContext"}),": gets the node render context"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"component-architecture",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#component-architecture",children:"#"}),"Component Architecture"]}),"\n",(0,i.jsxs)(e.h4,{id:"component-layering",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#component-layering",children:"#"}),"Component Layering"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Base components"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"BaseNode"}),": base rendering component for all nodes"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"DragNode"}),": node component in drag state"]}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"Functional components"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Adders: ",(0,i.jsx)(e.code,{children:"NodeAdder"}),", ",(0,i.jsx)(e.code,{children:"BranchAdder"}),", ",(0,i.jsx)(e.code,{children:"AgentAdder"})]}),"\n",(0,i.jsx)(e.li,{children:"Tools: zoom, save, run, and other utilities"}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsx)(e.li,{children:"Container components"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"Sidebar"}),": sidebar container and its subcomponents"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"Tools"}),": toolbar container"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"data-flow-architecture",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#data-flow-architecture",children:"#"}),"Data Flow Architecture"]}),"\n",(0,i.jsxs)(e.h4,{id:"initial-data-structure",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#initial-data-structure",children:"#"}),"Initial Data Structure"]}),"\n",(0,i.jsx)(e.p,{children:"The project defines a complete initial flow dataset, including examples of multiple node types:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Start node: entry point of the flow, defines output parameters"}),"\n",(0,i.jsx)(e.li,{children:"Agent node: contains LLM, Memory, and Tools subcomponents"}),"\n",(0,i.jsx)(e.li,{children:"LLM node: large language model processing node"}),"\n",(0,i.jsx)(e.li,{children:"Switch node: conditional branch node"}),"\n",(0,i.jsx)(e.li,{children:"Loop node: loop processing node"}),"\n",(0,i.jsx)(e.li,{children:"TryCatch node: exception handling node"}),"\n",(0,i.jsx)(e.li,{children:"End node: end of the flow"}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"data-transformation-mechanism",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#data-transformation-mechanism",children:"#"}),"Data Transformation Mechanism"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(e.code,{className:"language-typescript",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"fromNodeJSON"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(node"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" json) {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" json; "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Transform logic on data import"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"toNodeJSON"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(node"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" json) {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" json; "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Transform logic on data export"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})})]})}function c(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,r.a)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(l,{...s})}):l(s)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fexamples%2Ffixed-layout%2Ffixed-feature-overview.mdx"]={toc:[{id:"installation",text:"Installation",depth:2},{id:"source-code",text:"Source Code",depth:2},{id:"project-overview",text:"Project Overview",depth:2},{id:"core-tech-stack",text:"Core Tech Stack",depth:3},{id:"core-dependencies",text:"Core Dependencies",depth:3},{id:"code-overview",text:"Code Overview",depth:2},{id:"architecture-design-analysis",text:"Architecture Design Analysis",depth:2},{id:"overall-architecture-pattern",text:"Overall Architecture Pattern",depth:3},{id:"key-design-patterns",text:"Key Design Patterns",depth:3},{id:"1-provider-pattern",text:"1. Provider Pattern",depth:4},{id:"2-registry-pattern",text:"2. Registry Pattern",depth:4},{id:"3-plugin-pattern",text:"3. Plugin Pattern",depth:4},{id:"4-factory-pattern",text:"4. Factory Pattern",depth:4},{id:"5-observer-pattern",text:"5. Observer Pattern",depth:4},{id:"6-strategy-pattern",text:"6. Strategy Pattern",depth:4},{id:"state-management-architecture",text:"State Management Architecture",depth:3},{id:"context-system-design",text:"Context System Design",depth:4},{id:"custom-hooks",text:"Custom Hooks",depth:4},{id:"component-architecture",text:"Component Architecture",depth:3},{id:"component-layering",text:"Component Layering",depth:4},{id:"data-flow-architecture",text:"Data Flow Architecture",depth:3},{id:"initial-data-structure",text:"Initial Data Structure",depth:4},{id:"data-transformation-mechanism",text:"Data Transformation Mechanism",depth:4}],title:"Best Practices",headingTitle:"Best Practices",frontmatter:{outline:!1}}}}]);