"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["39176"],{622489:function(s,n,e){e.r(n),e.d(n,{default:()=>i});var o=e(110239),r=e(712394);function l(s){let n={a:"a",code:"code",h1:"h1",h2:"h2",pre:"pre",span:"span",...(0,r.a)(),...s.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.h1,{id:"常用-api",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常用-api",children:"#"}),"常用 API"]}),"\n",(0,o.jsxs)(n.h2,{id:"flowdocument-自动化布局文档数据",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#flowdocument-自动化布局文档数据",children:"#"}),"FlowDocument （自动化布局文档数据）"]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-ts",children:[(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 通过 hook 获取，也可以通过ctx"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" useService"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FlowDocument"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">(FlowDocument)"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".fromJSON"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(data) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 加载数据"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getAllNodes"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 获取所有节点"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".traverseDFS"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(node "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 深度遍历节点"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".toJSON"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// TODO 这里老版本的数据，还没优化，业务最好自己使用 traverseDFS 实现 json 转换"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".addFromNode"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(targetNode"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" json) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 插入到指定节点的后边"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".onNodeCreate"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(({ node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" json }) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 监听节点创建，data 为创建时候的json数据"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".onNodeDispose"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(({ node }) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 监听节点删除"})]})]})})}),"\n",(0,o.jsxs)(n.h2,{id:"workflowdocument-自由连线布局文档数据-继承自-flowdocument",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#workflowdocument-自由连线布局文档数据-继承自-flowdocument",children:"#"}),"WorkflowDocument (自由连线布局文档数据) 继承自 FlowDocument"]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-ts",children:[(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" useService"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"WorkflowDocument"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">(WorkflowDocument)"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".fromJSON"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(data) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 加载数据"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".toJSON"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 导出数据"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getAllNodes"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 获取所有节点"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"linesManager"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getAllLines"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 获取所有线条"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 创建节点"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".createWorkflowNode"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({ id"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" nanoid"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" type"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'xxx'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" data"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" meta"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { position"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { x"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" y"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" } } })"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 创建线条，from和to 为对应要连线的节点id， fromPort, toPort 如果为单个端口可以不指定"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"linesManager"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".createLine"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({ from"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" to"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" fromPort"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" toPort })"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 监听变化，这里会监听线条和节点等事件"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".onContentChange"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"((e) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,o.jsxs)(n.h2,{id:"flownodeentity节点",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#flownodeentity节点",children:"#"}),"FlowNodeEntity（节点）"]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-ts",children:[(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".flowNodeType "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 当前节点的type类型"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"transform"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".bounds "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 获取节点的外围矩形框, 包含 x,y,width,height"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".updateExtInfo"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({ title"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'xxx'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" }) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 设置扩展数据, 响应式会刷新节点"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getExtInfo"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 获取扩展数据"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getNodeRegister"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 拿到当前节点的定义"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dispose"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 删除节点"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// renderData 是 节点 ui相关数据"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" renderData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".renderData"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"renderData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".node "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 当前节点的domNode"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"renderData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".expanded "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 当前节点是否展开，可以设置"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 拿到所有上游输入和输出节点（自由连线布局）"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"WorkflowNodeLinesData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">(WorkflowNodeLinesData).allInputNodes"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"WorkflowNodeLinesData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">(WorkflowNodeLinesData).allOutputNodes"})]})]})})}),"\n",(0,o.jsxs)(n.h2,{id:"playground-画布",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#playground-画布",children:"#"}),"Playground （画布）"]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-ts",children:[(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 通过 hook 获取，也可以通过ctx"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" useService"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(Playground)"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 滚动到指定的节点并居中"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".scrollToView"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"   entities"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" [node]"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"   scrollToCenter： "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"true"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"   easing: "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" // 缓动动画"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 滚动画布"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".scroll"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  scrollX"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  scrollY: "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 适配屏幕"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".fitView"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"  doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"root"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"FlowNodeTransformData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">().bounds"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" // 需要居中的矩形框，这里拿节点根节点的大小代表最大的框"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"  true"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"， "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 是否缓动"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"  20"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" // padding，留出空白间距"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 缩放"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".zoomin"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".zoomout"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".finalScale "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 当前缩放比例"})]})]})})}),"\n",(0,o.jsxs)(n.h2,{id:"selectionservice-选择器",children:[(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#selectionservice-选择器",children:"#"}),"SelectionService (选择器)"]}),"\n",(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,o.jsxs)(n.code,{className:"language-ts",children:[(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" selectionService"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" useService"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"SelectionService"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">()"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"selection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".selection "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 返回当前选中的节点数组，也可以修改，如选中节点 seleciton.selection = [node]"})]}),"\n",(0,o.jsx)(n.span,{className:"line"}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"selection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".onSelectionChanged"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// 监听变化"})]})]})})})]})}function i(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,r.a)(),...s.components};return n?(0,o.jsx)(n,{...s,children:(0,o.jsx)(l,{...s})}):l(s)}i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["zh%2Fapi%2Fcommon-apis.mdx"]={toc:[{id:"flowdocument-自动化布局文档数据",text:"FlowDocument （自动化布局文档数据）",depth:2},{id:"workflowdocument-自由连线布局文档数据-继承自-flowdocument",text:"WorkflowDocument (自由连线布局文档数据) 继承自 FlowDocument",depth:2},{id:"flownodeentity节点",text:"FlowNodeEntity（节点）",depth:2},{id:"playground-画布",text:"Playground （画布）",depth:2},{id:"selectionservice-选择器",text:"SelectionService (选择器)",depth:2}],title:"常用 API",headingTitle:"常用 API",frontmatter:{}}}}]);