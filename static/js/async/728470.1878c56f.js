"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["728470"],{551503:function(e,t,n){n.d(t,{Z:()=>r});var l=n(908600);let r=(0,n(524053).A)(function(e){return l.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.38 2a1 1 0 0 0-.9.55L7.02 5.5H3a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-4L15.5 2.55a1 1 0 0 0-.9-.55H9.39Zm5.48 3.5-.72-1.25a.5.5 0 0 0-.43-.25h-3.42a.5.5 0 0 0-.43.25L9.14 5.5h5.72Zm3.86 4.5H5.28a1 1 0 0 0-.97 1.24l2.12 8.49A3 3 0 0 0 9.34 22h5.32a3 3 0 0 0 2.9-2.27l2.13-8.49a1 1 0 0 0-.97-1.24Z",fill:"currentColor"}))},"delete")},244359:function(e,t,n){n.d(t,{A:()=>i});var l=n(110239),r=n(908600),a=n(653378);function i(e){let[t,n]=(0,r.useState)("");return(0,r.useEffect)(()=>{n(e.value)},[e.value]),(0,l.jsx)(a.Input,{ref:e.ref,...e,value:t,onChange:e=>{n(e)},onBlur:n=>{var l,r;null==(l=e.onChange)||l.call(e,t,n),null==(r=e.onBlur)||r.call(e,n)}})}},742486:function(e,t,n){n.d(t,{e:()=>j});var l=n(110239),r=n(908600),a=n(950454),i=n(653378),o=n(633988),s=n(687252),u=n(393767);n(132574);var c=n(244897),d=n(61574),v=n(551503),p=n(111886),f=n(510165),m=n(244359),h=n(79367);let y=(0,l.jsxs)("svg",{className:"icon-icon icon-icon-coz_add_node ",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6.49988C11 8.64148 9.50397 10.4337 7.49995 10.8884V15.4998C7.49995 16.0521 7.94767 16.4998 8.49995 16.4998H11.208C11.0742 16.8061 11 17.1443 11 17.4998C11 17.8554 11.0742 18.1936 11.208 18.4998H8.49995C6.8431 18.4998 5.49995 17.1567 5.49995 15.4998V10.8884C3.49599 10.4336 2 8.64145 2 6.49988C2 4.0146 4.01472 1.99988 6.5 1.99988C8.98528 1.99988 11 4.0146 11 6.49988ZM6.5 8.99988C7.88071 8.99988 9 7.88059 9 6.49988C9 5.11917 7.88071 3.99988 6.5 3.99988C5.11929 3.99988 4 5.11917 4 6.49988C4 7.88059 5.11929 8.99988 6.5 8.99988Z"}),(0,l.jsx)("path",{d:"M17.5 12.4999C18.0523 12.4999 18.5 12.9476 18.5 13.4999V16.4999H21.5C22.0523 16.4999 22.5 16.9476 22.5 17.4999C22.5 18.0522 22.0523 18.4999 21.5 18.4999H18.5V21.4999C18.5 22.0522 18.0523 22.4999 17.5 22.4999C16.9477 22.4999 16.5 22.0522 16.5 21.4999V18.4999H13.5C12.9477 18.4999 12.5 18.0522 12.5 17.4999C12.5 16.9476 12.9477 16.4999 13.5 16.4999H16.5V13.4999C16.5 12.9476 16.9477 12.4999 17.5 12.4999Z"})]}),g=()=>(0,l.jsx)(h.ZPm,{size:"small",svg:y}),Z={hit:e=>"object"===e.type,Renderer:()=>(0,l.jsx)(i.Input,{size:"small",disabled:!0,style:{pointerEvents:"none"},value:a.oci.t("Configure via child fields")})};function b(e){let{keyName:t,value:n,$level:o=0,onUpdateKey:h,onUpdateValue:y,$isLast:j,onRemove:x,constantProps:k,hasError:C,readonly:P}=e,[w,V]=(0,r.useState)(!1),{canAddField:E,hasChildren:R,list:z,add:T,updateKey:S,updateValue:$,remove:K}=function(e,t){let n=(0,r.useMemo)(()=>{var t;return!!(0,p.Z)(e)&&(!s.U.isFlowValue(e)||s.U.isConstant(e)&&(null==e||null==(t=e.schema)?void 0:t.type)==="object")},[e]),l=(0,r.useMemo)(()=>{if((0,p.Z)(e)&&!s.U.isFlowValue(e))return e},[e]),{list:a,add:i,updateKey:o,updateValue:c,remove:d}=(0,u.S)({value:l,onChange:e=>{null==t||t(e)},sortIndexKey:e=>s.U.isFlowValue(e)?"extra.index":""}),v=(0,r.useMemo)(()=>n&&(a.length>0||Object.keys(l||{}).length>0),[n,a.length,Object.keys(l||{}).length]);return{canAddField:n,hasChildren:v,list:a,add:i,updateKey:o,updateValue:c,remove:d}}(n,y),U=(0,r.useMemo)(()=>[...R?[Z]:[],...(null==k?void 0:k.strategies)||[]],[R,null==k?void 0:k.strategies]),O=(0,r.useMemo)(()=>R?{type:"constant",schema:{type:"object"}}:n,[R,n]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:`gedit-m-inputs-values-tree-tree-item-left ${o>0?"show-line":""} ${j?"is-last":""} ${R?"show-collapse":""}`,children:R&&(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-collapse-trigger",onClick:()=>V(e=>!e),children:w?(0,l.jsx)(c.Z,{size:"small"}):(0,l.jsx)(d.Z,{size:"small"})})}),(0,l.jsxs)("div",{className:"gedit-m-inputs-values-tree-tree-item-right",children:[(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-item-main",children:(0,l.jsxs)("div",{className:"gedit-m-inputs-values-tree-row",children:[(0,l.jsx)(m.A,{style:{width:100,minWidth:100,maxWidth:100},disabled:P,size:"small",value:t,onChange:e=>null==h?void 0:h(e),placeholder:a.oci.t("Input Key")}),(0,l.jsx)(f.t,{style:{flexGrow:1},readonly:P,value:O,onChange:e=>y(e),hasError:C,constantProps:{...k,strategies:U}}),(0,l.jsxs)("div",{className:"gedit-m-inputs-values-tree-actions",children:[E&&(0,l.jsx)(i.IconButton,{disabled:P,size:"small",theme:"borderless",icon:(0,l.jsx)(g,{}),onClick:()=>{T({type:"constant",content:"",schema:{type:"string"}}),V(!0)}}),(0,l.jsx)(i.IconButton,{disabled:P,theme:"borderless",icon:(0,l.jsx)(v.Z,{size:"small"}),size:"small",onClick:()=>null==x?void 0:x()})]})]})}),R&&(0,l.jsx)("div",{className:`gedit-m-inputs-values-tree-collapsible ${w?"collapse":""}`,children:(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-items shrink",children:z.map((e,t)=>(0,l.jsx)(b,{readonly:P,hasError:C,constantProps:k,keyName:e.key,value:e.value,$level:o+1,onUpdateValue:t=>{$(e.id,t)},onUpdateKey:t=>{S(e.id,t)},onRemove:()=>{K(e.id)},$isLast:t===z.length-1},e.id))})})]})]})}function j(e){let{value:t,onChange:n,readonly:r,hasError:c,constantProps:d}=e,{list:v,updateKey:p,updateValue:f,remove:m,add:h}=(0,u.S)({value:t,onChange:e=>null==n?void 0:n(e),sortIndexKey:e=>s.U.isFlowValue(e)?"extra.index":""});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-items",children:v.map(e=>(0,l.jsx)(b,{keyName:e.key,value:e.value,onUpdateKey:t=>p(e.id,t),onUpdateValue:t=>f(e.id,t),onRemove:()=>m(e.id),readonly:r,hasError:c,constantProps:d},e.id))}),(0,l.jsx)(i.Button,{style:{marginTop:10,marginLeft:16},disabled:r,icon:(0,l.jsx)(o.Z,{}),size:"small",onClick:()=>{h({type:"constant",content:"",schema:{type:"string"}})},children:a.oci.t("Add")})]})}},623631:function(e,t,n){n.d(t,{g:()=>a});var l=n(950454),r=n(687252);let a=[{event:l.zEJ.onValueInit,effect:e=>{let{context:t,form:n,name:a}=e,o=t.node.getService(l.qmw).onRename(e=>{let{before:t,after:l}=e,o=[...t.parentFields.map(e=>e.key).reverse(),t.key],s=[...l.parentFields.map(e=>e.key).reverse(),l.key];var u=a,c=n.getValueIn(a),d=(e,t)=>{if("ref"===t.type){if(i(t.content,o)){var l;t.content=[...s,...null==(l=t.content||[])?void 0:l.slice(o.length)],n.setValueIn(e,t)}}else if("template"===t.type){let l=r.U.getTemplateKeyPaths(t),a=!1;l.forEach(e=>{if(i(e,o)){var n,l;a=!0;let r=[...s,...null==(n=e||[])?void 0:n.slice(o.length)];t.content=null==(l=t.content)?void 0:l.replace(`{{${e.join(".")}}`,`{{${r.join(".")}}`)}}),a&&n.setValueIn(e,{...t})}};for(let{value:e,path:t}of r.U.traverse(c,{includeTypes:["ref","template"],path:u}))d(t,e)});return()=>{o.dispose()}}}];function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.every((t,n)=>t===e[n])}},789220:function(e,t,n){n.d(t,{V:()=>a});var l=n(937643),r=n(950454);let a=e=>[{event:r.zEJ.onValueInitOrChange,effect:t=>{let{context:n,value:a}=t;if((null==a?void 0:a.type)!=="ref")return()=>null;let i=(0,r.k6H)(n.node).available.trackByKeyPath((null==a?void 0:a.content)||[],n=>{e({...t,schema:l.Kz.astToSchema(n)})},{selector:e=>null==e?void 0:e.type});return()=>{i.dispose()}}}]},251430:function(e,t,n){n.d(t,{Z:()=>r});var l=n(950454);let r=e=>[{event:l.zEJ.onValueInitOrChange,effect:t=>{let{context:n,value:r}=t;if((null==r?void 0:r.type)!=="ref")return()=>null;let a=(0,l.k6H)(n.node).available.trackByKeyPath((null==r?void 0:r.content)||[],n=>{e({...t,variable:n})});return()=>{a.dispose()}}}]},125812:function(e,t,n){n.d(t,{X:()=>a});var l=n(937643),r=n(950454);let a=(0,r.W2M)({parse:(e,t)=>{var n,a;return[r.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:(null==(n=t.node.form)?void 0:n.getValueIn("title"))||t.node.id,icon:null==(a=t.node.getNodeRegistry().info)?void 0:a.icon},type:l.Kz.schemaToAST(e)})]}})},236831:function(e,t,n){n.d(t,{H:()=>r});var l=n(950454);let r=[{event:l.zEJ.onValueChange,effect:e=>{let{value:t,context:n}=e;n.node.getData(l._J4).allScopes.forEach(e=>{e.output.variables.forEach(e=>{var l;e.updateMeta({...e.meta||{},title:t||n.node.id,icon:null==(l=n.node.getNodeRegistry().info)?void 0:l.icon})})})}}]},183173:function(e,t,n){n.d(t,{S:()=>r});var l=n(950454);let r=function(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{event:l.zEJ.onValueInit,effect:t=>{let{context:n,form:r,name:a}=t,i=("private"===e?(0,l.u$R)(n.node):(0,l.k6H)(n.node)).available.onListOrAnyVarChange(()=>{Object.entries(r.state.errors||{}).filter(e=>{let[t,n]=e;return(null==n?void 0:n.length)>0}).filter(e=>{let[t]=e;return t.startsWith(a)||a.startsWith(t)}).map(e=>{let[t]=e;return t}).length>0&&r.validate()});return()=>i.dispose()}}]}},769424:function(e,t,n){n.d(t,{n:()=>s});var l=n(689478),r=n(241787),a=n(383909),i=n(937643),o=n(950454);let s=(0,o.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,mergeEffect:s}=e,{assignKey:u,outputKey:c}=t;u&&c&&(s({[u]:(0,o.W2M)({parse:(e,t)=>{var n,a,s;let u=(s=e.filter(e=>"declare"===e.operator&&e.left&&e.right),s&&s.length?(0,r.Z)(s,(0,l.Z)("left",2)):[]);return[o.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(a=t.node.getNodeRegistry().info)?void 0:a.icon},type:o.qRT.createObject({properties:u.map(e=>{var t,n,l,r;return o.qRT.createProperty({key:e.left,type:(null==(t=e.right)?void 0:t.type)==="constant"?i.Kz.schemaToAST((null==(n=e.right)?void 0:n.schema)||{}):void 0,initializer:(null==(l=e.right)?void 0:l.type)==="ref"?o.qRT.createKeyPathExpression({keyPath:(null==(r=e.right)?void 0:r.content)||[]}):{}})})})})]}})}),n((e,t)=>{var n,l;return(0,a.Z)(e,c,i.Kz.astToSchema(null==(l=(0,o.k6H)(t.node).output.variables)||null==(n=l[0])?void 0:n.type)),e}))}})},401255:function(e,t,n){n.d(t,{k:()=>c});var l=n(969134),r=n(383909),a=n(492320),i=n(631952),o=n(950454),s=n(687252);let{produce:u}=new i.Ve({autoFreeze:!1}),c=(0,o.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,addFormatOnInit:i}=e,{sourceKey:c,targetKey:d,scope:v,ignoreConstantSchema:p}=t;c&&d&&(n((e,t)=>u(e,n=>{let i=(0,l.Z)(e,c);if((0,r.Z)(n,d,s.U.inferJsonSchema(i,"private"===v?(0,o.u$R)(t.node):(0,o.k6H)(t.node))),p)for(let{value:t,path:n}of s.U.traverse(i,{includeTypes:["constant"]}))s.U.isConstant(t)&&(null==t?void 0:t.schema)&&(0,r.Z)(e,`${c}.${n}`,(0,a.Z)(t,["schema"]))})),p&&i((e,t)=>{let n=(0,l.Z)(e,d);if(!n)return e;for(let{value:t,pathArr:a}of s.U.traverse((0,l.Z)(e,c),{includeTypes:["constant"]}))if(s.U.isConstant(t)&&!(null==t?void 0:t.schema)){let e=a.map(e=>`properties.${e}`).join("."),i=(0,l.Z)(n,e);i&&(0,r.Z)(t,"schema",i)}return e}))}})},393767:function(e,t,n){n.d(t,{S:()=>u});var l=n(908600),r=n(129034),a=n(969134),i=n(697497),o=n(325486),s=n(383909);function u(e){let{value:t,onChange:n,sortIndexKey:u}=e,[c,d]=(0,l.useState)([]),v=(0,l.useRef)(0),p=(0,l.useRef)(0),f=e=>"function"==typeof u?(0,a.Z)(e,u(e))||0:(0,a.Z)(e,u||"")||0;return(0,l.useEffect)(()=>{v.current=v.current+1,v.current!==p.current&&(v.current=p.current,d(e=>{let n=Object.entries(t||{}).sort((e,t)=>f(e[1])-f(t[1])).map(e=>{let[t]=e;return t}),l=e.map(e=>e.key).filter(Boolean),a=(0,i.Z)(n,l);return e.filter(e=>!e.key||n.includes(e.key)).map(e=>({id:e.id,key:e.key,value:e.key?null==t?void 0:t[e.key]:e.value})).concat(a.map(e=>({id:(0,r.x0)(),key:e,value:null==t?void 0:t[e]})))}))},[t]),{list:c,add:e=>{d(t=>[...t,{id:(0,r.x0)(),value:e}])},updateKey:(e,t)=>{p.current=p.current+1,d(l=>{let r=l.map(n=>n.id===e?{...n,key:t}:n);return n(Object.fromEntries(r.filter(e=>e.key).map(e=>[e.key,e.value]))),r})},updateValue:(e,t)=>{p.current=p.current+1,d(l=>{let r=l.map(n=>n.id===e?{...n,value:t}:n);return n(Object.fromEntries(r.filter(e=>e.key).map(e=>[e.key,e.value]).map((e,t)=>{let n="function"==typeof u?u(e[1]):u;return(0,o.Z)(e[1])&&n&&(0,s.Z)(e[1],n,t),e}))),r})},remove:e=>{p.current=p.current+1,d(t=>{let l=t.filter(t=>t.id!==e);return n(Object.fromEntries(l.filter(e=>e.key).map(e=>[e.key,e.value]))),l})}}}},176332:function(e,t,n){n.d(t,{O:()=>r});var l=n(950454);let r=(0,l.M1y)({onInit(e){let t=e.get(l.i2z),n=e=>{if(l.GwP.isVariableDeclaration(e.ast)){var t;(null==(t=e.ast.meta)?void 0:t.disabled)||e.ast.updateMeta({...e.ast.meta||{},disabled:!0})}};t.onGlobalEvent("NewAST",n),t.onGlobalEvent("UpdateAST",n)}})},687252:function(e,t,n){n.d(t,{U:()=>l});var l,r=n(111886),a=n(13721),i=n(721855),o=n(325486),s=n(937643),u=n(123387);let c=u.ZP.object({index:u.ZP.number().optional()}).optional(),d=u.ZP.object({type:u.ZP.literal("constant"),content:u.ZP.any().optional(),schema:u.ZP.any().optional(),extra:c}),v=u.ZP.object({type:u.ZP.literal("ref"),content:u.ZP.array(u.ZP.string()).optional(),extra:c}),p=u.ZP.object({type:u.ZP.literal("expression"),content:u.ZP.string().optional(),extra:c}),f=u.ZP.object({type:u.ZP.literal("template"),content:u.ZP.string().optional(),extra:c});!function(e){function t(e){return d.safeParse(e).success}function n(e){return v.safeParse(e).success}function l(e){return p.safeParse(e).success}function u(e){return f.safeParse(e).success}function c(e){return(null==e?void 0:e.schema)?e.schema:"string"==typeof e.content?{type:"string"}:"number"==typeof e.content?{type:"number"}:"boolean"==typeof e.content?{type:"boolean"}:(0,o.Z)(e.content)?{type:"object"}:void 0}e.isConstant=t,e.isRef=n,e.isExpression=l,e.isTemplate=u,e.isConstantOrRef=function(e){return t(e)||n(e)},e.isFlowValue=function(e){return t(e)||n(e)||l(e)||u(e)},e.traverse=function* e(i,o){let{includeTypes:s=["ref","template","expression","constant"],path:c="",pathArr:d=[]}=o||{};if((0,r.Z)(i)){if(n(i)&&s.includes("ref")||u(i)&&s.includes("template")||l(i)&&s.includes("expression")||t(i)&&s.includes("constant"))return void(yield{value:i,path:c,pathArr:d});for(let[t,n]of Object.entries(i))yield*e(n,{...o,path:c?`${c}.${t}`:t,pathArr:[...d,t]});return}if((0,a.Z)(i))for(let[t,n]of i.entries())yield*e(n,{...o,path:c?`${c}[${t}]`:`[${t}]`,pathArr:[...d,`[${t}]`]})},e.getTemplateKeyPaths=function(e){var t;return(0,i.Z)((null==(t=e.content)?void 0:t.match(/\{\{([^\}\{]+)\}\}/g))||[]).map(e=>e.slice(2,-2).split("."))},e.inferConstantJsonSchema=c,e.inferJsonSchema=function e(l,a){if((0,r.Z)(l)){if(t(l))return c(l);if(n(l)){let e=a.available.getByKeyPath(null==l?void 0:l.content);return(null==e?void 0:e.type)?s.Kz.astToSchema(null==e?void 0:e.type):void 0}return u(l)?{type:"string"}:{type:"object",properties:Object.keys(l).reduce((t,n)=>{let r=e(l[n],a);return r&&(t[n]=r),t},{})}}}}(l||(l={}))},38643:function(e,t,n){n.d(t,{W:()=>i});var l=n(863875),r=n(950454),a=n(687252);function i(e,t){let{node:n,required:i,errorMessages:o}=t,{required:s="Field is required",unknownVariable:u="Unknown Variable"}=o||{};if(i&&((0,l.Z)(e)||(0,l.Z)(null==e?void 0:e.content)||(null==e?void 0:e.content)===""))return{level:r.Odm.Error,message:s};if((null==e?void 0:e.type)==="ref"&&!(0,r.k6H)(n).available.getByKeyPath((null==e?void 0:e.content)||[]))return{level:r.Odm.Error,message:u};if((null==e?void 0:e.type)==="template"){for(let t of a.U.getTemplateKeyPaths(e))if(!(0,r.k6H)(n).available.getByKeyPath(t))return{level:r.Odm.Error,message:u}}}},383909:function(e,t,n){n.d(t,{Z:()=>r});var l=n(221145);let r=function(e,t,n){return null==e?e:(0,l.Z)(e,t,n)}}}]);