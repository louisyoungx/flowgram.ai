"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["303747"],{873537:function(e,r,s){s.r(r),s.d(r,{default:()=>c});var n=s(110239),i=s(437562),a=s(944529),o=s(259239),l=s(427183);function t(e){let r={a:"a",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"cozeeditorextensions",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#cozeeditorextensions",children:"#"}),"CozeEditorExtensions"]}),"\n",(0,n.jsxs)(r.p,{children:["CozeEditorExtensions is a set of functional extensions based on ",(0,n.jsx)(r.a,{href:"https://github.com/coze-dev/rush-arch/tree/main/packages/text-editor",rel:"noopener noreferrer",target:"_blank",children:"coze-editor"}),", providing variable selection, Inputs selector, and variable tag echo capabilities."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTree"}),": Monitors trigger characters like ",(0,n.jsx)(r.code,{children:"@"}),"/",(0,n.jsx)(r.code,{children:"{"}),", pops up an available variable tree, and writes the selected item into the editor."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTagInject"}),": Renders ",(0,n.jsx)(r.code,{children:"{{variable.path}}"})," text with markup, displaying variable icons, titles, and echo hints."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorInputsTree"}),": Constructs a hierarchical tree based on node ",(0,n.jsx)(r.code,{children:"inputsValues"}),", supporting insertion of ",(0,n.jsx)(r.code,{children:"{{inputs.xxx}}"})," references in prompts."]}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"demo",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#demo",children:"#"}),"Demo"]}),"\n",(0,n.jsxs)(r.h3,{id:"variable-tree--tag-echo",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-tree--tag-echo",children:"#"}),"Variable Tree + Tag Echo"]}),"\n",(0,n.jsx)(o.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"prompt-editor-with-extensions.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  EditorVariableTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  EditorVariableTagInject"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  EditorInputsTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{value} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{onChange}>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"EditorVariableTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" triggerCharacters"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"TRIGGER_CHARACTERS"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"} />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"EditorVariableTagInject"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,n.jsx)(r.div,{className:"rspress-directive-title",children:"Trigger Method"}),(0,n.jsx)(r.div,{className:"rspress-directive-content",children:(0,n.jsxs)(r.p,{children:["\n",(0,n.jsx)(r.code,{children:"EditorVariableTree"})," defaults to monitoring ",(0,n.jsx)(r.code,{children:"{"}),", ",(0,n.jsx)(r.code,{children:"{{"}),", and ",(0,n.jsx)(r.code,{children:"@"}),". You can customize trigger characters through ",(0,n.jsx)(r.code,{children:"triggerCharacters"}),"."]})})]}),"\n",(0,n.jsxs)(r.h3,{id:"node-inputs-reference",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#node-inputs-reference",children:"#"}),"Node Inputs Reference"]}),"\n",(0,n.jsx)(l.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"prompt-editor-with-extensions.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  EditorVariableTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  EditorVariableTagInject"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  EditorInputsTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" PromptEditorWithExtensions"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"({ value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" inputsValues }) {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{value} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{onChange}>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"EditorInputsTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" inputsValues"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{inputsValues} />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"render-keys-and-secondary-extension",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#render-keys-and-secondary-extension",children:"#"}),"Render Keys and Secondary Extension"]}),"\n",(0,n.jsxs)(r.p,{children:["CozeEditorExtensions declares fixed ",(0,n.jsx)(r.code,{children:"renderKey"})," through ",(0,n.jsx)(r.a,{href:"/en/materials/common/inject-material.html",children:(0,n.jsx)(r.code,{children:"createInjectMaterial"})}),":"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.code,{children:"EditorVariableTree.renderKey = 'EditorVariableTree'"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.code,{children:"EditorVariableTagInject.renderKey = 'EditorVariableTagInject'"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.code,{children:"EditorInputsTree.renderKey = 'EditorInputsTree'"})}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["You can register renderers with the same name in ",(0,n.jsx)(r.code,{children:"use-editor-props"})," to replace the default behavior. For example, customize the variable selection panel:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"override-variable-tree.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { useEditorProps } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/editor'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { EditorVariableTree } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { CustomVariableTree } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" './custom-variable-tree'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" useCustomEditorProps"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" useEditorProps"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    materials"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      components"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        ["}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"EditorVariableTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:".renderKey"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"]"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" CustomVariableTree"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  });"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h2,{id:"api-reference",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"}),"API Reference"]}),"\n",(0,n.jsxs)(r.h3,{id:"editorvariabletree-props",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#editorvariabletree-props",children:"#"}),"EditorVariableTree Props"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property Name"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsx)(r.tbody,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"triggerCharacters"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string[]"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"['{', '{}', '@']"})}),(0,n.jsx)(r.td,{children:"Character set that triggers variable tree popup"})]})})]}),"\n",(0,n.jsxs)(r.h3,{id:"editorvariabletaginject-props",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#editorvariabletaginject-props",children:"#"}),"EditorVariableTagInject Props"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property Name"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsx)(r.tbody,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.em,{children:"None"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Component has no additional properties, rendering takes effect immediately"})]})})]}),"\n",(0,n.jsxs)(r.h3,{id:"editorinputstree-props",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#editorinputstree-props",children:"#"}),"EditorInputsTree Props"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property Name"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"inputsValues"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"IInputsValues"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsxs)(r.td,{children:["Node Inputs key-value data, supports ",(0,n.jsx)(r.code,{children:"FlowValue"})," reference"]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"triggerCharacters"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string[]"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"['{', '{}', '@']"})}),(0,n.jsx)(r.td,{children:"Character set that triggers Inputs selector"})]})]})]}),"\n",(0,n.jsxs)(r.h2,{id:"source-code-guide",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-guide",children:"#"}),"Source Code Guide"]}),"\n",(0,n.jsx)(a.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/coze-editor-extensions"}),"\n",(0,n.jsx)(r.p,{children:"Use CLI command to copy source code locally:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-bash",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" components/coze-editor-extensions"})]})})})}),"\n",(0,n.jsxs)(r.h3,{id:"directory-structure-explanation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#directory-structure-explanation",children:"#"}),"Directory Structure Explanation"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-txt",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"coze-editor-extensions/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── index.tsx                 # Export injectable materials"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── extensions/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"│   ├── inputs-tree.tsx       # Inputs Tree implementation"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"│   ├── variable-tag.tsx      # Variable tag rendering"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"│   └── variable-tree.tsx     # Variable tree selector"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"└── styles.css                # Tag styles and popup styles"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"core-implementation-explanation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#core-implementation-explanation",children:"#"}),"Core Implementation Explanation"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"EditorVariableTree"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Popup positioning and scroll synchronization: ",(0,n.jsx)(r.code,{children:"Mention"})," + ",(0,n.jsx)(r.code,{children:"PositionMirror"})," combination ensures Popover always stays close to cursor position, scrolling triggers repositioning through ",(0,n.jsx)(r.code,{children:"rePosKey"})]}),"\n",(0,n.jsxs)(r.li,{children:["Variable tree data source: ",(0,n.jsx)(r.code,{children:"useVariableTree"})," reads variables registered in ",(0,n.jsx)(r.code,{children:"Scope.available"}),", automatically applies schema filtering, disabled states, and icons"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"EditorVariableTagInject"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Tag rendering and subscription: Uses CodeMirror ",(0,n.jsx)(r.code,{children:"MatchDecorator"})," to replace ",(0,n.jsx)(r.code,{children:"{{xxx}}"})," text with ",(0,n.jsx)(r.code,{children:"Tag"})," widget, and subscribes to variable title/Icon updates for real-time echo"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"EditorInputsTree"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Inputs tree construction: Supports both ",(0,n.jsx)(r.code,{children:"FlowValue"})," and regular objects, recursively generates hierarchical nodes, and uniformly formats them as ",(0,n.jsx)(r.code,{children:"{{path}}"})," before insertion"]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"dependencies",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#dependencies",children:"#"}),"Dependencies"]}),"\n",(0,n.jsxs)(r.h4,{id:"other-materials",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#other-materials",children:"#"}),"Other Materials"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"/en/materials/common/inject-material.html",children:(0,n.jsx)(r.strong,{children:"InjectMaterial"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"createInjectMaterial"}),": Creates injectable material components"]}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"third-party-libraries",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#third-party-libraries",children:"#"}),"Third-party Libraries"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/coze-dev/rush-arch/tree/main/packages/text-editor",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"coze-editor"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Base editor component"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://codemirror.net/docs/ref/#search.MatchDecorator",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"CodeMirror MatchDecorator"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Used for text matching and replacement of variable tags"}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fmaterials%2Fcomponents%2Fcoze-editor-extensions.mdx"]={toc:[{id:"demo",text:"Demo",depth:2},{id:"variable-tree--tag-echo",text:"Variable Tree + Tag Echo",depth:3},{id:"node-inputs-reference",text:"Node Inputs Reference",depth:3},{id:"render-keys-and-secondary-extension",text:"Render Keys and Secondary Extension",depth:3},{id:"api-reference",text:"API Reference",depth:2},{id:"editorvariabletree-props",text:"EditorVariableTree Props",depth:3},{id:"editorvariabletaginject-props",text:"EditorVariableTagInject Props",depth:3},{id:"editorinputstree-props",text:"EditorInputsTree Props",depth:3},{id:"source-code-guide",text:"Source Code Guide",depth:2},{id:"directory-structure-explanation",text:"Directory Structure Explanation",depth:3},{id:"core-implementation-explanation",text:"Core Implementation Explanation",depth:3},{id:"dependencies",text:"Dependencies",depth:3},{id:"other-materials",text:"Other Materials",depth:4},{id:"third-party-libraries",text:"Third-party Libraries",depth:4}],title:"CozeEditorExtensions",headingTitle:"CozeEditorExtensions",frontmatter:{}}},259239:function(e,r,s){s.d(r,{S:()=>h,w:()=>c});var n=s(110239),i=s(908600),a=s(640898),o=s(132288);let l=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("838147"),s.e("933451"),s.e("942362"),s.e("917828"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("232558"),s.e("673693"),s.e("263869")]).then(s.bind(s,261548)).then(e=>({default:e.PromptEditorWithVariables}))),t=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("838147"),s.e("933451"),s.e("942362"),s.e("917828"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("232558"),s.e("673693"),s.e("263869")]).then(s.bind(s,261548)).then(e=>({default:e.VariableSelectorProvider}))),c=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)("div",{style:{width:400},children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(a.gNt,{name:"prompt_editor",defaultValue:{type:"template",content:`# Role
You are a helpful assistant

# Query
{{start_0.str}}`},children:e=>{let{field:r}=e;return(0,n.jsx)(l,{value:r.value,onChange:e=>r.onChange(e)})}})]})}}),d={type:"string"},h=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)("div",{style:{width:400},children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(t,{includeSchema:d,children:(0,n.jsx)(a.gNt,{name:"prompt_editor",defaultValue:{type:"template",content:`# Role
You are a helpful assistant`},children:e=>{let{field:r}=e;return(0,n.jsx)(l,{value:r.value,onChange:e=>r.onChange(e)})}})})]})}})}}]);