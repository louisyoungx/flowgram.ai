"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["394151"],{427183:function(e,t,n){n.d(t,{w:()=>c});var s=n(110239),i=n(908600),l=n(640898),a=n(742486),o=n(132288);let r=i.lazy(()=>Promise.all([n.e("386212"),n.e("942362"),n.e("800699"),n.e("308529"),n.e("588485"),n.e("86005")]).then(n.bind(n,929024)).then(e=>({default:e.PromptEditorWithInputs}))),c=()=>(0,s.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>(0,s.jsxs)("div",{style:{width:400},children:[(0,s.jsx)(o.p,{}),(0,s.jsx)(l.gNt,{name:"inputsValues",defaultValue:{a:{type:"constant",content:"123"},b:{type:"ref",content:["start_0","obj"]}},children:e=>{let{field:t}=e;return(0,s.jsx)(a.e,{value:t.value,onChange:e=>t.onChange(e)})}}),(0,s.jsx)("br",{}),(0,s.jsx)(l.gNt,{name:"inputsValues",children:e=>{let{field:t}=e;return(0,s.jsx)(l.gNt,{name:"prompt_editor_with_inputs",defaultValue:{type:"template",content:"# Query \n {{b.obj2.num}}"},children:e=>{let{field:n}=e;return(0,s.jsx)(r,{value:n.value,onChange:e=>n.onChange(e),inputsValues:t.value||{}})}})}})]})}})},132288:function(e,t,n){n.d(t,{p:()=>a,y:()=>o});var s=n(110239),i=n(908600);let l=i.lazy(()=>Promise.all([n.e("386212"),n.e("717802"),n.e("234079"),n.e("633566"),n.e("688975"),n.e("834812"),n.e("767597"),n.e("800699"),n.e("475509"),n.e("541460"),n.e("428647"),n.e("260790"),n.e("308529"),n.e("534505")]).then(n.bind(n,417587)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),a=i.lazy(()=>Promise.all([n.e("386212"),n.e("717802"),n.e("234079"),n.e("633566"),n.e("688975"),n.e("834812"),n.e("767597"),n.e("800699"),n.e("475509"),n.e("541460"),n.e("428647"),n.e("260790"),n.e("308529"),n.e("534505")]).then(n.bind(n,417587)).then(e=>({default:e.FormHeader}))),o=e=>(0,s.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,s.jsx)(l,{...e})})},742486:function(e,t,n){n.d(t,{e:()=>C});var s=n(110239),i=n(908600),l=n(950454),a=n(617704),o=n(633988),r=n(687252),c=n(393767);n(132574);var u=n(244897),d=n(61574),p=n(551503),m=n(111886),h=n(510165),v=n(244359),f=n(79367);let y=(0,s.jsxs)("svg",{className:"icon-icon icon-icon-coz_add_node ",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6.49988C11 8.64148 9.50397 10.4337 7.49995 10.8884V15.4998C7.49995 16.0521 7.94767 16.4998 8.49995 16.4998H11.208C11.0742 16.8061 11 17.1443 11 17.4998C11 17.8554 11.0742 18.1936 11.208 18.4998H8.49995C6.8431 18.4998 5.49995 17.1567 5.49995 15.4998V10.8884C3.49599 10.4336 2 8.64145 2 6.49988C2 4.0146 4.01472 1.99988 6.5 1.99988C8.98528 1.99988 11 4.0146 11 6.49988ZM6.5 8.99988C7.88071 8.99988 9 7.88059 9 6.49988C9 5.11917 7.88071 3.99988 6.5 3.99988C5.11929 3.99988 4 5.11917 4 6.49988C4 7.88059 5.11929 8.99988 6.5 8.99988Z"}),(0,s.jsx)("path",{d:"M17.5 12.4999C18.0523 12.4999 18.5 12.9476 18.5 13.4999V16.4999H21.5C22.0523 16.4999 22.5 16.9476 22.5 17.4999C22.5 18.0522 22.0523 18.4999 21.5 18.4999H18.5V21.4999C18.5 22.0522 18.0523 22.4999 17.5 22.4999C16.9477 22.4999 16.5 22.0522 16.5 21.4999V18.4999H13.5C12.9477 18.4999 12.5 18.0522 12.5 17.4999C12.5 16.9476 12.9477 16.4999 13.5 16.4999H16.5V13.4999C16.5 12.9476 16.9477 12.4999 17.5 12.4999Z"})]}),x=()=>(0,s.jsx)(f.ZPm,{size:"small",svg:y}),j={hit:e=>"object"===e.type,Renderer:()=>(0,s.jsx)(a.II,{size:"small",disabled:!0,style:{pointerEvents:"none"},value:l.oci.t("Configure via child fields")})};function g(e){let{keyName:t,value:n,$level:o=0,onUpdateKey:f,onUpdateValue:y,$isLast:C,onRemove:b,constantProps:Z,hasError:P,readonly:w}=e,[V,k]=(0,i.useState)(!1),{canAddField:N,hasChildren:z,list:U,add:$,updateKey:_,updateValue:M,remove:F}=function(e,t){let n=(0,i.useMemo)(()=>{var t;return!!(0,m.Z)(e)&&(!r.U.isFlowValue(e)||r.U.isConstant(e)&&(null==e||null==(t=e.schema)?void 0:t.type)==="object")},[e]),s=(0,i.useMemo)(()=>{if((0,m.Z)(e)&&!r.U.isFlowValue(e))return e},[e]),{list:l,add:a,updateKey:o,updateValue:u,remove:d}=(0,c.S)({value:s,onChange:e=>{null==t||t(e)},sortIndexKey:e=>r.U.isFlowValue(e)?"extra.index":""}),p=(0,i.useMemo)(()=>n&&(l.length>0||Object.keys(s||{}).length>0),[n,l.length,Object.keys(s||{}).length]);return{canAddField:n,hasChildren:p,list:l,add:a,updateKey:o,updateValue:u,remove:d}}(n,y),K=(0,i.useMemo)(()=>[...z?[j]:[],...(null==Z?void 0:Z.strategies)||[]],[z,null==Z?void 0:Z.strategies]),E=(0,i.useMemo)(()=>z?{type:"constant",schema:{type:"object"}}:n,[z,n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:`gedit-m-inputs-values-tree-tree-item-left ${o>0?"show-line":""} ${C?"is-last":""} ${z?"show-collapse":""}`,children:z&&(0,s.jsx)("div",{className:"gedit-m-inputs-values-tree-collapse-trigger",onClick:()=>k(e=>!e),children:V?(0,s.jsx)(u.Z,{size:"small"}):(0,s.jsx)(d.Z,{size:"small"})})}),(0,s.jsxs)("div",{className:"gedit-m-inputs-values-tree-tree-item-right",children:[(0,s.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-item-main",children:(0,s.jsxs)("div",{className:"gedit-m-inputs-values-tree-row",children:[(0,s.jsx)(v.A,{style:{width:100,minWidth:100,maxWidth:100},disabled:w,size:"small",value:t,onChange:e=>null==f?void 0:f(e),placeholder:l.oci.t("Input Key")}),(0,s.jsx)(h.t,{style:{flexGrow:1},readonly:w,value:E,onChange:e=>y(e),hasError:P,constantProps:{...Z,strategies:K}}),(0,s.jsxs)("div",{className:"gedit-m-inputs-values-tree-actions",children:[N&&(0,s.jsx)(a.hU,{disabled:w,size:"small",theme:"borderless",icon:(0,s.jsx)(x,{}),onClick:()=>{$({type:"constant",content:"",schema:{type:"string"}}),k(!0)}}),(0,s.jsx)(a.hU,{disabled:w,theme:"borderless",icon:(0,s.jsx)(p.Z,{size:"small"}),size:"small",onClick:()=>null==b?void 0:b()})]})]})}),z&&(0,s.jsx)("div",{className:`gedit-m-inputs-values-tree-collapsible ${V?"collapse":""}`,children:(0,s.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-items shrink",children:U.map((e,t)=>(0,s.jsx)(g,{readonly:w,hasError:P,constantProps:Z,keyName:e.key,value:e.value,$level:o+1,onUpdateValue:t=>{M(e.id,t)},onUpdateKey:t=>{_(e.id,t)},onRemove:()=>{F(e.id)},$isLast:t===U.length-1},e.id))})})]})]})}function C(e){let{value:t,onChange:n,readonly:i,hasError:u,constantProps:d}=e,{list:p,updateKey:m,updateValue:h,remove:v,add:f}=(0,c.S)({value:t,onChange:e=>null==n?void 0:n(e),sortIndexKey:e=>r.U.isFlowValue(e)?"extra.index":""});return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-items",children:p.map(e=>(0,s.jsx)(g,{keyName:e.key,value:e.value,onUpdateKey:t=>m(e.id,t),onUpdateValue:t=>h(e.id,t),onRemove:()=>v(e.id),readonly:i,hasError:u,constantProps:d},e.id))}),(0,s.jsx)(a.zx,{style:{marginTop:10,marginLeft:16},disabled:i,icon:(0,s.jsx)(o.Z,{}),size:"small",onClick:()=>{f({type:"constant",content:"",schema:{type:"string"}})},children:l.oci.t("Add")})]})}},687252:function(e,t,n){n.d(t,{U:()=>s});var s,i=n(111886),l=n(13721),a=n(721855),o=n(325486),r=n(937643),c=n(123387);let u=c.ZP.object({index:c.ZP.number().optional()}).optional(),d=c.ZP.object({type:c.ZP.literal("constant"),content:c.ZP.any().optional(),schema:c.ZP.any().optional(),extra:u}),p=c.ZP.object({type:c.ZP.literal("ref"),content:c.ZP.array(c.ZP.string()).optional(),extra:u}),m=c.ZP.object({type:c.ZP.literal("expression"),content:c.ZP.string().optional(),extra:u}),h=c.ZP.object({type:c.ZP.literal("template"),content:c.ZP.string().optional(),extra:u});!function(e){function t(e){return d.safeParse(e).success}function n(e){return p.safeParse(e).success}function s(e){return m.safeParse(e).success}function c(e){return h.safeParse(e).success}function u(e){return(null==e?void 0:e.schema)?e.schema:"string"==typeof e.content?{type:"string"}:"number"==typeof e.content?{type:"number"}:"boolean"==typeof e.content?{type:"boolean"}:(0,o.Z)(e.content)?{type:"object"}:void 0}e.isConstant=t,e.isRef=n,e.isExpression=s,e.isTemplate=c,e.isConstantOrRef=function(e){return t(e)||n(e)},e.isFlowValue=function(e){return t(e)||n(e)||s(e)||c(e)},e.traverse=function* e(a,o){let{includeTypes:r=["ref","template","expression","constant"],path:u="",pathArr:d=[]}=o||{};if((0,i.Z)(a)){if(n(a)&&r.includes("ref")||c(a)&&r.includes("template")||s(a)&&r.includes("expression")||t(a)&&r.includes("constant"))return void(yield{value:a,path:u,pathArr:d});for(let[t,n]of Object.entries(a))yield*e(n,{...o,path:u?`${u}.${t}`:t,pathArr:[...d,t]});return}if((0,l.Z)(a))for(let[t,n]of a.entries())yield*e(n,{...o,path:u?`${u}[${t}]`:`[${t}]`,pathArr:[...d,`[${t}]`]})},e.getTemplateKeyPaths=function(e){var t;return(0,a.Z)((null==(t=e.content)?void 0:t.match(/\{\{([^\}\{]+)\}\}/g))||[]).map(e=>e.slice(2,-2).split("."))},e.inferConstantJsonSchema=u,e.inferJsonSchema=function e(s,l){if((0,i.Z)(s)){if(t(s))return u(s);if(n(s)){let e=l.available.getByKeyPath(null==s?void 0:s.content);return(null==e?void 0:e.type)?r.Kz.astToSchema(null==e?void 0:e.type):void 0}return c(s)?{type:"string"}:{type:"object",properties:Object.keys(s).reduce((t,n)=>{let i=e(s[n],l);return i&&(t[n]=i),t},{})}}}}(s||(s={}))}}]);