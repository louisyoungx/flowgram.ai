"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["1831"],{866146:function(e,t,n){n.r(t),n.d(t,{VariableTree:()=>f});var r=n(110239),a=n(908600),i=n(827656),s=n(11611),o=n(414682),c=n(653378),l=n(117280);let u=["{","{}","@"];function f(e){let{triggerCharacters:t=u}=e,[n,f]=(0,a.useState)(""),[d,g]=(0,a.useState)(!1),[h,p]=(0,a.useState)(-1),x=(0,s.jE)();(0,a.useEffect)(()=>{if(!x)return},[x,d]);let m=(0,l.V)({}),v=(0,a.useCallback)((0,i.Z)(()=>f(String(Math.random())),100),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.pf,{triggerCharacters:t,onOpenChange:function(e){p(e.state.selection.main.head),g(e.value)}}),(0,r.jsx)(c.Popover,{visible:d,trigger:"custom",position:"topLeft",rePosKey:n,content:(0,r.jsx)("div",{style:{width:300,maxHeight:300,overflowY:"auto"},children:(0,r.jsx)(c.Tree,{treeData:m,onExpand:()=>{v()},onSelect:e=>{!function(e){let t=(0,o.m4)(x.$view.state);if(!t)return;let{from:n,to:r}=t;for(;"{"===x.$view.state.doc.sliceString(n-1,n);)n--;for(;"}"===x.$view.state.doc.sliceString(r,r+1);)r++;x.replaceText({from:n,to:r,text:"{{"+e+"}}"}),g(!1)}(e)}})}),children:(0,r.jsx)(o.Iq,{position:h,onChange:()=>{f(String(Math.random()))}})})]})}}}]);