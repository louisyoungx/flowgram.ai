"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["128901"],{113315:function(e,s,r){r.r(s),r.d(s,{default:()=>d});var n=r(110239),l=r(437562),i=r(441332),a=r(321896),o=r(194929);function c(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"variableselector",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#variableselector",children:"#"}),"VariableSelector"]}),"\n",(0,n.jsx)(s.p,{children:"VariableSelector 是一个用于选择当前作用域变量的组件，它可以根据变量的类型进行过滤。"}),"\n",(0,n.jsxs)(s.div,{className:"rspress-directive warning",children:[(0,n.jsx)(s.div,{className:"rspress-directive-title",children:"WARNING"}),(0,n.jsxs)(s.div,{className:"rspress-directive-content",children:[(0,n.jsxs)(s.p,{children:["VariableSelector 的变量树中，",(0,n.jsx)(s.strong,{children:"每一个叶子节点和非叶子节点，都是一个变量"}),"。"]}),(0,n.jsxs)(s.p,{children:["在官方物料库的设计中，每个节点都会输出 ",(0,n.jsx)(s.strong,{children:"一个 ObjectType 变量声明"}),"，这个变量声明中："]}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["变量的",(0,n.jsx)(s.strong,{children:"元信息包含节点的标题和节点的 Icon"}),"，被 VariableSelector 解析展示"]}),"\n",(0,n.jsxs)(s.li,{children:["变量的下钻字段会被 VariableSelector ",(0,n.jsx)(s.strong,{children:"递归展示在节点变量内"})]}),"\n"]})]})]}),"\n",(0,n.jsxs)(s.h2,{id:"案例演示",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#案例演示",children:"#"}),"案例演示"]}),"\n",(0,n.jsxs)(s.h3,{id:"直接使用",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#直接使用",children:"#"}),"直接使用"]}),"\n",(0,n.jsx)(o.w3,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(s.code,{className:"language-tsx",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { VariableSelector } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"[] "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"variable_selector"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelector"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value} "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(value)} />"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(s.h3,{id:"过滤变量类型",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#过滤变量类型",children:"#"}),"过滤变量类型"]}),"\n",(0,n.jsx)(o.yR,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(s.code,{className:"language-tsx",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { VariableSelector } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"[] "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"variable_selector"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelector"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"            value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"            onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(value)}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"            includeSchema"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{ type"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'string'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }}"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          />"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(s.h3,{id:"自定义过滤逻辑",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义过滤逻辑",children:"#"}),"自定义过滤逻辑"]}),"\n",(0,n.jsx)(o.lG,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(s.code,{className:"language-tsx",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { VariableSelector } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelectorProvider"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" skipVariable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(variable) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" variable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"?.key "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'str'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}>"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"[] "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"variable_selector"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelector"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"            value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"            onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(value)}"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          />"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelectorProvider"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(s.h3,{id:"通过-usevariabletree-获取变量树",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-usevariabletree-获取变量树",children:"#"}),"通过 useVariableTree 获取变量树"]}),"\n",(0,n.jsx)(o.$M,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(s.code,{className:"language-tsx",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { useVariableTree } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" treeData"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" useVariableTree"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({});"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    return"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelectorProvider"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" skipVariable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(variable) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" variable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"?.key "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'str'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}>"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Tree"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" treeData"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{treeData} "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"defaultExpandAll"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelectorProvider"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    );"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,n.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,n.jsx)(s.div,{className:"rspress-directive-content",children:(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"useVariableTree"})," 也被用于 ",(0,n.jsx)(s.a,{href:"/materials/components/prompt-editor-with-variables.html",children:(0,n.jsx)(s.code,{children:"PromptEditorWithVariables"})}),"、",(0,n.jsx)(s.a,{href:"/materials/components/sql-editor-with-variables.html",children:(0,n.jsx)(s.code,{children:"SQLEditorWithVariables"})}),"、",(0,n.jsx)(s.a,{href:"/materials/components/json-editor-with-variables.html",children:(0,n.jsx)(s.code,{children:"JsonEditorWithVariables"})})," 等组件中，用于获取当前作用域的变量树。"]})})]}),"\n",(0,n.jsxs)(s.h2,{id:"api-参考",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#api-参考",children:"#"}),"API 参考"]}),"\n",(0,n.jsxs)(s.h3,{id:"variableselector-props",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#variableselector-props",children:"#"}),"VariableSelector Props"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性名"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"描述"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"value"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"选中的变量路径数组"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"onChange"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"(value?: string[]) => void"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"变量选择变化时的回调函数"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"config"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"VariableSelectorConfig"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"{}"})}),(0,n.jsx)(s.td,{children:"配置对象"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"includeSchema"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IJsonSchema | IJsonSchema[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"包含的变量类型过滤条件"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"excludeSchema"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IJsonSchema | IJsonSchema[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"排除的变量类型过滤条件"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"readonly"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"boolean"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"false"})}),(0,n.jsx)(s.td,{children:"是否为只读模式"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"hasError"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"boolean"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"false"})}),(0,n.jsx)(s.td,{children:"是否显示错误状态"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"style"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"React.CSSProperties"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"自定义样式"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"triggerRender"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"(props: TriggerRenderProps) => React.ReactNode"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"自定义触发器渲染"})]})]})]}),"\n",(0,n.jsxs)(s.h3,{id:"variableselectorconfig",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#variableselectorconfig",children:"#"}),"VariableSelectorConfig"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性名"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"描述"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"placeholder"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"'选择变量'"})}),(0,n.jsx)(s.td,{children:"占位符文本"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"notFoundContent"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"'未定义'"})}),(0,n.jsx)(s.td,{children:"变量未找到时的显示内容"})]})]})]}),"\n",(0,n.jsxs)(s.h3,{id:"variableselectorprovider-props",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#variableselectorprovider-props",children:"#"}),"VariableSelectorProvider Props"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性名"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"描述"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"skipVariable"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"(variable?: BaseVariableField) => boolean"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"自定义变量过滤函数"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"includeSchema"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IJsonSchema | IJsonSchema[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"包含的变量类型过滤条件"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"excludeSchema"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IJsonSchema | IJsonSchema[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"排除的变量类型过滤条件"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"children"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"React.ReactNode"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"子组件"})]})]})]}),"\n",(0,n.jsxs)(s.h3,{id:"usevariabletree",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#usevariabletree",children:"#"}),"useVariableTree"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性名"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"描述"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"includeSchema"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IJsonSchema | IJsonSchema[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"包含的变量类型过滤条件"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"excludeSchema"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IJsonSchema | IJsonSchema[]"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"排除的变量类型过滤条件"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"skipVariable"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"(variable?: BaseVariableField) => boolean"})}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"自定义变量过滤函数"})]})]})]}),"\n",(0,n.jsxs)(s.h2,{id:"源码导读",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#源码导读",children:"#"}),"源码导读"]}),"\n",(0,n.jsx)(a.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/variable-selector"}),"\n",(0,n.jsx)(s.p,{children:"使用 CLI 命令可以复制源代码到本地："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(s.code,{className:"language-bash",children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" components/variable-selector"})]})})})}),"\n",(0,n.jsxs)(s.h3,{id:"目录结构讲解",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#目录结构讲解",children:"#"}),"目录结构讲解"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(s.code,{className:"language-txt",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"variable-selector/"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"├── index.tsx           # 主组件实现，包含 VariableSelector 核心逻辑"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"├── context.tsx         # 提供 `VariableSelectorContext` 上下文，支持全局配置变量过滤逻辑"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"├── use-variable-tree.tsx # 自定义 Hook，处理变量树数据的转换和过滤"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"└── styles.css          # 样式文件"})})]})})}),"\n",(0,n.jsxs)(s.h3,{id:"整体流程",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#整体流程",children:"#"}),"整体流程"]}),"\n",(0,n.jsx)(i.Z,{code:"graph TD\n    A[VariableSelector 组件] ---\x3e useVariableTree\n\n    K[VariableSelectorProvider] --\x3e L[全局过滤配置]\n    subgraph useVariableTree\n      C[useAvailableVariables] --\x3e D[获取所有可用变量]\n      D --\x3e F[应用过滤条件]\n      F --\x3e G[生成树形结构]\n      M[includeSchema/excludeSchema] --\x3e F\n    end\n\n    G --\x3e H[渲染 TreeSelect]\n    L --\x3e F\n\n",config:{}}),"\n",(0,n.jsxs)(s.h3,{id:"使用到的-flowgram-api",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#使用到的-flowgram-api",children:"#"}),"使用到的 flowgram API"]}),"\n",(0,n.jsxs)(s.h4,{id:"flowgramaivariable-core",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaivariable-core",children:"#"}),"@flowgram.ai/variable-core"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"useAvailableVariables()"}),": 获取当前作用域内所有可用的变量"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"BaseVariableField"}),": 基础变量字段类型，包含变量键、类型、元数据等"]}),"\n"]}),"\n",(0,n.jsxs)(s.h4,{id:"flowgramaijson-schema",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaijson-schema",children:"#"}),"@flowgram.ai/json-schema"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"useTypeManager()"}),": 获取类型管理器，用于处理变量类型的显示和验证"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"IJsonSchema"}),": JSON Schema 类型定义，用于变量类型验证"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"JsonSchemaUtils"}),": JSON Schema 工具类，提供类型匹配和转换功能"]}),"\n"]})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,l.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["zh%2Fmaterials%2Fcomponents%2Fvariable-selector.mdx"]={toc:[{id:"案例演示",text:"案例演示",depth:2},{id:"直接使用",text:"直接使用",depth:3},{id:"过滤变量类型",text:"过滤变量类型",depth:3},{id:"自定义过滤逻辑",text:"自定义过滤逻辑",depth:3},{id:"通过-usevariabletree-获取变量树",text:"通过 useVariableTree 获取变量树",depth:3},{id:"api-参考",text:"API 参考",depth:2},{id:"variableselector-props",text:"VariableSelector Props",depth:3},{id:"variableselectorconfig",text:"VariableSelectorConfig",depth:3},{id:"variableselectorprovider-props",text:"VariableSelectorProvider Props",depth:3},{id:"usevariabletree",text:"useVariableTree",depth:3},{id:"源码导读",text:"源码导读",depth:2},{id:"目录结构讲解",text:"目录结构讲解",depth:3},{id:"整体流程",text:"整体流程",depth:3},{id:"使用到的-flowgram-api",text:"使用到的 flowgram API",depth:3},{id:"flowgramaivariable-core",text:"@flowgram.ai/variable-core",depth:4},{id:"flowgramaijson-schema",text:"@flowgram.ai/json-schema",depth:4}],title:"VariableSelector",headingTitle:"VariableSelector",frontmatter:{}}},194929:function(e,s,r){r.d(s,{$M:()=>k,lG:()=>j,w3:()=>t,yR:()=>x});var n=r(110239),l=r(908600),i=r(640898),a=r(117280),o=r(132288);let c=l.lazy(()=>Promise.all([r.e("386212"),r.e("227692"),r.e("135674"),r.e("838147"),r.e("942362"),r.e("254129"),r.e("260790"),r.e("46854"),r.e("828851"),r.e("456601")]).then(r.bind(r,929024)).then(e=>({default:e.VariableSelector}))),d=l.lazy(()=>Promise.all([r.e("386212"),r.e("227692"),r.e("135674"),r.e("838147"),r.e("942362"),r.e("254129"),r.e("260790"),r.e("46854"),r.e("828851"),r.e("456601")]).then(r.bind(r,929024)).then(e=>({default:e.VariableSelectorProvider}))),h=l.lazy(()=>Promise.resolve().then(r.bind(r,653378)).then(e=>({default:e.Tree}))),t=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(i.gNt,{name:"variable_selector",children:e=>{let{field:s}=e;return(0,n.jsx)(c,{value:s.value,onChange:e=>s.onChange(e)})}})]})}}),x=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(i.gNt,{name:"variable_selector",children:e=>{let{field:s}=e;return(0,n.jsx)(c,{value:s.value,onChange:e=>s.onChange(e),includeSchema:{type:"string"}})}})]})}}),j=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)(d,{skipVariable:e=>(null==e?void 0:e.key)==="str",children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(i.gNt,{name:"variable_selector",children:e=>{let{field:s}=e;return(0,n.jsx)(c,{value:s.value,onChange:e=>s.onChange(e)})}})]})}}),k=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{render:()=>{let e=(0,a.V)({});return(0,n.jsxs)(d,{skipVariable:e=>(null==e?void 0:e.key)==="str",children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(h,{treeData:e,defaultExpandAll:!0})]})}}})},132288:function(e,s,r){r.d(s,{p:()=>a,y:()=>o});var n=r(110239),l=r(908600);let i=l.lazy(()=>Promise.all([r.e("386212"),r.e("717802"),r.e("234079"),r.e("633566"),r.e("688975"),r.e("133914"),r.e("227692"),r.e("135674"),r.e("254129"),r.e("475509"),r.e("541460"),r.e("428647"),r.e("260790"),r.e("46854"),r.e("787220")]).then(r.bind(r,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),a=l.lazy(()=>Promise.all([r.e("386212"),r.e("717802"),r.e("234079"),r.e("633566"),r.e("688975"),r.e("133914"),r.e("227692"),r.e("135674"),r.e("254129"),r.e("475509"),r.e("541460"),r.e("428647"),r.e("260790"),r.e("46854"),r.e("787220")]).then(r.bind(r,654296)).then(e=>({default:e.FormHeader}))),o=e=>(0,n.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,n.jsx)(i,{...e})})},980812:function(e,s,r){r.d(s,{WT:()=>a,yA:()=>o});var n=r(110239),l=r(908600);let i=(0,l.createContext)({}),a=()=>(0,l.useContext)(i),o=e=>{let{children:s,skipVariable:r,includeSchema:a,excludeSchema:o}=e,c=(0,l.useMemo)(()=>({skipVariable:r,includeSchema:a,excludeSchema:o}),[r,a,o]);return(0,n.jsx)(i.Provider,{value:c,children:s})}},117280:function(e,s,r){r.d(s,{V:()=>d});var n=r(110239),l=r(908600),i=r(937643),a=r(950454),o=r(653378),c=r(980812);function d(e){let s=(0,c.WT)(),{includeSchema:r=s.includeSchema,excludeSchema:d=s.excludeSchema,skipVariable:h=s.skipVariable}=e,t=(0,i.MT)(),x=(0,a.LF0)(),j=(0,l.useCallback)(e=>{var s;if(null==(s=e.meta)?void 0:s.icon)return"string"==typeof e.meta.icon?(0,n.jsx)("img",{style:{marginRight:8},width:12,height:12,src:e.meta.icon}):e.meta.icon;let r=i.Kz.astToSchema(e.type,{drilldownObject:!1});return(0,n.jsx)(o.Icon,{size:"small",svg:t.getDisplayIcon(r||{})})},[]),k=function(e){var s,n,l;let o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=null==e?void 0:e.type;if(!t)return null;a.GwP.isObject(t)&&(o=(t.properties||[]).map(s=>k(s,[...c,e])).filter(Boolean));let x=[...c.map(e=>e.key),e.key],p=x.join("."),v=!r||i.Kz.isASTMatchSchema(t,r),y=!!d&&i.Kz.isASTMatchSchema(t,d),u=!!h&&h(e),m=null==(s=e.meta)?void 0:s.disabled,g=v&&!y&&!u&&!m;return g||(null==o?void 0:o.length)?{key:p,label:(null==(n=e.meta)?void 0:n.title)||e.key,value:p,keyPath:x,icon:j(e),children:o,disabled:!g,rootMeta:(null==(l=c[0])?void 0:l.meta)||e.meta,isRoot:!(null==c?void 0:c.length)}:null};return[...x.slice(0).reverse()].map(e=>k(e)).filter(Boolean)}}}]);