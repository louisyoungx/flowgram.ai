"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["100929"],{278071:function(e,s,n){n.r(s),n.d(s,{default:()=>c});var r=n(110239),i=n(437562),l=n(441332),a=n(944529),d=n(779465);function h(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"assignrows",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#assignrows",children:"#"}),"AssignRows"]}),"\n",(0,r.jsxs)(s.p,{children:["AssignRows 是一个赋值行列表组件，基于 ",(0,r.jsx)(s.code,{children:"FieldArray"})," 实现，支持动态添加和删除赋值行。"]}),"\n",(0,r.jsxs)(s.p,{children:["组件提供了两个操作按钮：",(0,r.jsx)(s.strong,{children:"赋值"})," 和 ",(0,r.jsx)(s.strong,{children:"声明"}),"，可以分别添加赋值模式和声明模式的赋值行。每个赋值行都可以独立配置和删除。"]}),"\n",(0,r.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,r.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(s.div,{className:"rspress-directive-content",children:(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"AssignRows"})," 通常和 ",(0,r.jsx)(s.a,{href:"/materials/form-plugins/infer-assign-plugin.html",children:(0,r.jsx)(s.code,{children:"infer-assign-plugin"})})," 表单插件一起使用，用于将定义的声明转换为节点的输出变量，并实现类型的自动联动。"]})})]}),"\n",(0,r.jsxs)(s.h2,{id:"案例演示",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#案例演示",children:"#"}),"案例演示"]}),"\n",(0,r.jsxs)(s.h3,{id:"基本使用",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#基本使用",children:"#"}),"基本使用"]}),"\n",(0,r.jsx)(d.w,{}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,r.jsxs)(s.code,{className:"language-tsx",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { AssignRows } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"AssignRows"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"assign_rows"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,r.jsxs)(s.h2,{id:"api-参考",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#api-参考",children:"#"}),"API 参考"]}),"\n",(0,r.jsxs)(s.h3,{id:"assignrows-props",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#assignrows-props",children:"#"}),"AssignRows Props"]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"属性名"}),(0,r.jsx)(s.th,{children:"类型"}),(0,r.jsx)(s.th,{children:"默认值"}),(0,r.jsx)(s.th,{children:"描述"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"name"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"string"})}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"表单字段名称，用于 FieldArray"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"readonly"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"boolean"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"false"})}),(0,r.jsx)(s.td,{children:"是否为只读模式"})]})]})]}),"\n",(0,r.jsxs)(s.h2,{id:"源码导读",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#源码导读",children:"#"}),"源码导读"]}),"\n",(0,r.jsx)(a.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/assign-rows"}),"\n",(0,r.jsx)(s.p,{children:"使用 CLI 命令可以复制源代码到本地："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" components/assign-rows"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"目录结构讲解",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#目录结构讲解",children:"#"}),"目录结构讲解"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(s.code,{className:"language-txt",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{children:"assign-rows/"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{children:"└── index.tsx     # AssignRows 组件主实现"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"核心实现说明",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#核心实现说明",children:"#"}),"核心实现说明"]}),"\n",(0,r.jsxs)(s.p,{children:["AssignRows 组件的核心功能是基于 ",(0,r.jsx)(s.code,{children:"FieldArray"})," 实现的动态列表管理："]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"动态添加"}),"：提供两个按钮分别添加赋值模式和声明模式的行"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"动态删除"}),"：每行都支持独立的删除操作"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"状态管理"}),"：使用 ",(0,r.jsx)(s.code,{children:"FieldArray"})," 管理整个列表的状态"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"组件复用"}),"：每行都复用 ",(0,r.jsx)(s.code,{children:"AssignRow"})," 组件"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"组件工作流程",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#组件工作流程",children:"#"}),"组件工作流程"]}),"\n",(0,r.jsx)(l.Z,{code:"graph TD\n    A[AssignRows 组件] --\x3e B[FieldArray 包装]\n    B --\x3e C[渲染现有行列表]\n    C --\x3e D[每行使用 AssignRow]\n    D --\x3e E[支持 onChange 和 onDelete]\n\n    B --\x3e F[添加按钮区域]\n    F --\x3e G[赋值按钮]\n    F --\x3e H[声明按钮]\n\n    G --\x3e I[添加赋值行]\n    H --\x3e J[添加声明行]\n\n    I --\x3e K[调用 field.append]\n    J --\x3e K\n\n    E --\x3e L[调用 field.remove]",config:{}}),"\n",(0,r.jsxs)(s.h3,{id:"依赖梳理",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#依赖梳理",children:"#"}),"依赖梳理"]}),"\n",(0,r.jsxs)(s.h4,{id:"flowgram-api",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-api",children:"#"}),"flowgram API"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/client/editor",rel:"noopener noreferrer",target:"_blank",children:(0,r.jsx)(s.strong,{children:"@flowgram.ai/editor"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"FieldArray"}),": 表单数组字段组件，用于管理动态列表"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"FieldArrayRenderProps"}),": FieldArray 渲染属性类型"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"其他物料",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#其他物料",children:"#"}),"其他物料"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/materials/components/assign-row.html",children:(0,r.jsx)(s.strong,{children:"AssignRow"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"AssignRow"}),": 赋值行组件，处理单行逻辑"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"AssignValueType"}),": 赋值行值类型定义"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"第三方库",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#第三方库",children:"#"}),"第三方库"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://semi.design/zh-CN/",rel:"noopener noreferrer",target:"_blank",children:(0,r.jsx)(s.strong,{children:"Semi Design"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Button"}),": 按钮组件"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"IconPlus"}),": 加号图标"]}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["zh%2Fmaterials%2Fcomponents%2Fassign-rows.mdx"]={toc:[{id:"案例演示",text:"案例演示",depth:2},{id:"基本使用",text:"基本使用",depth:3},{id:"api-参考",text:"API 参考",depth:2},{id:"assignrows-props",text:"AssignRows Props",depth:3},{id:"源码导读",text:"源码导读",depth:2},{id:"目录结构讲解",text:"目录结构讲解",depth:3},{id:"核心实现说明",text:"核心实现说明",depth:3},{id:"组件工作流程",text:"组件工作流程",depth:4},{id:"依赖梳理",text:"依赖梳理",depth:3},{id:"flowgram-api",text:"flowgram API",depth:4},{id:"其他物料",text:"其他物料",depth:4},{id:"第三方库",text:"第三方库",depth:4}],title:"AssignRows",headingTitle:"AssignRows",frontmatter:{}}},779465:function(e,s,n){n.d(s,{w:()=>d});var r=n(110239),i=n(908600),l=n(132288);let a=i.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("838147"),n.e("933451"),n.e("942362"),n.e("917828"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("232558"),n.e("673693"),n.e("263869")]).then(n.bind(n,261548)).then(e=>({default:e.AssignRows}))),d=()=>(0,r.jsx)(l.y,{filterEndNode:!0,formMeta:{render:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.p,{}),(0,r.jsx)(a,{name:"assign_rows"})]})}})},132288:function(e,s,n){n.d(s,{p:()=>a,y:()=>d});var r=n(110239),i=n(908600);let l=i.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("933451"),n.e("917828"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("690536")]).then(n.bind(n,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),a=i.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("933451"),n.e("917828"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("690536")]).then(n.bind(n,654296)).then(e=>({default:e.FormHeader}))),d=e=>(0,r.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,r.jsx)(l,{...e})})}}]);