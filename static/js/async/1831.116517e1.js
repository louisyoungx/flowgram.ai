"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["1831"],{866146:function(e,t,n){n.r(t),n.d(t,{VariableTree:()=>u});var i=n(110239),r=n(908600),a=n(11611),s=n(414682),o=n(617704),c=n(117280);let l=["{","{}","@"];function u(e){let{triggerCharacters:t=l}=e,[n,u]=(0,r.useState)(""),[f,d]=(0,r.useState)(!1),[g,h]=(0,r.useState)(-1),p=(0,a.jE)();(0,r.useEffect)(()=>{if(!p)return},[p,f]);let m=(0,c.V)({});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.pf,{triggerCharacters:t,onOpenChange:function(e){h(e.state.selection.main.head),d(e.value)}}),(0,i.jsx)(o.J2,{visible:f,trigger:"custom",position:"topLeft",rePosKey:n,content:(0,i.jsx)("div",{style:{width:300,maxHeight:300,overflowY:"auto"},children:(0,i.jsx)(o.mp,{treeData:m,onExpand:e=>{u(String(Math.random()))},onSelect:e=>{!function(e){let t=(0,s.m4)(p.$view.state);if(!t)return;let{from:n,to:i}=t;for(;"{"===p.$view.state.doc.sliceString(n-1,n);)n--;for(;"}"===p.$view.state.doc.sliceString(i,i+1);)i++;p.replaceText({from:n,to:i,text:"{{"+e+"}}"}),d(!1)}(e)}})}),children:(0,i.jsx)(s.Iq,{position:g,onChange:()=>u(String(Math.random()))})})]})}}}]);