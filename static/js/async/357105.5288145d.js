"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["357105"],{312889:function(e,r,s){s.r(r),s.d(r,{default:()=>c});var n=s(110239),i=s(437562),a=s(441332),l=s(321896),o=s(284128);function t(e){let r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"jsoneditorwithvariables",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#jsoneditorwithvariables",children:"#"}),"JsonEditorWithVariables"]}),"\n",(0,n.jsxs)(r.p,{children:["JsonEditorWithVariables is an enhanced JSON editor that supports inserting variable references into JSON. Built on JsonCodeEditor, it integrates variable selectors and variable tag injection functionality, allowing users to reference variables in JSON strings using the ",(0,n.jsx)(r.code,{children:"{{variable}}"})," syntax."]}),"\n",(0,n.jsxs)(r.h2,{id:"demo",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#demo",children:"#"}),"Demo"]}),"\n",(0,n.jsxs)(r.h3,{id:"basic-usage",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#basic-usage",children:"#"}),"Basic Usage"]}),"\n",(0,n.jsx)(o.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { JsonEditorWithVariables } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"json_editor_with_variables"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" defaultValue"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'`{ "a": {{start_0.str}} }`'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"JsonEditorWithVariables"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(value)}"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          />"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"json-with-variables-example",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#json-with-variables-example",children:"#"}),"JSON with Variables Example"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-json",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:'  "user_info"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "name"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "{{start_0.name}}"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "email"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "{{start_0.email}}"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"variable-insertion",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-insertion",children:"#"}),"Variable Insertion"]}),"\n",(0,n.jsxs)(r.p,{children:["Enter the ",(0,n.jsx)(r.code,{children:"@"})," character in the editor to trigger the variable selector."]}),"\n",(0,n.jsxs)(r.p,{children:["After entering ",(0,n.jsx)(r.code,{children:"@"}),", a list of available variables will be displayed. Selecting a variable will automatically insert it in the ",(0,n.jsx)(r.code,{children:"{{variable.name}}"})," format."]}),"\n",(0,n.jsxs)(r.h2,{id:"api-reference",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"}),"API Reference"]}),"\n",(0,n.jsxs)(r.h3,{id:"jsoneditorwithvariables-props",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#jsoneditorwithvariables-props",children:"#"}),"JsonEditorWithVariables Props"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"value"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"JSON string content"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"onChange"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"(value: string) => void"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Callback function when content changes"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"theme"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"'dark' | 'light'"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"'light'"})}),(0,n.jsx)(r.td,{children:"Editor theme"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"placeholder"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Placeholder text"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"activeLinePlaceholder"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"'Press @ to select variable'"})}),(0,n.jsx)(r.td,{children:"Current line placeholder hint"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"readonly"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"false"})}),(0,n.jsx)(r.td,{children:"Whether it's read-only mode"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"options"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Options"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"CodeMirror configuration options"})]})]})]}),"\n",(0,n.jsxs)(r.h3,{id:"variable-syntax",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-syntax",children:"#"}),"Variable Syntax"]}),"\n",(0,n.jsx)(r.p,{children:"Use double curly brace syntax to reference variables in JSON strings:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-json",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:'  "key"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "{{variable.path}}"'})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(r.p,{children:"Supported variable formats:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"{{start_0.name}}"})," - Simple variable"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"{{start_0.address.city}}"})," - Nested property"]}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"source-code-guide",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-guide",children:"#"}),"Source Code Guide"]}),"\n",(0,n.jsx)(l.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/json-editor-with-variables"}),"\n",(0,n.jsx)(r.p,{children:"Use CLI command to copy source code locally:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-bash",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" components/json-editor-with-variables"})]})})})}),"\n",(0,n.jsxs)(r.h3,{id:"directory-structure-explanation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#directory-structure-explanation",children:"#"}),"Directory Structure Explanation"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-txt",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"json-editor-with-variables/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── index.tsx           # Lazy loading export file"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── editor.tsx          # Main component implementation"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"└── README.md          # Component documentation"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"core-implementation-explanation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#core-implementation-explanation",children:"#"}),"Core Implementation Explanation"]}),"\n",(0,n.jsxs)(r.h4,{id:"variable-syntax-parsing",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-syntax-parsing",children:"#"}),"Variable Syntax Parsing"]}),"\n",(0,n.jsx)(r.p,{children:"Parse variable references in JSON through regular expressions:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-typescript",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" matches"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" findAllMatches"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(originalSource"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" /\\{\\{(["}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"^"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\\}]"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:")\\}\\}/"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"g"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:");"})]})})})}),"\n",(0,n.jsxs)(r.h4,{id:"variable-selector-integration",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-selector-integration",children:"#"}),"Variable Selector Integration"]}),"\n",(0,n.jsxs)(r.p,{children:["Integrate ",(0,n.jsx)(r.code,{children:"EditorVariableTree"})," and ",(0,n.jsx)(r.code,{children:"EditorVariableTagInject"})," extensions:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-typescript",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"EditorVariableTree triggerCharacters"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{TRIGGER_CHARACTERS} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"EditorVariableTagInject "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]})]})})}),"\n",(0,n.jsxs)(r.h4,{id:"trigger-character",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#trigger-character",children:"#"}),"Trigger Character"]}),"\n",(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"@"})," as the trigger character for variable selection:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-typescript",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" TRIGGER_CHARACTERS"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"];"})]})})})}),"\n",(0,n.jsxs)(r.h3,{id:"flowgram-apis-used",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-apis-used",children:"#"}),"Flowgram APIs Used"]}),"\n",(0,n.jsxs)(r.h4,{id:"flowgramaicoze-editor",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaicoze-editor",children:"#"}),"@flowgram.ai/coze-editor"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"JsonCodeEditor"}),": JSON code editor"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"transformerCreator"}),": Syntax transformer creator"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTree"}),": Variable tree selector"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTagInject"}),": Variable tag injector"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Text"}),": Text processing tool"]}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"flowgramaii18n",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaii18n",children:"#"}),"@flowgram.ai/i18n"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"I18n"}),": Internationalization support"]}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"coze-editor-extensions-material",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#coze-editor-extensions-material",children:"#"}),"coze-editor-extensions Material"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTree"}),": Variable tree selection trigger"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTagInject"}),": Variable tag display"]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"overall-process",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#overall-process",children:"#"}),"Overall Process"]}),"\n",(0,n.jsx)(a.Z,{code:"graph TD\n    A[JsonEditorWithVariables Component] --\x3e B[Render JsonCodeEditor]\n    B --\x3e C[Load JSON Syntax Highlighting]\n    B --\x3e D[Integrate Variable Extensions]\n\n    D --\x3e E[EditorVariableTree]\n    D --\x3e F[EditorVariableTagInject]\n\n    E --\x3e G[Listen for @ Trigger]\n    F --\x3e H[Process Variable Tags]\n\n    G --\x3e I[Display Variable List]\n    I --\x3e J[Select and Insert Variable]\n\n    H --\x3e L[Render Variable Tag Styles]\n\n    J --\x3e M[Update Editor Content]",config:{}}),"\n",(0,n.jsxs)(r.h4,{id:"custom-trigger-characters",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-trigger-characters",children:"#"}),"Custom Trigger Characters"]}),"\n",(0,n.jsx)(r.p,{children:"Can extend support for more trigger characters:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-typescript",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" CUSTOM_TRIGGERS"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '#'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '$'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"];"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"JsonCodeEditor"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  options"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    transformer"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" customTransformer"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  }}"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"  <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"EditorVariableTree triggerCharacters"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{CUSTOM_TRIGGERS} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"</"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"JsonCodeEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})]})})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fmaterials%2Fcomponents%2Fjson-editor-with-variables.mdx"]={toc:[{id:"demo",text:"Demo",depth:2},{id:"basic-usage",text:"Basic Usage",depth:3},{id:"json-with-variables-example",text:"JSON with Variables Example",depth:3},{id:"variable-insertion",text:"Variable Insertion",depth:3},{id:"api-reference",text:"API Reference",depth:2},{id:"jsoneditorwithvariables-props",text:"JsonEditorWithVariables Props",depth:3},{id:"variable-syntax",text:"Variable Syntax",depth:3},{id:"source-code-guide",text:"Source Code Guide",depth:2},{id:"directory-structure-explanation",text:"Directory Structure Explanation",depth:3},{id:"core-implementation-explanation",text:"Core Implementation Explanation",depth:3},{id:"variable-syntax-parsing",text:"Variable Syntax Parsing",depth:4},{id:"variable-selector-integration",text:"Variable Selector Integration",depth:4},{id:"trigger-character",text:"Trigger Character",depth:4},{id:"flowgram-apis-used",text:"Flowgram APIs Used",depth:3},{id:"flowgramaicoze-editor",text:"@flowgram.ai/coze-editor",depth:4},{id:"flowgramaii18n",text:"@flowgram.ai/i18n",depth:4},{id:"coze-editor-extensions-material",text:"coze-editor-extensions Material",depth:4},{id:"overall-process",text:"Overall Process",depth:3},{id:"custom-trigger-characters",text:"Custom Trigger Characters",depth:4}],title:"JsonEditorWithVariables",headingTitle:"JsonEditorWithVariables",frontmatter:{}}},284128:function(e,r,s){s.d(r,{w:()=>t});var n=s(110239),i=s(908600),a=s(640898),l=s(132288);let o=i.lazy(()=>Promise.all([s.e("386212"),s.e("834812"),s.e("767597"),s.e("838147"),s.e("942362"),s.e("800699"),s.e("428647"),s.e("260790"),s.e("308529"),s.e("588485"),s.e("774932")]).then(s.bind(s,929024)).then(e=>({default:e.JsonEditorWithVariables}))),t=()=>(0,n.jsx)(l.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)("div",{style:{width:400},children:[(0,n.jsx)(l.p,{}),(0,n.jsx)(a.gNt,{name:"json_editor_with_variables",defaultValue:'{ "a": {{start_0.str}}}',children:e=>{let{field:r}=e;return(0,n.jsx)(o,{value:r.value,onChange:e=>r.onChange(e)})}})]})}})},132288:function(e,r,s){s.d(r,{p:()=>l,y:()=>o});var n=s(110239),i=s(908600);let a=i.lazy(()=>Promise.all([s.e("386212"),s.e("717802"),s.e("234079"),s.e("633566"),s.e("688975"),s.e("834812"),s.e("767597"),s.e("800699"),s.e("475509"),s.e("541460"),s.e("428647"),s.e("260790"),s.e("308529"),s.e("534505")]).then(s.bind(s,417587)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),l=i.lazy(()=>Promise.all([s.e("386212"),s.e("717802"),s.e("234079"),s.e("633566"),s.e("688975"),s.e("834812"),s.e("767597"),s.e("800699"),s.e("475509"),s.e("541460"),s.e("428647"),s.e("260790"),s.e("308529"),s.e("534505")]).then(s.bind(s,417587)).then(e=>({default:e.FormHeader}))),o=e=>(0,n.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,n.jsx)(a,{...e})})}}]);