"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["523737"],{657341:function(e,t,o){o.r(t),o.d(t,{DemoFreeLayout:()=>y});var n=o(110239),i=o(640898),a=o(908600),r=o(330893),d=o(773898);let l=[{type:"start",meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"output"}]}},{type:"condition",meta:{defaultPorts:[{type:"input"}]},formMeta:{formatOnInit:e=>({portKeys:["if","else"],...e}),effect:{portKeys:[{event:i.zEJ.onValueInitOrChange,effect:e=>{let{value:t,context:o}=e,{node:n}=o,i=t.map((e,t)=>({type:"output",portID:e,location:"right",locationConfig:{right:0,top:(t+1)*30}}));n.ports.updateAllPorts([{type:"input"},...i])}}]},render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.gNt,{name:"title",children:e=>{let{field:t}=e;return(0,n.jsx)("div",{className:"demo-free-node-title",children:t.value})}}),(0,n.jsx)(i.gNt,{name:"portKeys",children:e=>{let{field:{value:t,onChange:o}}=e;return(0,n.jsxs)("div",{className:"demo-free-node-content",style:{width:160,height:30*t.length,minHeight:60},children:[(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>o(t.concat(`if_${t.length}`)),children:"Add Port"})}),(0,n.jsx)("div",{style:{marginTop:8},children:(0,n.jsx)("button",{onClick:()=>o(t.filter((e,t,o)=>t!==o.length-1)),children:"Delete Port"})})]})}})]})}},{type:"chain",meta:{defaultPorts:[{type:"input"},{type:"output"},{portID:"p4",location:"bottom",locationConfig:{left:"33%",bottom:0},type:"output"},{portID:"p5",location:"bottom",locationConfig:{left:"66%",bottom:0},type:"output"}]}},{type:"tool",meta:{defaultPorts:[{location:"top",type:"input"}]}},{type:"twoway",meta:{defaultPorts:[{type:"input",portID:"input-left",location:"left"},{type:"output",portID:"output-left",location:"left"},{type:"input",portID:"input-right",location:"right"},{type:"output",portID:"output-right",location:"right"}]}},{type:"end",meta:{deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"input"}]}},{type:"custom",meta:{},defaultPorts:[{type:"output"},{type:"input"}]}],s={nodes:[{id:"start_0",type:"start",meta:{position:{x:150,y:100}},data:{title:"Start",content:"Start content"}},{id:"node_0",type:"condition",meta:{position:{x:550,y:100}},data:{title:"Condition",content:"Condition node content",ports:["if","else"]}},{id:"end_0",type:"end",meta:{position:{x:1350,y:100}},data:{title:"End",content:"End content"}},{id:"144150",type:"node1",meta:{position:{x:950,y:0}},data:{title:"New Node1",content:"xxxx"}},{id:"118937",type:"node2",meta:{position:{x:950,y:200}},data:{title:"New Node2",content:"xxxx"}},{id:"chain0",type:"chain",meta:{position:{x:150,y:246}},data:{title:"Chain",content:"xxxx"}},{id:"100260",type:"tool",meta:{position:{x:55.8,y:410}},data:{title:"New Tool",content:"xxxx"}},{id:"105108",type:"tool",meta:{position:{x:280.5,y:410}},data:{title:"New Tool",content:"xxxx"}},{id:"106070",type:"twoway",meta:{position:{x:550,y:310}},data:{title:"New Twoway",content:"xxxx"}},{id:"122116",type:"twoway",meta:{position:{x:866.0091156462586,y:422.4669387755102}},data:{title:"New Twoway",content:"xxxx"}}],edges:[{sourceNodeID:"start_0",targetNodeID:"node_0"},{sourceNodeID:"node_0",targetNodeID:"144150",sourcePortID:"if"},{sourceNodeID:"node_0",targetNodeID:"118937",sourcePortID:"else"},{sourceNodeID:"118937",targetNodeID:"end_0"},{sourceNodeID:"144150",targetNodeID:"end_0"},{sourceNodeID:"chain0",targetNodeID:"100260",sourcePortID:"p4"},{sourceNodeID:"chain0",targetNodeID:"105108",sourcePortID:"p5"},{sourceNodeID:"122116",targetNodeID:"106070",sourcePortID:"output-left",targetPortID:"input-right"},{sourceNodeID:"106070",targetNodeID:"122116",sourcePortID:"output-right",targetPortID:"input-left"}]};function c(){let{history:e}=(0,i.sX$)(),t=(0,i.erw)(),[o,r]=(0,a.useState)(!1),[d,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let t=e.undoRedoService.onChange(()=>{r(e.canUndo()),l(e.canRedo())});return()=>t.dispose()},[e]),(0,n.jsxs)("div",{style:{position:"absolute",zIndex:10,bottom:16,left:226,display:"flex",gap:8},children:[(0,n.jsx)("button",{onClick:()=>t.zoomin(),children:"ZoomIn"}),(0,n.jsx)("button",{onClick:()=>t.zoomout(),children:"ZoomOut"}),(0,n.jsx)("button",{onClick:()=>t.fitView(),children:"Fitview"}),(0,n.jsx)("button",{onClick:()=>t.autoLayout(),children:"AutoLayout"}),(0,n.jsx)("button",{onClick:()=>t.switchLineType(t.lineType===i.SPu.BEZIER?i.SPu.LINE_CHART:i.SPu.BEZIER),children:t.lineType===i.SPu.BEZIER?"Bezier":"Fold"}),(0,n.jsx)("button",{onClick:()=>e.undo(),disabled:!o,children:"Undo"}),(0,n.jsx)("button",{onClick:()=>e.redo(),disabled:!d,children:"Redo"}),(0,n.jsxs)("span",{children:[Math.floor(100*t.zoom),"%"]})]})}let u=["Node1","Node2","Condition","Chain","Tool","Twoway"],p=e=>{let t=(0,i.G2Z)(i.iwM);return(0,n.jsx)("div",{className:"demo-free-sidebar",children:u.map(e=>(0,n.jsx)("div",{className:"demo-free-card",onMouseDown:o=>t.startDragCard(e.toLowerCase(),o,{data:{title:`New ${e}`,content:"xxxx"}}),children:e},e))})},x=()=>(0,n.jsx)("div",{style:{position:"absolute",left:226,bottom:51,zIndex:100,width:198},children:(0,n.jsx)(r.Zd,{containerStyles:{pointerEvents:"auto",position:"relative",top:"unset",right:"unset",bottom:"unset",left:"unset"},inactiveStyle:{opacity:1,scale:1,translateX:0,translateY:0}})});o(530371),o(309343);let y=()=>{let e=(0,a.useMemo)(()=>({background:!0,readonly:!1,initialData:s,nodeRegistries:l,fromNodeJSON:(e,t)=>t,toNodeJSON:(e,t)=>t,getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0},formMeta:{render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.gNt,{name:"title",children:e=>{let{field:t}=e;return(0,n.jsx)("div",{className:"demo-free-node-title",children:t.value})}}),(0,n.jsx)("div",{className:"demo-free-node-content",children:(0,n.jsx)(i.gNt,{name:"content",children:(0,n.jsx)("input",{})})})]})}}),materials:{renderDefaultNode:e=>{let{form:t}=(0,i.PVB)();return(0,n.jsx)(i.IxS,{className:"demo-free-node",node:e.node,children:null==t?void 0:t.render()})}},onContentChange(e,t){console.log("Auto Save: ",t,e.document.toJSON())},nodeEngine:{enable:!0},history:{enable:!0,enableChangeNode:!0},onInit:e=>{},onAllLayersRendered(e){e.document.fitView(!1)},onDispose(){console.log("---- Playground Dispose ----")},plugins:()=>[(0,r.qP)({disableLayer:!0,canvasStyle:{canvasWidth:182,canvasHeight:102,canvasPadding:50,canvasBackground:"rgba(245, 245, 245, 1)",canvasBorderRadius:10,viewportBackground:"rgba(235, 235, 235, 1)",viewportBorderRadius:4,viewportBorderColor:"rgba(201, 201, 201, 1)",viewportBorderWidth:1,viewportBorderDashLength:2,nodeColor:"rgba(255, 255, 255, 1)",nodeBorderRadius:2,nodeBorderWidth:.145,nodeBorderColor:"rgba(6, 7, 9, 0.10)",overlayColor:"rgba(255, 255, 255, 0)"}}),(0,d.Z)({edgeColor:"#00B2B2",alignColor:"#00B2B2",edgeLineWidth:1,alignLineWidth:1,alignCrossWidth:8})]}),[]);return(0,n.jsx)(i.EhS,{...e,children:(0,n.jsxs)("div",{className:"demo-free-container",children:[(0,n.jsxs)("div",{className:"demo-free-layout",children:[(0,n.jsx)(p,{}),(0,n.jsx)(i.R6T,{className:"demo-free-editor"})]}),(0,n.jsx)(c,{}),(0,n.jsx)(x,{})]})})}}}]);