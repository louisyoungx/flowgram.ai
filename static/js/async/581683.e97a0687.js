"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["581683"],{196991:function(e,r,s){s.r(r),s.d(r,{default:()=>t});var n=s(110239),i=s(437562),a=s(441332),l=s(944529),o=s(425810);function c(e){let r={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"batchvariableselector",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#batchvariableselector",children:"#"}),"BatchVariableSelector"]}),"\n",(0,n.jsxs)(r.p,{children:["BatchVariableSelector is a component for selecting array-type variables. It's a wrapper around ",(0,n.jsx)(r.a,{href:"/en/materials/components/variable-selector.html",children:"VariableSelector"})," that automatically filters the variable tree to show only array-type variables and provides private scope support. It's commonly used in batch processing scenarios (such as selecting loop data sources in Loop nodes)."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Core Features:"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\uD83D\uDD0D ",(0,n.jsx)(r.strong,{children:"Auto Filtering"}),": Only displays array-type (",(0,n.jsx)(r.code,{children:"type: 'array'"}),") variables"]}),"\n",(0,n.jsxs)(r.li,{children:["\uD83D\uDD10 ",(0,n.jsx)(r.strong,{children:"Private Scope"}),": Provides isolated variable scope through ",(0,n.jsx)(r.a,{href:"/en/guide/variable/concept.html#node-private-scope",children:(0,n.jsx)(r.code,{children:"PrivateScopeProvider"})})]}),"\n",(0,n.jsxs)(r.li,{children:["\uD83C\uDFAF ",(0,n.jsx)(r.strong,{children:"Specialized Scenarios"}),": Designed for batch processing, loops, and other scenarios requiring array data sources"]}),"\n",(0,n.jsxs)(r.li,{children:["\uD83D\uDCE6 ",(0,n.jsx)(r.strong,{children:"Ready to Use"}),": No need to manually configure schema filtering conditions, automatically applies array type constraints"]}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"examples",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#examples",children:"#"}),"Examples"]}),"\n",(0,n.jsxs)(r.h3,{id:"basic-usage",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#basic-usage",children:"#"}),"Basic Usage"]}),"\n",(0,n.jsx)(o.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { BatchVariableSelector"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" VariableSelector } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      {"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-comment)"},children:"/* BatchVariableSelector only shows array-type variables */"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"[] "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"batch_variable"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"BatchVariableSelector"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(value)}"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          />"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      {"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-comment)"},children:"/* VariableSelector shows all variable types */"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"[] "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"normal_variable"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelector"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(value)}"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          />"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h2,{id:"api-reference",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"}),"API Reference"]}),"\n",(0,n.jsxs)(r.h3,{id:"batchvariableselector-props",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#batchvariableselector-props",children:"#"}),"BatchVariableSelector Props"]}),"\n",(0,n.jsxs)(r.p,{children:["BatchVariableSelector inherits all properties from ",(0,n.jsx)(r.a,{href:"/en/materials/components/variable-selector.html",children:"VariableSelector"}),", but the ",(0,n.jsx)(r.code,{children:"includeSchema"})," property is fixed to array-type filtering and cannot be customized."]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"value"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string[]"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Selected variable path array"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"onChange"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"(value?: string[]) => void"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Callback when variable selection changes"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"config"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"VariableSelectorConfig"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"{}"})}),(0,n.jsx)(r.td,{children:"Configuration object (same as VariableSelector)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"readonly"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"false"})}),(0,n.jsx)(r.td,{children:"Whether in read-only mode"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hasError"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"false"})}),(0,n.jsx)(r.td,{children:"Whether to display error state"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"style"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"React.CSSProperties"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Custom styles"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"triggerRender"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"(props: TriggerRenderProps) => React.ReactNode"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Custom trigger renderer"})]})]})]}),"\n",(0,n.jsxs)(r.div,{className:"rspress-directive warning",children:[(0,n.jsx)(r.div,{className:"rspress-directive-title",children:"WARNING"}),(0,n.jsx)(r.div,{className:"rspress-directive-content",children:(0,n.jsxs)(r.p,{children:["\n",(0,n.jsx)(r.code,{children:"includeSchema"})," and ",(0,n.jsx)(r.code,{children:"excludeSchema"})," properties are not available in BatchVariableSelector, as the component internally uses ",(0,n.jsx)(r.code,{children:"{ type: 'array', extra: { weak: true } }"})," as the fixed filtering condition."]})})]}),"\n",(0,n.jsxs)(r.h3,{id:"variableselectorconfig",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variableselectorconfig",children:"#"}),"VariableSelectorConfig"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"placeholder"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"'Select Variable'"})}),(0,n.jsx)(r.td,{children:"Placeholder text"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"notFoundContent"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"'Undefined'"})}),(0,n.jsx)(r.td,{children:"Content to display when variable is not found"})]})]})]}),"\n",(0,n.jsxs)(r.h2,{id:"source-code-guide",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-guide",children:"#"}),"Source Code Guide"]}),"\n",(0,n.jsx)(l.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/batch-variable-selector"}),"\n",(0,n.jsx)(r.p,{children:"Use the CLI command to copy the source code locally:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-bash",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" components/batch-variable-selector"})]})})})}),"\n",(0,n.jsxs)(r.h3,{id:"directory-structure",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#directory-structure",children:"#"}),"Directory Structure"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-txt",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"batch-variable-selector/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"└── index.tsx           # Main component implementation with BatchVariableSelector core logic"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"core-implementation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#core-implementation",children:"#"}),"Core Implementation"]}),"\n",(0,n.jsxs)(r.h4,{id:"private-scope-mechanism",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#private-scope-mechanism",children:"#"}),"Private Scope Mechanism"]}),"\n",(0,n.jsxs)(r.p,{children:["BatchVariableSelector provides an independent variable scope for child components through ",(0,n.jsx)(r.a,{href:"/en/guide/variable/concept.html#node-private-scope",children:(0,n.jsx)(r.code,{children:"PrivateScopeProvider"})}),":"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PrivateScopeProvider"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"VariableSelector"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"props} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"includeSchema"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{batchVariableSchema} />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PrivateScopeProvider"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"PrivateScopeProvider"})," creates a ",(0,n.jsx)(r.a,{href:"/en/guide/variable/concept.html#node-private-scope",children:"node private scope"}),", which is crucial in batch processing scenarios:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Loop variable isolation"}),": In Loop nodes, loop variables for each iteration (such as ",(0,n.jsx)(r.code,{children:"item"}),", ",(0,n.jsx)(r.code,{children:"index"}),") are stored in the private scope, preventing pollution of the external scope"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Avoid naming conflicts"}),": Temporary variables defined inside batch processing nodes will not conflict with external variable names"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Support nested structures"}),": Complex batch processing logic can define multi-level variable structures in the private scope"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Data security"}),": Variables in the private scope can only be accessed by the current node and its child nodes, ensuring data security"]}),"\n"]}),"\n",(0,n.jsxs)(r.div,{className:"rspress-directive info",children:[(0,n.jsx)(r.div,{className:"rspress-directive-title",children:"INFO"}),(0,n.jsx)(r.div,{className:"rspress-directive-content",children:(0,n.jsxs)(r.p,{children:["For more detailed information about scopes, please refer to the ",(0,n.jsx)(r.a,{href:"/en/guide/variable/concept.html#variables-in-canvas",children:"Variable Concept Documentation"}),"."]})})]}),"\n",(0,n.jsxs)(r.h4,{id:"array-type-filtering",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#array-type-filtering",children:"#"}),"Array Type Filtering"]}),"\n",(0,n.jsx)(r.p,{children:"The component internally uses the following fixed schema for filtering:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-typescript",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" batchVariableSchema"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" IJsonSchema"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  type"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'array'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  extra"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { weak"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"type: 'array'"}),": Only display array-type variables"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"extra: { weak: true }"}),": Enable weak type matching, allowing potentially compatible types"]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"overall-flow",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#overall-flow",children:"#"}),"Overall Flow"]}),"\n",(0,n.jsx)(a.Z,{code:"sequenceDiagram\n    participant User\n    participant BatchVariableSelector\n    participant PrivateScopeProvider\n    participant VariableSelector\n    participant useVariableTree\n    participant VariableTree\n\n    User->>BatchVariableSelector: Select array variable\n    BatchVariableSelector->>PrivateScopeProvider: Set private scope context\n    PrivateScopeProvider->>VariableSelector: Pass array filtering schema\n    VariableSelector->>useVariableTree: Get available variable list\n    useVariableTree->>VariableTree: Query variable tree data\n    VariableTree--\x3e>useVariableTree: Return all variables\n    useVariableTree--\x3e>VariableSelector: Filter array-type variables\n    VariableSelector--\x3e>BatchVariableSelector: Render array variable selector\n    BatchVariableSelector--\x3e>User: Display selectable array variables",config:{}}),"\n",(0,n.jsxs)(r.h3,{id:"flowgram-apis-used",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-apis-used",children:"#"}),"FlowGram APIs Used"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/plugins/node-variable-plugin",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"@flowgram.ai/editor"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/node-variable-plugin/functions/PrivateScopeProvider",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"PrivateScopeProvider"})}),": Context Provider for private variable scope"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/variable/json-schema",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"@flowgram.ai/json-schema"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/json-schema/interfaces/IJsonSchema",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"IJsonSchema"})}),": JSON Schema type definition for variable type filtering"]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"dependent-materials",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#dependent-materials",children:"#"}),"Dependent Materials"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.a,{href:"/en/materials/components/variable-selector.html",children:(0,n.jsx)(r.strong,{children:"VariableSelector"})})," Base variable selector component"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"VariableSelector"}),": Core variable selection component, BatchVariableSelector is its wrapper version"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"VariableSelectorProps"}),": Property type definitions"]}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"faq",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#faq",children:"#"}),"FAQ"]}),"\n",(0,n.jsxs)(r.h3,{id:"why-is-privatescopeprovider-needed",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#why-is-privatescopeprovider-needed",children:"#"}),"Why is PrivateScopeProvider needed?"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"PrivateScopeProvider"})," provides variable scope isolation, which is important in the following scenarios:"]}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Loop Nodes"}),": In Loop nodes, each iteration needs an independent scope to store loop variables (such as ",(0,n.jsx)(r.code,{children:"item"}),", ",(0,n.jsx)(r.code,{children:"index"}),"). Refer to ",(0,n.jsx)(r.a,{href:"/en/guide/variable/concept.html#node-private-scope",children:"Variable Concept - Node Private Scope"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Nested Structures"}),": When there are nested variable declarations inside nodes, avoiding naming conflicts with external variables"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Component Reuse"}),": Ensuring variables don't interfere with each other when the same component is used in different contexts"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Data Security"}),": Variables in the private scope can only be accessed by the current node and its child nodes, ensuring data security"]}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["For more information about scope chains and variable access permissions, please refer to ",(0,n.jsx)(r.a,{href:"/en/guide/variable/concept.html#scope-chain",children:"Variable Concept - Scope Chain"}),"."]}),"\n",(0,n.jsxs)(r.h3,{id:"whats-the-difference-between-batchvariableselector-and-variableselector",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#whats-the-difference-between-batchvariableselector-and-variableselector",children:"#"}),"What's the difference between BatchVariableSelector and VariableSelector?"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Feature"}),(0,n.jsx)(r.th,{children:"BatchVariableSelector"}),(0,n.jsx)(r.th,{children:"VariableSelector"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Variable Type Filtering"}),(0,n.jsx)(r.td,{children:"Fixed to array type"}),(0,n.jsx)(r.td,{children:"Customizable"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Scope"}),(0,n.jsx)(r.td,{children:"Built-in private scope"}),(0,n.jsx)(r.td,{children:"Uses current scope"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Use Cases"}),(0,n.jsx)(r.td,{children:"Batch processing, loops, etc."}),(0,n.jsx)(r.td,{children:"General variable selection"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Schema Configuration"}),(0,n.jsx)(r.td,{children:"Not configurable"}),(0,n.jsx)(r.td,{children:"Fully configurable"})]})]})]}),"\n",(0,n.jsxs)(r.h3,{id:"how-to-get-the-actual-value-of-the-selected-variable",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-get-the-actual-value-of-the-selected-variable",children:"#"}),"How to get the actual value of the selected variable?"]}),"\n",(0,n.jsxs)(r.p,{children:["BatchVariableSelector returns a variable path (",(0,n.jsx)(r.code,{children:"string[]"}),"). To get the actual value, you need to use ",(0,n.jsx)(r.a,{href:"/en/materials/effects/provide-batch-input.html",children:(0,n.jsx)(r.code,{children:"provideBatchInputEffect"})})," in the form's effect:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-typescript",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  render"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" YourFormRender"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  effect"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    yourFieldName"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" provideBatchInputEffect"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"provideBatchInputEffect"})," automatically resolves variable references and injects them into the form data."]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["en%2Fmaterials%2Fcomponents%2Fbatch-variable-selector.mdx"]={toc:[{id:"examples",text:"Examples",depth:2},{id:"basic-usage",text:"Basic Usage",depth:3},{id:"api-reference",text:"API Reference",depth:2},{id:"batchvariableselector-props",text:"BatchVariableSelector Props",depth:3},{id:"variableselectorconfig",text:"VariableSelectorConfig",depth:3},{id:"source-code-guide",text:"Source Code Guide",depth:2},{id:"directory-structure",text:"Directory Structure",depth:3},{id:"core-implementation",text:"Core Implementation",depth:3},{id:"private-scope-mechanism",text:"Private Scope Mechanism",depth:4},{id:"array-type-filtering",text:"Array Type Filtering",depth:4},{id:"overall-flow",text:"Overall Flow",depth:3},{id:"flowgram-apis-used",text:"FlowGram APIs Used",depth:3},{id:"dependent-materials",text:"Dependent Materials",depth:3},{id:"faq",text:"FAQ",depth:2},{id:"why-is-privatescopeprovider-needed",text:"Why is PrivateScopeProvider needed?",depth:3},{id:"whats-the-difference-between-batchvariableselector-and-variableselector",text:"What's the difference between BatchVariableSelector and VariableSelector?",depth:3},{id:"how-to-get-the-actual-value-of-the-selected-variable",text:"How to get the actual value of the selected variable?",depth:3}],title:"BatchVariableSelector",headingTitle:"BatchVariableSelector",frontmatter:{}}},425810:function(e,r,s){s.d(r,{w:()=>t});var n=s(110239),i=s(908600),a=s(640898),l=s(132288);let o=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("838147"),s.e("933451"),s.e("942362"),s.e("917828"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("232558"),s.e("673693"),s.e("263869")]).then(s.bind(s,261548)).then(e=>({default:e.BatchVariableSelector}))),c=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("838147"),s.e("933451"),s.e("942362"),s.e("917828"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("232558"),s.e("673693"),s.e("263869")]).then(s.bind(s,261548)).then(e=>({default:e.VariableSelector}))),t=()=>(0,n.jsx)(l.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.p,{}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("div",{style:{marginBottom:8,fontSize:12,color:"#666"},children:"BatchVariableSelector (Array variables only):"}),(0,n.jsx)(a.gNt,{name:"batch_variable",children:e=>{let{field:r}=e;return(0,n.jsx)(o,{value:r.value,onChange:e=>r.onChange(e)})}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{marginBottom:8,fontSize:12,color:"#666"},children:"VariableSelector (All variables):"}),(0,n.jsx)(a.gNt,{name:"normal_variable",children:e=>{let{field:r}=e;return(0,n.jsx)(c,{value:r.value,onChange:e=>r.onChange(e)})}})]})]})}})},132288:function(e,r,s){s.d(r,{p:()=>l,y:()=>o});var n=s(110239),i=s(908600);let a=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("933451"),s.e("917828"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("690536")]).then(s.bind(s,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),l=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("933451"),s.e("917828"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("690536")]).then(s.bind(s,654296)).then(e=>({default:e.FormHeader}))),o=e=>(0,n.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,n.jsx)(a,{...e})})}}]);