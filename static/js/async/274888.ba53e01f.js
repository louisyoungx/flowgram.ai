"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["274888"],{91549:function(e,s,n){n.r(s),n.d(s,{default:()=>c});var i=n(110239),r=n(712394);let o=n.p+"static/image/en-weaving.6a6ae5c7.png";function l(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"ioc",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#ioc",children:"#"}),"IOC"]}),"\n",(0,i.jsxs)(s.h2,{id:"why-is-ioc-needed",children:[(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#why-is-ioc-needed",children:"#"}),"Why is IOC needed?"]}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive warning",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"Several concepts"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Inversion of Control: Inversion of Control, a design principle in object - oriented programming, can be used to reduce the coupling between code modules. The most common way is called Dependency Injection (DI for short)."}),"\n",(0,i.jsx)(s.li,{children:"Domain Logic: Domain Logic, also known as Business Logic, is related to specific product features."}),"\n",(0,i.jsx)(s.li,{children:'Aspect - Oriented Programming: AOP (Aspect - Oriented Programming). Its core design principle is to split the software system into multiple aspects (Aspect) of common logic (cross - cutting, with the meaning of penetration) and domain logic (vertical cutting). The cross - cutting part can be "consumed on demand" by all vertical - cutting parts.'}),"\n"]})})]}),"\n",(0,i.jsx)(s.p,{children:'Before answering this question, let\'s first understand aspect - oriented programming. The purpose of aspect - oriented programming is to split the granularity of domain logic into smaller parts. The cross - cutting part can be "consumed on demand" by the vertical - cutting part. The connection between the cross - cutting and vertical - cutting parts is also called weaving. And IOC plays the role of weaving and is injected into the vertical - cutting part.'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Aspect - Oriented Programming",src:o})}),"\n",(0,i.jsx)(s.p,{children:"Ideal Aspect - Oriented Programming"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-ts",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" myAppliation provides business logic"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" service Specific business logic services"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"     -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" customDomainLogicService"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" contributionImplement Instantiation "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"of"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" hook registrations"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" MyApplicationContributionImpl"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" component Business components"})]}),"\n",(0,i.jsx)(s.span,{className:"line"}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" core provides common logic"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" model Common models"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" contribution Hook interfaces"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"     -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" LifecycleContribution Application lifecycle"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"     -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" CommandContribution"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" service Common service services"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"     -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" CommandService"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"     -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ClipboardService"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  -"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" component Common components"})]})]})})}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,i.jsxs)(s.code,{className:"language-ts",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// IOC injection"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"@"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"injectable"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" class"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" CustomDomainLogicService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"@"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"inject"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(FlowContextService) "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"protected"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" flowContextService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" FlowContextService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"@"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"inject"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(CommandService) "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"protected"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" commandService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" CommandService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"@"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"inject"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(SelectionService) "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"protected"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" selectionService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" SelectionService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// IOC interface declaration"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" LifecycleContribution"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" onInit"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" void"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" onStart"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" void"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" onDispose"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" void"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// IOC interface implementation"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"@"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"injectable"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" class"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" MyApplicationContributionImpl"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" implements"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" LifecycleContribution"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  onStart"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" void"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"    // Specific business logic code"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(s.span,{className:"line"}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Manually attach to the lifecycle hook"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"bind"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(LifecycleContribution)"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".toService"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(MyApplicationContributionImpl)"})]})]})})}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive warning",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"IOC is an aspect-oriented programming technique, after the introduction, the underlying module can be exposed to the interface in the form of the external registration, which brings the following benefits:"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Implement a micro - kernel + plug - in design to achieve plug - and - play and on - demand consumption of plug - ins."}),"\n",(0,i.jsx)(s.li,{children:"Allow the package to be split more cleanly and achieve feature - based package splitting."}),"\n"]})})]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fguide%2Fconcepts%2Fioc.mdx"]={toc:[{id:"why-is-ioc-needed",text:"Why is IOC needed?",depth:2}],title:"IOC",headingTitle:"IOC",frontmatter:{}}}}]);