"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["600276"],{141988:function(e,r,s){s.r(r),s.d(r,{default:()=>c});var n=s(110239),i=s(437562),a=s(441332),o=s(420188),l=s(901737);function t(e){let r={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"providejsonschemaoutputs",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#providejsonschemaoutputs",children:"#"}),"provideJsonSchemaOutputs"]}),"\n",(0,n.jsx)(r.p,{children:"provideJsonSchemaOutputs is a form effect that converts JSON Schema definitions into output variables in the FlowGram variable engine."}),"\n",(0,n.jsx)(r.p,{children:"It automatically parses the JSON Schema structure defined in the form into variable declarations, allowing other nodes in the workflow to reference these outputs."}),"\n",(0,n.jsxs)(r.h2,{id:"examples",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#examples",children:"#"}),"Examples"]}),"\n",(0,n.jsxs)(r.h3,{id:"basic-usage",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#basic-usage",children:"#"}),"Basic Usage"]}),"\n",(0,n.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,n.jsx)(r.div,{className:"rspress-directive-title",children:"TIP"}),(0,n.jsx)(r.div,{className:"rspress-directive-content",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"provideJsonSchemaOutputs"})," is typically used with ",(0,n.jsx)(r.a,{href:"/en/materials/effects/sync-variable-title.html",children:(0,n.jsx)(r.code,{children:"syncVariableTitle"})})," to ensure variables ",(0,n.jsx)(r.strong,{children:"real-time synchronize with node titles"}),"."]})})]}),"\n",(0,n.jsx)(l.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { JsonSchemaEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" provideJsonSchemaOutputs"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" syncVariableTitle } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { Field } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/free-layout-editor'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"IJsonSchema"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"        name"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"outputs"'})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"        defaultValue"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          type"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'object'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          properties"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"            name"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { type"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'string'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"            age"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { type"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'number'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        }}"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      >"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"JsonSchemaEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:".value} "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(value)} />"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  effect"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-comment)"},children:"    // Sync title to variable"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    title"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" syncVariableTitle"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-comment)"},children:"    // Convert JSON Schema to output variables"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    outputs"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" provideJsonSchemaOutputs"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h2,{id:"api-reference",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"}),"API Reference"]}),"\n",(0,n.jsxs)(r.h3,{id:"providejsonschemaoutputs-1",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#providejsonschemaoutputs-1",children:"#"}),"provideJsonSchemaOutputs"]}),"\n",(0,n.jsx)(r.p,{children:"Provides a form effect that converts JSON Schema to workflow output variables."}),"\n",(0,n.jsxs)(r.h4,{id:"parameters",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"No direct parameters, used directly in formMeta.effect as a form effect"}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"return-value",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#return-value",children:"#"}),"Return Value"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EffectOptions[]"}),": Array of form effect options for formMeta.effect configuration"]}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"working-principle",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#working-principle",children:"#"}),"Working Principle"]}),"\n",(0,n.jsx)(r.p,{children:"This form effect will:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Get the JSON Schema value defined in the form"}),"\n",(0,n.jsx)(r.li,{children:"Convert the Schema to FlowGram's AST type"}),"\n",(0,n.jsx)(r.li,{children:"Create variable declaration with key name as the current node ID"}),"\n",(0,n.jsx)(r.li,{children:"Set variable metadata (title, icon, etc.)"}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"source-code-guide",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-guide",children:"#"}),"Source Code Guide"]}),"\n",(0,n.jsx)(o.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/effects/provide-json-schema-outputs/index.ts"}),"\n",(0,n.jsx)(r.p,{children:"Use CLI command to copy source code to local:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-bash",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" effects/provide-json-schema-outputs"})]})})})}),"\n",(0,n.jsxs)(r.h3,{id:"directory-structure",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#directory-structure",children:"#"}),"Directory Structure"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-txt",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"provide-json-schema-outputs/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"└── index.ts           # Main implementation file, exports provideJsonSchemaOutputs form effect"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"core-implementation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#core-implementation",children:"#"}),"Core Implementation"]}),"\n",(0,n.jsxs)(r.h4,{id:"variable-generation-logic",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-generation-logic",children:"#"}),"Variable Generation Logic"]}),"\n",(0,n.jsxs)(r.p,{children:["provideJsonSchemaOutputs uses the ",(0,n.jsx)(r.a,{href:"/en/guide/variable/variable-output.html",children:(0,n.jsx)(r.code,{children:"createEffectFromVariableProvider"})})," factory function to create variable providers. It uses the ",(0,n.jsx)(r.code,{children:"JsonSchemaUtils.schemaToAST"})," function within the effect to convert the JSON Schema filled in the form into AST."]}),"\n",(0,n.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,n.jsx)(r.div,{className:"rspress-directive-title",children:"TIP"}),(0,n.jsx)(r.div,{className:"rspress-directive-content",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"JsonSchemaUtils.schemaToAST"})," recursively parses JSON schema to generate AST, see  ",(0,n.jsx)(r.a,{href:"https://github.com/bytedance/flowgram.ai/blob/main/packages/variable-engine/json-schema/src/json-schema/utils.ts",rel:"noopener noreferrer",target:"_blank",children:"utils.ts"})]})})]}),"\n",(0,n.jsx)(r.p,{children:"Variable generation flow sequence diagram:"}),"\n",(0,n.jsx)(a.Z,{code:"sequenceDiagram\n    participant Form as Form System\n    participant Parser as parse function\n    participant AST as ASTFactory\n    participant Node as Current Node\n    participant SchemaUtils as JsonSchemaUtils\n\n    Form->>Parser: Provide JSON Schema value\n    Parser->>Node: Get node information\n    Node--\x3e>Parser: Return node ID and registry\n    Parser->>SchemaUtils: Call schemaToAST to convert type\n    SchemaUtils--\x3e>Parser: Return converted AST type\n    Parser->>AST: Create variable declaration\n    Parser->>Parser: Set variable key name as node ID\n    Parser->>Node: Get form title\n    alt Form has title\n        Node--\x3e>Parser: Return form title\n    else Form has no title\n        Node--\x3e>Parser: Use node ID as title\n    end\n    Parser->>Node: Get node icon\n    Node--\x3e>Parser: Return node icon\n    AST--\x3e>Parser: Return created variable declaration\n    Parser--\x3e>Form: Return variable declaration array",config:{}}),"\n",(0,n.jsxs)(r.h3,{id:"dependency-overview",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#dependency-overview",children:"#"}),"Dependency Overview"]}),"\n",(0,n.jsxs)(r.h4,{id:"flowgram-api",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-api",children:"#"}),"flowgram API"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/variable/json-schema",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"@flowgram.ai/json-schema"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/json-schema/modules/JsonSchemaUtils",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"JsonSchemaUtils"})}),": JSON Schema utility class for converting Schema to AST"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/json-schema/interfaces/IJsonSchema",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"IJsonSchema"})}),": JSON Schema interface definition"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/client/editor",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"@flowgram.ai/editor"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/editor/types/EffectOptions",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"EffectOptions"})}),": Form effect options type"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/document/interfaces/FlowNodeRegistry-1",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"FlowNodeRegistry"})}),": Node registration type definition"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"/en/guide/variable/variable-output.html",children:(0,n.jsx)(r.code,{children:"createEffectFromVariableProvider"})}),": Factory function to create form effects from variable providers"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/client/editor",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.strong,{children:"@flowgram.ai/variable-core"})})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://flowgram.ai/auto-docs/editor/modules/ASTFactory",rel:"noopener noreferrer",target:"_blank",children:(0,n.jsx)(r.code,{children:"ASTFactory"})}),": AST creation factory for generating variable declarations"]}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fmaterials%2Feffects%2Fprovide-json-schema-outputs.mdx"]={toc:[{id:"examples",text:"Examples",depth:2},{id:"basic-usage",text:"Basic Usage",depth:3},{id:"api-reference",text:"API Reference",depth:2},{id:"providejsonschemaoutputs",text:"provideJsonSchemaOutputs",depth:3},{id:"parameters",text:"Parameters",depth:4},{id:"return-value",text:"Return Value",depth:4},{id:"working-principle",text:"Working Principle",depth:4},{id:"source-code-guide",text:"Source Code Guide",depth:2},{id:"directory-structure",text:"Directory Structure",depth:3},{id:"core-implementation",text:"Core Implementation",depth:3},{id:"variable-generation-logic",text:"Variable Generation Logic",depth:4},{id:"dependency-overview",text:"Dependency Overview",depth:3},{id:"flowgram-api",text:"flowgram API",depth:4}],title:"provideJsonSchemaOutputs",headingTitle:"provideJsonSchemaOutputs",frontmatter:{}}},901737:function(e,r,s){s.d(r,{w:()=>d});var n=s(110239),i=s(908600),a=s(640898),o=s(236831),l=s(125812),t=s(132288);let c=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("838147"),s.e("933451"),s.e("942362"),s.e("254129"),s.e("135691"),s.e("46854"),s.e("378665"),s.e("723012")]).then(s.bind(s,129148)).then(e=>({default:e.JsonSchemaEditor}))),d=()=>(0,n.jsx)(t.y,{filterStartNode:!0,transformInitialNode:{end_0:e=>(e.data.inputsValues={success:{type:"constant",content:!0,schema:{type:"boolean"}},message:{type:"ref",content:["custom_0","name"]}},e)},formMeta:{render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{}),(0,n.jsx)(a.gNt,{name:"outputs",defaultValue:{type:"object",properties:{name:{type:"string"},age:{type:"number"}}},children:e=>{let{field:r}=e;return(0,n.jsx)(c,{value:r.value,onChange:e=>r.onChange(e)})}})]}),effect:{title:o.H,outputs:l.X}}})},132288:function(e,r,s){s.d(r,{p:()=>o,y:()=>l});var n=s(110239),i=s(908600);let a=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("933451"),s.e("254129"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("690536")]).then(s.bind(s,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),o=i.lazy(()=>Promise.all([s.e("386212"),s.e("133914"),s.e("227692"),s.e("933451"),s.e("254129"),s.e("428647"),s.e("135691"),s.e("46854"),s.e("690536")]).then(s.bind(s,654296)).then(e=>({default:e.FormHeader}))),l=e=>(0,n.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,n.jsx)(a,{...e})})},125812:function(e,r,s){s.d(r,{X:()=>a});var n=s(937643),i=s(950454);let a=(0,i.W2M)({parse:(e,r)=>{var s,a;return[i.qRT.createVariableDeclaration({key:`${r.node.id}`,meta:{title:(null==(s=r.node.form)?void 0:s.getValueIn("title"))||r.node.id,icon:null==(a=r.node.getNodeRegistry().info)?void 0:a.icon},type:n.Kz.schemaToAST(e)})]}})},236831:function(e,r,s){s.d(r,{H:()=>i});var n=s(950454);let i=[{event:n.zEJ.onValueChange,effect:e=>{let{value:r,context:s}=e;s.node.getData(n._J4).allScopes.forEach(e=>{e.output.variables.forEach(e=>{var n;e.updateMeta({...e.meta||{},title:r||s.node.id,icon:null==(n=s.node.getNodeRegistry().info)?void 0:n.icon})})})}}]}}]);