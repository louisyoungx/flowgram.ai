"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["174931"],{295321:function(e,s,r){r.r(s),r.d(s,{default:()=>c});var n=r(110239),i=r(437562),l=r(242018),a=r(420188);function o(e){let s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"listenrefvaluechange",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#listenrefvaluechange",children:"#"}),"listenRefValueChange"]}),"\n",(0,n.jsx)(s.p,{children:"Listen for changes in the value of the referenced variable and trigger a callback function when it changes."}),"\n",(0,n.jsxs)(s.h2,{id:"case-demo",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#case-demo",children:"#"}),"Case Demo"]}),"\n","\n",(0,n.jsxs)(s.h3,{id:"basic-usage",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#basic-usage",children:"#"}),"Basic Usage"]}),"\n",(0,n.jsx)(l.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(s.code,{className:"language-tsx",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { listenRefValueChange } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  effect"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    'inputsValues.*'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" listenRefValueChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(({ name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" variable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" form }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"      form"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setValueIn"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"        `log`"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"        `"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"form"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getValueIn"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`log`"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"||"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" ''"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"* "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:": "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"JSON"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".stringify"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"          variable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"?.toJSON"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"||"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" \\n`"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      );"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    })"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FormHeader"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Record"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" any"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"        name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"inputsValues"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"        defaultValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          a"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            type"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'ref'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            content"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'start_0'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'str'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"]"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          }"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        }}"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      >"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"InputsValues"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value} "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(value)} />"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"br"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"log"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" defaultValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'When variable value updated, log changes:\\n'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}>"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"pre"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" style"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{ width"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" padding"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 4"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" background"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '#f5f5f5'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" fontSize"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 12"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }}>"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            {"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"pre"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(s.h2,{id:"api-introduction",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#api-introduction",children:"#"}),"API Introduction"]}),"\n",(0,n.jsxs)(s.h3,{id:"listenrefvaluechange-1",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#listenrefvaluechange-1",children:"#"}),"listenRefValueChange"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(s.code,{className:"language-typescript",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"listenRefValueChange"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  cb: (props"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" EffectFuncProps"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"IFlowRefValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { variable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" BaseVariableField"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" void"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"): EffectOptions[]"})})]})})}),"\n",(0,n.jsxs)(s.h4,{id:"parameters",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters",children:"#"}),"Parameters"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Parameter"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cb"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"(props: EffectFuncProps<IFlowRefValue> & { variable?: BaseVariableField }) => void"})}),(0,n.jsx)(s.td,{children:"Callback function, triggered when the referenced value changes"})]})})]}),"\n",(0,n.jsxs)(s.h4,{id:"callback-function-parameters",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#callback-function-parameters",children:"#"}),"Callback Function Parameters"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Parameter"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"name"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Field name"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"value"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IFlowRefValue"})}),(0,n.jsx)(s.td,{children:"Reference value object"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"form"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"IForm"})}),(0,n.jsx)(s.td,{children:"Form instance"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"variable"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"BaseVariableField"})}),(0,n.jsx)(s.td,{children:"The variable instance pointed to by the reference"})]})]})]}),"\n",(0,n.jsxs)(s.h3,{id:"supported-value-types",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#supported-value-types",children:"#"}),"Supported Value Types"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"IFlowRefValue"}),": Reference type value, including ",(0,n.jsx)(s.code,{children:"type: 'ref'"})," and ",(0,n.jsx)(s.code,{children:"content: string[]"})]}),"\n"]}),"\n",(0,n.jsxs)(s.h2,{id:"source-code-guide",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-guide",children:"#"}),"Source Code Guide"]}),"\n","\n",(0,n.jsx)(a.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/effects/listen-ref-value-change"}),"\n",(0,n.jsx)(s.p,{children:"Use the CLI command to copy the source code locally:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(s.code,{className:"language-bash",children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" effects/listen-ref-value-change"})]})})})}),"\n",(0,n.jsxs)(s.h3,{id:"directory-structure",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#directory-structure",children:"#"}),"Directory Structure"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(s.code,{className:"language-txt",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"listen-ref-value-change/"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"└── index.ts          # Main entry file"})})]})})}),"\n",(0,n.jsxs)(s.h3,{id:"how-it-works",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-it-works",children:"#"}),"How It Works"]}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Listen for value changes"}),": Listen for the ",(0,n.jsx)(s.code,{children:"DataEvent.onValueInitOrChange"})," event"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Type check"}),": Check if the value is of ",(0,n.jsx)(s.code,{children:"ref"})," type"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Path tracking"}),": Use ",(0,n.jsx)(s.code,{children:"trackByKeyPath"})," to track the reference path and get the referenced variable"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Callback trigger"}),": Trigger the callback when the value of the referenced variable changes"]}),"\n"]}),"\n",(0,n.jsxs)(s.h3,{id:"flowgram-apis-used",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-apis-used",children:"#"}),"flowgram APIs Used"]}),"\n",(0,n.jsxs)(s.h4,{id:"flowgramaivariable-core",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaivariable-core",children:"#"}),"@flowgram.ai/variable-core"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"getNodeScope(context.node).available.trackByKeyPath"}),": Tracks changes to the value of the specified path and triggers a callback when the value corresponding to the path changes."]}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fmaterials%2Feffects%2Flisten-ref-value-change.mdx"]={toc:[{id:"case-demo",text:"Case Demo",depth:2},{id:"basic-usage",text:"Basic Usage",depth:3},{id:"api-introduction",text:"API Introduction",depth:2},{id:"listenrefvaluechange",text:"listenRefValueChange",depth:3},{id:"parameters",text:"Parameters",depth:4},{id:"callback-function-parameters",text:"Callback Function Parameters",depth:4},{id:"supported-value-types",text:"Supported Value Types",depth:3},{id:"source-code-guide",text:"Source Code Guide",depth:2},{id:"directory-structure",text:"Directory Structure",depth:3},{id:"how-it-works",text:"How It Works",depth:3},{id:"flowgram-apis-used",text:"flowgram APIs Used",depth:3},{id:"flowgramaivariable-core",text:"@flowgram.ai/variable-core",depth:4}],title:"listenRefValueChange",headingTitle:"listenRefValueChange",frontmatter:{}}},242018:function(e,s,r){r.d(s,{w:()=>t});var n=r(110239),i=r(908600),l=r(251430),a=r(916530),o=r(132288);let c=i.lazy(()=>Promise.all([r.e("386212"),r.e("133914"),r.e("227692"),r.e("838147"),r.e("135674"),r.e("942362"),r.e("254129"),r.e("428647"),r.e("260790"),r.e("46854"),r.e("795751"),r.e("738893")]).then(r.bind(r,929024)).then(e=>({default:e.InputsValues}))),t=()=>(0,n.jsx)(o.y,{filterEndNode:!0,formMeta:{effect:{"inputsValues.*":(0,l.Z)(e=>{let{name:s,variable:r,form:n}=e;n.setValueIn("log",`${n.getValueIn("log")||""}${s}: ${JSON.stringify((null==r?void 0:r.toJSON())||{})} 
`)})},render:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{}),(0,n.jsx)(a.gNt,{name:"inputsValues",defaultValue:{a:{type:"ref",content:["start_0","str"]}},children:e=>{let{field:s}=e;return(0,n.jsx)(c,{value:s.value,onChange:e=>s.onChange(e)})}}),(0,n.jsx)("br",{}),(0,n.jsx)(a.gNt,{name:"log",defaultValue:"When variable value updated, log changes:\n",children:e=>{let{field:s}=e;return(0,n.jsx)("pre",{style:{width:500,padding:4,background:"#f5f5f5",fontSize:12,whiteSpace:"pre-wrap"},children:s.value})}})]})}})},132288:function(e,s,r){r.d(s,{p:()=>a,y:()=>o});var n=r(110239),i=r(908600);let l=i.lazy(()=>Promise.all([r.e("386212"),r.e("133914"),r.e("227692"),r.e("135674"),r.e("254129"),r.e("428647"),r.e("260790"),r.e("46854"),r.e("787220")]).then(r.bind(r,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),a=i.lazy(()=>Promise.all([r.e("386212"),r.e("133914"),r.e("227692"),r.e("135674"),r.e("254129"),r.e("428647"),r.e("260790"),r.e("46854"),r.e("787220")]).then(r.bind(r,654296)).then(e=>({default:e.FormHeader}))),o=e=>(0,n.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,n.jsx)(l,{...e})})},251430:function(e,s,r){r.d(s,{Z:()=>i});var n=r(950454);let i=e=>[{event:n.zEJ.onValueInitOrChange,effect:s=>{let{context:r,value:i}=s;if((null==i?void 0:i.type)!=="ref")return()=>null;let l=(0,n.k6H)(r.node).available.trackByKeyPath((null==i?void 0:i.content)||[],r=>{e({...s,variable:r})});return()=>{l.dispose()}}}]}}]);