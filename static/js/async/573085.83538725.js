"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["573085"],{49044:function(s,e,n){n.r(e),n.d(e,{default:()=>a});var i=n(110239),r=n(437562);function l(s){let e={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,r.a)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"作用域链",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#作用域链",children:"#"}),"作用域链"]}),"\n",(0,i.jsxs)(e.div,{className:"rspress-directive info",children:[(0,i.jsx)(e.div,{className:"rspress-directive-title",children:"阅读前提"}),(0,i.jsx)(e.div,{className:"rspress-directive-content",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["建议先完成",(0,i.jsx)(e.a,{href:"/guide/variable/variable-output.html",children:"输出变量"}),"、",(0,i.jsx)(e.a,{href:"/guide/variable/variable-consume.html",children:"消费变量"}),"的实践。"]}),"\n",(0,i.jsxs)(e.li,{children:["如果对作用域概念还不够熟悉，可先回顾",(0,i.jsx)(e.a,{href:"/guide/variable/concept.html#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE",children:"核心概念 - 作用域链"}),"。"]}),"\n"]})})]}),"\n",(0,i.jsxs)(e.h2,{id:"默认作用域链逻辑",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#默认作用域链逻辑",children:"#"}),"默认作用域链逻辑"]}),"\n",(0,i.jsxs)(e.p,{children:["详见：",(0,i.jsx)(e.a,{href:"/guide/variable/concept.html#%E7%94%BB%E5%B8%83%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F",children:"画布中的作用域"})]}),"\n",(0,i.jsxs)(e.h2,{id:"在-editor-props-中定制",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#在-editor-props-中定制",children:"#"}),"在 ",(0,i.jsx)(e.code,{children:"editor-props"})," 中定制"]}),"\n",(0,i.jsxs)(e.p,{children:["作用域的定制逻辑，通常在 ",(0,i.jsx)(e.code,{children:"editor-props"})," 中，通过 ",(0,i.jsx)(e.code,{children:"variableEngine.chainConfig"})," 定制。"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"use-editor-props.tsx",children:(0,i.jsxs)(e.code,{className:"language-tsx",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // ..."})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  variableEngine"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    enable"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line highlighted",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    chainConfig"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsx)(e.span,{className:"line highlighted",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"      // 作用域链逻辑定制"})}),"\n",(0,i.jsx)(e.span,{className:"line highlighted",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // ..."})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})})]})})}),"\n",(0,i.jsxs)(e.h3,{id:"子节点能否被后续节点依赖",children:[(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#子节点能否被后续节点依赖",children:"#"}),"子节点能否被后续节点依赖"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"默认情况下，子节点是不可以被父节点的后续节点依赖的"}),"。"]}),"\n",(0,i.jsxs)(e.p,{children:["如果需要定制这个逻辑，需要在 ",(0,i.jsx)(e.code,{children:"variableEngine.chainConfig.isNodeChildrenPrivate"})," 中配置。"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"use-editor-props.tsx",children:(0,i.jsxs)(e.code,{className:"language-tsx",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  variableEngine"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    enable"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    chainConfig"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"      /**"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"       * 定制：子节点是否可以被父节点的后续节点依赖"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"       */"})}),"\n",(0,i.jsxs)(e.span,{className:"line highlighted",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      isNodeChildrenPrivate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(node) {"})]}),"\n",(0,i.jsx)(e.span,{className:"line highlighted",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"        // 当命中用户某类自定义节点时，允许其子节点被后续节点依赖"})}),"\n",(0,i.jsxs)(e.span,{className:"line highlighted",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"        if"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"node"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".flowNodeType "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'Your_Custom_Type'"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line highlighted",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"          return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" false"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line highlighted",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        }"})}),"\n",(0,i.jsx)(e.span,{className:"line highlighted",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"        // 否则：默认不允许子节点被后续节点依赖"})}),"\n",(0,i.jsxs)(e.span,{className:"line highlighted",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"        return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line highlighted",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})})]})}function a(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,r.a)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(l,{...s})}):l(s)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["zh%2Fguide%2Fvariable%2Fcustom-scope-chain.mdx"]={toc:[{id:"默认作用域链逻辑",text:"默认作用域链逻辑",depth:2},{id:"在-editor-props-中定制",text:"在 `editor-props` 中定制",depth:2},{id:"子节点能否被后续节点依赖",text:"子节点能否被后续节点依赖",depth:3}],title:"作用域链",headingTitle:"作用域链",frontmatter:{description:"介绍如何定制作用域链"}}}}]);