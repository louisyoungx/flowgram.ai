"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["419217"],{682452:function(e,t,o){o.r(t),o.d(t,{DemoFixedLayout:()=>oy});var i,n=o(110239),r=o(916530),l=o(129034),a=o(461249);let s=a.ZP.span`
  font-size: 12px;
  color: red;
`,d=a.ZP.span`
  font-size: 12px;
  color: orange;
`,c=e=>{let{errors:t,warnings:o}=e,i=e=>e?e.map(e=>(0,n.jsx)("span",{children:e.message},e.name)):null;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(s,{children:i(t)})}),(0,n.jsx)("div",{children:(0,n.jsx)(d,{children:i(o)})})]})};var g=o(908600),u=o(827656),p=o(944822),M=o(330893),A=o(579962),y=o(9163),x=o(438024),j=o(893740),h=o(832176),m=Object.defineProperty,I=Object.getOwnPropertyDescriptor,C=(e,t,o,i)=>{for(var n,r=i>1?void 0:i?I(t,o):t,l=e.length-1;l>=0;l--)(n=e[l])&&(r=(i?n(t,o,r):n(r))||r);return i&&r&&m(t,o,r),r},N={paddingWithNote:50,padding:10,paddingWithAddLabel:20,headerHeight:20},D=e=>{let{groupNode:t,GroupNode:o,GroupBoxHeader:i}=e,n=(0,j.km)().getData(A.Lz).node,r=(0,j.G2)(A.pQ),l=A.Uy.create(t),[a,s]=(0,g.useState)(0),[d,c]=(0,g.useState)(!0),[u,p]=(0,g.useState)((null==l?void 0:l.collapsed)??!1),M=(0,g.useCallback)(async()=>{c(!0),s(a+1),await (0,h.gw)(50),s(a+1),c(!1)},[a]);if((0,g.useEffect)(()=>{let e=r.renderTree.onTreeChange(()=>{(null==l?void 0:l.collapsed)!==u&&(p((null==l?void 0:l.collapsed)??!1),M())});return()=>{e.dispose()}},[a]),(0,g.useEffect)(()=>{l&&!l.collapsed&&M()},[]),!l)return g.createElement(g.Fragment,null);let y=g.createElement(o,{key:a,groupNode:t,groupController:l}),x=g.createElement(i,{key:a,groupController:l,groupNode:t});if(l.collapsed)return Object.assign(n.style,{display:"block",zIndex:"0",width:"auto",height:"auto"}),y;if(d)return g.createElement(g.Fragment,null);{let e=l.bounds,t={width:`${e.width}px`};return Object.assign(n.style,t),x}},v=e=>{let{groupNode:t}=e,o=A.Uy.create(t),i=o.bounds,{hover:n,ref:r}=(()=>{let e=(0,g.useRef)(null),[t,o]=(0,g.useState)(!1),i=t=>{if(!e.current)return;let{left:i,top:n,right:r,bottom:l}=e.current.getBoundingClientRect();o(t.clientX>=i&&t.clientX<=r&&t.clientY>=n&&t.clientY<=l)};return(0,g.useEffect)(()=>(window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}),[]),{hover:t,ref:e}})(),l={position:"absolute",left:i.left,top:i.top,width:i.width,height:i.height},a={borderRadius:10,zIndex:-1,outline:`${n?3:1}px solid rgb(97, 69, 211)`,backgroundColor:"rgb(236 233 247)"},s=e.backgroundStyle?e.backgroundStyle(o):a;return((0,g.useEffect)(()=>{o.hovered=n},[n]),!o||o.collapsed)?g.createElement(g.Fragment,null):g.createElement("div",{className:"gedit-group-box","data-group-id":t.id},g.createElement("div",{className:"gedit-group-background",ref:r,style:{...l,...s}}))},b=class extends j.mh{onZoom(e){this.node.style.transform=`scale(${e})`}render(){return this.documentTransformer.loading?g.createElement(g.Fragment,null):(this.documentTransformer.refresh(),g.createElement(g.Fragment,null,this.renderGroups()))}renderGroups(){let e=this.renderer||v;return g.createElement(g.Fragment,null,this.groups.map(t=>g.createElement(e,{key:t.groupNode.id,groupNode:t.groupNode,backgroundStyle:this.options.groupBoxStyle})))}get groups(){return this.groupService.getAllGroups()}get renderer(){var e;return null==(e=this.rendererRegistry.tryToGetRendererComponent("group_box"))?void 0:e.renderer}constructor(){super(),this.className="gedit-groups-layer",this.node=h.xF.createDivWithClass(this.className),this.node.style.zIndex="0"}};C([(0,y.f3)(A.pQ)],b.prototype,"document",2),C([(0,y.f3)(x.Rf)],b.prototype,"rendererRegistry",2),C([(0,y.f3)(A.QU)],b.prototype,"groupService",2),C([(0,j.O0)(A.Vl)],b.prototype,"documentTransformer",2),C([(0,j.aI)(A.GA,A.Lz)],b.prototype,"renderStates",2),C([(0,j.aI)(A.GA,A.eG)],b.prototype,"transforms",2),b=C([(0,y.b2)()],b);var T={type:A.Sy.GROUP,meta:{exportJSON:!0,renderKey:"group_render",positionConfig:N,padding:e=>{let t=A.Uy.create(e.entity);return!t||t.collapsed||0===t.nodes.length?{top:0,bottom:0,left:0,right:0}:e.entity.isVertical?{top:N.paddingWithNote,bottom:N.paddingWithAddLabel,left:N.padding,right:N.padding}:{top:N.paddingWithNote,bottom:N.padding,left:N.padding,right:N.paddingWithAddLabel}}},getLines(e){let{transform:t}=e,o=[];return t.firstChild&&o.push({type:A.IG.STRAIGHT_LINE,from:t.inputPoint,to:t.firstChild.inputPoint}),t.next?o.push({type:A.IG.STRAIGHT_LINE,from:t.outputPoint,to:t.next.inputPoint}):o.push({type:A.IG.STRAIGHT_LINE,from:t.outputPoint,to:t.parent.outputPoint}),o},getDelta(e){let t=A.Uy.create(e.entity);if(t&&!t.collapsed)return e.entity.isVertical?{x:0,y:N.paddingWithNote}:{x:N.padding,y:0}},getInputPoint(e){let t=e.firstChild;return t?e.entity.isVertical?{x:t.inputPoint.x,y:e.bounds.topCenter.y}:{x:e.bounds.leftCenter.x,y:t.inputPoint.y}:e.defaultInputPoint},getOutputPoint(e){let t=e.lastChild;return t?e.entity.isVertical?{x:t.outputPoint.x,y:t.outputPoint.y+N.paddingWithAddLabel/2}:{x:t.outputPoint.x+N.paddingWithAddLabel/2,y:t.outputPoint.y}:e.defaultOutputPoint},getLabels(e){let{transform:t}=e;return t.next?t.entity.isVertical?[{offset:h.E9.getMiddlePoint(h.E9.move(t.outputPoint,{x:0,y:N.paddingWithAddLabel/2}),t.next.inputPoint),type:A.nx.ADDER_LABEL}]:[{offset:h.E9.getMiddlePoint(h.E9.move(t.outputPoint,{x:N.paddingWithAddLabel/2,y:0}),t.next.inputPoint),type:A.nx.ADDER_LABEL}]:[{offset:t.parent.outputPoint,type:A.nx.ADDER_LABEL}]},getOriginDeltaY(e){let{children:t}=e;return 0===t.length?-e.size.height*e.origin.y:-e.size.height*e.origin.y-N.paddingWithNote}},f={registerGroupNode:e=>{e.get(A.pQ).registerFlowNodes(T)},registerRender:(e,t)=>{e.get(x.Rf).registerReactComponent("group_render",e=>g.createElement(D,{groupNode:e.node,GroupNode:t.components.GroupNode,GroupBoxHeader:t.components.GroupBoxHeader}))},registerLayer:(e,t)=>{e.playground.registerLayer(b,t)},registerCleanGroups:(e,t)=>{let o=e.get(A.QU);e.get(A.pQ).originTree.onTreeChange(()=>{setTimeout(()=>{o.getAllGroups().forEach(e=>{(null==e?void 0:e.nodes.length)===0&&e.groupNode.pre&&o.deleteGroup(e.groupNode)})},0)})}},w=(0,j.M1)({onInit:(e,t)=>{let{registers:o={}}=t;Object.entries(f).forEach(i=>{let[n,r]=i,l=o[n];if(!1!==l){if("function"==typeof l)return void l(e,t);r(e,t)}})}}),z=o(945874),E=o(653378);let L=async e=>{let t="";t=await e.readText()||"";try{return JSON.parse(t)}catch(e){return""}},Q=async(e,t)=>{let o=JSON.stringify(e);if(await navigator.clipboard.readText()!==o){if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(o);let e=new Event("onchange");e.value=o,navigator.clipboard.dispatchEvent(e)}else{let e=document.createElement("textarea");e.value=o,e.style.display="absolute",e.style.left="-99999999px",document.body.prepend(e),e.select();try{document.execCommand("copy")}catch(e){console.log(e)}finally{e.remove()}}t.writeText(o)}};var k=((i={}).COPY="COPY",i.PASTE="PASTE",i.CUT="CUT",i.GROUP="GROUP",i.UNGROUP="UNGROUP",i.COLLAPSE="COLLPASE",i.EXPAND="EXPAND",i.DELETE="DELETE",i.ZOOM_IN="ZOOM_IN",i.ZOOM_OUT="ZOOM_OUT",i.RESET_ZOOM="RESET_ZOOM",i.SELECT_ALL="SELECT_ALL",i.CANCEL_SELECT="CANCEL_SELECT",i);let O=[e=>{let t=e.selection,o=e.clipboard;return{commandId:k.COPY,shortcuts:["meta c","ctrl c"],isEnabled:o=>((null==t?void 0:t.selection.length)>0||o instanceof r.GAy)&&!e.playground.config.readonlyOrDisabled,execute:e=>{Q((e instanceof r.GAy?[e]:t.selection.filter(e=>e instanceof r.GAy)).map(e=>({...e.toJSON(),id:`${e.flowNodeType}_${(0,l.x0)()}`})),o),E.Toast.success({content:"Copied. You can move to any [+] to paste."})}}},e=>{let t=e.selection,o=e.get(r.HoL);return{commandId:k.CUT,commandDetail:{label:"Cut"},shortcuts:["meta x","ctrl x"],isEnabled:()=>t.selection.length>0&&!e.playground.config.readonlyOrDisabled,execute:()=>{E.Toast.success({content:"Cut. You can move to any [+] to paste."}),o.executeCommand(k.DELETE)}}},e=>({commandId:k.SELECT_ALL,commandDetail:{label:"Select All"},shortcuts:["meta a","ctrl a"],isEnabled:()=>!e.playground.config.readonlyOrDisabled,execute:()=>{let t=(e.document.root.children||[]).filter(e=>"start"!==e.flowNodeType&&"end"!==e.flowNodeType);e.playground.selectionService.selection=t}}),e=>({commandId:k.CANCEL_SELECT,commandDetail:{label:"Cancel Select"},shortcuts:["esc"],execute:()=>{e.playground.selectionService.selection=[]}}),e=>{let t=e.playground.config;return{commandId:k.ZOOM_IN,shortcuts:["meta =","ctrl ="],execute:()=>{t.zoomin()}}},e=>{let t=e.playground.config;return{commandId:k.ZOOM_OUT,shortcuts:["meta -","ctrl -"],execute:()=>{t.zoomout()}}},e=>({commandId:k.RESET_ZOOM,commandDetail:{label:"Reset Zoom"},shortcuts:["meta 0","ctrl 0"],execute:()=>{e.playground.config.updateZoom(1)}}),e=>({commandId:k.GROUP,commandDetail:{label:"Create Group"},shortcuts:["meta g","ctrl g"],isEnabled:()=>!e.playground.config.readonlyOrDisabled,execute:()=>{let t=e.get(r.QUv),o=e.playground.selectionService;t.createGroup(o.selection.filter(e=>e instanceof r.GAy)),e.playground.selectionService.selection=[]}}),e=>({commandId:k.COLLAPSE,commandDetail:{label:"Collapse"},shortcuts:["meta alt openbracket","ctrl alt openbracket"],isEnabled:()=>!e.playground.config.readonlyOrDisabled,execute:()=>{e.selection.selection.filter(e=>e instanceof r.GAy).map(e=>[e,...e.allCollapsedChildren]).flat().forEach(e=>{let t=e.getData(r.LzJ);e.firstChild&&[r.SyX.BLOCK_ICON,r.SyX.BLOCK_ORDER_ICON].includes(e.firstChild.flowNodeType)&&(e.collapsed=!0),t.expanded=!1})}}),e=>({commandId:k.EXPAND,commandDetail:{label:"Expand"},shortcuts:["meta alt closebracket","ctrol alt openbracket"],isEnabled:()=>!e.playground.config.readonlyOrDisabled,execute:()=>{e.selection.selection.filter(e=>e instanceof r.GAy).map(e=>[e,...e.allCollapsedChildren]).flat().forEach(e=>{let t=e.getData(r.LzJ);e.firstChild&&[r.SyX.BLOCK_ICON,r.SyX.BLOCK_ORDER_ICON].includes(e.firstChild.flowNodeType)&&(e.collapsed=!1),t.expanded=!0})}})];var S=o(549207);class B{save(){console.log(this.document.toJSON())}}(0,S.gn)([(0,r.f3M)(r.XM6),(0,S.w6)("design:type",void 0===r.XM6?Object:r.XM6)],B.prototype,"ctx",void 0),(0,S.gn)([(0,r.f3M)(r.z2R),(0,S.w6)("design:type",void 0===r.z2R?Object:r.z2R)],B.prototype,"selectionService",void 0),(0,S.gn)([(0,r.f3M)(r.XQj),(0,S.w6)("design:type",void 0===r.XQj?Object:r.XQj)],B.prototype,"playground",void 0),(0,S.gn)([(0,r.f3M)(r.pQ4),(0,S.w6)("design:type",void 0===r.pQ4?Object:r.pQ4)],B.prototype,"document",void 0),B=(0,S.gn)([(0,r.b2C)()],B);var Z=o(169228),P=o(665114),Y=o(77696),R=o(194090),G=o(714456),U=o(79367);let V=e=>(0,g.forwardRef)((t,o)=>(0,n.jsx)(U.ZPm,{svg:e,...t,ref:o})),F=V((0,n.jsx)(()=>(0,n.jsx)("svg",{className:"icon",width:"16px",height:"16px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M341.333333 341.333333v170.666667h213.333334V341.333333H341.333333M42.666667 42.666667h170.666666v42.666666h597.333334V42.666667h170.666666v170.666666h-42.666666v597.333334h42.666666v170.666666h-170.666666v-42.666666H213.333333v42.666666H42.666667v-170.666666h42.666666V213.333333H42.666667V42.666667m170.666666 768v42.666666h597.333334v-42.666666h42.666666V213.333333h-42.666666V170.666667H213.333333v42.666666H170.666667v597.333334h42.666666M256 256h384v170.666667h128v341.333333H341.333333v-170.666667H256V256m384 341.333333h-213.333333v85.333334h256v-170.666667h-42.666667v85.333333z"})}),{})),H=V((0,n.jsx)(()=>(0,n.jsx)("svg",{className:"icon",width:"16px",height:"16px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M85.333333 85.333333 256 85.333333 256 128 554.666667 128 554.666667 85.333333 725.333333 85.333333 725.333333 256 682.666667 256 682.666667 384 768 384 768 341.333333 938.666667 341.333333 938.666667 512 896 512 896 768 938.666667 768 938.666667 938.666667 768 938.666667 768 896 512 896 512 938.666667 341.333333 938.666667 341.333333 768 384 768 384 682.666667 256 682.666667 256 725.333333 85.333333 725.333333 85.333333 554.666667 128 554.666667 128 256 85.333333 256 85.333333 85.333333M768 512 768 469.333333 682.666667 469.333333 682.666667 554.666667 725.333333 554.666667 725.333333 725.333333 554.666667 725.333333 554.666667 682.666667 469.333333 682.666667 469.333333 768 512 768 512 810.666667 768 810.666667 768 768 810.666667 768 810.666667 512 768 512M554.666667 256 554.666667 213.333333 256 213.333333 256 256 213.333333 256 213.333333 554.666667 256 554.666667 256 597.333333 384 597.333333 384 512 341.333333 512 341.333333 341.333333 512 341.333333 512 384 597.333333 384 597.333333 256 554.666667 256M512 512 469.333333 512 469.333333 597.333333 554.666667 597.333333 554.666667 554.666667 597.333333 554.666667 597.333333 469.333333 512 469.333333 512 512Z"})}),{})),W=e=>{let{groupNode:t,groupController:o,visible:i,style:l={}}=e,a=(0,r.G2Z)(r.QUv),{operation:s,playground:d,clipboard:c}=(0,r.sX$)(),{startDrag:g}=(0,r.cmt)(),u={cursor:"pointer",height:24};return d.config.readonly?null:(0,n.jsx)("div",{style:{display:"flex",opacity:+!!i,gap:5,paddingBottom:5,color:"rgb(97, 69, 211)",...l},onMouseDown:e=>{e.stopPropagation()},children:(0,n.jsxs)(E.ButtonGroup,{size:"small",theme:"borderless",style:{display:"flex",flexWrap:"nowrap"},children:[(0,n.jsx)(E.Tooltip,{content:"Drag",children:(0,n.jsx)(E.Button,{style:{...u,cursor:"grab"},icon:(0,n.jsx)(Z.Z,{}),type:"primary",theme:"borderless",onMouseDown:e=>{e.stopPropagation(),g(e,{dragStartEntity:t,dragEntities:[t]})}})}),(0,n.jsx)(E.Tooltip,{content:(null==o?void 0:o.collapsed)?"Expand":"Collapse",children:(0,n.jsx)(E.Button,{style:u,icon:(null==o?void 0:o.collapsed)?(0,n.jsx)(P.Z,{}):(0,n.jsx)(Y.Z,{}),type:"primary",theme:"borderless",onClick:e=>{o&&(e.stopPropagation(),o.collapsed?o.expand():o.collapse())}})}),(0,n.jsx)(E.Tooltip,{content:"Ungroup",children:(0,n.jsx)(E.Button,{style:u,icon:(0,n.jsx)(H,{}),type:"primary",theme:"borderless",onClick:()=>{a.ungroup(t)}})}),(0,n.jsx)(E.Tooltip,{content:"Copy",children:(0,n.jsx)(E.Button,{icon:(0,n.jsx)(R.Z,{}),style:u,type:"primary",theme:"borderless",onClick:()=>{Q([t.toJSON()],c),E.Toast.success({content:"Copied. You can move to any [+] to paste."})}})}),(0,n.jsx)(E.Tooltip,{content:"Delete",children:(0,n.jsx)(E.Button,{style:u,type:"primary",theme:"borderless",icon:(0,n.jsx)(G.Z,{}),onClick:()=>{s.deleteNode(t)}})})]})})},J=e=>{let{value:t,onChange:o,onBlur:i,editing:r,onFocus:l,autoSize:a=!0,...s}=e,[d,c]=(0,g.useState)(t),u=(0,g.useRef)(null),p=(0,g.useCallback)(()=>{o(d),null==i||i()},[d,o]);return(0,g.useEffect)(()=>{c(t)},[t]),(0,g.useEffect)(()=>{if(u.current&&r){var e;null==(e=u.current)||e.focus()}},[r]),(0,n.jsx)(E.TextArea,{...s,ref:u,value:d,onChange:e=>{c(e)},onEnterPress:p,onBlur:()=>{null==i||i(),null==p||p()},onFocus:l,autosize:a,rows:1,className:"base-textarea"})};o(243285);let X=a.ZP.div`
  width: 100%;
`,K=e=>{let{value:t,onChange:o,onEditingChange:i,readonly:r,autoSize:l,placeholder:a="",style:s={}}=e,[d,c]=(0,g.useState)(!1),u=(0,g.useRef)(null),p=(0,g.useRef)(null),M=(0,g.useCallback)(()=>{r||(c(!0),null==i||i(!0),setTimeout(()=>{var e;null==(e=u.current)||e.focus()},0))},[r]),A=(0,g.useCallback)(()=>{c(!1),null==i||i(!1)},[]);return(0,n.jsx)(X,{className:"multilang-textarea-editor",children:d&&!r?(0,n.jsx)(J,{ref:u,value:t,onChange:o,editing:d,onBlur:A,onSubmit:A,placeholder:a,autoSize:l}):(0,n.jsx)("div",{ref:p,className:"node-description",onClick:M,style:r?{paddingLeft:0,...s}:s,children:t||a})})},q=e=>{let{groupController:t,containerStyle:o={},textStyle:i={},autoSize:l=!0,enableTooltip:a=!1}=e,[s,d]=(0,g.useState)(""),c=(0,g.useRef)(null),[u,p]=(0,g.useState)(!1),{playground:M}=(0,r.sX$)(),[A,y]=(0,g.useState)(!1);return t?(0,n.jsx)("div",{className:"gedit-group-note",ref:c,style:o,onMouseEnter:()=>{if(!s||!a||A){u&&p(!1);return}p(!0)},onMouseLeave:()=>{p(!1)},children:(0,n.jsx)(E.Tooltip,{className:"gedit-group-note-tooltip",trigger:"custom",visible:u,content:s,children:(0,n.jsx)(K,{value:s,onChange:e=>{d(e||"")},readonly:M.config.readonly,placeholder:"Please enter note",style:i,autoSize:l,onEditingChange:e=>{e&&p(!1),y(e)}})})}):(0,n.jsx)(n.Fragment,{})},_=e=>{let{groupNode:t,groupController:o}=e;return!o||o.collapsed?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)("div",{className:"gedit-group-container",style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:10,zIndex:10},children:[(0,n.jsx)(q,{containerStyle:{width:"48%",transform:"translateY(-6px)"},textStyle:{wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",height:o.positionConfig.headerHeight},groupNode:t,groupController:o}),(0,n.jsx)(W,{groupNode:t,groupController:o,visible:o.hovered})]})},$=e=>{let{groupNode:t,groupController:o}=e;return o&&o.collapsed?(0,n.jsxs)("div",{style:{border:"1px solid rgb(97, 69, 211)",backgroundColor:"rgb(236 233 247)",borderRadius:10,width:200,height:"auto",padding:10,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,n.jsx)("div",{style:{width:"2rem",height:"2rem",borderRadius:"1rem",background:"rgb(198 188 241)",color:"rgb(97, 69, 211)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)("p",{style:{margin:0},children:o.nodes.length})}),(0,n.jsx)(W,{groupNode:t,groupController:o,visible:!0})]}),(0,n.jsx)(q,{groupNode:t,groupController:o,containerStyle:{paddingTop:10,width:"100%"}})]}):(0,n.jsx)(n.Fragment,{})},ee=(0,r.M1y)({async onInit(e){let t=e.clipboard;t.writeText(await L(t));let o=e=>{t.writeText(e.value)};navigator.clipboard.addEventListener("onchange",o),e.playground.toDispose.onDispose(()=>{navigator.clipboard.removeEventListener("onchange",o)})}});var et=o(937643);let eo="data:image/png;base64,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";var ei=o(499164),en=o(615152);function er(){let e=(0,r.G2Z)(r.fin),t=(0,r.JAk)(),o=e.getVar();if((0,g.useEffect)(()=>{let o=e.output.onVariableListChange(()=>{t()});return()=>{o.dispose()}},[]),!o)return;let i=o.type?et.Kz.astToSchema(o.type):{type:"object"};return(0,n.jsx)(en._,{value:i,onChange:e=>o.updateType(et.Kz.schemaToAST(e))})}var el=o(117280);function ea(){let e=(0,el.V)({});return(0,n.jsx)(E.Tree,{treeData:e})}var es=o(386589);function ed(){let[e,t]=(0,g.useState)(!1);return(0,n.jsxs)("div",{className:es.Z["panel-wrapper"],children:[(0,n.jsx)(E.Tooltip,{content:"Toggle Variable Panel",children:(0,n.jsx)(E.Button,{className:`${es.Z["variable-panel-button"]} ${e?es.Z.close:""}`,theme:e?"borderless":"light",onClick:()=>t(e=>!e),children:e?(0,n.jsx)(ei.Z,{}):(0,n.jsx)("img",{src:eo,width:20,height:20})})}),(0,n.jsx)(E.Collapsible,{isOpen:e,children:(0,n.jsx)("div",{className:es.Z["panel-container"],children:(0,n.jsxs)(E.Tabs,{children:[(0,n.jsx)(E.Tabs.TabPane,{itemKey:"variables",tab:"Variable List",children:(0,n.jsx)(ea,{})}),(0,n.jsx)(E.Tabs.TabPane,{itemKey:"global",tab:"Global Editor",children:(0,n.jsx)(er,{})})]})})})]})}class ec extends r.mh4{onReady(){this.config.onDataChange(()=>{let{scrollX:e,scrollY:t}=this.config.config;r.xFV.setStyle(this.node,{position:"absolute",right:25-e,top:t+25})})}render(){return(0,n.jsx)(ed,{})}}ec=(0,S.gn)([(0,r.b2C)()],ec);let eg=async()=>(await new Promise(e=>setTimeout(e,1e3)),{type:"object",properties:{userId:{type:"string"}}}),eu=(0,r.M1y)({onInit(e){e.playground.registerLayer(ec),eg().then(t=>{e.get(r.fin).setVar(r.qRT.createVariableDeclaration({key:"global",meta:{title:"Global",icon:eo},type:et.Kz.schemaToAST(t)}))})}}),ep=g.createContext({}),eM=g.createContext(!1);function eA(e){var t;let{node:o}=e,i=(0,r.PVB)(o);return(0,n.jsx)(ep.Provider,{value:i,children:(0,n.jsx)("div",{style:{background:"rgb(251, 251, 251)",height:"100%",borderRadius:8,border:"1px solid rgba(82,100,154, 0.13)",boxSizing:"border-box"},children:null==(t=i.form)?void 0:t.render()})})}let ey=e=>{let{nodeId:t}=e,o=(0,p.zi)(),{selection:i,playground:l,document:a}=(0,r.sX$)(),s=(0,r.JAk)(),d=(0,g.useCallback)(()=>{(0,g.startTransition)(()=>{o.close(ex.key)})},[]),c=t?a.getNode(t):void 0;return((0,g.useEffect)(()=>{let e=l.config.onReadonlyOrDisabledChange(()=>{d(),s()});return()=>e.dispose()},[l]),(0,g.useEffect)(()=>{let e=i.onSelectionChanged(()=>{0===i.selection.length?d():1===i.selection.length&&i.selection[0]!==c&&d()});return()=>e.dispose()},[i,d,c]),(0,g.useEffect)(()=>{if(c){let e=c.onDispose(()=>{o.close(ex.key)});return()=>e.dispose()}return()=>{}},[c]),!c||!0===c.getNodeMeta().sidebarDisabled||l.config.readonly)?null:(0,n.jsx)(eM.Provider,{value:!0,children:(0,n.jsx)(r.rQR.Provider,{value:c,children:(0,n.jsx)(eA,{node:c})},c.id)})},ex={key:"node-form-panel",defaultSize:400,render:e=>(0,n.jsx)(ey,{...e})},ej=e=>{var t,o;let{bounds:i,children:l,flowSelectConfig:a,commandRegistry:s}=e,d=a.selectedNodes,{startDrag:c}=(0,r.cmt)(),u=null==(o=d[0])||null==(t=o.getData(r.LzJ))?void 0:t.draggable,p=!(0,g.useMemo)(()=>{if(!d||0===d.length)return!1;let e=t=>t.some(t=>t.flowNodeType===r.SyX.GROUP||!!t.blocks&&!!t.blocks.length&&e(t.blocks));return e(d)},[d])&&r.QUv.validate(d);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{position:"absolute",left:i.right,top:i.top,transform:"translate(-100%, -100%)"},onMouseDown:e=>{e.stopPropagation()},children:(0,n.jsxs)(E.ButtonGroup,{size:"small",style:{display:"flex",flexWrap:"nowrap",height:24},children:[u&&(0,n.jsx)(E.Tooltip,{content:"Drag",children:(0,n.jsx)(E.Button,{style:{cursor:"grab",height:24},icon:(0,n.jsx)(Z.Z,{}),type:"primary",theme:"solid",onMouseDown:e=>{e.stopPropagation(),c(e,{dragStartEntity:d[0],dragEntities:d})}})}),(0,n.jsx)(E.Tooltip,{content:"Collapse",children:(0,n.jsx)(E.Button,{icon:(0,n.jsx)(Y.Z,{}),style:{height:24},type:"primary",theme:"solid",onMouseDown:e=>{s.executeCommand(k.COLLAPSE)}})}),(0,n.jsx)(E.Tooltip,{content:"Expand",children:(0,n.jsx)(E.Button,{icon:(0,n.jsx)(P.Z,{}),style:{height:24},type:"primary",theme:"solid",onMouseDown:e=>{s.executeCommand(k.EXPAND)}})}),(0,n.jsx)(E.Tooltip,{content:"Group",children:(0,n.jsx)(E.Button,{icon:(0,n.jsx)(F,{}),type:"primary",theme:"solid",style:{display:p?"inherit":"none",height:24},onClick:()=>{s.executeCommand(k.GROUP)}})}),(0,n.jsx)(E.Tooltip,{content:"Copy",children:(0,n.jsx)(E.Button,{icon:(0,n.jsx)(R.Z,{}),style:{height:24},type:"primary",theme:"solid",onClick:()=>{s.executeCommand(k.COPY)}})}),(0,n.jsx)(E.Tooltip,{content:"Delete",children:(0,n.jsx)(E.Button,{type:"primary",theme:"solid",icon:(0,n.jsx)(G.Z,{}),style:{height:24},onClick:()=>{s.executeCommand(k.DELETE)}})})]})}),(0,n.jsx)("div",{style:{cursor:u?"grab":"auto"},onMouseDown:e=>{e.stopPropagation(),c(e,{dragStartEntity:d[0],dragEntities:d})},children:l})]})};var eh=o(726488),em=o(524053);let eI=(0,em.A)(function(e){return g.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),g.createElement("path",{d:"M9 2a2 2 0 0 0-2 2v1h9c2 0 3 1 3 3v9h1a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9Z",fill:"currentColor"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 9c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Zm6 2a1 1 0 1 1 2 0v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2H7a1 1 0 1 1 0-2h2v-2Z",fill:"currentColor"}))},"copy_add"),eC=a.ZP.div`
  width: 100%;
  height: 32px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 19px;
  padding: 0 15px;
  &:hover {
    background-color: hsl(252deg 62% 55% / 9%);
    color: hsl(252 62% 54.9%);
  },
`,eN=a.ZP.div`
  font-size: 12px;
  margin-left: 10px;
`;function eD(e){return(0,n.jsxs)(eC,{onClick:e.disabled?void 0:e.onClick,style:e.disabled?{opacity:.3}:{},children:[(0,n.jsx)("div",{style:{fontSize:14},children:e.icon}),(0,n.jsx)(eN,{children:e.label})]})}let ev=a.ZP.div`
  max-height: 500px;
  overflow: auto;
  &::-webkit-scrollbar {
    display: none;
  }
`;function eb(e){let t=(0,r.sX$)();return(0,n.jsx)(ev,{style:{width:180},children:oM.filter(e=>{var t;return!(null==(t=e.meta)?void 0:t.addDisable)}).map(o=>{var i;return(0,n.jsx)(eD,{disabled:!((null==(i=o.canAdd)?void 0:i.call(o,t,e.from))??!0),icon:(0,n.jsx)("img",{style:{width:10,height:10,borderRadius:4},src:o.info.icon}),label:o.type,onClick:()=>(o=>{var i;let n=o.onAdd(t,e.from);null==(i=e.onSelect)||i.call(e,n)})(o)},o.type)})})}let eT=e=>`${e.type||e.flowNodeType}_${(0,l.x0)()}`,ef=a.ZP.div`
  position: absolute;
  width: 15px;
  height: 15px;
  color: #3370ff;
  display: flex;
  justify-content: center;
  align-items: center;
`,ew=a.ZP.div`
  position: relative;
  width: 6px;
  height: 6px;
  background-color: rgb(143, 149, 158);
  color: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
`,ez=e=>e.blocks?{...e,id:eT(e),blocks:e.blocks.map(e=>ez(e))}:{...e,id:eT(e)};function eE(e){let{from:t}=e,o=t.isVertical,[i,l]=(0,g.useState)(!1),{playground:a,operation:s,clipboard:d}=(0,r.sX$)(),[c,u]=(0,g.useState)(!1),p=(0,g.useMemo)(()=>e.hoverActivated&&!a.config.readonly,[e.hoverActivated,a.config.readonly]),M=(0,g.useCallback)(async e=>{try{e.stopPropagation();let o=await L(d);if(!o)return void E.Toast.error({content:"The clipboard content has been updated, please copy the node again."});o.reverse().forEach(e=>{let o=ez(e);s.addFromNode(t,o)}),E.Toast.success({content:"Paste successfully!"})}catch(e){console.error(e),E.Toast.error({content:(0,n.jsx)(E.Typography.Text,{children:"Paste failed, please check if you have permission to read the clipboard,"})})}},[]);return a.config.readonly?null:(0,n.jsx)(E.Popover,{visible:i,onVisibleChange:l,content:(0,n.jsx)(eb,{onSelect:e=>{let o=e.blocks?e.blocks:void 0,i=s.addFromNode(t,{...e,blocks:o});setTimeout(()=>{a.scrollToView({bounds:i.bounds,scrollToCenter:!0})},10),l(!1)},from:t}),placement:"right",trigger:"click",popupAlign:{offset:[30,0]},overlayStyle:{padding:0},children:(0,n.jsxs)(ew,{style:e.hoverActivated?{width:15,height:15}:{},onMouseDown:e=>e.stopPropagation(),children:[e.hoverActivated?(0,n.jsx)(eh.Z,{onClick:()=>{l(!0)},onMouseEnter:()=>{u(!!d.readText())},style:{backgroundColor:"#fff",color:"#3370ff",borderRadius:15}}):"",p&&c&&(0,n.jsx)(E.Popover,{position:"top",showArrow:!0,content:"Paste",children:(0,n.jsx)(ef,{onClick:M,style:o?{right:-25,top:0}:{right:0,top:-20},children:(0,n.jsx)(eI,{style:{backgroundColor:"var(--semi-color-bg-0)",borderRadius:15}})})})]})})}var eL=o(633988);let eQ="data:image/png;base64,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",ek={render:e=>{let{form:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsxs)(tS,{children:[(0,n.jsx)(tV,{}),(0,n.jsx)(tZ,{})]})]})},validateTrigger:r.C$T.onChange,validate:{"inputsValues.*":e=>{var t;let{value:o,context:i,formValues:n,name:r}=e,l=r.replace(/^inputsValues\./,"");if(((null==(t=n.inputs)?void 0:t.required)||[]).includes(l)&&(""===o||void 0===o||(null==o?void 0:o.content)===""))return`${l} is required`}}},eO=3,eS={type:"catchBlock",meta:{copyDisable:!0,addDisable:!0},info:{icon:eQ,description:"Execute the catch branch when the condition is met."},canAdd:()=>!1,canDelete:(e,t)=>t.parent.blocks.length>=2,onAdd:(e,t)=>({id:`Catch_${(0,l.x0)(5)}`,type:"catchBlock",data:{title:`Catch Block ${eO++}`,inputs:{type:"object",required:["condition"],inputsValues:{condition:""},properties:{condition:{type:"string"}}}}}),formMeta:ek},eB={render:e=>{let{form:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsxs)(tS,{children:[(0,n.jsx)(tV,{}),(0,n.jsx)(tZ,{})]})]})},validateTrigger:r.C$T.onChange,validate:{"inputsValues.*":e=>{var t;let{value:o,context:i,formValues:n,name:r}=e,l=r.replace(/^inputsValues\./,"");if(((null==(t=n.inputs)?void 0:t.required)||[]).includes(l)&&(""===o||void 0===o||(null==o?void 0:o.content)===""))return`${l} is required`}}},eZ=2,eP={type:"case",extend:"block",meta:{copyDisable:!0,addDisable:!0},info:{icon:eQ,description:"Execute the branch when the condition is met."},canDelete:(e,t)=>t.parent.blocks.length>=3,onAdd:(e,t)=>({id:`Case_${(0,l.x0)(5)}`,type:"case",data:{title:`Case_${eZ++}`,inputs:{type:"object",required:["condition"],inputsValues:{condition:""},properties:{condition:{type:"string"}}}}}),formMeta:eB},eY=a.ZP.div`
  width: 28px;
  height: 18px;
  background: ${e=>e.activated?"#82A7FC":"rgb(187, 191, 196)"};
  display: flex;
  border-radius: 9px;
  justify-content: space-evenly;
  align-items: center;
  color: #fff;
  font-size: 10px;
  font-weight: bold;
  transform: ${e=>e.isVertical?"":"rotate(90deg)"};
  div {
    display: flex;
    justify-content: center;
    align-items: center;
    svg {
      width: 12px;
      height: 12px;
    }
  }
`;function eR(e){let{activated:t,node:o}=e,i=o.firstChild.renderData,l=(0,r.sX$)(),{operation:a,playground:s}=l,{isVertical:d}=o;return s.config.readonlyOrDisabled?null:(0,n.jsx)(eY,{isVertical:d,activated:t,onMouseEnter:()=>null==i?void 0:i.toggleMouseEnter(),onMouseLeave:()=>null==i?void 0:i.toggleMouseLeave(),children:(0,n.jsx)("div",{onClick:()=>{let e=a.addBlock(o,"switch"===o.flowNodeType?eP.onAdd(l,o):eS.onAdd(l,o),{index:0});setTimeout(()=>{s.scrollToView({bounds:e.bounds,scrollToCenter:!0})},10)},"aria-hidden":"true",style:{flexGrow:1,textAlign:"center"},children:(0,n.jsx)(eL.Z,{})})})}var eG=o(676756);let eU=a.ZP.div`
  align-items: flex-start;
  background-color: #fff;
  border: 1px solid rgba(6, 7, 9, 0.15);
  border-radius: 8px;
  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04), 0 4px 12px 0 rgba(0, 0, 0, 0.02);
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
  width: 360px;
  cursor: default;
  &.activated {
    border: 1px solid #82a7fc;
  }
`,eV=()=>(0,n.jsx)(eG.Z,{style:{position:"absolute",color:"red",left:-6,top:-6,zIndex:1,background:"white",borderRadius:8}}),eF=e=>{let{node:t}=e,o=(0,r.PVB)(),i=o.form,l=(0,g.useCallback)(()=>t.renderData.node||document.body,[]),a=(0,p.zi)();return(0,n.jsxs)(E.ConfigProvider,{getPopupContainer:l,children:[(null==i?void 0:i.state.invalid)&&(0,n.jsx)(eV,{}),(0,n.jsx)(eU,{onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,className:o.activated?"activated":"",onClick:()=>{o.dragging||a.open(ex.key,"right",{props:{nodeId:o.node.id}})},style:{...(o.isBlockOrderIcon||o.isBlockIcon,{}),...o.node.getNodeRegistry().meta.style,opacity:o.dragging?.3:1,outline:(null==i?void 0:i.state.invalid)?"1px solid red":"none"},children:(0,n.jsx)(ep.Provider,{value:o,children:null==i?void 0:i.render()})})]})},eH=E.Typography.Text;function eW(e){let{node:t}=e,o="Default";switch(t.flowNodeType){case"agentMemory":o="Memory";break;case"agentLLM":o="LLM";break;case"agentTools":o="Tools"}return(0,n.jsx)(eH,{ellipsis:{showTooltip:!0},style:{maxWidth:65,fontSize:12,textAlign:"center",padding:"2px",backgroundColor:"var(--g-editor-background)",color:"#8F959E"},children:o})}var eJ=o(140404),eX=o(887173);let eK=a.ZP.div`
  position: absolute;
  bottom: 16px;
  display: flex;
  justify-content: left;
  min-width: 360px;
  pointer-events: none;
  gap: 8px;

  z-index: 20;
`,eq=a.ZP.div`
  display: flex;
  align-items: center;
  background-color: #fff;
  border: 1px solid rgba(68, 83, 130, 0.25);
  border-radius: 10px;
  box-shadow: rgba(0, 0, 0, 0.04) 0px 2px 6px 0px, rgba(0, 0, 0, 0.02) 0px 4px 12px 0px;
  column-gap: 2px;
  height: 40px;
  padding: 0 4px;
  pointer-events: auto;
`,e_=a.ZP.span`
  padding: 2px;
  border-radius: 8px;
  border: 1px solid rgba(68, 83, 130, 0.25);
  font-size: 12px;
  width: 40px;
`,e$=a.ZP.div`
  position: absolute;
  bottom: 60px;
  width: 198px;
`,e0=()=>{let e=(0,r.erw)({maxZoom:2,minZoom:.25}),[t,o]=(0,g.useState)(!1);return(0,n.jsx)(E.Dropdown,{position:"top",trigger:"custom",visible:t,onClickOutSide:()=>o(!1),render:(0,n.jsxs)(E.Dropdown.Menu,{children:[(0,n.jsx)(E.Dropdown.Item,{onClick:()=>e.zoomin(),children:"Zoomin"}),(0,n.jsx)(E.Dropdown.Item,{onClick:()=>e.zoomout(),children:"Zoomout"}),(0,n.jsx)(E.Divider,{layout:"horizontal"}),(0,n.jsx)(E.Dropdown.Item,{onClick:()=>e.updateZoom(.5),children:"50%"}),(0,n.jsx)(E.Dropdown.Item,{onClick:()=>e.updateZoom(1),children:"100%"}),(0,n.jsx)(E.Dropdown.Item,{onClick:()=>e.updateZoom(1.5),children:"150%"}),(0,n.jsx)(E.Dropdown.Item,{onClick:()=>e.updateZoom(2),children:"200%"})]}),children:(0,n.jsxs)(e_,{onClick:()=>o(!0),children:[Math.floor(100*e.zoom),"%"]})})},e3=(0,em.A)(function(e){return g.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm6 2.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM2 15c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5Zm6 2.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z",fill:"currentColor"}))},"server"),e1=()=>{let e=(0,r.erw)();return(0,n.jsx)(E.Tooltip,{content:e.isVertical?"Horizontal Layout":"Vertical Layout",children:(0,n.jsx)(E.Button,{theme:"borderless",size:"small",onClick:()=>e.changeLayout(),icon:(0,n.jsx)(e3,{style:{transform:e.isVertical?"rotate(90deg)":"",transition:"transform .3s ease"}}),type:"tertiary"})})};function e6(e){let[t,o]=(0,g.useState)(0),i=(0,r.sX$)(),l=(0,g.useCallback)(()=>{o(i.document.getAllNodes().map(e=>e.form).filter(e=>null==e?void 0:e.state.invalid).length)},[i]),a=(0,g.useCallback)(async()=>{let e=i.document.getAllNodes().map(e=>e.form);await Promise.all(e.map(async e=>null==e?void 0:e.validate())),console.log(">>>>> save data: ",i.document.toJSON())},[i]);return((0,g.useEffect)(()=>{let e=e=>{let t=e.form;if(t){let o=t.onValidate(()=>l());e.onDispose(()=>o.dispose())}};i.document.getAllNodes().map(t=>e(t));let t=i.document.onNodeCreate(t=>{let{node:o}=t;return e(o)});return()=>t.dispose()},[i]),0===t)?(0,n.jsx)(E.Button,{disabled:e.disabled,onClick:a,children:"Save"}):(0,n.jsx)(E.Badge,{count:t,position:"rightTop",type:"danger",children:(0,n.jsx)(E.Button,{type:"danger",disabled:e.disabled,onClick:a,children:"Save"})})}let e4=document.createElement("style"),e2="rgb(78, 64, 229)";function e5(){let[e,t]=(0,g.useState)(!1),o=(0,r.sX$)(),i=(0,r.Dcz)(),l=async()=>{t(!0),i.config.readonly=!0;let e=o.document.root.blocks.slice();for(;e.length>0;){var n=e.shift().id;let t=function e(t,o){let i=[];return t&&(i.push(t.id),o&&i.push(...t.allChildren.map(e=>e.id)),t.parent&&i.push(t.parent.id),t.pre&&i.push(...e(t.pre,!0)),t.parent&&t.parent.pre&&i.push(...e(t.parent.pre,!0))),i}(o.document.getNode(n),!0);if(0===t.length)e4.innerText="";else{let e=t.map(e=>`
      path[data-line-id$="${e}"] {
        animation: flowingDash 0.5s linear infinite;
        stroke-dasharray: 8, 5;
        stroke: ${e2} !important;
      }
      marker[data-line-id$="${e}"] path {
        fill: ${e2} !important;
      }
      [data-node-id$="${e}"] {
        border: 1px dashed ${e2} !important;
        border-radius: 8px;
      }
      [data-label-id$="${e}"] {
        color: ${e2} !important;
      }
    `).join("\n");e4.innerText=`
   @keyframes flowingDash {
    to {
      stroke-dashoffset: -13;
    }
  }
  ${e}
  `}e4.parentNode||document.body.appendChild(e4),await (0,r.gw0)(1e3)}i.config.readonly=!1,e4.innerText="",t(!1)};return(0,n.jsx)(E.Button,{onClick:l,loading:e,children:"Run"})}var e9=o(184066),e8=o(950731);let e7=()=>{let e=(0,r.Dcz)(),t=(0,g.useCallback)(()=>{e.config.readonly=!e.config.readonly},[e]);return e.config.readonly?(0,n.jsx)(E.IconButton,{theme:"borderless",type:"tertiary",icon:(0,n.jsx)(e9.Z,{}),onClick:t}):(0,n.jsx)(E.IconButton,{theme:"borderless",type:"tertiary",icon:(0,n.jsx)(e8.Z,{}),onClick:t})},te=(0,em.A)(function(e){return g.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 7a3 3 0 0 1 3-3h16a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V7Zm9.5 0H5a1 1 0 0 0-1 1v2.5h6.5V7Zm3 0v3.5H20V8a1 1 0 0 0-1-1h-5.5Zm6.5 6.5h-6.5V17H19a1 1 0 0 0 1-1v-2.5ZM10.5 17v-3.5H4V16a1 1 0 0 0 1 1h5.5Z",fill:"currentColor"}))},"grid-rectangle"),tt=e=>{let{minimapVisible:t,setMinimapVisible:o}=e;return(0,n.jsx)(E.Tooltip,{content:"Minimap",children:(0,n.jsx)(E.IconButton,{theme:"borderless",icon:(0,n.jsx)(te,{style:{color:t?void 0:"#060709cc"}}),onClick:()=>{o(!t)}})})},to=e=>{let{visible:t}=e;return t?(0,n.jsx)(e$,{children:(0,n.jsx)(M.Zd,{panelStyles:{},containerStyles:{pointerEvents:"auto",position:"relative",top:"unset",right:"unset",bottom:"unset",left:"unset"},inactiveStyle:{opacity:1,scale:1,translateX:0,translateY:0}})}):(0,n.jsx)(n.Fragment,{})};function ti(e){let{width:t,height:o}=e;return(0,n.jsxs)("svg",{width:t||48,height:o||38,viewBox:"0 0 48 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{x:"1.83317",y:"1.49998",width:"44.3333",height:"35",rx:"3.5",stroke:"currentColor",strokeOpacity:"0.8",strokeWidth:"2.33333"}),(0,n.jsx)("path",{d:"M14.6665 30.6667H33.3332",stroke:"currentColor",strokeOpacity:"0.8",strokeWidth:"2.33333",strokeLinecap:"round"})]})}let tn=()=>(0,n.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.8549 5H3.1451C3.06496 5 3 5.06496 3 5.1451V18.8549C3 18.935 3.06496 19 3.1451 19H20.8549C20.935 19 21 18.935 21 18.8549V5.1451C21 5.06496 20.935 5 20.8549 5ZM3.1451 3C1.96039 3 1 3.96039 1 5.1451V18.8549C1 20.0396 1.96039 21 3.1451 21H20.8549C22.0396 21 23 20.0396 23 18.8549V5.1451C23 3.96039 22.0396 3 20.8549 3H3.1451Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99991 16C6.99991 15.4477 7.44762 15 7.99991 15H15.9999C16.5522 15 16.9999 15.4477 16.9999 16C16.9999 16.5523 16.5522 17 15.9999 17H7.99991C7.44762 17 6.99991 16.5523 6.99991 16Z"})]});function tr(e){let{width:t,height:o}=e;return(0,n.jsx)("svg",{width:t||34,height:o||52,viewBox:"0 0 34 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.9998 16.6666V35.3333C30.9998 37.5748 30.9948 38.4695 30.9 39.1895C30.2108 44.4247 26.0912 48.5443 20.856 49.2335C20.1361 49.3283 19.2413 49.3333 16.9998 49.3333C14.7584 49.3333 13.8636 49.3283 13.1437 49.2335C7.90847 48.5443 3.78888 44.4247 3.09965 39.1895C3.00487 38.4695 2.99984 37.5748 2.99984 35.3333V16.6666C2.99984 14.4252 3.00487 13.5304 3.09965 12.8105C3.78888 7.57528 7.90847 3.45569 13.1437 2.76646C13.7232 2.69017 14.4159 2.67202 15.8332 2.66785V9.86573C14.4738 10.3462 13.4998 11.6426 13.4998 13.1666V17.8332C13.4998 19.3571 14.4738 20.6536 15.8332 21.1341V23.6666C15.8332 24.3109 16.3555 24.8333 16.9998 24.8333C17.6442 24.8333 18.1665 24.3109 18.1665 23.6666V21.1341C19.5259 20.6536 20.4998 19.3572 20.4998 17.8332V13.1666C20.4998 11.6426 19.5259 10.3462 18.1665 9.86571V2.66785C19.5837 2.67202 20.2765 2.69017 20.856 2.76646C26.0912 3.45569 30.2108 7.57528 30.9 12.8105C30.9948 13.5304 30.9998 14.4252 30.9998 16.6666ZM0.666504 16.6666C0.666504 14.4993 0.666504 13.4157 0.786276 12.5059C1.61335 6.22368 6.55687 1.28016 12.8391 0.453085C13.7489 0.333313 14.8325 0.333313 16.9998 0.333313C19.1671 0.333313 20.2508 0.333313 21.1605 0.453085C27.4428 1.28016 32.3863 6.22368 33.2134 12.5059C33.3332 13.4157 33.3332 14.4994 33.3332 16.6666V35.3333C33.3332 37.5006 33.3332 38.5843 33.2134 39.494C32.3863 45.7763 27.4428 50.7198 21.1605 51.5469C20.2508 51.6666 19.1671 51.6666 16.9998 51.6666C14.8325 51.6666 13.7489 51.6666 12.8391 51.5469C6.55687 50.7198 1.61335 45.7763 0.786276 39.494C0.666504 38.5843 0.666504 37.5006 0.666504 35.3333V16.6666ZM15.8332 13.1666C15.8332 13.0011 15.8676 12.8437 15.9297 12.7011C15.9886 12.566 16.0722 12.4443 16.1749 12.3416C16.386 12.1305 16.6777 11.9999 16.9998 11.9999C17.6435 11.9999 18.1654 12.5212 18.1665 13.1646L18.1665 13.1666V17.8332L18.1665 17.8353C18.1665 17.8364 18.1665 17.8376 18.1665 17.8387C18.1661 17.9132 18.1588 17.986 18.1452 18.0565C18.0853 18.3656 17.9033 18.6312 17.6515 18.8011C17.4655 18.9266 17.2412 18.9999 16.9998 18.9999C16.3555 18.9999 15.8332 18.4776 15.8332 17.8332V13.1666Z",fill:"currentColor",fillOpacity:"0.8"})})}let tl=()=>(0,n.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8C4.5 4.13401 7.63401 1 11.5 1H12.5C16.366 1 19.5 4.13401 19.5 8V17C19.5 20.3137 16.8137 23 13.5 23H10.5C7.18629 23 4.5 20.3137 4.5 17V8ZM11.2517 3.00606C8.60561 3.13547 6.5 5.32184 6.5 8V17C6.5 19.2091 8.29086 21 10.5 21H13.5C15.7091 21 17.5 19.2091 17.5 17V8C17.5 5.32297 15.3962 3.13732 12.7517 3.00622V5.28013C13.2606 5.54331 13.6074 6.06549 13.6074 6.66669V8.75759C13.6074 9.35879 13.2606 9.88097 12.7517 10.1441V11.4091C12.7517 11.8233 12.4159 12.1591 12.0017 12.1591C11.5875 12.1591 11.2517 11.8233 11.2517 11.4091V10.1457C10.7411 9.88298 10.3931 9.35994 10.3931 8.75759V6.66669C10.3931 6.06433 10.7411 5.5413 11.2517 5.27862V3.00606ZM12.0017 6.14397C11.7059 6.14397 11.466 6.38381 11.466 6.67968V8.74462C11.466 9.03907 11.7036 9.27804 11.9975 9.28031L12.0002 9.28032C12.0456 9.28032 12.0896 9.27482 12.1316 9.26447C12.3401 9.21256 12.5002 9.0386 12.5318 8.82287C12.5345 8.80149 12.5359 8.7797 12.5359 8.75759V6.66669C12.5359 6.64463 12.5345 6.62288 12.5318 6.60154C12.4999 6.38354 12.3368 6.20817 12.1252 6.15826C12.0856 6.14891 12.0442 6.14397 12.0017 6.14397Z"})});o(585048);let{Title:ta,Paragraph:ts}=E.Typography,td=e=>{let{title:t,subTitle:o,icon:i,onChange:r,value:l,selected:a}=e;return(0,n.jsxs)("div",{className:`mouse-pad-option ${a?"mouse-pad-option-selected":""}`,onClick:()=>r(l),children:[(0,n.jsx)("div",{className:`mouse-pad-option-icon ${a?"mouse-pad-option-icon-selected":""}`,children:i}),(0,n.jsx)(ta,{heading:6,className:`mouse-pad-option-title ${a?"mouse-pad-option-title-selected":""}`,children:t}),(0,n.jsx)(ts,{type:"tertiary",className:`mouse-pad-option-subTitle ${a?"mouse-pad-option-subTitle-selected":""}`,children:o})]})},tc=e=>{let{value:t,onChange:o,onPopupVisibleChange:i,containerStyle:r,iconStyle:l,arrowStyle:a}=e,[s,d]=(0,g.useState)(!1);return(0,n.jsx)(E.Popover,{trigger:"custom",position:"topLeft",closeOnEsc:!0,visible:s,onVisibleChange:e=>{null==i||i(e)},onClickOutSide:()=>{d(!1)},spacing:20,content:(0,n.jsxs)("div",{className:"ui-mouse-pad-selector-popover",children:[(0,n.jsx)(E.Typography.Title,{heading:4,children:"Interaction mode"}),(0,n.jsxs)("div",{className:"ui-mouse-pad-selector-popover-options",children:[(0,n.jsx)(td,{title:"Mouse-Friendly",subTitle:"Drag the canvas with the left mouse button, zoom with the scroll wheel.",value:"MOUSE",selected:"MOUSE"===t,icon:(0,n.jsx)(tr,{}),onChange:o}),(0,n.jsx)(td,{title:"Touchpad-Friendly",subTitle:"Drag with two fingers moving in the same direction, zoom by pinching or spreading two fingers.",value:"PAD",selected:"PAD"===t,icon:(0,n.jsx)(ti,{}),onChange:o})]})]}),children:(0,n.jsx)("div",{className:`ui-mouse-pad-selector ${s?"ui-mouse-pad-selector-active":""}`,onClick:()=>{d(!s)},style:r,children:(0,n.jsx)("div",{className:"ui-mouse-pad-selector-icon",style:l,children:"MOUSE"===t?(0,n.jsx)(tl,{}):(0,n.jsx)(tn,{})})})})},tg="workflow_prefer_interactive_type",tu=/(Macintosh|MacIntel|MacPPC|Mac68K|iPad)/.test(navigator.userAgent),tp=()=>{let e=localStorage.getItem(tg);return e&&["MOUSE","PAD"].includes(e)?e:tu?"PAD":"MOUSE"},tM=()=>{let e=(0,r.erw)(),[t,o]=(0,g.useState)(!1),[i,l]=(0,g.useState)(()=>tp()),[a,s]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{let t=tp();e.setInteractiveType(t)},[]),(0,n.jsx)(E.Popover,{trigger:"custom",position:"top",visible:t,onClickOutSide:()=>{o(!1)},children:(0,n.jsx)(E.Tooltip,{content:"MOUSE"===i?"Mouse-Friendly":"Touchpad-Friendly",style:{display:a?"none":"block"},children:(0,n.jsx)("div",{className:"workflow-toolbar-interactive",children:(0,n.jsx)(tc,{value:i,onChange:t=>{l(t),localStorage.setItem(tg,t),e.setInteractiveType(t)},onPopupVisibleChange:s,containerStyle:{border:"none",height:"32px",width:"32px",justifyContent:"center",alignItems:"center",gap:"2px",padding:"4px",borderRadius:"var(--small, 6px)"},iconStyle:{margin:"0",width:"16px",height:"16px"},arrowStyle:{width:"12px",height:"12px"}})})})})},tA=e=>(0,n.jsx)(E.Tooltip,{content:"FitView",children:(0,n.jsx)(E.IconButton,{icon:(0,n.jsx)(P.Z,{}),type:"tertiary",theme:"borderless",onClick:()=>e.fitView()})}),ty=()=>{let e=(0,r.erw)(),[t,o]=(0,g.useState)(!1),i=(0,r.Dcz)(),l=(0,r.JAk)();return(0,g.useEffect)(()=>{let e=i.config.onReadonlyOrDisabledChange(()=>l());return()=>e.dispose()},[i]),(0,n.jsx)(eK,{className:"fixed-demo-tools",children:(0,n.jsxs)(eq,{children:[(0,n.jsx)(tM,{}),(0,n.jsx)(e1,{}),(0,n.jsx)(e0,{}),(0,n.jsx)(tA,{fitView:e.fitView}),(0,n.jsx)(tt,{minimapVisible:t,setMinimapVisible:o}),(0,n.jsx)(to,{visible:t}),(0,n.jsx)(e7,{}),(0,n.jsx)(E.Tooltip,{content:"Undo",children:(0,n.jsx)(E.IconButton,{theme:"borderless",icon:(0,n.jsx)(eJ.Z,{}),disabled:!e.canUndo||i.config.readonly,onClick:()=>e.undo()})}),(0,n.jsx)(E.Tooltip,{content:"Redo",children:(0,n.jsx)(E.IconButton,{theme:"borderless",icon:(0,n.jsx)(eX.Z,{}),disabled:!e.canRedo||i.config.readonly,onClick:()=>e.redo()})}),(0,n.jsx)(e6,{disabled:i.config.readonly}),(0,n.jsx)(e5,{})]})})},tx=a.ZP.div`
  box-sizing: border-box;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  column-gap: 8px;
  border-radius: 8px 8px 0 0;

  background: linear-gradient(#f2f2ff 0%, rgb(251, 251, 251) 100%);
  overflow: hidden;
  padding: 8px;
  cursor: move;
`,tj=a.ZP.div`
  font-size: 20px;
  flex: 1;
  width: 0;
`,th=a.ZP.img`
  width: 24px;
  height: 24px;
  scale: 0.8;
  border-radius: 4px;
`,tm=a.ZP.div`
  display: flex;
  align-items: center;
  column-gap: 4px;
`,tI="hsl(252 62% 54.9%)",tC=a.ZP.div`
  position: relative;
  height: 32px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  column-gap: 8px;
  cursor: pointer;
  font-size: 19px;
  border: 1px solid ${tI};
  padding: 0 15px;
  &:hover: {
    background-color: ${"hsl(252deg 62% 55% / 9%)"};
    color: ${tI};
  }
`,tN=a.ZP.div`
  position: absolute;
  top: -8px;
  right: -8px;
  text-align: center;
  line-height: 16px;
  width: 16px;
  height: 16px;
  border-radius: 8px;
  font-size: 12px;
  color: #fff;
  background-color: ${tI};
`;function tD(e){var t,o;let{dragStart:i,dragNodes:r,dragJSON:l}=e,a=null==(o=oM.find(e=>e.type===(null==i?void 0:i.flowNodeType)||(null==l?void 0:l.type)))||null==(t=o.info)?void 0:t.icon,s=(r||[]).map(e=>e.allCollapsedChildren.length?e.allCollapsedChildren.filter(e=>!e.hidden).length:1).reduce((e,t)=>e+t,0);return(0,n.jsxs)(tC,{children:[(0,n.jsx)(th,{src:a}),(null==i?void 0:i.id)||(null==l?void 0:l.id),s>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tN,{children:s}),(0,n.jsx)(tC,{style:{position:"absolute",top:5,right:-5,left:5,bottom:-5,opacity:.5}})]})]})}var tv=o(236831),tb=o(125812),tT=o(623631);let tf={render:e=>{let{form:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsxs)(tS,{children:[(0,n.jsx)(tV,{}),(0,n.jsx)(tZ,{})]})]})},validateTrigger:r.C$T.onChange,formatOnInit:(e,t)=>e,formatOnSubmit:(e,t)=>e,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"},"inputsValues.*":e=>{var t;let{value:o,context:i,formValues:n,name:l}=e,a=l.replace(/^inputsValues\./,"");if(((null==(t=n.inputs)?void 0:t.required)||[]).includes(a)&&(""===o||void 0===o||(null==o?void 0:o.content)===""))return{message:`${a} is required`,level:r.Odm.Error}}},effect:{title:tv.H,outputs:tb.X,inputsValues:tT.g}},tw=0,tz={type:"tool",info:{icon:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICAgd2lkdGg9IjQ0IiBoZWlnaHQ9IjQiPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyX3Rvb2wiIHgxPSIxMDI0IiB5MT0iMTAyNCIgeDI9IjguMDk2ODYiIHkyPSI0LjY5ODIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzMzNzBGRiIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuOTk3OTA4IiBzdG9wLWNvbG9yPSIjMzNBOUZGIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGQ9Ik0xMDI0IDcxNi44djIwNC44YTEwMi40IDEwMi40IDAgMCAxLTEwMi40IDEwMi40aC0yMDQuOHYtMTAyLjRhMTAyLjQgMTAyLjQgMCAwIDAtMTAyLjQtMTAyLjQgMTAyLjQgMTAyLjQgMCAwIDAtMTAyLjQgMTAyLjR2MTAyLjRIMzA3LjJhMTAyLjQgMTAyLjQgMCAwIDEtMTAyLjQtMTAyLjR2LTIwNC44SDEwMi40YTEwMi40IDEwMi40IDAgMCAxLTEwMi40LTEwMi40IDEwMi40IDEwMi40IDAgMCAxIDEwMi40LTEwMi40aDEwMi40VjMwNy4yYzAtNTYuMzIgNDYuMDgtMTAyLjQgMTAyLjQtMTAyLjRoMjA0LjhWMTAyLjRhMTAyLjQgMTAyLjQgMCAwIDEgMTAyLjQtMTAyLjQgMTAyLjQgMTAyLjQgMCAwIDEgMTAyLjQgMTAyLjR2MTAyLjRoMjA0LjhhMTAyLjQgMTAyLjQgMCAwIDEgMTAyLjQgMTAyLjR2MjA0LjhoLTEwMi40YTEwMi40IDEwMi40IDAgMCAwLTEwMi40IDEwMi40IDEwMi40IDEwMi40IDAgMCAwIDEwMi40IDEwMi40aDEwMi40eiIKICAgICAgICAgIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl90b29sKSI+PC9wYXRoPgo8L3N2Zz4K",description:"Tool."},meta:{copyDisable:!0,draggable:!1,selectable:!1},formMeta:tf,onAdd:()=>({id:`tool${(0,l.x0)(5)}`,type:"tool",data:{title:`Tool_${++tw}`}})};function tE(e){var t;let{node:o}=e,i=null==(t=o.firstChild)?void 0:t.getData(r.LzJ),l=(0,r.sX$)();async function a(){l.operation.addNode(tz.onAdd(l,o),{parent:o})}return"agentTools"!==o.flowNodeType&&0!==o.blocks.length?null:(0,n.jsx)("div",{style:{display:"flex",color:"#fff",background:"rgb(187, 191, 196)",width:20,height:20,borderRadius:10,overflow:"hidden"},onMouseEnter:()=>null==i?void 0:i.toggleMouseEnter(),onMouseLeave:()=>null==i?void 0:i.toggleMouseLeave(),children:(0,n.jsx)("div",{style:{width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>a(),children:(0,n.jsx)(eL.Z,{size:"small"})})})}function tL(){return(0,g.useContext)(ep)}function tQ(){return(0,g.useContext)(eM)}let tk=a.ZP.div`
  box-sizing: border-box;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background-color: rgb(251, 251, 251);
  border-radius: 0 0 8px 8px;
  padding: 0 12px 12px;
`,tO=a.ZP.div`
  color: var(--semi-color-text-2);
  font-size: 12px;
  line-height: 20px;
  padding: 0px 4px;
  word-break: break-all;
  white-space: break-spaces;
`;function tS(e){var t;let{node:o,expanded:i}=tL(),r=tQ(),l=o.getNodeRegistry();return(0,n.jsx)(tk,{children:(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(tO,{children:null==(t=l.info)?void 0:t.description}),(i||r)&&e.children]})})}var tB=o(746640);function tZ(){return tQ()?null:(0,n.jsx)(tB.L,{displayFromScope:!0})}var tP=o(637298),tY=o(510165),tR=o(993700);o(801211);let{Text:tG}=E.Typography;function tU(e){let{children:t,name:o,required:i,description:r,type:l,labelWidth:a,vertical:s}=e,d=(0,g.useCallback)(e=>(0,n.jsxs)("div",{style:{width:"0",display:"flex",flex:"1"},children:[(0,n.jsx)(tG,{style:{width:"100%"},ellipsis:{showTooltip:!!e},children:o}),i&&(0,n.jsx)("span",{style:{color:"#f93920",paddingLeft:"2px"},children:"*"})]}),[]);return(0,n.jsxs)("div",{style:{fontSize:12,marginBottom:6,width:"100%",position:"relative",display:"flex",gap:8,...s?{flexDirection:"column"}:{justifyContent:"center",alignItems:"center"}},children:[(0,n.jsxs)("div",{style:{justifyContent:"center",alignItems:"center",color:"var(--semi-color-text-0)",width:a||118,position:"relative",display:"flex",columnGap:4,flexShrink:0},children:[(0,n.jsx)(tR.s,{value:{type:l}}),r?(0,n.jsx)(E.Tooltip,{content:r,children:d()}):d(!0)]}),(0,n.jsx)("div",{style:{flexGrow:1,minWidth:0},children:t})]})}function tV(){let{readonly:e}=tL();return(0,n.jsx)(r.gNt,{name:"inputs",children:t=>{var o,i;let{field:l}=t,a=(null==(o=l.value)?void 0:o.required)||[],s=null==(i=l.value)?void 0:i.properties;if(!s)return(0,n.jsx)(n.Fragment,{});let d=Object.keys(s).map(t=>{var o;let i=s[t],l=null==(o=i.extra)?void 0:o.formComponent,d=["prompt-editor"].includes(l||"");return(0,n.jsx)(r.gNt,{name:`inputsValues.${t}`,defaultValue:i.default,children:o=>{let{field:r,fieldState:s}=o;return(0,n.jsxs)(tU,{name:t,vertical:d,type:i.type,required:a.includes(t),children:["prompt-editor"===l&&(0,n.jsx)(tP.B,{value:r.value,onChange:r.onChange,readonly:e,hasError:Object.keys((null==s?void 0:s.errors)||{}).length>0}),!l&&(0,n.jsx)(tY.X,{value:r.value,onChange:r.onChange,readonly:e,hasError:Object.keys((null==s?void 0:s.errors)||{}).length>0,schema:i}),(0,n.jsx)(c,{errors:null==s?void 0:s.errors,warnings:null==s?void 0:s.warnings})]})}},t)});return(0,n.jsx)(n.Fragment,{children:d})}})}var tF=o(855403),tH=o(684265),tW=o(763171),tJ=o(777758);let{Text:tX}=E.Typography;function tK(e){let{readonly:t,titleEdit:o,updateTitleEdit:i}=e,l=(0,g.useRef)(),a=o&&!t;return(0,g.useEffect)(()=>{if(a){var e;null==(e=l.current)||e.focus()}},[a]),(0,n.jsx)(tj,{children:(0,n.jsx)(r.gNt,{name:"title",children:e=>{let{field:{value:t,onChange:o},fieldState:r}=e;return(0,n.jsxs)("div",{style:{height:24},children:[a?(0,n.jsx)(E.Input,{value:t,onChange:o,ref:l,onBlur:()=>i(!1)}):(0,n.jsx)(tX,{ellipsis:{showTooltip:!0},children:t}),(0,n.jsx)(c,{errors:null==r?void 0:r.errors})]})}})})}function tq(e){let{updateTitleEdit:t}=e,{node:o,deleteNode:i}=(0,g.useContext)(ep),l=(0,r.sX$)(),a=o.getNodeRegistry(),s=(0,g.useCallback)(e=>{l.playground.commandService.executeCommand(k.COPY,o),e.stopPropagation()},[l,o]),d=(0,g.useCallback)(e=>{i(),e.stopPropagation()},[l,o]),c=(0,g.useCallback)(()=>{t(!0)},[t]),u=(0,g.useMemo)(()=>a.canDelete?!a.canDelete(l,o):a.meta.deleteDisable,[a,o]);return(0,n.jsxs)(E.Dropdown.Menu,{children:[(0,n.jsx)(E.Dropdown.Item,{onClick:c,children:"Edit Title"}),(0,n.jsx)(E.Dropdown.Item,{onClick:s,disabled:!0===a.meta.copyDisable,children:"Copy"}),(0,n.jsx)(E.Dropdown.Item,{onClick:d,disabled:u,children:"Delete"})]})}function t_(){let{node:e,expanded:t,startDrag:o,toggleExpand:i,readonly:r}=(0,g.useContext)(ep),[l,a]=(0,g.useState)(!1),s=(0,p.zi)(),d=tQ();return(0,n.jsxs)(tx,{onMouseDown:e=>{o(e),e.stopPropagation()},children:[(e=>{var t;let o=null==(t=e.getNodeRegistry().info)?void 0:t.icon;return o?(0,n.jsx)(th,{src:o}):null})(e),(0,n.jsx)(tK,{readonly:r,titleEdit:l,updateTitleEdit:a}),e.renderData.expandable&&!d&&(0,n.jsx)(E.Button,{type:"primary",icon:t?(0,n.jsx)(tF.Z,{}):(0,n.jsx)(tH.Z,{}),size:"small",theme:"borderless",onClick:e=>{i(),e.stopPropagation()}}),r?void 0:(0,n.jsx)(tm,{children:(0,n.jsx)(E.Dropdown,{trigger:"hover",position:"bottomRight",render:(0,n.jsx)(tq,{updateTitleEdit:a}),children:(0,n.jsx)(E.IconButton,{color:"secondary",size:"small",theme:"borderless",icon:(0,n.jsx)(tJ.Z,{}),onClick:e=>e.stopPropagation()})})}),d&&(0,n.jsx)(E.Button,{type:"primary",icon:(0,n.jsx)(tW.Z,{}),size:"small",theme:"borderless",onClick:()=>{s.close(ex.key)}})]})}a.ZP.div`
  display: flex;
  justify-content: flex-start;
  align-items: center;
  font-size: 12px;
  margin-bottom: 6px;
`,a.ZP.div`
  width: 120px;
  margin-right: 5px;
  position: relative;
`;let t$={render:e=>{let{form:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsx)(tS,{children:(0,n.jsx)(tZ,{})})]})},validateTrigger:r.C$T.onChange,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"}}},t0={extend:r.OTb.DYNAMIC_SPLIT,type:"switch",info:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDQiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0NCA0NSIgZmlsbD0ibm9uZSIgY2xhc3M9ImluamVjdGVkLXN2ZyIgZGF0YS1zcmM9Imh0dHBzOi8vbGYzLXN0YXRpYy5ieXRlZG5zZG9jLmNvbS9vYmovZWRlbi1jbi91dnBhaHR2YWJoX2xtX3poaHdoL2xqaHdadGhsYXVramxrdWx6bHAvYWN0aXZpdHlfaWNvbnMvZXhjbHVzaXZlLXNwbGl0LTA1MTguc3ZnIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2LjQ3MDUgMTQuMDE1MkMxNS4yOTkgMTIuODQzNiAxNS4yOTkgMTAuOTQ0IDE2LjQ3MDUgOS43NzI0NEwyMC43MTMxIDUuNTI5N0MyMS44ODQ2IDQuMzU4MSAyMy43ODQgNC4zNTgxIDI0Ljk1NTYgNS41Mjk3TDI5LjE5ODEgOS43NzI0NEMzMC4zNjk3IDEwLjk0NCAzMC4zNjk3IDEyLjg0MzYgMjkuMTk4MSAxNC4wMTUyTDI1LjEyMDYgMTguMDkyOUgzMi42Njc0QzM2LjUzMzQgMTguMDkyOSAzOS42Njc0IDIxLjIyNjkgMzkuNjY3NCAyNS4wOTI5VjMzLjE1NFYzMy4zMjcxVjM3LjE1NEMzOS42Njc0IDM4LjI1ODUgMzguNzcxOSAzOS4xNTQgMzcuNjY3NCAzOS4xNTRIMzMuNjY3NEMzMi41NjI4IDM5LjE1NCAzMS42Njc0IDM4LjI1ODUgMzEuNjY3NCAzNy4xNTRWMzMuMzI3MVYzMy4xNTRWMjYuMDkyOUgyMy41OTQ4SDE1LjY2NzRWMzMuMTMyN0wxNy4yNjg1IDMzLjEyNDRDMTguODM5NyAzMy4xMTYzIDE5LjYzMjIgMzUuMDE1NiAxOC41MjEyIDM2LjEyNjZMMTIuNzM3NCA0MS45MTAzQzEyLjA1MDYgNDIuNTk3MSAxMC45MzcxIDQyLjU5NzEgMTAuMjUwMyA0MS45MTAzTDQuNTI1ODggMzYuMTg1OUMzLjQyMTA3IDM1LjA4MTEgNC4xOTc5NyAzMy4xOTE3IDUuNzYwMzggMzMuMTgzN0w3LjY2NzM3IDMzLjE3MzlWMjUuMDkyOUM3LjY2NzM3IDIxLjIyNyAxMC44MDE0IDE4LjA5MjkgMTQuNjY3NCAxOC4wOTI5SDIwLjU0ODFMMTYuNDcwNSAxNC4wMTUyWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzI3NTJfMTgzNzAyLTcpIi8+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjc1Ml8xODM3MDItNyIgeDE9IjM4LjUyIiB5MT0iNDMuMzkxNSIgeDI9IjguMDk2ODYiIHkyPSI0LjY5ODIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzMzNzBGRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuOTk3OTA4IiBzdG9wLWNvbG9yPSIjMzNBOUZGIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg==",description:"Connect multiple downstream branches. Only the corresponding branch will be executed if the set conditions are met."},meta:{expandable:!1},formMeta:tf,onAdd:()=>({id:`switch_${(0,l.x0)(5)}`,type:"switch",data:{title:"Switch"},blocks:[{id:(0,l.x0)(5),type:"case",data:{title:"Case_0",inputsValues:{condition:{type:"constant",content:""}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}},blocks:[]},{id:(0,l.x0)(5),type:"case",data:{title:"Case_1",inputsValues:{condition:{type:"constant",content:""}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}}},{id:(0,l.x0)(5),type:"caseDefault",data:{title:"Default"},blocks:[]}]})},t3=o.p+"static/image/icon-start.8353312d.jpg",t1={render:e=>{let{form:t}=e;return tQ()?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsx)(tS,{children:(0,n.jsx)(r.gNt,{name:"outputs",render:e=>{let{field:{value:t,onChange:o}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(en._,{value:t,onChange:e=>o(e)})})}})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsx)(tS,{children:(0,n.jsx)(tZ,{})})]})},validateTrigger:r.C$T.onChange,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"}},effect:{title:tv.H,outputs:tb.X}};var t6=o(683411);let t4={render:e=>{let{form:t}=e;tQ();let{readonly:o}=tL(),i=(0,n.jsx)(r.gNt,{name:"loopFor",children:e=>{var t;let{field:i,fieldState:r}=e;return(0,n.jsxs)(tU,{name:"loopFor",type:"array",required:!0,children:[(0,n.jsx)(t6.u,{style:{width:"100%"},value:null==(t=i.value)?void 0:t.content,onChange:e=>i.onChange({type:"ref",content:e}),readonly:o,hasError:Object.keys((null==r?void 0:r.errors)||{}).length>0}),(0,n.jsx)(c,{errors:null==r?void 0:r.errors})]})}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsxs)(tS,{children:[i,(0,n.jsx)(tZ,{})]})]})},effect:{loopFor:o(316374).l}},t2={type:"agentLLM",extend:r.SyX.SLOT_BLOCK,meta:{addDisable:!0,sidebarDisable:!0,draggable:!1},info:{icon:"",description:"Agent LLM."}},t5=o.p+"static/image/icon-llm.de446995.jpg",t9=0,t8={type:"llm",info:{icon:t5,description:"Call the large language model and use variables and prompt words to generate responses."},formMeta:tf,meta:{draggable:e=>{var t;return(null==(t=e.parent)?void 0:t.flowNodeType)!==t2.type}},canDelete(e,t){var o;return(null==(o=t.parent)?void 0:o.flowNodeType)!==t2.type},onAdd:()=>({id:`llm_${(0,l.x0)(5)}`,type:"llm",data:{title:`LLM_${++t9}`,inputsValues:{modelType:{type:"constant",content:"gpt-3.5-turbo"},temperature:{type:"constant",content:.5},systemPrompt:{type:"template",content:"# Role\nYou are an AI assistant.\n"},prompt:{type:"template",content:""}},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string",extra:{formComponent:"prompt-editor"}},prompt:{type:"string",extra:{formComponent:"prompt-editor"}}}},outputs:{type:"object",properties:{result:{type:"string"}}}}})},t7="data:image/png;base64,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",oe={extend:r.OTb.STATIC_SPLIT,type:"if",info:{icon:t7,description:"Only the corresponding branch will be executed if the set conditions are met."},meta:{expandable:!1},formMeta:tf,onAdd:()=>({id:`if_${(0,l.x0)(5)}`,type:"if",data:{title:"If",inputsValues:{condition:{type:"constant",content:!0}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}},blocks:[{id:(0,l.x0)(5),type:"ifBlock",data:{title:"true"},blocks:[]},{id:(0,l.x0)(5),type:"ifBlock",data:{title:"false"}}]})},ot=o.p+"static/image/icon-end.ac3dc81e.jpg";var oo=o(555328),oi=o(221191),on=o(401255);let or={...tf,render:()=>tQ()?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsx)(tS,{children:(0,n.jsx)(r.gNt,{name:"inputsValues",children:e=>{let{field:{value:t,onChange:o}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(oo.P,{value:t,onChange:e=>o(e)})})}})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsx)(tS,{children:(0,n.jsx)(r.gNt,{name:"inputsValues",children:e=>{let{field:{value:t}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(oi.y,{value:t})})}})})]}),plugins:[(0,on.k)({sourceKey:"inputsValues",targetKey:"inputs"})]},ol={render:e=>{let{form:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t_,{}),(0,n.jsxs)(tS,{children:[(0,n.jsx)(tV,{}),(0,n.jsx)(tZ,{})]})]})},validateTrigger:r.C$T.onChange,validate:{"inputsValues.*":e=>{var t;let{value:o,context:i,formValues:n,name:r}=e,l=r.replace(/^inputsValues\./,"");if(((null==(t=n.inputs)?void 0:t.required)||[]).includes(l)&&(""===o||void 0===o||(null==o?void 0:o.content)===""))return`${l} is required`}}},oa=0,os={type:"memory",info:{icon:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICAgd2lkdGg9IjQ0IiBoZWlnaHQ9IjQ0Ij4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl9tZW1vcnkiIHgxPSIxMDI0IiB5MT0iMTAyNCIgeDI9IjguMDk2ODYiIHkyPSI0LjY5ODIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzMzNzBGRiIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuOTk3OTA4IiBzdG9wLWNvbG9yPSIjMzNBOUZGIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGQ9Ik05NjAgMTYwdjk2YzAgODguNC0yMDAuNiAxNjAtNDQ4IDE2MFM2NCAzNDQuNCA2NCAyNTZWMTYwQzY0IDcxLjYgMjY0LjYgMCA1MTIgMHM0NDggNzEuNiA0NDggMTYweiBtLTEwOS42IDI2OS40YzQxLjYtMTQuOCA3OS44LTMzLjggMTA5LjYtNTcuMlY1NzZjMCA4OC40LTIwMC42IDE2MC00NDggMTYwUzY0IDY2NC40IDY0IDU3NlYzNzIuMmMyOS44IDIzLjYgNjggNDIuNCAxMDkuNiA1Ny4yQzI2My40IDQ2MS40IDM4MyA0ODAgNTEyIDQ4MHMyNDguNi0xOC42IDMzOC40LTUwLjZ6TTY0IDY5Mi4yYzI5LjggMjMuNiA2OCA0Mi40IDEwOS42IDU3LjJDMjYzLjQgNzgxLjQgMzgzIDgwMCA1MTIgODAwczI0OC42LTE4LjYgMzM4LjQtNTAuNmM0MS42LTE0LjggNzkuOC0zMy44IDEwOS42LTU3LjJWODY0YzAgODguNC0yMDAuNiAxNjAtNDQ4IDE2MFM2NCA5NTIuNCA2NCA4NjR2LTE3MS44eiIKICAgICAgICAgIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl9tZW1vcnkpIj48L3BhdGg+Cjwvc3ZnPgo=",description:"Memory."},meta:{addDisable:!0,copyDisable:!0,draggable:!1,selectable:!1},formMeta:tf,onAdd:()=>({id:`memory_${(0,l.x0)(5)}`,type:"memory",data:{title:`Memory_${++oa}`}})},od=0,oc={type:"agentTools",extend:r.SyX.SLOT_BLOCK,info:{icon:"",description:"Agent Tools."},meta:{addDisable:!0,sidebarDisable:!0},onAdd:()=>({id:`tool_${(0,l.x0)(5)}`,type:"agentTool",data:{title:`Tool_${++od}`,outputs:{type:"object",properties:{result:{type:"string"}}}}})},og={type:"agentMemory",extend:r.SyX.SLOT_BLOCK,meta:{addDisable:!0,sidebarDisable:!0},info:{icon:"",description:"Agent Memory."}},ou=0,op=[{type:"agent",extend:r.SyX.SLOT,info:{icon:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NCIgaGVpZ2h0PSI0NCI+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfcm9ib3QiIHgxPSIxMDI0IiB5MT0iMTAyNCIgeDI9IjguMDk2ODYiIHkyPSI0LjY5ODIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzMzNzBGRiIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuOTk3OTA4IiBzdG9wLWNvbG9yPSIjMzNBOUZGIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGQ9Ik03MTcuMTIgMjc0SDc2MmM4Mi44NDIgMCAxNTAgNjcuMTU4IDE1MCAxNTB2MjAwYzAgODIuODQyLTY3LjE1OCAxNTAtMTUwIDE1MEgyNjJjLTgyLjg0MiAwLTE1MC02Ny4xNTgtMTUwLTE1MFY0MjRjMC04Mi44NDIgNjcuMTU4LTE1MCAxNTAtMTUwaDQ0Ljg4bC0xOC4yNjgtMTA5LjYwMmMtNC4wODYtMjQuNTE0IDEyLjQ3Ni00Ny43IDM2Ljk5LTUxLjc4NiAyNC41MTQtNC4wODYgNDcuNyAxMi40NzYgNTEuNzg2IDM2Ljk5bDIwIDEyMGMwLjI0NiAxLjQ3MiAwLjQxNiAyLjk0IDAuNTE2IDQuMzk4aDIyOC4xOTJjMC4xLTEuNDYgMC4yNy0yLjkyNiAwLjUxNi00LjM5OGwyMC0xMjBjNC4wODYtMjQuNTE0IDI3LjI3Mi00MS4wNzYgNTEuNzg2LTM2Ljk5IDI0LjUxNCA0LjA4NiA0MS4wNzYgMjcuMjcyIDM2Ljk5IDUxLjc4Nkw3MTcuMTIgMjc0ek0zMDggNDg0djQwYzAgMjQuODUyIDIwLjE0OCA0NSA0NSA0NVMzOTggNTQ4Ljg1MiAzOTggNTI0di00MGMwLTI0Ljg1Mi0yMC4xNDgtNDUtNDUtNDVTMzA4IDQ1OS4xNDggMzA4IDQ4NHogbTMxOCAwdjQwYzAgMjQuODUyIDIwLjE0OCA0NSA0NSA0NVM3MTYgNTQ4Ljg1MiA3MTYgNTI0di00MGMwLTI0Ljg1Mi0yMC4xNDgtNDUtNDUtNDVTNjI2IDQ1OS4xNDggNjI2IDQ4NHpNMzEyIDkxMmMtMjQuODUyIDAtNDUtMjAuMTQ4LTQ1LTQ1UzI4Ny4xNDggODIyIDMxMiA4MjJoNDAwYzI0Ljg1MiAwIDQ1IDIwLjE0OCA0NSA0NVM3MzYuODUyIDkxMiA3MTIgOTEySDMxMnoiCiAgICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfcm9ib3QpIiA+PC9wYXRoPgo8L3N2Zz4K",description:"AI Agent."},formMeta:tf,onAdd:(e,t)=>({id:`agent_${(0,l.x0)(5)}`,type:"agent",blocks:[{id:`agentLLM_${(0,l.x0)(5)}`,type:"agentLLM",blocks:[t8.onAdd(e,t)]},{id:`agentMemory_${(0,l.x0)(5)}`,type:"agentMemory",blocks:[os.onAdd(e,t)]},{id:`agentTools_${(0,l.x0)(5)}`,type:"agentTools",blocks:[tz.onAdd(e,t)]}],data:{title:`Agent_${++ou}`,outputs:{type:"object",properties:{result:{type:"string"}}}}})},og,oc,t2,os,tz],oM=[{type:"start",meta:{isStart:!0,deleteDisable:!0,selectable:!1,copyDisable:!0,expandable:!1,addDisable:!0},info:{icon:t3,description:"The starting node of the workflow, used to set the information needed to initiate the workflow."},formMeta:t1},{type:"end",meta:{isNodeEnd:!0,selectable:!1,copyDisable:!0,expandable:!1},info:{icon:ot,description:"The final node of the workflow, used to return the result information after the workflow is run."},formMeta:or,canAdd(e,t){var o;if(!t.isLast)return!1;if(t.parent&&(null==(o=t.parent.parent)?void 0:o.flowNodeType)===r.SyX.INLINE_BLOCKS&&t.parent.originParent&&!t.parent.originParent.isLast){let e=t.parent.parent.blocks;return e.filter(e=>{var t;return null==(t=e.blocks[e.blocks.length-1])?void 0:t.getNodeMeta().isNodeEnd}).length<e.length-1}return!0},canDelete:(e,t)=>t.parent!==e.document.root,onAdd:(e,t)=>({id:`end_${(0,l.x0)()}`,type:"end",data:{title:"End",outputs:{type:"object",properties:{result:{type:"string"}}}}})},t0,t8,{type:"loop",info:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NCIgaGVpZ2h0PSI0NCIgdmlld0JveD0iMCAwIDQ0IDQ0IiBmaWxsPSJub25lIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMyLjExMTIgNS45NTU2QzMxLjA2MzIgNC45MDc1OSAyOS4yNzE2IDUuNjU1MTMgMjkuMjc5MiA3LjEzNzIyTDI5LjI4NzMgOC43MTUwM0gxMi4xMTg0QzguMzczMjEgOC43MTUwMyA1LjMzNzExIDExLjc1MTEgNS4zMzcxMSAxNS40OTYzSDUuMzQyMzhDNS4zMzk3MSAxNS41MzggNS4zMzgzOSAxNS41OCA1LjMzODQ2IDE1LjYyMjRMNS4zNDg5MiAyMS42NDczQzUuMzUxNzEgMjMuMjQ5OSA3LjIyNTA4IDI0LjExOTQgOC40NTA5IDIzLjA4N0wxMi4yNzMyIDE5Ljg2NzlDMTIuOTEyMSAxOS4zMjk4IDEzLjI4MDYgMTguNTM2OSAxMy4yODAxIDE3LjcwMTZMMTMuMjc5NSAxNi43MTVIMjkuMzI4NUwyOS4zMzUxIDE3Ljk5MzFDMjkuMzQyNyAxOS40NjY5IDMxLjEyNSAyMC4xOTk4IDMyLjE2NzEgMTkuMTU3NkwzNy41NjcxIDEzLjc1NzZDMzguMjE1IDEzLjEwOTggMzguMjE1IDEyLjA1OTQgMzcuNTY3MSAxMS40MTE1TDMyLjExMTIgNS45NTU2Wk0xMy4yNzkgMTUuODY5NEwxMy4yNzg4IDE1LjYyNDNDMTMuMjc4OCAxNS41ODEzIDEzLjI3NzMgMTUuNTM4NiAxMy4yNzQ1IDE1LjQ5NjNIMTMuMzM3MUMxMy4zMzcxIDE1LjYyNjUgMTMuMzE2NyAxNS43NTE4IDEzLjI3OSAxNS44Njk0Wk0xMS40NzU5IDM3Ljk3MzFDMTIuNTIzOSAzOS4wMjExIDE0LjMxNTYgMzguMjczNiAxNC4zMDc5IDM2Ljc5MTVMMTQuMjk5OCAzNS4yMTM3SDMxLjQ2ODdDMzUuMjEzOSAzNS4yMTM3IDM4LjI1IDMyLjE3NzYgMzguMjUgMjguNDMyNEgzOC4yNDQ3QzM4LjI0NzQgMjguMzkwNyAzOC4yNDg3IDI4LjM0ODcgMzguMjQ4NyAyOC4zMDYzTDM4LjIzODIgMjIuMjgxNEMzOC4yMzU0IDIwLjY3ODggMzYuMzYyIDE5LjgwOTMgMzUuMTM2MiAyMC44NDE3TDMxLjMxNCAyNC4wNjA4QzMwLjY3NSAyNC41OTkgMzAuMzA2NSAyNS4zOTE4IDMwLjMwNyAyNi4yMjcyTDMwLjMwNzYgMjcuMjEzN0gxNC4yNTg2TDE0LjI1MiAyNS45MzU2QzE0LjI0NDQgMjQuNDYxOCAxMi40NjIyIDIzLjcyODkgMTEuNDIgMjQuNzcxMUw2LjAyMDAyIDMwLjE3MTFDNS4zNzIxNSAzMC44MTkgNS4zNzIxNSAzMS44Njk0IDYuMDIwMDIgMzIuNTE3MkwxMS40NzU5IDM3Ljk3MzFaTTMwLjMwODIgMjguMDU5M0wzMC4zMDgzIDI4LjMwNDRDMzAuMzA4MyAyOC4zNDc0IDMwLjMwOTggMjguMzkwMSAzMC4zMTI3IDI4LjQzMjRIMzAuMjVDMzAuMjUgMjguMzAyMyAzMC4yNzA0IDI4LjE3NjkgMzAuMzA4MiAyOC4wNTkzWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzc3NV8xMTM3KSIvPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzc3NV8xMTM3IiB4MT0iNi4zOTYwOSIgeTE9IjM5LjMwNjMiIHgyPSIzMi41OTA1IiB5Mj0iNC4xMDQ4OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzM3MEZGIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC45OTc5MDgiIHN0b3AtY29sb3I9IiMzM0E5RkYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgo8L3N2Zz4K",description:"Used to repeatedly execute a series of tasks by setting the number of iterations and logic"},meta:{expandable:!1},formMeta:t4,onAdd:()=>({id:`loop_${(0,l.x0)(5)}`,type:"loop",data:{title:"Loop"}})},eP,{type:"tryCatch",info:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NCIgaGVpZ2h0PSI0NSIgdmlld0JveD0iMCAwIDQ0IDQ1IiBmaWxsPSJub25lIiA+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQgMTAuMzY2MkM0IDcuMDUyNSA2LjY4NjI5IDQuMzY2MjEgMTAgNC4zNjYyMUgzNEMzNy4zMTM3IDQuMzY2MjEgNDAgNy4wNTI1IDQwIDEwLjM2NjJWMjYuMzY2MkM0MCAyOS42Nzk5IDM3LjMxMzcgMzIuMzY2MiAzNCAzMi4zNjYySDEwQzYuNjg2MjkgMzIuMzY2MiA0IDI5LjY3OTkgNCAyNi4zNjYyVjEwLjM2NjJaTTE4Ljg1NzggMTUuNzMwNEwxOC4xNzIzIDE4LjQ3MjVDMTcuODk0MSAxOS41ODU1IDE2Ljg5NDEgMjAuMzY2MiAxNS43NDY5IDIwLjM2NjJIMTEuMjQxNUMxMC40MTMgMjAuMzY2MiA5Ljc0MTQ1IDE5LjY5NDYgOS43NDE0NSAxOC44NjYyQzkuNzQxNDUgMTguMDM3OCAxMC40MTMgMTcuMzY2MiAxMS4yNDE1IDE3LjM2NjJIMTUuMzU2NUwxNi4zMjI0IDEzLjUwMjdDMTYuOTEwNyAxMS4xNDk3IDIwLjE2ODIgMTAuOTI4NiAyMS4wNjkgMTMuMTgwNUwyNC41NzU1IDIxLjk0NjhMMjUuODg5MiAxOC44ODE0QzI2LjI4MzEgMTcuOTYyMiAyNy4xODcgMTcuMzY2MiAyOC4xODcgMTcuMzY2MkgzMi43NTg1QzMzLjU4NyAxNy4zNjYyIDM0LjI1ODUgMTguMDM3OCAzNC4yNTg1IDE4Ljg2NjJDMzQuMjU4NSAxOS42OTQ2IDMzLjU4NyAyMC4zNjYyIDMyLjc1ODUgMjAuMzY2MkgyOC41MTY4TDI2Ljg1NzQgMjQuMjM4MUMyNS45OCAyNi4yODUzIDIzLjA2NTUgMjYuMjQ5NyAyMi4yMzgzIDI0LjE4MTdMMTguODU3OCAxNS43MzA0Wk0xMyAzNi4zNjYyQzExLjg5NTQgMzYuMzY2MiAxMSAzNy4yNjE2IDExIDM4LjM2NjJDMTEgMzkuNDcwOCAxMS44OTU0IDQwLjM2NjIgMTMgNDAuMzY2MkgzMUMzMi4xMDQ2IDQwLjM2NjIgMzMgMzkuNDcwOCAzMyAzOC4zNjYyQzMzIDM3LjI2MTYgMzIuMTA0NiAzNi4zNjYyIDMxIDM2LjM2NjJIMTNaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjc1Ml8xODM3MDYtMSkiPjwvcGF0aD4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8yNzUyXzE4MzcwNi0xIiB4MT0iMzguODQxNyIgeTE9IjQxLjI4NjkiIHgyPSIxMC4yODM0IiB5Mj0iMi44MTE3NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzM3MEZGIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC45OTc5MDgiIHN0b3AtY29sb3I9IiMzM0E5RkYiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgo8L3N2Zz4K",description:"try catch."},meta:{expandable:!1},formMeta:t$,onAdd:()=>({id:`tryCatch${(0,l.x0)(5)}`,type:"tryCatch",data:{title:"TryCatch"},blocks:[{id:`tryBlock${(0,l.x0)(5)}`,type:"tryBlock",blocks:[]},{id:`catchBlock${(0,l.x0)(5)}`,type:"catchBlock",blocks:[],data:{title:"Catch Block 1",inputsValues:{condition:""},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}}}]})},eS,oe,{type:"ifBlock",extend:"block",meta:{copyDisable:!0,addDisable:!0,sidebarDisable:!0,defaultExpanded:!1,style:{width:66,height:20,borderRadius:4}},info:{icon:t7,description:""},canAdd:()=>!1,canDelete:(e,t)=>!1,formMeta:{render:e=>{let{node:t}=tL();return(0,n.jsx)("div",{style:{width:"100%",height:"100%",backgroundColor:0===t.index?"green":"red",color:"white",display:"flex",pointerEvents:"none",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(r.gNt,{name:"title",children:e=>{let{field:t}=e;return(0,n.jsx)(n.Fragment,{children:t.value})}})})}}},{type:"breakLoop",extend:"end",info:{icon:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZvY3VzYWJsZT0iZmFsc2UiIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkuNTYwNjYgMi40MzkzNEMxMC4xNDY0IDMuMDI1MTMgMTAuMTQ2NCAzLjk3NDg3IDkuNTYwNjYgNC41NjA2Nkw3LjEyMTMyIDdIMTQuNzVDMTguODM1MyA3IDIyIDEwLjU3OTYgMjIgMTQuNUMyMiAxOC40MjA0IDE4LjgzNTMgMjIgMTQuNzUgMjJIMTEuNUMxMC42NzE2IDIyIDEwIDIxLjMyODQgMTAgMjAuNUMxMCAxOS42NzE2IDEwLjY3MTYgMTkgMTEuNSAxOUgxNC43NUMxNy4wMTYgMTkgMTkgMTYuOTMwOCAxOSAxNC41QzE5IDEyLjA2OTIgMTcuMDE2IDEwIDE0Ljc1IDEwSDcuMTIxMzJMOS41NjA2NiAxMi40MzkzQzEwLjE0NjQgMTMuMDI1MSAxMC4xNDY0IDEzLjk3NDkgOS41NjA2NiAxNC41NjA3QzguOTc0ODcgMTUuMTQ2NCA4LjAyNTEzIDE1LjE0NjQgNy40MzkzNCAxNC41NjA3TDIuNDM5MzQgOS41NjA2NkMxLjg1MzU1IDguOTc0ODcgMS44NTM1NSA4LjAyNTEzIDIuNDM5MzQgNy40MzkzNEw3LjQzOTM0IDIuNDM5MzRDOC4wMjUxMyAxLjg1MzU1IDguOTc0ODcgMS44NTM1NSA5LjU2MDY2IDIuNDM5MzRaIiBmaWxsPSIjNTRBOUZGIj48L3BhdGg+PC9zdmc+Cg==",description:"Break in current Loop."},meta:{style:{width:240}},formMeta:{render:()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t_,{})})},canAdd(e,t){for(;t.parent;){if("loop"===t.parent.flowNodeType)return!0;t=t.parent}return!1},onAdd:(e,t)=>({id:`break_${(0,l.x0)()}`,type:"breakLoop",data:{title:"BreakLoop"}})},{type:"caseDefault",extend:"case",meta:{copyDisable:!0,addDisable:!0,draggable:!1,deleteDisable:!0,style:{width:240}},info:{icon:eQ,description:"Switch default branch"},canDelete:(e,t)=>!1,formMeta:ol},...op],oA={nodes:[{id:"start_0",type:"start",blocks:[],data:{title:"Start",outputs:{type:"object",properties:{query:{type:"string",default:"Hello Flow."},enable:{type:"boolean",default:!0},array_obj:{type:"array",items:{type:"object",properties:{int:{type:"number"},str:{type:"string"}}}}}}}},{id:"agent_0",type:"agent",data:{title:"Agent"},blocks:[{id:"agentLLM_0",type:"agentLLM",blocks:[{id:"llm_5",type:"llm",meta:{defaultExpanded:!1},data:{title:"LLM",inputsValues:{modelType:{type:"constant",content:"gpt-3.5-turbo"},temperature:{type:"constant",content:.5},systemPrompt:{type:"template",content:"# Role\nYou are an AI assistant.\n"},prompt:{type:"template",content:""}},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string",extra:{formComponent:"prompt-editor"}},prompt:{type:"string",extra:{formComponent:"prompt-editor"}}}},outputs:{type:"object",properties:{result:{type:"string"}}}}}]},{id:"agentMemory_0",type:"agentMemory",blocks:[{id:"memory_0",type:"memory",meta:{defaultExpanded:!1},data:{title:"Memory"}}]},{id:"agentTools_0",type:"agentTools",blocks:[{id:"tool_0",type:"tool",data:{title:"Tool0"}},{id:"tool_1",type:"tool",data:{title:"Tool1"}}]}]},{id:"llm_0",type:"llm",blocks:[],data:{title:"LLM",inputsValues:{modelType:{type:"constant",content:"gpt-3.5-turbo"},temperature:{type:"constant",content:.5},systemPrompt:{type:"template",content:"# Role\nYou are an AI assistant.\n"},prompt:{type:"template",content:""}},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string",extra:{formComponent:"prompt-editor"}},prompt:{type:"string",extra:{formComponent:"prompt-editor"}}}},outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"switch_0",type:"switch",data:{title:"Switch"},blocks:[{id:"case_0",type:"case",data:{title:"Case_0",inputsValues:{condition:{type:"constant",content:!0}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}},blocks:[]},{id:"case_1",type:"case",data:{title:"Case_1",inputsValues:{condition:{type:"constant",content:!0}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}}},{id:"case_default_1",type:"caseDefault",data:{title:"Default"},blocks:[]}]},{id:"loop_0",type:"loop",data:{title:"Loop",loopFor:{type:"ref",content:["start_0","array_obj"]}},blocks:[{id:"if_0",type:"if",data:{title:"If",inputsValues:{condition:{type:"constant",content:!0}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}},blocks:[{id:"if_true",type:"ifBlock",data:{title:"true"},blocks:[]},{id:"if_false",type:"ifBlock",data:{title:"false"},blocks:[{id:"break_0",type:"breakLoop",data:{title:"BreakLoop"}}]}]}]},{id:"tryCatch_0",type:"tryCatch",data:{title:"TryCatch"},blocks:[{id:"tryBlock_0",type:"tryBlock",blocks:[]},{id:"catchBlock_0",type:"catchBlock",data:{title:"Catch Block 1",inputsValues:{condition:{type:"constant",content:!0}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}},blocks:[]},{id:"catchBlock_1",type:"catchBlock",data:{title:"Catch Block 2",inputsValues:{condition:{type:"constant",content:!0}},inputs:{type:"object",required:["condition"],properties:{condition:{type:"boolean"}}}},blocks:[]}]},{id:"end_0",type:"end",blocks:[],data:{title:"End",inputsValues:{success:{type:"constant",content:!0,schema:{type:"boolean"}}}}}]};o(505247);let oy=()=>{let e=(0,g.useMemo)(()=>({background:!0,playground:{ineractiveType:"MOUSE",preventGlobalGesture:!0},readonly:!1,initialData:oA,nodeRegistries:oM,getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0}}),fromNodeJSON:(e,t)=>t,toNodeJSON:(e,t)=>t,defaultLayout:r.XPE.VERTICAL_FIXED_LAYOUT,constants:{[r.cc3.BASE_COLOR]:"#B8BCC1",[r.cc3.BASE_ACTIVATED_COLOR]:"#82A7FC"},selectBox:{SelectorBoxPopover:ej},shortcuts:(e,t)=>{e.addHandlers(...O.map(e=>e(t)))},dragdrop:{onDrop:(e,t)=>{},canDrop:(e,t)=>!0},history:{enable:!0,enableChangeNode:!0,onApply:(0,u.Z)((e,t)=>{e.document.disposed||console.log("auto save: ",e.document.toJSON())},100)},nodeEngine:{enable:!0},variableEngine:{enable:!0},materials:{components:{...z.p,[r.kDE.ADDER]:eE,[r.kDE.BRANCH_ADDER]:eR,[r.kDE.DRAG_NODE]:tD,[r.kDE.SLOT_ADDER]:tE,[r.kDE.SLOT_LABEL]:eW},renderDefaultNode:eF,renderTexts:{"loop-end-text":"Loop End","loop-traverse-text":"Loop","try-start-text":"Try Start","try-end-text":"Try End","catch-text":"Catch Error"}},onBind:e=>{let{bind:t}=e;t(B).toSelf().inSingletonScope()},scroll:{enableScrollLimit:!0},onInit:e=>{console.log("---- Playground Init ----")},onAllLayersRendered:e=>{setTimeout(()=>{e.tools.fitView()},10),console.log(e.document.toString(!0))},onDispose:()=>{console.log("---- Playground Dispose ----")},plugins:()=>[(0,M.qP)({disableLayer:!0,enableDisplayAllNodes:!0,canvasStyle:{canvasWidth:182,canvasHeight:102,canvasPadding:50,canvasBackground:"rgba(245, 245, 245, 1)",canvasBorderRadius:10,viewportBackground:"rgba(235, 235, 235, 1)",viewportBorderRadius:4,viewportBorderColor:"rgba(201, 201, 201, 1)",viewportBorderWidth:1,viewportBorderDashLength:2,nodeColor:"rgba(255, 255, 255, 1)",nodeBorderRadius:2,nodeBorderWidth:.145,nodeBorderColor:"rgba(6, 7, 9, 0.10)",overlayColor:"rgba(255, 255, 255, 0)"}}),w({components:{GroupBoxHeader:_,GroupNode:$}}),ee(),eu({}),(0,p.eg)({factories:[ex]})]}),[]);return(0,n.jsx)("div",{className:"doc-feature-overview",children:(0,n.jsxs)(r.g5f,{...e,children:[(0,n.jsx)(r.R6T,{}),(0,n.jsx)(ty,{})]})})}},683411:function(e,t,o){o.d(t,{u:()=>a});var i=o(110239);o(908600);var n=o(950454),r=o(857527);let l={type:"array",extra:{weak:!0}};function a(e){return(0,i.jsx)(n._cB,{children:(0,i.jsx)(r.W3,{...e,includeSchema:l})})}},688660:function(e,t,o){o.d(t,{AC:()=>l,UE:()=>r,vI:()=>a});var i=o(908600),n=o(843091);let r=(0,n.f)((0,i.lazy)(()=>Promise.all([o.e("942362"),o.e("1831")]).then(o.bind(o,866146)).then(e=>({default:e.VariableTree}))),{renderKey:"EditorVariableTree"}),l=(0,n.f)((0,i.lazy)(()=>Promise.all([o.e("386212"),o.e("273660")]).then(o.bind(o,916450)).then(e=>({default:e.VariableTagInject}))),{renderKey:"EditorVariableTagInject"}),a=(0,n.f)((0,i.lazy)(()=>Promise.all([o.e("942362"),o.e("475385")]).then(o.bind(o,591718)).then(e=>({default:e.InputsTree}))),{renderKey:"EditorInputsTree"})},795486:function(e,t,o){o.d(t,{t:()=>d});var i=o(110239),n=o(908600),r=o(937643),l=o(950454),a=o(687252),s=o(993700);function d(e){let{value:t,title:o,showIconInTree:d}=e,c=(0,l.rVg)(),g=(null==t?void 0:t.type)==="ref"?c.getByKeyPath(null==t?void 0:t.content):void 0,u=(0,n.useMemo)(()=>(null==t?void 0:t.type)==="ref"?r.Kz.astToSchema(null==g?void 0:g.type):(null==t?void 0:t.type)==="template"?{type:"string"}:(null==t?void 0:t.type)==="constant"?a.U.inferConstantJsonSchema(t):{type:"unknown"},[t,null==g?void 0:g.hash]);return(0,i.jsx)(s.s,{title:o,value:u,showIconInTree:d,warning:(null==t?void 0:t.type)==="ref"&&!g})}},221191:function(e,t,o){o.d(t,{l:()=>g,y:()=>c});var i=o(110239),n=o(908600),r=o(111886),l=o(950454),a=o(687252),s=o(795486);o(703295);var d=o(993700);function c(e){let{value:t,showIconInTree:o}=e,n=Object.entries(t||{});return(0,i.jsx)("div",{className:"gedit-m-display-inputs-wrapper",children:n.map(e=>{let[t,n]=e;return a.U.isFlowValue(n)?(0,i.jsx)(s.t,{title:t,value:n,showIconInTree:o},t):(0,r.Z)(n)?(0,i.jsx)(g,{title:t,value:n,showIconInTree:o},t):null})})}function g(e){let{value:t,title:o,showIconInTree:r}=e,s=(0,l.rVg)(),c=(0,n.useMemo)(()=>a.U.inferJsonSchema(t,s.scope),[s.version,t]);return(0,i.jsx)(d.s,{title:o,value:c,showIconInTree:r})}},746640:function(e,t,o){o.d(t,{L:()=>s});var i=o(110239),n=o(908600),r=o(937643),l=o(950454),a=o(993700);function s(e){let{value:t,showIconInTree:o,displayFromScope:s}=e,d=(0,l.$eD)(),c=(0,l.JAk)();(0,n.useEffect)(()=>{if(!s||!d)return()=>null;let e=d.output.onListOrAnyVarChange(()=>{c()});return()=>{e.dispose()}},[s]);let g=Object.entries((s?((null==d?void 0:d.output.variables)||[]).reduce((e,t)=>{var o;return e={...e,...(null==(o=r.Kz.astToSchema(t.type))?void 0:o.properties)||{}}},{}):(null==t?void 0:t.properties)||{})||{});return(0,i.jsx)("div",{className:"gedit-m-display-outputs-wrapper",children:g.map(e=>{let[t,n]=e;return(0,i.jsx)(a.s,{title:t,value:n,showIconInTree:o,warning:!n},t)})})}o(104576)},993700:function(e,t,o){o.d(t,{s:()=>s});var i=o(110239),n=o(908600),r=o(653378),l=o(164910),a=o(143768);function s(e){let{value:t={},showIconInTree:o,title:s,warning:d}=e,c=(0,l.M)(),g=(null==c?void 0:c.getDisplayIcon(t))||c.getDisplayIcon({type:"unknown"});return(0,i.jsx)(r.Popover,{content:(0,i.jsx)("div",{className:"gedit-m-display-schema-tag-popover-content",children:(0,i.jsx)(a.u,{value:t,typeManager:c,showIcon:o})}),children:(0,i.jsxs)(r.Tag,{color:d?"amber":"white",className:"gedit-m-display-schema-tag-tag",children:[g&&n.cloneElement(g,{className:"tag-icon"}),s&&(0,i.jsx)("span",{className:"gedit-m-display-schema-tag-title",children:s})]})})}o(537827)},143768:function(e,t,o){o.d(t,{u:()=>l});var i=o(110239),n=o(908600),r=o(937643);function l(e){return(0,i.jsx)(a,{...e})}function a(e){let{value:t={},drilldown:o=!0,depth:l=0,showIcon:s=!0,parentKey:d=""}=e||{},c=(0,r.MT)(),g=c.getTypeBySchema(t),u=c.getComplexText(t),p=null==c?void 0:c.getDisplayIcon(t),M=Object.entries((o&&g?g.getTypeSchemaProperties(t):{})||{});return(0,i.jsxs)("div",{className:`gedit-m-display-schema-tree-item depth-${l}`,children:[(0,i.jsxs)("div",{className:"gedit-m-display-schema-tree-row",children:[0!==l&&(0,i.jsx)("div",{className:"gedit-m-display-schema-tree-horizontal-line"}),s&&p&&n.cloneElement(p,{className:"tree-icon"}),(0,i.jsx)("div",{className:"gedit-m-display-schema-tree-title",children:d?(0,i.jsxs)(i.Fragment,{children:[`${d} (`,u,")"]}):u})]}),(null==M?void 0:M.length)?(0,i.jsx)("div",{className:"gedit-m-display-schema-tree-level",children:M.map(t=>{let[o,n]=t;return(0,i.jsx)(a,{...e,parentKey:o,value:n,depth:l+1},o)})}):null]},d||"root")}o(216006)},637298:function(e,t,o){o.d(t,{B:()=>l});var i=o(110239);o(908600);var n=o(794297),r=o(688660);function l(e){return(0,i.jsxs)(n.Q,{...e,children:[(0,i.jsx)(r.UE,{}),(0,i.jsx)(r.AC,{})]})}},794297:function(e,t,o){o.d(t,{Q:()=>i});let i=(0,o(47430).d)(()=>Promise.all([o.e("386212"),o.e("913667"),o.e("942362"),o.e("905761"),o.e("609033")]).then(o.bind(o,130460)).then(e=>({default:e.PromptEditor})))},316374:function(e,t,o){o.d(t,{l:()=>n});var i=o(950454);let n=(0,i.W2M)({private:!0,parse:(e,t)=>{var o,n;return[i.qRT.createVariableDeclaration({key:`${t.node.id}_locals`,meta:{title:null==(o=t.node.form)?void 0:o.getValueIn("title"),icon:null==(n=t.node.getNodeRegistry().info)?void 0:n.icon},type:i.qRT.createObject({properties:[i.qRT.createProperty({key:"item",initializer:i.qRT.createEnumerateExpression({enumerateFor:i.qRT.createKeyPathExpression({keyPath:e.content||[]})})}),i.qRT.createProperty({key:"index",type:i.qRT.createNumber()})]})})]}})},401255:function(e,t,o){o.d(t,{k:()=>c});var i=o(969134),n=o(383909),r=o(492320),l=o(631952),a=o(950454),s=o(687252);let{produce:d}=new l.Ve({autoFreeze:!1}),c=(0,a.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:o,addFormatOnInit:l}=e,{sourceKey:c,targetKey:g,scope:u,ignoreConstantSchema:p}=t;c&&g&&(o((e,t)=>d(e,o=>{let l=(0,i.Z)(e,c);if((0,n.Z)(o,g,s.U.inferJsonSchema(l,"private"===u?(0,a.u$R)(t.node):(0,a.k6H)(t.node))),p)for(let{value:t,path:o}of s.U.traverse(l,{includeTypes:["constant"]}))s.U.isConstant(t)&&(null==t?void 0:t.schema)&&(0,n.Z)(e,`${c}.${o}`,(0,r.Z)(t,["schema"]))})),p&&l((e,t)=>{let o=(0,i.Z)(e,g);if(!o)return e;for(let{value:t,pathArr:r}of s.U.traverse((0,i.Z)(e,c),{includeTypes:["constant"]}))if(s.U.isConstant(t)&&!(null==t?void 0:t.schema)){let e=r.map(e=>`properties.${e}`).join("."),l=(0,i.Z)(o,e);l&&(0,n.Z)(t,"schema",l)}return e}))}})}}]);