"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["914696"],{887173:function(e,t,n){n.d(t,{Z:()=>o});var i=n(908600);let o=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.44 2.44a1.5 1.5 0 0 0 0 2.12L16.88 7H9.25C5.16 7 2 10.58 2 14.5S5.16 22 9.25 22h3.25a1.5 1.5 0 0 0 0-3H9.25C6.98 19 5 16.93 5 14.5S6.98 10 9.25 10h7.63l-2.44 2.44a1.5 1.5 0 0 0 2.12 2.12l5-5a1.5 1.5 0 0 0 0-2.12l-5-5a1.5 1.5 0 0 0-2.12 0Z",fill:"currentColor"}))},"redo")},855403:function(e,t,n){n.d(t,{Z:()=>o});var i=n(908600);let o=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M6.95 7.72h10.13c.4 0 .64.45.42.78l-5.07 7.6a.5.5 0 0 1-.83 0L6.54 8.5a.5.5 0 0 1 .41-.78Z",fill:"currentColor"}))},"small_triangle_down")},684265:function(e,t,n){n.d(t,{Z:()=>o});var i=n(908600);let o=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M16.32 6.96v10.13a.5.5 0 0 1-.78.41l-7.6-5.06a.5.5 0 0 1 0-.83l7.6-5.07a.5.5 0 0 1 .78.42Z",fill:"currentColor"}))},"small_triangle_left")},140404:function(e,t,n){n.d(t,{Z:()=>o});var i=n(908600);let o=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.56 2.44a1.5 1.5 0 0 1 0 2.12L7.12 7h7.63C18.84 7 22 10.58 22 14.5S18.84 22 14.75 22H11.5a1.5 1.5 0 0 1 0-3h3.25c2.27 0 4.25-2.07 4.25-4.5S17.02 10 14.75 10H7.12l2.44 2.44a1.5 1.5 0 0 1-2.12 2.12l-5-5a1.5 1.5 0 0 1 0-2.12l5-5a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))},"undo")},980812:function(e,t,n){n.d(t,{WT:()=>r,yA:()=>s});var i=n(110239),o=n(908600);let l=(0,o.createContext)({}),r=()=>(0,o.useContext)(l),s=e=>{let{children:t,skipVariable:n,includeSchema:r,excludeSchema:s}=e,a=(0,o.useMemo)(()=>({skipVariable:n,includeSchema:r,excludeSchema:s}),[n,r,s]);return(0,i.jsx)(l.Provider,{value:a,children:t})}},117280:function(e,t,n){n.d(t,{V:()=>c});var i=n(110239),o=n(908600),l=n(937643),r=n(950454),s=n(653378),a=n(980812);function c(e){let t=(0,a.WT)(),{includeSchema:n=t.includeSchema,excludeSchema:c=t.excludeSchema,skipVariable:u=t.skipVariable}=e,h=(0,l.MT)(),d=(0,r.LF0)(),p=(0,o.useCallback)(e=>{var t;if(null==(t=e.meta)?void 0:t.icon)return"string"==typeof e.meta.icon?(0,i.jsx)("img",{style:{marginRight:8},width:12,height:12,src:e.meta.icon}):e.meta.icon;let n=l.Kz.astToSchema(e.type,{drilldownObject:!1});return(0,i.jsx)(s.Icon,{size:"small",svg:h.getDisplayIcon(n||{})})},[]),f=function(e){var t,i,o;let s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],h=null==e?void 0:e.type;if(!h)return null;r.GwP.isObject(h)&&(s=(h.properties||[]).map(t=>f(t,[...a,e])).filter(Boolean));let d=[...a.map(e=>e.key),e.key],g=d.join("."),m=!n||l.Kz.isASTMatchSchema(h,n),v=!!c&&l.Kz.isASTMatchSchema(h,c),y=!!u&&u(e),w=null==(t=e.meta)?void 0:t.disabled,x=m&&!v&&!y&&!w;return x||(null==s?void 0:s.length)?{key:g,label:(null==(i=e.meta)?void 0:i.title)||e.key,value:g,keyPath:d,icon:p(e),children:s,disabled:!x,rootMeta:(null==(o=a[0])?void 0:o.meta)||e.meta,isRoot:!(null==a?void 0:a.length)}:null};return[...d.slice(0).reverse()].map(e=>f(e)).filter(Boolean)}},623631:function(e,t,n){n.d(t,{g:()=>l});var i=n(950454),o=n(687252);let l=[{event:i.zEJ.onValueInit,effect:e=>{let{context:t,form:n,name:l}=e,s=t.node.getService(i.qmw).onRename(e=>{let{before:t,after:i}=e,s=[...t.parentFields.map(e=>e.key).reverse(),t.key],a=[...i.parentFields.map(e=>e.key).reverse(),i.key];var c=l,u=n.getValueIn(l),h=(e,t)=>{if("ref"===t.type){if(r(t.content,s)){var i;t.content=[...a,...null==(i=t.content||[])?void 0:i.slice(s.length)],n.setValueIn(e,t)}}else if("template"===t.type){let i=o.U.getTemplateKeyPaths(t),l=!1;i.forEach(e=>{if(r(e,s)){var n,i;l=!0;let o=[...a,...null==(n=e||[])?void 0:n.slice(s.length)];t.content=null==(i=t.content)?void 0:i.replace(`{{${e.join(".")}}`,`{{${o.join(".")}}`)}}),l&&n.setValueIn(e,{...t})}};for(let{value:e,path:t}of o.U.traverse(u,{includeTypes:["ref","template"],path:c}))h(t,e)});return()=>{s.dispose()}}}];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.every((t,n)=>t===e[n])}},125812:function(e,t,n){n.d(t,{X:()=>l});var i=n(937643),o=n(950454);let l=(0,o.W2M)({parse:(e,t)=>{var n,l;return[o.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:(null==(n=t.node.form)?void 0:n.getValueIn("title"))||t.node.id,icon:null==(l=t.node.getNodeRegistry().info)?void 0:l.icon},type:i.Kz.schemaToAST(e)})]}})},236831:function(e,t,n){n.d(t,{H:()=>o});var i=n(950454);let o=[{event:i.zEJ.onValueChange,effect:e=>{let{value:t,context:n}=e;n.node.getData(i._J4).allScopes.forEach(e=>{e.output.variables.forEach(e=>{var i;e.updateMeta({...e.meta||{},title:t||n.node.id,icon:null==(i=n.node.getNodeRegistry().info)?void 0:i.icon})})})}}]},687252:function(e,t,n){n.d(t,{U:()=>i});var i,o=n(111886),l=n(13721),r=n(721855),s=n(325486),a=n(937643),c=n(123387);let u=c.ZP.object({index:c.ZP.number().optional()}).optional(),h=c.ZP.object({type:c.ZP.literal("constant"),content:c.ZP.any().optional(),schema:c.ZP.any().optional(),extra:u}),d=c.ZP.object({type:c.ZP.literal("ref"),content:c.ZP.array(c.ZP.string()).optional(),extra:u}),p=c.ZP.object({type:c.ZP.literal("expression"),content:c.ZP.string().optional(),extra:u}),f=c.ZP.object({type:c.ZP.literal("template"),content:c.ZP.string().optional(),extra:u});!function(e){function t(e){return h.safeParse(e).success}function n(e){return d.safeParse(e).success}function i(e){return p.safeParse(e).success}function c(e){return f.safeParse(e).success}function u(e){return(null==e?void 0:e.schema)?e.schema:"string"==typeof e.content?{type:"string"}:"number"==typeof e.content?{type:"number"}:"boolean"==typeof e.content?{type:"boolean"}:(0,s.Z)(e.content)?{type:"object"}:void 0}e.isConstant=t,e.isRef=n,e.isExpression=i,e.isTemplate=c,e.isConstantOrRef=function(e){return t(e)||n(e)},e.isFlowValue=function(e){return t(e)||n(e)||i(e)||c(e)},e.traverse=function* e(r,s){let{includeTypes:a=["ref","template","expression","constant"],path:u="",pathArr:h=[]}=s||{};if((0,o.Z)(r)){if(n(r)&&a.includes("ref")||c(r)&&a.includes("template")||i(r)&&a.includes("expression")||t(r)&&a.includes("constant"))return void(yield{value:r,path:u,pathArr:h});for(let[t,n]of Object.entries(r))yield*e(n,{...s,path:u?`${u}.${t}`:t,pathArr:[...h,t]});return}if((0,l.Z)(r))for(let[t,n]of r.entries())yield*e(n,{...s,path:u?`${u}[${t}]`:`[${t}]`,pathArr:[...h,`[${t}]`]})},e.getTemplateKeyPaths=function(e){var t;return(0,r.Z)((null==(t=e.content)?void 0:t.match(/\{\{([^\}\{]+)\}\}/g))||[]).map(e=>e.slice(2,-2).split("."))},e.inferConstantJsonSchema=u,e.inferJsonSchema=function e(i,l){if((0,o.Z)(i)){if(t(i))return u(i);if(n(i)){let e=l.available.getByKeyPath(null==i?void 0:i.content);return(null==e?void 0:e.type)?a.Kz.astToSchema(null==e?void 0:e.type):void 0}return c(i)?{type:"string"}:{type:"object",properties:Object.keys(i).reduce((t,n)=>{let o=e(i[n],l);return o&&(t[n]=o),t},{})}}}}(i||(i={}))},944822:function(e,t,n){n.d(t,{eg:()=>Z,zi:()=>g});var i=n(893740),o=n(9163),l=n(832176),r=n(89802),s=n(908600),a=n(110239),c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h=(e,t,n,i)=>{for(var o,l=i>1?void 0:i?u(t,n):t,r=e.length-1;r>=0;r--)(o=e[r])&&(l=(i?o(t,n,l):o(l))||l);return i&&l&&c(t,n,l),l},d=Symbol("PanelManagerConfig"),p=class{updateSize(e){this.sizeMap.set(this.currentFactoryKey,e),this.onUpdateEmitter.fire()}get currentSize(){return this.sizeMap.get(this.currentFactoryKey)||400}open(e,t){let n=e.render(null==t?void 0:t.props),i=this.elements.findIndex(t=>t.key===e.key);this.currentFactoryKey=e.key,this.sizeMap.has(e.key)||this.sizeMap.set(e.key,e.defaultSize||400),i>=0?this.elements[i]={el:n,key:e.key,style:e.style}:(this.elements.push({el:n,key:e.key,style:e.style}),this.elements.length>this.config.max&&this.elements.shift()),this.onUpdateEmitter.fire()}get visible(){return this.elements.length>0}close(e){e?this.elements=this.elements.filter(t=>t.key!==e):this.elements=[],this.onUpdateEmitter.fire()}dispose(){this.elements=[],this.onUpdateEmitter.dispose()}constructor(e){this.config=e,this.elements=[],this.onUpdateEmitter=new l.Q5,this.sizeMap=new Map,this.onUpdate=this.onUpdateEmitter.event,this.currentFactoryKey=""}},f=class{init(){this.config.factories.forEach(e=>this.register(e)),this.right=new p(this.config.right),this.bottom=new p(this.config.bottom)}register(e){this.panelRegistry.set(e.key,e)}open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=arguments.length>2?arguments[2]:void 0,i=this.panelRegistry.get(e);i&&this.getPanel(t).open(i,n)}close(e){this.right.close(e),this.bottom.close(e)}getPanel(e){return"right"===e?this.right:this.bottom}dispose(){this.right.dispose(),this.bottom.dispose()}constructor(){this.panelRegistry=new Map}};h([(0,o.f3)(d)],f.prototype,"config",2),f=h([(0,o.b2)()],f);var g=()=>(0,i.G2)(f),m=`
  .gedit-flow-panel-layer * {
    box-sizing: border-box;
  }
`,v={pointerEvents:"none",position:"absolute",top:0,left:0,display:"flex",columnGap:"4px",width:"100%",height:"100%",padding:"4px",boxSizing:"border-box",overflow:"hidden"},y={width:"100%",minWidth:0,flexGrow:0,flexShrink:1,display:"flex",flexDirection:"column",rowGap:"4px"},w={height:"100%",flexGrow:1,flexShrink:0,minWidth:0,display:"flex",columnGap:"4px"},x={position:"relative",overflow:"hidden",flexGrow:0,flexShrink:1,width:"100%",height:"100%"},b={flexGrow:1,flexShrink:0,width:"100%",minHeight:0},j={pointerEvents:"auto",height:"100%",width:"100%",overflow:"auto"},k=e=>{let{onResize:t,size:n,isVertical:i}=e,o=(0,s.useRef)(null),[l,r]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);return(0,a.jsx)("div",{onMouseDown:e=>{o.current=i?e.clientX:e.clientY,e.stopPropagation(),e.preventDefault(),r(!0);let l=()=>{o.current=null,document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",s),r(!1)},s=e=>{t(n+(o.current-(i?e.clientX:e.clientY)))};document.body.addEventListener("mouseup",l),document.body.addEventListener("mousemove",s)},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{position:"absolute",top:0,left:0,zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",...i?{cursor:"ew-resize",height:"100%",marginLeft:-5,width:10}:{cursor:"ns-resize",width:"100%",marginTop:-5,height:10}},children:(0,a.jsx)("div",{style:{...i?{width:3,height:"100%"}:{height:3,width:"100%"},backgroundColor:l||c?"var(--g-playground-line)":"transparent"}})})},P=e=>{let{area:t}=e,[,n]=(0,s.useState)(0),i=g(),o=(0,s.useRef)(i.getPanel(t)),l=()=>o.current.elements.map(e=>(0,a.jsx)("div",{className:"float-panel-wrap",style:{...j,...e.style},children:e.el},e.key)),r=(0,s.useRef)(l());(0,s.useEffect)(()=>{let e=o.current.onUpdate(()=>{(0,s.startTransition)(()=>{r.current=l(),n(e=>e+1)})});return()=>e.dispose()},[o]);let c=(0,s.useCallback)(e=>o.current.updateSize(e),[]),u=o.current.currentSize,h="right"===t?{width:u,height:"100%"}:{height:u,width:"100%"};return(0,a.jsxs)("div",{className:"gedit-flow-panel",style:{position:"relative",display:o.current.visible?"block":"none",...h},children:[i.config.autoResize&&o.current.elements.length>0&&(0,a.jsx)(k,{size:u,isVertical:"right"===t,onResize:c}),r.current]})},S=e=>{let{children:t}=e;return(0,a.jsxs)("div",{style:v,children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:m}}),(0,a.jsxs)("div",{className:"gedit-flow-panel-left-area",style:y,children:[(0,a.jsx)("div",{className:"gedit-flow-panel-main-area",style:x,children:t}),(0,a.jsx)("div",{className:"gedit-flow-panel-bottom-area",style:b,children:(0,a.jsx)(P,{area:"bottom"})})]}),(0,a.jsx)("div",{className:"gedit-flow-panel-right-area",style:w,children:(0,a.jsx)(P,{area:"right"})})]})},E=class extends i.mh{onReady(){this.panelConfig.getPopupContainer(this.pluginContext).appendChild(this.panelRoot),this.toDispose.push(l.JT.create(()=>{this.panelRoot.remove()})),l.xF.setStyle(this.panelRoot,{pointerEvents:"none",width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:100})}render(){return this.layout||(this.layout=(0,s.createElement)(S)),r.createPortal(this.layout,this.panelRoot)}constructor(){super(...arguments),this.panelRoot=l.xF.createDivWithClass("gedit-flow-panel-layer"),this.layout=null}};h([(0,o.f3)(d)],E.prototype,"panelConfig",2),h([(0,o.f3)(i.Zn)],E.prototype,"pluginContext",2),E=h([(0,o.b2)()],E);var Z=(0,i.M1)({onBind:(e,t)=>{let{bind:n}=e;n(f).to(f).inSingletonScope(),n(d).toConstantValue({right:{max:1},bottom:{max:1},factories:[],getPopupContainer:e=>e.playground.node.parentNode,autoResize:!0,...t})},onInit(e,t){e.playground.registerLayer(E),e.container.get(f).init()}})}}]);