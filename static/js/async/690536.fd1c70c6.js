"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["690536"],{551503:function(e,t,n){n.d(t,{Z:()=>i});var r=n(908600);let i=(0,n(524053).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.38 2a1 1 0 0 0-.9.55L7.02 5.5H3a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-4L15.5 2.55a1 1 0 0 0-.9-.55H9.39Zm5.48 3.5-.72-1.25a.5.5 0 0 0-.43-.25h-3.42a.5.5 0 0 0-.43.25L9.14 5.5h5.72Zm3.86 4.5H5.28a1 1 0 0 0-.97 1.24l2.12 8.49A3 3 0 0 0 9.34 22h5.32a3 3 0 0 0 2.9-2.27l2.13-8.49a1 1 0 0 0-.97-1.24Z",fill:"currentColor"}))},"delete")},654296:function(e,t,n){n.r(t),n.d(t,{FormHeader:()=>R,FreeFormMetaStoryBuilder:()=>X});var r=n(110239),i=n(908600),l=n(952893),a=n(640898),o=n(549207),s=n(461249),d=n(653378),u=n(524053);let c=(0,u.A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5Zm10 11a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1ZM7.7 6.3a1 1 0 0 0-1.4 1.4l3.36 3.37-3.44 4.3a1 1 0 0 0 1.56 1.25l4-5a1 1 0 0 0-.07-1.33l-4-4Z",fill:"currentColor"}))},"terminal");var A=n(980317);function g(){let e=(0,a.sX$)(),t=(0,i.useMemo)(()=>{var t;return JSON.stringify((null==(t=e.document)?void 0:t.toJSON())||{},null,2)||""},[]),[n,l]=(0,i.useState)(t),[o,s]=(0,i.useState)(!1);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{display:"flex",gap:5,marginBottom:5},children:o&&(0,r.jsx)(d.Button,{onClick:()=>{try{var t;let r=JSON.parse(n);null==(t=e.document)||t.reload(r)}catch(e){console.error("Invalid JSON",e)}},children:"Sync"})}),(0,r.jsx)(A.V,{value:n,onChange:e=>{e!==n&&(l(e),s(!0))},options:{minHeight:300}})]})}var f=n(117280);function p(){let e=(0,f.V)({});return(0,r.jsx)(d.Tree,{treeData:e,defaultExpandAll:!0})}let h=s.ZP.div`
  position: relative;
  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.1);
`,m=(0,s.ZP)(d.Button)`
  position: absolute;
  top: 0;
  right: 0;
  border-radius: 20px;
  width: 90px;
  height: 40px;
  z-index: 999;
`;function v(){let[e,t]=(0,i.useState)(!1);return(0,r.jsxs)(h,{children:[(0,r.jsx)(d.Tooltip,{content:"Toggle Debug Panel",children:(0,r.jsx)(m,{theme:"light",onClick:()=>t(e=>!e),children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,r.jsx)(c,{}),"Debug"]})})}),(0,r.jsx)(d.SideSheet,{title:"Debug Panel",visible:e,onCancel:()=>t(!1),width:1e3,footer:null,children:(0,r.jsxs)(d.Tabs,{children:[(0,r.jsx)(d.Tabs.TabPane,{itemKey:"workflow_json",tab:"Workflow JSON",children:(0,r.jsx)(g,{})}),(0,r.jsx)(d.Tabs.TabPane,{itemKey:"variables",tab:"Variable List",children:(0,r.jsx)(p,{})})]})})]})}class y extends a.mh4{onReady(){this.config.onDataChange(()=>{let{scrollX:e,scrollY:t}=this.config.config;a.xFV.setStyle(this.node,{position:"absolute",right:25-e,top:t+25,zIndex:999})})}render(){return(0,r.jsx)(v,{})}}y=(0,o.gn)([(0,a.b2C)()],y);let j=(0,a.M1y)({onInit(e,t){e.playground.registerLayer(y)}});function x(e){return e}n(530371),n(774565);let b=e=>{let{registries:t,initialData:n,plugins:l=()=>[],onSave:o,transformRegistry:s}=e,d=(e=>{let{registries:t,initialData:n,plugins:l,onSave:o,transformRegistry:s=x}=e;return(0,i.useMemo)(()=>s({background:!0,readonly:!1,initialData:n,scroll:{enableScrollLimit:!0},nodeRegistries:t,variableEngine:{enable:!0},getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0}}),materials:{renderDefaultNode:e=>{let{form:t}=(0,a.PVB)();return(0,r.jsx)(a.IxS,{className:"demo-free-material-node",node:e.node,children:(0,r.jsx)("div",{className:"demo-free-material-node-wrapper",style:{padding:12},children:null==t?void 0:t.render()})})}},onContentChange(e,t){console.log("Auto Save: ",t,e.document.toJSON()),null==o||o(e.document.toJSON())},nodeEngine:{enable:!0},history:{enable:!0,enableChangeNode:!0},onInit:e=>{},onAllLayersRendered(e){e.get(a.sXE).handle(),e.document.fitView(!1)},onDispose(){console.log("---- Playground Dispose ----")},plugins:e=>[j({}),...(null==l?void 0:l(e))||[]]}),[])})({registries:t,initialData:n,plugins:l,onSave:o,transformRegistry:s});return(0,r.jsx)(a.EhS,{...d,children:(0,r.jsx)("div",{className:"demo-free-container",children:(0,r.jsx)("div",{className:"demo-free-layout",children:(0,r.jsx)(a.R6T,{className:"demo-free-editor"})})})})},I=(e,t)=>({newEdges:e.flatMap((n,r)=>{let i=e[r-1],l=e[r+1];return i?[{sourceNodeID:i.id,targetNodeID:n.id},...l?[]:[...t.map(e=>({...e,sourceNodeID:n.id}))]]:[...t.map(e=>({...e,targetNodeID:n.id}))]})}),C=[{type:"custom",id:"custom_0",data:{title:"Custom"}},{type:"start",id:"start_0",data:{title:"Start",outputs:{type:"object",properties:{str:{type:"string"},obj:{type:"object",properties:{obj2:{type:"object",properties:{num:{type:"number"}}}}},arr:{type:"object",properties:{arr_str:{type:"array",items:{type:"string"}},arr_num:{type:"array",items:{type:"number"}},arr_bool:{type:"array",items:{type:"boolean"}},arr_int:{type:"array",items:{type:"integer"}},arr_obj:{type:"array",items:{type:"object",properties:{str:{type:"string"}}}}}}}}}},{type:"end",id:"end_0",data:{title:"End",inputsValues:{success:{type:"constant",content:!0,schema:{type:"boolean"}},message:{type:"ref",content:["start_0","str"]}}}}],E=[{sourceNodeID:"start_0",targetNodeID:"custom_0"},{sourceNodeID:"custom_0",targetNodeID:"end_0"}];var B=n(615152),w=n(125812),T=n(555328);let D=s.ZP.div`
  height: 40px;
`,N=s.ZP.div`
  box-sizing: border-box;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  column-gap: 8px;
  border-radius: 8px 8px 0 0;
  cursor: move;

  background: linear-gradient(#f2f2ff 0%, rgb(251, 251, 251) 100%);
  overflow: hidden;

  padding: 8px;

  position: absolute;
  top: 0;
  left: 0;
  right: 0;
`,S=s.ZP.div`
  font-size: 20px;
  flex: 1;
  width: 0;
`,H=s.ZP.img`
  width: 24px;
  height: 24px;
  scale: 0.8;
  border-radius: 4px;
`;s.ZP.div`
  display: flex;
  align-items: center;
  column-gap: 4px;
`;var J=n(244359);let P=(0,u.A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"m14.5 4.5 5 5 2.09-2.09a2 2 0 0 0 0-2.82L19.4 2.4a2 2 0 0 0-2.82 0L14.5 4.5Z",fill:"currentColor"}),i.createElement("path",{d:"m2.25 21.13 1.68-5.88a1 1 0 0 1 .25-.43L13 6l5 5-8.82 8.82a1 1 0 0 1-.43.25l-5.88 1.68a.5.5 0 0 1-.62-.62Z",fill:"currentColor"}))},"edit"),{Text:Q}=d.Typography;function M(){let[e,t]=(0,i.useState)(!1),n=(0,i.useRef)();return(0,i.useEffect)(()=>{if(e){var t;null==(t=n.current)||t.focus()}},[e]),(0,r.jsx)(S,{children:(0,r.jsx)(a.gNt,{name:"title",children:i=>{let{field:{value:l,onChange:a},fieldState:o}=i;return(0,r.jsx)("div",{style:{height:24,display:"flex",alignItems:"center",justifyContent:"space-between",gap:5},children:e?(0,r.jsx)(J.A,{ref:n,value:l,onDoubleClick:()=>{t(!0)},onChange:e=>{a(e)},onBlur:()=>{t(!1)}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q,{ellipsis:{showTooltip:!0},children:l}),!e&&(0,r.jsx)(d.Tooltip,{content:"Edit Title",children:(0,r.jsx)(d.IconButton,{size:"small",theme:"borderless",type:"tertiary",icon:(0,r.jsx)(P,{size:"small"}),onClick:()=>t(!e)})})]})})}})})}function R(){let e=(0,a.PFB)();return(0,r.jsx)(D,{children:(0,r.jsxs)(N,{children:[(e=>{var t;let n=null==(t=e.getNodeRegistry().info)?void 0:t.icon;return n?(0,r.jsx)(H,{src:n}):null})(e),(0,r.jsx)(M,{})]})})}let z=n.p+"static/image/icon-start.8353312d.jpg",O=n.p+"static/image/icon-end.ac3dc81e.jpg",k={render:()=>(0,r.jsxs)("div",{children:[(0,r.jsx)(R,{}),(0,r.jsx)("div",{children:"TODO"})]})},F={type:"start",meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,nodePanelVisible:!1,defaultPorts:[{type:"output"}],size:{width:360,height:211}},info:{icon:z,description:"You can add variables here to test variable reference"},canAdd:()=>!1,formMeta:{render:()=>(0,r.jsxs)("div",{children:[(0,r.jsx)(R,{}),(0,r.jsx)(a.gNt,{name:"outputs",render:e=>{let{field:{value:t,onChange:n}}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B._,{value:t,onChange:e=>n(e)})})}})]}),effect:{outputs:w.X}}},L={type:"end",meta:{isEnd:!0,deleteDisable:!0,copyDisable:!0,nodePanelVisible:!1,defaultPorts:[{type:"input"}],size:{width:360,height:211}},info:{icon:O,description:"You can test variables created in the previous nodes"},canAdd:()=>!1,formMeta:{render:()=>(0,r.jsxs)("div",{children:[(0,r.jsx)(R,{}),(0,r.jsx)(a.gNt,{name:"inputsValues",render:e=>{let{field:{value:t,onChange:n}}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(T.P,{value:t,onChange:e=>n(e)})})}})]})}},Z={type:"custom",meta:{deleteDisable:!0,copyDisable:!0,nodePanelVisible:!1,defaultPorts:[{type:"input"},{type:"output"}],size:{width:360,height:211}},info:{icon:"data:image/png;base64,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",description:"You can add custom form meta here"},canAdd:()=>!0,formMeta:k};function X(e){let{formMeta:t=k,initialData:n,filterEndNode:a=!1,filterStartNode:o=!1,addNodeBeforeCustom:s,addNodeAfterCustom:d,transformInitialNode:u,transformRegistry:c,plugins:A}=e,g=(0,i.useMemo)(()=>[F,L,{...Z,formMeta:{...t}}],[t]),f=(0,i.useMemo)(()=>{let e=[...(null==n?void 0:n.nodes)||[],...s||[],...d||[],...C.filter(e=>{var t;return!(null==n||null==(t=n.nodes)?void 0:t.find(t=>t.id===e.id))}).filter(e=>"start"===e.type?!o:"end"!==e.type||!a).map(e=>(null==u?void 0:u[e.id])?u[e.id]((0,l.Z)(e)):e)],t=[...(null==n?void 0:n.edges)||[],...E];return(null==s?void 0:s.length)&&(t=[...I(s,t.filter(e=>"custom_0"===e.targetNodeID)).newEdges,...t.filter(e=>"custom_0"!==e.targetNodeID)]),(null==d?void 0:d.length)&&(t=[...I(d,t.filter(e=>"custom_0"===e.sourceNodeID)).newEdges,...t.filter(e=>"custom_0"!==e.sourceNodeID)]),t=[...(null==n?void 0:n.edges)||[],...E].filter(t=>e.find(e=>e.id===t.sourceNodeID)||e.find(e=>e.id===t.targetNodeID)),{nodes:e,edges:t}},[n,a,o]);return(0,r.jsx)("div",{children:(0,r.jsx)(b,{registries:g,initialData:f,plugins:A,transformRegistry:c})})}},244359:function(e,t,n){n.d(t,{A:()=>a});var r=n(110239),i=n(908600),l=n(653378);function a(e){let[t,n]=(0,i.useState)("");return(0,i.useEffect)(()=>{n(e.value)},[e.value]),(0,r.jsx)(l.Input,{ref:e.ref,...e,value:t,onChange:e=>{n(e)},onBlur:n=>{var r,i;null==(r=e.onChange)||r.call(e,t,n),null==(i=e.onBlur)||i.call(e,n)}})}},980812:function(e,t,n){n.d(t,{WT:()=>a,yA:()=>o});var r=n(110239),i=n(908600);let l=(0,i.createContext)({}),a=()=>(0,i.useContext)(l),o=e=>{let{children:t,skipVariable:n,includeSchema:a,excludeSchema:o}=e,s=(0,i.useMemo)(()=>({skipVariable:n,includeSchema:a,excludeSchema:o}),[n,a,o]);return(0,r.jsx)(l.Provider,{value:s,children:t})}},117280:function(e,t,n){n.d(t,{V:()=>d});var r=n(110239),i=n(908600),l=n(937643),a=n(950454),o=n(653378),s=n(980812);function d(e){let t=(0,s.WT)(),{includeSchema:n=t.includeSchema,excludeSchema:d=t.excludeSchema,skipVariable:u=t.skipVariable}=e,c=(0,l.MT)(),A=(0,a.LF0)(),g=(0,i.useCallback)(e=>{var t;if(null==(t=e.meta)?void 0:t.icon)return"string"==typeof e.meta.icon?(0,r.jsx)("img",{style:{marginRight:8},width:12,height:12,src:e.meta.icon}):e.meta.icon;let n=l.Kz.astToSchema(e.type,{drilldownObject:!1});return(0,r.jsx)(o.Icon,{size:"small",svg:c.getDisplayIcon(n||{})})},[]),f=function(e){var t,r,i;let o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=null==e?void 0:e.type;if(!c)return null;a.GwP.isObject(c)&&(o=(c.properties||[]).map(t=>f(t,[...s,e])).filter(Boolean));let A=[...s.map(e=>e.key),e.key],p=A.join("."),h=!n||l.Kz.isASTMatchSchema(c,n),m=!!d&&l.Kz.isASTMatchSchema(c,d),v=!!u&&u(e),y=null==(t=e.meta)?void 0:t.disabled,j=h&&!m&&!v&&!y;return j||(null==o?void 0:o.length)?{key:p,label:(null==(r=e.meta)?void 0:r.title)||e.key,value:p,keyPath:A,icon:g(e),children:o,disabled:!j,rootMeta:(null==(i=s[0])?void 0:i.meta)||e.meta,isRoot:!(null==s?void 0:s.length)}:null};return[...A.slice(0).reverse()].map(e=>f(e)).filter(Boolean)}},125812:function(e,t,n){n.d(t,{X:()=>l});var r=n(937643),i=n(950454);let l=(0,i.W2M)({parse:(e,t)=>{var n,l;return[i.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:(null==(n=t.node.form)?void 0:n.getValueIn("title"))||t.node.id,icon:null==(l=t.node.getNodeRegistry().info)?void 0:l.icon},type:r.Kz.schemaToAST(e)})]}})},393767:function(e,t,n){n.d(t,{S:()=>d});var r=n(908600),i=n(129034),l=n(969134),a=n(697497),o=n(325486),s=n(383909);function d(e){let{value:t,onChange:n,sortIndexKey:d}=e,[u,c]=(0,r.useState)([]),A=(0,r.useRef)(0),g=(0,r.useRef)(0),f=e=>"function"==typeof d?(0,l.Z)(e,d(e))||0:(0,l.Z)(e,d||"")||0;return(0,r.useEffect)(()=>{A.current=A.current+1,A.current!==g.current&&(A.current=g.current,c(e=>{let n=Object.entries(t||{}).sort((e,t)=>f(e[1])-f(t[1])).map(e=>{let[t]=e;return t}),r=e.map(e=>e.key).filter(Boolean),l=(0,a.Z)(n,r);return e.filter(e=>!e.key||n.includes(e.key)).map(e=>({id:e.id,key:e.key,value:e.key?null==t?void 0:t[e.key]:e.value})).concat(l.map(e=>({id:(0,i.x0)(),key:e,value:null==t?void 0:t[e]})))}))},[t]),{list:u,add:e=>{c(t=>[...t,{id:(0,i.x0)(),value:e}])},updateKey:(e,t)=>{g.current=g.current+1,c(r=>{let i=r.map(n=>n.id===e?{...n,key:t}:n);return n(Object.fromEntries(i.filter(e=>e.key).map(e=>[e.key,e.value]))),i})},updateValue:(e,t)=>{g.current=g.current+1,c(r=>{let i=r.map(n=>n.id===e?{...n,value:t}:n);return n(Object.fromEntries(i.filter(e=>e.key).map(e=>[e.key,e.value]).map((e,t)=>{let n="function"==typeof d?d(e[1]):d;return(0,o.Z)(e[1])&&n&&(0,s.Z)(e[1],n,t),e}))),i})},remove:e=>{g.current=g.current+1,c(t=>{let r=t.filter(t=>t.id!==e);return n(Object.fromEntries(r.filter(e=>e.key).map(e=>[e.key,e.value]))),r})}}}},383909:function(e,t,n){n.d(t,{Z:()=>i});var r=n(221145);let i=function(e,t,n){return null==e?e:(0,r.Z)(e,t,n)}}}]);