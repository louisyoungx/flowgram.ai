"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["495848"],{551503:function(e,t,n){n.d(t,{Z:()=>a});var l=n(908600);let a=(0,n(524053).A)(function(e){return l.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.38 2a1 1 0 0 0-.9.55L7.02 5.5H3a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-4L15.5 2.55a1 1 0 0 0-.9-.55H9.39Zm5.48 3.5-.72-1.25a.5.5 0 0 0-.43-.25h-3.42a.5.5 0 0 0-.43.25L9.14 5.5h5.72Zm3.86 4.5H5.28a1 1 0 0 0-.97 1.24l2.12 8.49A3 3 0 0 0 9.34 22h5.32a3 3 0 0 0 2.9-2.27l2.13-8.49a1 1 0 0 0-.97-1.24Z",fill:"currentColor"}))},"delete")},427183:function(e,t,n){n.d(t,{s:()=>c,w:()=>u});var l=n(110239),a=n(908600),i=n(640898),s=n(742486),r=n(132288);let o=a.lazy(()=>Promise.all([n.e("386212"),n.e("942362"),n.e("917828"),n.e("46854"),n.e("232558"),n.e("673693"),n.e("674715")]).then(n.bind(n,261548)).then(e=>({default:e.PromptEditorWithInputs}))),u=()=>(0,l.jsx)(r.y,{filterEndNode:!0,formMeta:{render:()=>(0,l.jsxs)("div",{style:{width:400},children:[(0,l.jsx)(r.p,{}),(0,l.jsx)(i.gNt,{name:"inputsValues",defaultValue:{a:{type:"constant",content:"123"},b:{type:"ref",content:["start_0","obj"]}},children:e=>{let{field:t}=e;return(0,l.jsx)(s.e,{value:t.value,onChange:e=>t.onChange(e)})}}),(0,l.jsx)("br",{}),(0,l.jsx)(i.gNt,{name:"inputsValues",children:e=>{let{field:t}=e;return(0,l.jsx)(i.gNt,{name:"prompt_editor_with_inputs",defaultValue:{type:"template",content:"# Query \n {{b.obj2.num}}"},children:e=>{let{field:n}=e;return(0,l.jsx)(o,{value:n.value,onChange:e=>n.onChange(e),inputsValues:t.value||{}})}})}})]})}}),c=()=>{let[e,t]=(0,a.useState)({type:"template",content:"# Role \nYou are a helpful assistant. \n\n# Query \n{{b.obj2.num}} \n\n"});return(0,l.jsx)("div",{children:(0,l.jsx)(o,{value:e,onChange:e=>t(e),inputsValues:{a:{type:"constant",content:"123"},b:{c:{d:{type:"constant",content:456}},e:{type:"constant",content:789}}}})})}},132288:function(e,t,n){n.d(t,{p:()=>s,y:()=>r});var l=n(110239),a=n(908600);let i=a.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("933451"),n.e("917828"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("690536")]).then(n.bind(n,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),s=a.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("933451"),n.e("917828"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("690536")]).then(n.bind(n,654296)).then(e=>({default:e.FormHeader}))),r=e=>(0,l.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,l.jsx)(i,{...e})})},244359:function(e,t,n){n.d(t,{A:()=>s});var l=n(110239),a=n(908600),i=n(653378);function s(e){let[t,n]=(0,a.useState)("");return(0,a.useEffect)(()=>{n(e.value)},[e.value]),(0,l.jsx)(i.Input,{ref:e.ref,...e,value:t,onChange:e=>{n(e)},onBlur:n=>{var l,a;null==(l=e.onChange)||l.call(e,t,n),null==(a=e.onBlur)||a.call(e,n)}})}},742486:function(e,t,n){n.d(t,{e:()=>b});var l=n(110239),a=n(908600),i=n(950454),s=n(653378),r=n(633988),o=n(687252),u=n(393767);n(132574);var c=n(244897),d=n(61574),m=n(551503),p=n(111886),h=n(510165),v=n(244359),f=n(79367);let y=(0,l.jsxs)("svg",{className:"icon-icon icon-icon-coz_add_node ",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6.49988C11 8.64148 9.50397 10.4337 7.49995 10.8884V15.4998C7.49995 16.0521 7.94767 16.4998 8.49995 16.4998H11.208C11.0742 16.8061 11 17.1443 11 17.4998C11 17.8554 11.0742 18.1936 11.208 18.4998H8.49995C6.8431 18.4998 5.49995 17.1567 5.49995 15.4998V10.8884C3.49599 10.4336 2 8.64145 2 6.49988C2 4.0146 4.01472 1.99988 6.5 1.99988C8.98528 1.99988 11 4.0146 11 6.49988ZM6.5 8.99988C7.88071 8.99988 9 7.88059 9 6.49988C9 5.11917 7.88071 3.99988 6.5 3.99988C5.11929 3.99988 4 5.11917 4 6.49988C4 7.88059 5.11929 8.99988 6.5 8.99988Z"}),(0,l.jsx)("path",{d:"M17.5 12.4999C18.0523 12.4999 18.5 12.9476 18.5 13.4999V16.4999H21.5C22.0523 16.4999 22.5 16.9476 22.5 17.4999C22.5 18.0522 22.0523 18.4999 21.5 18.4999H18.5V21.4999C18.5 22.0522 18.0523 22.4999 17.5 22.4999C16.9477 22.4999 16.5 22.0522 16.5 21.4999V18.4999H13.5C12.9477 18.4999 12.5 18.0522 12.5 17.4999C12.5 16.9476 12.9477 16.4999 13.5 16.4999H16.5V13.4999C16.5 12.9476 16.9477 12.4999 17.5 12.4999Z"})]}),g=()=>(0,l.jsx)(f.ZPm,{size:"small",svg:y}),x={hit:e=>"object"===e.type,Renderer:()=>(0,l.jsx)(s.Input,{size:"small",disabled:!0,style:{pointerEvents:"none"},value:i.oci.t("Configure via child fields")})};function j(e){let{keyName:t,value:n,$level:r=0,onUpdateKey:f,onUpdateValue:y,$isLast:b,onRemove:C,constantProps:Z,hasError:k,readonly:w}=e,[P,V]=(0,a.useState)(!1),{canAddField:z,hasChildren:S,list:M,add:N,updateKey:E,updateValue:R,remove:B}=function(e,t){let n=(0,a.useMemo)(()=>{var t;return!!(0,p.Z)(e)&&(!o.U.isFlowValue(e)||o.U.isConstant(e)&&(null==e||null==(t=e.schema)?void 0:t.type)==="object")},[e]),l=(0,a.useMemo)(()=>{if((0,p.Z)(e)&&!o.U.isFlowValue(e))return e},[e]),{list:i,add:s,updateKey:r,updateValue:c,remove:d}=(0,u.S)({value:l,onChange:e=>{null==t||t(e)},sortIndexKey:e=>o.U.isFlowValue(e)?"extra.index":""}),m=(0,a.useMemo)(()=>n&&(i.length>0||Object.keys(l||{}).length>0),[n,i.length,Object.keys(l||{}).length]);return{canAddField:n,hasChildren:m,list:i,add:s,updateKey:r,updateValue:c,remove:d}}(n,y),K=(0,a.useMemo)(()=>[...S?[x]:[],...(null==Z?void 0:Z.strategies)||[]],[S,null==Z?void 0:Z.strategies]),O=(0,a.useMemo)(()=>S?{type:"constant",schema:{type:"object"}}:n,[S,n]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:`gedit-m-inputs-values-tree-tree-item-left ${r>0?"show-line":""} ${b?"is-last":""} ${S?"show-collapse":""}`,children:S&&(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-collapse-trigger",onClick:()=>V(e=>!e),children:P?(0,l.jsx)(c.Z,{size:"small"}):(0,l.jsx)(d.Z,{size:"small"})})}),(0,l.jsxs)("div",{className:"gedit-m-inputs-values-tree-tree-item-right",children:[(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-item-main",children:(0,l.jsxs)("div",{className:"gedit-m-inputs-values-tree-row",children:[(0,l.jsx)(v.A,{style:{width:100,minWidth:100,maxWidth:100},disabled:w,size:"small",value:t,onChange:e=>null==f?void 0:f(e),placeholder:i.oci.t("Input Key")}),(0,l.jsx)(h.t,{style:{flexGrow:1},readonly:w,value:O,onChange:e=>y(e),hasError:k,constantProps:{...Z,strategies:K}}),(0,l.jsxs)("div",{className:"gedit-m-inputs-values-tree-actions",children:[z&&(0,l.jsx)(s.IconButton,{disabled:w,size:"small",theme:"borderless",icon:(0,l.jsx)(g,{}),onClick:()=>{N({type:"constant",content:"",schema:{type:"string"}}),V(!0)}}),(0,l.jsx)(s.IconButton,{disabled:w,theme:"borderless",icon:(0,l.jsx)(m.Z,{size:"small"}),size:"small",onClick:()=>null==C?void 0:C()})]})]})}),S&&(0,l.jsx)("div",{className:`gedit-m-inputs-values-tree-collapsible ${P?"collapse":""}`,children:(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-items shrink",children:M.map((e,t)=>(0,l.jsx)(j,{readonly:w,hasError:k,constantProps:Z,keyName:e.key,value:e.value,$level:r+1,onUpdateValue:t=>{R(e.id,t)},onUpdateKey:t=>{E(e.id,t)},onRemove:()=>{B(e.id)},$isLast:t===M.length-1},e.id))})})]})]})}function b(e){let{value:t,onChange:n,readonly:a,hasError:c,constantProps:d}=e,{list:m,updateKey:p,updateValue:h,remove:v,add:f}=(0,u.S)({value:t,onChange:e=>null==n?void 0:n(e),sortIndexKey:e=>o.U.isFlowValue(e)?"extra.index":""});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"gedit-m-inputs-values-tree-tree-items",children:m.map(e=>(0,l.jsx)(j,{keyName:e.key,value:e.value,onUpdateKey:t=>p(e.id,t),onUpdateValue:t=>h(e.id,t),onRemove:()=>v(e.id),readonly:a,hasError:c,constantProps:d},e.id))}),(0,l.jsx)(s.Button,{style:{marginTop:10,marginLeft:16},disabled:a,icon:(0,l.jsx)(r.Z,{}),size:"small",onClick:()=>{f({type:"constant",content:"",schema:{type:"string"}})},children:i.oci.t("Add")})]})}},980812:function(e,t,n){n.d(t,{WT:()=>s,yA:()=>r});var l=n(110239),a=n(908600);let i=(0,a.createContext)({}),s=()=>(0,a.useContext)(i),r=e=>{let{children:t,skipVariable:n,includeSchema:s,excludeSchema:r}=e,o=(0,a.useMemo)(()=>({skipVariable:n,includeSchema:s,excludeSchema:r}),[n,s,r]);return(0,l.jsx)(i.Provider,{value:o,children:t})}},117280:function(e,t,n){n.d(t,{V:()=>u});var l=n(110239),a=n(908600),i=n(937643),s=n(950454),r=n(653378),o=n(980812);function u(e){let t=(0,o.WT)(),{includeSchema:n=t.includeSchema,excludeSchema:u=t.excludeSchema,skipVariable:c=t.skipVariable}=e,d=(0,i.MT)(),m=(0,s.LF0)(),p=(0,a.useCallback)(e=>{var t;if(null==(t=e.meta)?void 0:t.icon)return"string"==typeof e.meta.icon?(0,l.jsx)("img",{style:{marginRight:8},width:12,height:12,src:e.meta.icon}):e.meta.icon;let n=i.Kz.astToSchema(e.type,{drilldownObject:!1});return(0,l.jsx)(r.Icon,{size:"small",svg:d.getDisplayIcon(n||{})})},[]),h=function(e){var t,l,a;let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=null==e?void 0:e.type;if(!d)return null;s.GwP.isObject(d)&&(r=(d.properties||[]).map(t=>h(t,[...o,e])).filter(Boolean));let m=[...o.map(e=>e.key),e.key],v=m.join("."),f=!n||i.Kz.isASTMatchSchema(d,n),y=!!u&&i.Kz.isASTMatchSchema(d,u),g=!!c&&c(e),x=null==(t=e.meta)?void 0:t.disabled,j=f&&!y&&!g&&!x;return j||(null==r?void 0:r.length)?{key:v,label:(null==(l=e.meta)?void 0:l.title)||e.key,value:v,keyPath:m,icon:p(e),children:r,disabled:!j,rootMeta:(null==(a=o[0])?void 0:a.meta)||e.meta,isRoot:!(null==o?void 0:o.length)}:null};return[...m.slice(0).reverse()].map(e=>h(e)).filter(Boolean)}},393767:function(e,t,n){n.d(t,{S:()=>u});var l=n(908600),a=n(129034),i=n(969134),s=n(697497),r=n(325486),o=n(383909);function u(e){let{value:t,onChange:n,sortIndexKey:u}=e,[c,d]=(0,l.useState)([]),m=(0,l.useRef)(0),p=(0,l.useRef)(0),h=e=>"function"==typeof u?(0,i.Z)(e,u(e))||0:(0,i.Z)(e,u||"")||0;return(0,l.useEffect)(()=>{m.current=m.current+1,m.current!==p.current&&(m.current=p.current,d(e=>{let n=Object.entries(t||{}).sort((e,t)=>h(e[1])-h(t[1])).map(e=>{let[t]=e;return t}),l=e.map(e=>e.key).filter(Boolean),i=(0,s.Z)(n,l);return e.filter(e=>!e.key||n.includes(e.key)).map(e=>({id:e.id,key:e.key,value:e.key?null==t?void 0:t[e.key]:e.value})).concat(i.map(e=>({id:(0,a.x0)(),key:e,value:null==t?void 0:t[e]})))}))},[t]),{list:c,add:e=>{d(t=>[...t,{id:(0,a.x0)(),value:e}])},updateKey:(e,t)=>{p.current=p.current+1,d(l=>{let a=l.map(n=>n.id===e?{...n,key:t}:n);return n(Object.fromEntries(a.filter(e=>e.key).map(e=>[e.key,e.value]))),a})},updateValue:(e,t)=>{p.current=p.current+1,d(l=>{let a=l.map(n=>n.id===e?{...n,value:t}:n);return n(Object.fromEntries(a.filter(e=>e.key).map(e=>[e.key,e.value]).map((e,t)=>{let n="function"==typeof u?u(e[1]):u;return(0,r.Z)(e[1])&&n&&(0,o.Z)(e[1],n,t),e}))),a})},remove:e=>{p.current=p.current+1,d(t=>{let l=t.filter(t=>t.id!==e);return n(Object.fromEntries(l.filter(e=>e.key).map(e=>[e.key,e.value]))),l})}}}},687252:function(e,t,n){n.d(t,{U:()=>l});var l,a=n(111886),i=n(13721),s=n(721855),r=n(325486),o=n(937643),u=n(123387);let c=u.ZP.object({index:u.ZP.number().optional()}).optional(),d=u.ZP.object({type:u.ZP.literal("constant"),content:u.ZP.any().optional(),schema:u.ZP.any().optional(),extra:c}),m=u.ZP.object({type:u.ZP.literal("ref"),content:u.ZP.array(u.ZP.string()).optional(),extra:c}),p=u.ZP.object({type:u.ZP.literal("expression"),content:u.ZP.string().optional(),extra:c}),h=u.ZP.object({type:u.ZP.literal("template"),content:u.ZP.string().optional(),extra:c});!function(e){function t(e){return d.safeParse(e).success}function n(e){return m.safeParse(e).success}function l(e){return p.safeParse(e).success}function u(e){return h.safeParse(e).success}function c(e){return(null==e?void 0:e.schema)?e.schema:"string"==typeof e.content?{type:"string"}:"number"==typeof e.content?{type:"number"}:"boolean"==typeof e.content?{type:"boolean"}:(0,r.Z)(e.content)?{type:"object"}:void 0}e.isConstant=t,e.isRef=n,e.isExpression=l,e.isTemplate=u,e.isConstantOrRef=function(e){return t(e)||n(e)},e.isFlowValue=function(e){return t(e)||n(e)||l(e)||u(e)},e.traverse=function* e(s,r){let{includeTypes:o=["ref","template","expression","constant"],path:c="",pathArr:d=[]}=r||{};if((0,a.Z)(s)){if(n(s)&&o.includes("ref")||u(s)&&o.includes("template")||l(s)&&o.includes("expression")||t(s)&&o.includes("constant"))return void(yield{value:s,path:c,pathArr:d});for(let[t,n]of Object.entries(s))yield*e(n,{...r,path:c?`${c}.${t}`:t,pathArr:[...d,t]});return}if((0,i.Z)(s))for(let[t,n]of s.entries())yield*e(n,{...r,path:c?`${c}[${t}]`:`[${t}]`,pathArr:[...d,`[${t}]`]})},e.getTemplateKeyPaths=function(e){var t;return(0,s.Z)((null==(t=e.content)?void 0:t.match(/\{\{([^\}\{]+)\}\}/g))||[]).map(e=>e.slice(2,-2).split("."))},e.inferConstantJsonSchema=c,e.inferJsonSchema=function e(l,i){if((0,a.Z)(l)){if(t(l))return c(l);if(n(l)){let e=i.available.getByKeyPath(null==l?void 0:l.content);return(null==e?void 0:e.type)?o.Kz.astToSchema(null==e?void 0:e.type):void 0}return u(l)?{type:"string"}:{type:"object",properties:Object.keys(l).reduce((t,n)=>{let a=e(l[n],i);return a&&(t[n]=a),t},{})}}}}(l||(l={}))},383909:function(e,t,n){n.d(t,{Z:()=>a});var l=n(221145);let a=function(e,t,n){return null==e?e:(0,l.Z)(e,t,n)}}}]);