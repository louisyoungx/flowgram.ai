"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["662925"],{551503:function(e,t,n){n.d(t,{Z:()=>r});var i=n(908600);let r=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.38 2a1 1 0 0 0-.9.55L7.02 5.5H3a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-4L15.5 2.55a1 1 0 0 0-.9-.55H9.39Zm5.48 3.5-.72-1.25a.5.5 0 0 0-.43-.25h-3.42a.5.5 0 0 0-.43.25L9.14 5.5h5.72Zm3.86 4.5H5.28a1 1 0 0 0-.97 1.24l2.12 8.49A3 3 0 0 0 9.34 22h5.32a3 3 0 0 0 2.9-2.27l2.13-8.49a1 1 0 0 0-.97-1.24Z",fill:"currentColor"}))},"delete")},887173:function(e,t,n){n.d(t,{Z:()=>r});var i=n(908600);let r=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.44 2.44a1.5 1.5 0 0 0 0 2.12L16.88 7H9.25C5.16 7 2 10.58 2 14.5S5.16 22 9.25 22h3.25a1.5 1.5 0 0 0 0-3H9.25C6.98 19 5 16.93 5 14.5S6.98 10 9.25 10h7.63l-2.44 2.44a1.5 1.5 0 0 0 2.12 2.12l5-5a1.5 1.5 0 0 0 0-2.12l-5-5a1.5 1.5 0 0 0-2.12 0Z",fill:"currentColor"}))},"redo")},855403:function(e,t,n){n.d(t,{Z:()=>r});var i=n(908600);let r=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M6.95 7.72h10.13c.4 0 .64.45.42.78l-5.07 7.6a.5.5 0 0 1-.83 0L6.54 8.5a.5.5 0 0 1 .41-.78Z",fill:"currentColor"}))},"small_triangle_down")},684265:function(e,t,n){n.d(t,{Z:()=>r});var i=n(908600);let r=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M16.32 6.96v10.13a.5.5 0 0 1-.78.41l-7.6-5.06a.5.5 0 0 1 0-.83l7.6-5.07a.5.5 0 0 1 .78.42Z",fill:"currentColor"}))},"small_triangle_left")},140404:function(e,t,n){n.d(t,{Z:()=>r});var i=n(908600);let r=(0,n(524053).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.56 2.44a1.5 1.5 0 0 1 0 2.12L7.12 7h7.63C18.84 7 22 10.58 22 14.5S18.84 22 14.75 22H11.5a1.5 1.5 0 0 1 0-3h3.25c2.27 0 4.25-2.07 4.25-4.5S17.02 10 14.75 10H7.12l2.44 2.44a1.5 1.5 0 0 1-2.12 2.12l-5-5a1.5 1.5 0 0 1 0-2.12l5-5a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))},"undo")},244359:function(e,t,n){n.d(t,{A:()=>o});var i=n(110239),r=n(908600),l=n(653378);function o(e){let[t,n]=(0,r.useState)("");return(0,r.useEffect)(()=>{n(e.value)},[e.value]),(0,i.jsx)(l.Input,{ref:e.ref,...e,value:t,onChange:e=>{n(e)},onBlur:n=>{var i,r;null==(i=e.onChange)||i.call(e,t,n),null==(r=e.onBlur)||r.call(e,n)}})}},980812:function(e,t,n){n.d(t,{WT:()=>o,yA:()=>a});var i=n(110239),r=n(908600);let l=(0,r.createContext)({}),o=()=>(0,r.useContext)(l),a=e=>{let{children:t,skipVariable:n,includeSchema:o,excludeSchema:a}=e,s=(0,r.useMemo)(()=>({skipVariable:n,includeSchema:o,excludeSchema:a}),[n,o,a]);return(0,i.jsx)(l.Provider,{value:s,children:t})}},117280:function(e,t,n){n.d(t,{V:()=>u});var i=n(110239),r=n(908600),l=n(937643),o=n(950454),a=n(653378),s=n(980812);function u(e){let t=(0,s.WT)(),{includeSchema:n=t.includeSchema,excludeSchema:u=t.excludeSchema,skipVariable:c=t.skipVariable}=e,d=(0,l.MT)(),h=(0,o.LF0)(),p=(0,r.useCallback)(e=>{var t;if(null==(t=e.meta)?void 0:t.icon)return"string"==typeof e.meta.icon?(0,i.jsx)("img",{style:{marginRight:8},width:12,height:12,src:e.meta.icon}):e.meta.icon;let n=l.Kz.astToSchema(e.type,{drilldownObject:!1});return(0,i.jsx)(a.Icon,{size:"small",svg:d.getDisplayIcon(n||{})})},[]),f=function(e){var t,i,r;let a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=null==e?void 0:e.type;if(!d)return null;o.GwP.isObject(d)&&(a=(d.properties||[]).map(t=>f(t,[...s,e])).filter(Boolean));let h=[...s.map(e=>e.key),e.key],m=h.join("."),g=!n||l.Kz.isASTMatchSchema(d,n),v=!!u&&l.Kz.isASTMatchSchema(d,u),y=!!c&&c(e),w=null==(t=e.meta)?void 0:t.disabled,x=g&&!v&&!y&&!w;return x||(null==a?void 0:a.length)?{key:m,label:(null==(i=e.meta)?void 0:i.title)||e.key,value:m,keyPath:h,icon:p(e),children:a,disabled:!x,rootMeta:(null==(r=s[0])?void 0:r.meta)||e.meta,isRoot:!(null==s?void 0:s.length)}:null};return[...h.slice(0).reverse()].map(e=>f(e)).filter(Boolean)}},623631:function(e,t,n){n.d(t,{g:()=>l});var i=n(950454),r=n(687252);let l=[{event:i.zEJ.onValueInit,effect:e=>{let{context:t,form:n,name:l}=e,a=t.node.getService(i.qmw).onRename(e=>{let{before:t,after:i}=e,a=[...t.parentFields.map(e=>e.key).reverse(),t.key],s=[...i.parentFields.map(e=>e.key).reverse(),i.key];var u=l,c=n.getValueIn(l),d=(e,t)=>{if("ref"===t.type){if(o(t.content,a)){var i;t.content=[...s,...null==(i=t.content||[])?void 0:i.slice(a.length)],n.setValueIn(e,t)}}else if("template"===t.type){let i=r.U.getTemplateKeyPaths(t),l=!1;i.forEach(e=>{if(o(e,a)){var n,i;l=!0;let r=[...s,...null==(n=e||[])?void 0:n.slice(a.length)];t.content=null==(i=t.content)?void 0:i.replace(`{{${e.join(".")}}`,`{{${r.join(".")}}`)}}),l&&n.setValueIn(e,{...t})}};for(let{value:e,path:t}of r.U.traverse(c,{includeTypes:["ref","template"],path:u}))d(t,e)});return()=>{a.dispose()}}}];function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.every((t,n)=>t===e[n])}},125812:function(e,t,n){n.d(t,{X:()=>l});var i=n(937643),r=n(950454);let l=(0,r.W2M)({parse:(e,t)=>{var n,l;return[r.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:(null==(n=t.node.form)?void 0:n.getValueIn("title"))||t.node.id,icon:null==(l=t.node.getNodeRegistry().info)?void 0:l.icon},type:i.Kz.schemaToAST(e)})]}})},236831:function(e,t,n){n.d(t,{H:()=>r});var i=n(950454);let r=[{event:i.zEJ.onValueChange,effect:e=>{let{value:t,context:n}=e;n.node.getData(i._J4).allScopes.forEach(e=>{e.output.variables.forEach(e=>{var i;e.updateMeta({...e.meta||{},title:t||n.node.id,icon:null==(i=n.node.getNodeRegistry().info)?void 0:i.icon})})})}}]},393767:function(e,t,n){n.d(t,{S:()=>u});var i=n(908600),r=n(129034),l=n(969134),o=n(697497),a=n(325486),s=n(383909);function u(e){let{value:t,onChange:n,sortIndexKey:u}=e,[c,d]=(0,i.useState)([]),h=(0,i.useRef)(0),p=(0,i.useRef)(0),f=e=>"function"==typeof u?(0,l.Z)(e,u(e))||0:(0,l.Z)(e,u||"")||0;return(0,i.useEffect)(()=>{h.current=h.current+1,h.current!==p.current&&(h.current=p.current,d(e=>{let n=Object.entries(t||{}).sort((e,t)=>f(e[1])-f(t[1])).map(e=>{let[t]=e;return t}),i=e.map(e=>e.key).filter(Boolean),l=(0,o.Z)(n,i);return e.filter(e=>!e.key||n.includes(e.key)).map(e=>({id:e.id,key:e.key,value:e.key?null==t?void 0:t[e.key]:e.value})).concat(l.map(e=>({id:(0,r.x0)(),key:e,value:null==t?void 0:t[e]})))}))},[t]),{list:c,add:e=>{d(t=>[...t,{id:(0,r.x0)(),value:e}])},updateKey:(e,t)=>{p.current=p.current+1,d(i=>{let r=i.map(n=>n.id===e?{...n,key:t}:n);return n(Object.fromEntries(r.filter(e=>e.key).map(e=>[e.key,e.value]))),r})},updateValue:(e,t)=>{p.current=p.current+1,d(i=>{let r=i.map(n=>n.id===e?{...n,value:t}:n);return n(Object.fromEntries(r.filter(e=>e.key).map(e=>[e.key,e.value]).map((e,t)=>{let n="function"==typeof u?u(e[1]):u;return(0,a.Z)(e[1])&&n&&(0,s.Z)(e[1],n,t),e}))),r})},remove:e=>{p.current=p.current+1,d(t=>{let i=t.filter(t=>t.id!==e);return n(Object.fromEntries(i.filter(e=>e.key).map(e=>[e.key,e.value]))),i})}}}},687252:function(e,t,n){n.d(t,{U:()=>i});var i,r=n(111886),l=n(13721),o=n(721855),a=n(325486),s=n(937643),u=n(123387);let c=u.ZP.object({index:u.ZP.number().optional()}).optional(),d=u.ZP.object({type:u.ZP.literal("constant"),content:u.ZP.any().optional(),schema:u.ZP.any().optional(),extra:c}),h=u.ZP.object({type:u.ZP.literal("ref"),content:u.ZP.array(u.ZP.string()).optional(),extra:c}),p=u.ZP.object({type:u.ZP.literal("expression"),content:u.ZP.string().optional(),extra:c}),f=u.ZP.object({type:u.ZP.literal("template"),content:u.ZP.string().optional(),extra:c});!function(e){function t(e){return d.safeParse(e).success}function n(e){return h.safeParse(e).success}function i(e){return p.safeParse(e).success}function u(e){return f.safeParse(e).success}function c(e){return(null==e?void 0:e.schema)?e.schema:"string"==typeof e.content?{type:"string"}:"number"==typeof e.content?{type:"number"}:"boolean"==typeof e.content?{type:"boolean"}:(0,a.Z)(e.content)?{type:"object"}:void 0}e.isConstant=t,e.isRef=n,e.isExpression=i,e.isTemplate=u,e.isConstantOrRef=function(e){return t(e)||n(e)},e.isFlowValue=function(e){return t(e)||n(e)||i(e)||u(e)},e.traverse=function* e(o,a){let{includeTypes:s=["ref","template","expression","constant"],path:c="",pathArr:d=[]}=a||{};if((0,r.Z)(o)){if(n(o)&&s.includes("ref")||u(o)&&s.includes("template")||i(o)&&s.includes("expression")||t(o)&&s.includes("constant"))return void(yield{value:o,path:c,pathArr:d});for(let[t,n]of Object.entries(o))yield*e(n,{...a,path:c?`${c}.${t}`:t,pathArr:[...d,t]});return}if((0,l.Z)(o))for(let[t,n]of o.entries())yield*e(n,{...a,path:c?`${c}[${t}]`:`[${t}]`,pathArr:[...d,`[${t}]`]})},e.getTemplateKeyPaths=function(e){var t;return(0,o.Z)((null==(t=e.content)?void 0:t.match(/\{\{([^\}\{]+)\}\}/g))||[]).map(e=>e.slice(2,-2).split("."))},e.inferConstantJsonSchema=c,e.inferJsonSchema=function e(i,l){if((0,r.Z)(i)){if(t(i))return c(i);if(n(i)){let e=l.available.getByKeyPath(null==i?void 0:i.content);return(null==e?void 0:e.type)?s.Kz.astToSchema(null==e?void 0:e.type):void 0}return u(i)?{type:"string"}:{type:"object",properties:Object.keys(i).reduce((t,n)=>{let r=e(i[n],l);return r&&(t[n]=r),t},{})}}}}(i||(i={}))},944822:function(e,t,n){n.d(t,{eg:()=>P,zi:()=>m});var i=n(893740),r=n(9163),l=n(832176),o=n(89802),a=n(908600),s=n(110239),u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=(e,t,n,i)=>{for(var r,l=i>1?void 0:i?c(t,n):t,o=e.length-1;o>=0;o--)(r=e[o])&&(l=(i?r(t,n,l):r(l))||l);return i&&l&&u(t,n,l),l},h=Symbol("PanelManagerConfig"),p=class{updateSize(e){this.sizeMap.set(this.currentFactoryKey,e),this.onUpdateEmitter.fire()}get currentSize(){return this.sizeMap.get(this.currentFactoryKey)||400}open(e,t){let n=e.render(null==t?void 0:t.props),i=this.elements.findIndex(t=>t.key===e.key);this.currentFactoryKey=e.key,this.sizeMap.has(e.key)||this.sizeMap.set(e.key,e.defaultSize||400),i>=0?this.elements[i]={el:n,key:e.key,style:e.style}:(this.elements.push({el:n,key:e.key,style:e.style}),this.elements.length>this.config.max&&this.elements.shift()),this.onUpdateEmitter.fire()}get visible(){return this.elements.length>0}close(e){e?this.elements=this.elements.filter(t=>t.key!==e):this.elements=[],this.onUpdateEmitter.fire()}dispose(){this.elements=[],this.onUpdateEmitter.dispose()}constructor(e){this.config=e,this.elements=[],this.onUpdateEmitter=new l.Q5,this.sizeMap=new Map,this.onUpdate=this.onUpdateEmitter.event,this.currentFactoryKey=""}},f=class{init(){this.config.factories.forEach(e=>this.register(e)),this.right=new p(this.config.right),this.bottom=new p(this.config.bottom)}register(e){this.panelRegistry.set(e.key,e)}open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=arguments.length>2?arguments[2]:void 0,i=this.panelRegistry.get(e);i&&this.getPanel(t).open(i,n)}close(e){this.right.close(e),this.bottom.close(e)}getPanel(e){return"right"===e?this.right:this.bottom}dispose(){this.right.dispose(),this.bottom.dispose()}constructor(){this.panelRegistry=new Map}};d([(0,r.f3)(h)],f.prototype,"config",2),f=d([(0,r.b2)()],f);var m=()=>(0,i.G2)(f),g=`
  .gedit-flow-panel-layer * {
    box-sizing: border-box;
  }
`,v={pointerEvents:"none",position:"absolute",top:0,left:0,display:"flex",columnGap:"4px",width:"100%",height:"100%",padding:"4px",boxSizing:"border-box",overflow:"hidden"},y={width:"100%",minWidth:0,flexGrow:0,flexShrink:1,display:"flex",flexDirection:"column",rowGap:"4px"},w={height:"100%",flexGrow:1,flexShrink:0,minWidth:0,display:"flex",columnGap:"4px"},x={position:"relative",overflow:"hidden",flexGrow:0,flexShrink:1,width:"100%",height:"100%"},b={flexGrow:1,flexShrink:0,width:"100%",minHeight:0},k={pointerEvents:"auto",height:"100%",width:"100%",overflow:"auto"},j=e=>{let{onResize:t,size:n,isVertical:i}=e,r=(0,a.useRef)(null),[l,o]=(0,a.useState)(!1),[u,c]=(0,a.useState)(!1);return(0,s.jsx)("div",{onMouseDown:e=>{r.current=i?e.clientX:e.clientY,e.stopPropagation(),e.preventDefault(),o(!0);let l=()=>{r.current=null,document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",a),o(!1)},a=e=>{t(n+(r.current-(i?e.clientX:e.clientY)))};document.body.addEventListener("mouseup",l),document.body.addEventListener("mousemove",a)},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{position:"absolute",top:0,left:0,zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",...i?{cursor:"ew-resize",height:"100%",marginLeft:-5,width:10}:{cursor:"ns-resize",width:"100%",marginTop:-5,height:10}},children:(0,s.jsx)("div",{style:{...i?{width:3,height:"100%"}:{height:3,width:"100%"},backgroundColor:l||u?"var(--g-playground-line)":"transparent"}})})},Z=e=>{let{area:t}=e,[,n]=(0,a.useState)(0),i=m(),r=(0,a.useRef)(i.getPanel(t)),l=()=>r.current.elements.map(e=>(0,s.jsx)("div",{className:"float-panel-wrap",style:{...k,...e.style},children:e.el},e.key)),o=(0,a.useRef)(l());(0,a.useEffect)(()=>{let e=r.current.onUpdate(()=>{(0,a.startTransition)(()=>{o.current=l(),n(e=>e+1)})});return()=>e.dispose()},[r]);let u=(0,a.useCallback)(e=>r.current.updateSize(e),[]),c=r.current.currentSize,d="right"===t?{width:c,height:"100%"}:{height:c,width:"100%"};return(0,s.jsxs)("div",{className:"gedit-flow-panel",style:{position:"relative",display:r.current.visible?"block":"none",...d},children:[i.config.autoResize&&r.current.elements.length>0&&(0,s.jsx)(j,{size:c,isVertical:"right"===t,onResize:u}),o.current]})},E=e=>{let{children:t}=e;return(0,s.jsxs)("div",{style:v,children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:g}}),(0,s.jsxs)("div",{className:"gedit-flow-panel-left-area",style:y,children:[(0,s.jsx)("div",{className:"gedit-flow-panel-main-area",style:x,children:t}),(0,s.jsx)("div",{className:"gedit-flow-panel-bottom-area",style:b,children:(0,s.jsx)(Z,{area:"bottom"})})]}),(0,s.jsx)("div",{className:"gedit-flow-panel-right-area",style:w,children:(0,s.jsx)(Z,{area:"right"})})]})},S=class extends i.mh{onReady(){this.panelConfig.getPopupContainer(this.pluginContext).appendChild(this.panelRoot),this.toDispose.push(l.JT.create(()=>{this.panelRoot.remove()})),l.xF.setStyle(this.panelRoot,{pointerEvents:"none",width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:100})}render(){return this.layout||(this.layout=(0,a.createElement)(E)),o.createPortal(this.layout,this.panelRoot)}constructor(){super(...arguments),this.panelRoot=l.xF.createDivWithClass("gedit-flow-panel-layer"),this.layout=null}};d([(0,r.f3)(h)],S.prototype,"panelConfig",2),d([(0,r.f3)(i.Zn)],S.prototype,"pluginContext",2),S=d([(0,r.b2)()],S);var P=(0,i.M1)({onBind:(e,t)=>{let{bind:n}=e;n(f).to(f).inSingletonScope(),n(h).toConstantValue({right:{max:1},bottom:{max:1},factories:[],getPopupContainer:e=>e.playground.node.parentNode,autoResize:!0,...t})},onInit(e,t){e.playground.registerLayer(S),e.container.get(f).init()}})},383909:function(e,t,n){n.d(t,{Z:()=>r});var i=n(221145);let r=function(e,t,n){return null==e?e:(0,i.Z)(e,t,n)}}}]);