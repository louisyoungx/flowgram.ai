"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["674715"],{240835:function(e,t,n){n.d(t,{Id:()=>u,J_:()=>a});var l=n(110239),r=n(908600),o=n(906387);let i=(0,r.createContext)({rules:{},ops:o.s}),a=e=>{let{rules:t,ops:n}=e;return(0,l.jsx)(i.Provider,{value:{rules:t,ops:n},children:e.children})},u=()=>(0,r.useContext)(i)},548034:function(e,t,n){n.d(t,{k:()=>a});var l=n(908600),r=n(950454),o=n(164910),i=n(240835);function a(e){let{leftSchema:t,operator:n,onClearOp:a,onClearRight:u,ruleConfig:s}=e,d=(0,o.M)(),{rules:c,ops:v}=(0,i.Id)(),f=(0,l.useMemo)(()=>(null==s?void 0:s.rules)||c||{},[c,null==s?void 0:s.rules]),p=(0,l.useMemo)(()=>(null==s?void 0:s.ops)||v||{},[v,null==s?void 0:s.ops]),h=(0,l.useMemo)(()=>t?d.getTypeBySchema(t):void 0,[t,d]),m=(0,l.useMemo)(()=>{if(h)return f[h.type]?f[h.type]:"function"==typeof h.conditionRule?h.conditionRule(t):h.conditionRule},[f,t,h]),y=(0,l.useMemo)(()=>Object.keys(m||{}).filter(e=>p[e]).map(e=>{var t;return{...(null==p?void 0:p[e])||{},value:e,label:r.oci.t((null==p||null==(t=p[e])?void 0:t.label)||e)}}),[m,p]);(0,l.useEffect)(()=>{n&&m&&(y.find(e=>e.value===n)||null==a||a())},[n,y,a]);let g=(0,l.useMemo)(()=>{let e=(null==m?void 0:m[n||""])||null;if(e)return"string"==typeof e?{type:e,extra:{weak:!0}}:e},[m,n]),b=(0,l.useRef)(void 0);return(0,l.useEffect)(()=>{var e;if(!b.current){b.current=g;return}(null==(e=b.current)?void 0:e.type)!==(null==g?void 0:g.type)&&(null==u||u()),b.current=g},[g,u]),{rule:m,opConfig:(0,l.useMemo)(()=>p[n||""],[n,p]),opOptionList:y,targetSchema:g}}},318036:function(e,t,n){n.d(t,{i:()=>v});var l=n(110239),r=n(908600),o=n(937643),i=n(950454),a=n(653378),u=n(521419),s=n(857527),d=n(510165),c=n(548034);function v(e){var t;let{style:n,value:v,onChange:f,readonly:p,ruleConfig:h}=e,{left:m,operator:y,right:g}=v||{},b=(0,i.rVg)(),k=(0,r.useMemo)(()=>{if(m)return b.getByKeyPath(m.content)},[b,m]),E=(0,r.useMemo)(()=>{if(k)return o.Kz.astToSchema(k.type,{drilldown:!1})},[null==k||null==(t=k.type)?void 0:t.hash]),{rule:T,opConfig:M,opOptionList:R,targetSchema:V}=(0,c.k)({leftSchema:E,operator:y,ruleConfig:h,onClearOp(){f({...v,operator:void 0})},onClearRight(){f({...v,right:void 0})}});return(0,l.jsxs)("div",{className:"gedit-m-condition-row-container",style:n,children:[(0,l.jsx)("div",{className:"gedit-m-condition-row-operator",children:(0,l.jsx)(a.Select,{style:{height:22},disabled:p,size:"small",value:y,optionList:R,onChange:e=>{f({...v,operator:e})},triggerRender:e=>{let{value:t}=e;return(0,l.jsx)(a.Button,{size:"small",disabled:!T,children:(null==M?void 0:M.abbreviation)||(0,l.jsx)(u.Z,{size:"small"})})}})}),(0,l.jsxs)("div",{className:"gedit-m-condition-row-values",children:[(0,l.jsx)("div",{className:"gedit-m-condition-row-left",children:(0,l.jsx)(s.NB,{readonly:p,style:{width:"100%"},value:null==m?void 0:m.content,onChange:e=>f({...v,left:{type:"ref",content:e}})})}),(0,l.jsx)("div",{className:"gedit-m-condition-row-right",children:V?(0,l.jsx)(d.t,{readonly:p||!T,value:g,schema:V,onChange:e=>f({...v,right:e})}):(0,l.jsx)(a.Input,{size:"small",disabled:!0,style:{pointerEvents:"none"},value:(null==M?void 0:M.rightDisplay)||i.oci.t("Empty")})})]})]})}n(781634)},623631:function(e,t,n){n.d(t,{g:()=>o});var l=n(950454),r=n(687252);let o=[{event:l.zEJ.onValueInit,effect:e=>{let{context:t,form:n,name:o}=e,a=t.node.getService(l.qmw).onRename(e=>{let{before:t,after:l}=e,a=[...t.parentFields.map(e=>e.key).reverse(),t.key],u=[...l.parentFields.map(e=>e.key).reverse(),l.key];var s=o,d=n.getValueIn(o),c=(e,t)=>{if("ref"===t.type){if(i(t.content,a)){var l;t.content=[...u,...null==(l=t.content||[])?void 0:l.slice(a.length)],n.setValueIn(e,t)}}else if("template"===t.type){let l=r.U.getTemplateKeyPaths(t),o=!1;l.forEach(e=>{if(i(e,a)){var n,l;o=!0;let r=[...u,...null==(n=e||[])?void 0:n.slice(a.length)];t.content=null==(l=t.content)?void 0:l.replace(`{{${e.join(".")}}`,`{{${r.join(".")}}`)}}),o&&n.setValueIn(e,{...t})}};for(let{value:e,path:t}of r.U.traverse(d,{includeTypes:["ref","template"],path:s}))c(t,e)});return()=>{a.dispose()}}}];function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.every((t,n)=>t===e[n])}},789220:function(e,t,n){n.d(t,{V:()=>o});var l=n(937643),r=n(950454);let o=e=>[{event:r.zEJ.onValueInitOrChange,effect:t=>{let{context:n,value:o}=t;if((null==o?void 0:o.type)!=="ref")return()=>null;let i=(0,r.k6H)(n.node).available.trackByKeyPath((null==o?void 0:o.content)||[],n=>{e({...t,schema:l.Kz.astToSchema(n)})},{selector:e=>null==e?void 0:e.type});return()=>{i.dispose()}}}]},251430:function(e,t,n){n.d(t,{Z:()=>r});var l=n(950454);let r=e=>[{event:l.zEJ.onValueInitOrChange,effect:t=>{let{context:n,value:r}=t;if((null==r?void 0:r.type)!=="ref")return()=>null;let o=(0,l.k6H)(n.node).available.trackByKeyPath((null==r?void 0:r.content)||[],n=>{e({...t,variable:n})});return()=>{o.dispose()}}}]},125812:function(e,t,n){n.d(t,{X:()=>o});var l=n(937643),r=n(950454);let o=(0,r.W2M)({parse:(e,t)=>{var n,o;return[r.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:(null==(n=t.node.form)?void 0:n.getValueIn("title"))||t.node.id,icon:null==(o=t.node.getNodeRegistry().info)?void 0:o.icon},type:l.Kz.schemaToAST(e)})]}})},236831:function(e,t,n){n.d(t,{H:()=>r});var l=n(950454);let r=[{event:l.zEJ.onValueChange,effect:e=>{let{value:t,context:n}=e;n.node.getData(l._J4).allScopes.forEach(e=>{e.output.variables.forEach(e=>{var l;e.updateMeta({...e.meta||{},title:t||n.node.id,icon:null==(l=n.node.getNodeRegistry().info)?void 0:l.icon})})})}}]},183173:function(e,t,n){n.d(t,{S:()=>r});var l=n(950454);let r=function(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{event:l.zEJ.onValueInit,effect:t=>{let{context:n,form:r,name:o}=t,i=("private"===e?(0,l.u$R)(n.node):(0,l.k6H)(n.node)).available.onListOrAnyVarChange(()=>{Object.entries(r.state.errors||{}).filter(e=>{let[t,n]=e;return(null==n?void 0:n.length)>0}).filter(e=>{let[t]=e;return t.startsWith(o)||o.startsWith(t)}).map(e=>{let[t]=e;return t}).length>0&&r.validate()});return()=>i.dispose()}}]}},769424:function(e,t,n){n.d(t,{n:()=>u});var l=n(689478),r=n(241787),o=n(383909),i=n(937643),a=n(950454);let u=(0,a.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,mergeEffect:u}=e,{assignKey:s,outputKey:d}=t;s&&d&&(u({[s]:(0,a.W2M)({parse:(e,t)=>{var n,o,u;let s=(u=e.filter(e=>"declare"===e.operator&&e.left&&e.right),u&&u.length?(0,r.Z)(u,(0,l.Z)("left",2)):[]);return[a.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(o=t.node.getNodeRegistry().info)?void 0:o.icon},type:a.qRT.createObject({properties:s.map(e=>{var t,n,l,r;return a.qRT.createProperty({key:e.left,type:(null==(t=e.right)?void 0:t.type)==="constant"?i.Kz.schemaToAST((null==(n=e.right)?void 0:n.schema)||{}):void 0,initializer:(null==(l=e.right)?void 0:l.type)==="ref"?a.qRT.createKeyPathExpression({keyPath:(null==(r=e.right)?void 0:r.content)||[]}):{}})})})})]}})}),n((e,t)=>{var n,l;return(0,o.Z)(e,d,i.Kz.astToSchema(null==(l=(0,a.k6H)(t.node).output.variables)||null==(n=l[0])?void 0:n.type)),e}))}})},401255:function(e,t,n){n.d(t,{k:()=>d});var l=n(969134),r=n(383909),o=n(492320),i=n(631952),a=n(950454),u=n(687252);let{produce:s}=new i.Ve({autoFreeze:!1}),d=(0,a.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,addFormatOnInit:i}=e,{sourceKey:d,targetKey:c,scope:v,ignoreConstantSchema:f}=t;d&&c&&(n((e,t)=>s(e,n=>{let i=(0,l.Z)(e,d);if((0,r.Z)(n,c,u.U.inferJsonSchema(i,"private"===v?(0,a.u$R)(t.node):(0,a.k6H)(t.node))),f)for(let{value:t,path:n}of u.U.traverse(i,{includeTypes:["constant"]}))u.U.isConstant(t)&&(null==t?void 0:t.schema)&&(0,r.Z)(e,`${d}.${n}`,(0,o.Z)(t,["schema"]))})),f&&i((e,t)=>{let n=(0,l.Z)(e,c);if(!n)return e;for(let{value:t,pathArr:o}of u.U.traverse((0,l.Z)(e,d),{includeTypes:["constant"]}))if(u.U.isConstant(t)&&!(null==t?void 0:t.schema)){let e=o.map(e=>`properties.${e}`).join("."),i=(0,l.Z)(n,e);i&&(0,r.Z)(t,"schema",i)}return e}))}})},176332:function(e,t,n){n.d(t,{O:()=>r});var l=n(950454);let r=(0,l.M1y)({onInit(e){let t=e.get(l.i2z),n=e=>{if(l.GwP.isVariableDeclaration(e.ast)){var t;(null==(t=e.ast.meta)?void 0:t.disabled)||e.ast.updateMeta({...e.ast.meta||{},disabled:!0})}};t.onGlobalEvent("NewAST",n),t.onGlobalEvent("UpdateAST",n)}})},832901:function(e,t,n){n.d(t,{Q:()=>i});var l=n(937643),r=n(950454),o=n(333762);(0,o.s)();let i=(0,r.M1y)({onInit(e,t){var n,r;let i=e.get(l.ML);o.K.forEach(e=>i.register(e)),null==(n=t.types)||n.forEach(e=>i.register(e)),null==(r=t.unregisterTypes)||r.forEach(e=>i.unregister(e))},containerModules:[l.Dn]})},38643:function(e,t,n){n.d(t,{W:()=>i});var l=n(863875),r=n(950454),o=n(687252);function i(e,t){let{node:n,required:i,errorMessages:a}=t,{required:u="Field is required",unknownVariable:s="Unknown Variable"}=a||{};if(i&&((0,l.Z)(e)||(0,l.Z)(null==e?void 0:e.content)||(null==e?void 0:e.content)===""))return{level:r.Odm.Error,message:u};if((null==e?void 0:e.type)==="ref"&&!(0,r.k6H)(n).available.getByKeyPath((null==e?void 0:e.content)||[]))return{level:r.Odm.Error,message:s};if((null==e?void 0:e.type)==="template"){for(let t of o.U.getTemplateKeyPaths(e))if(!(0,r.k6H)(n).available.getByKeyPath(t))return{level:r.Odm.Error,message:s}}}}}]);