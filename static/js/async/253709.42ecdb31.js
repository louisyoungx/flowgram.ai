"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["253709"],{778800:function(e,s,r){r.r(s),r.d(s,{default:()=>a});var n=r(110239),i=r(437562);function l(e){let s={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"介绍",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#介绍",children:"#"}),"介绍"]}),"\n",(0,n.jsxs)(s.div,{className:"rspress-directive warning",children:[(0,n.jsx)(s.div,{className:"rspress-directive-title",children:"WARNING"}),(0,n.jsx)(s.div,{className:"rspress-directive-content",children:(0,n.jsxs)(s.p,{children:["本文档的变量引擎属于 FlowGram ",(0,n.jsx)(s.strong,{children:"设计态"}),"，和运行态的变量引擎不同。"]})})]}),"\n",(0,n.jsxs)(s.h2,{id:"什么是变量",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#什么是变量",children:"#"}),"什么是变量？"]}),"\n",(0,n.jsxs)(s.p,{children:["想象一下，你在搭建一个复杂的乐高模型，每个模块都需要精确地连接在一起。在工作流（Workflow）的世界里，",(0,n.jsx)(s.strong,{children:"变量"}),"就扮演着类似“连接件”的角色。它们是用来在不同节点之间传递信息的“信使”。"]}),"\n",(0,n.jsx)(s.p,{children:"简单来说，变量就是一个带名字的容器，你可以往里面装各种东西，比如用户的输入、计算结果，或者从某个地方获取的数据。"}),"\n",(0,n.jsx)(s.p,{children:"一个变量通常由三部分组成："}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"名字（唯一标识符）"}),"：就像你的名字一样，它让大家能准确地找到这个变量。例如 ",(0,n.jsx)(s.code,{children:"userName"}),"、",(0,n.jsx)(s.code,{children:"orderId"}),"。"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"值"}),"：容器里装的东西。它可以是数字 ",(0,n.jsx)(s.code,{children:"123"}),"，文字 ",(0,n.jsx)(s.code,{children:'"Hello FlowGram!"'}),"，或者一个开关状态 ",(0,n.jsx)(s.code,{children:"true"})," / ",(0,n.jsx)(s.code,{children:"false"}),"。"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"类型"}),"：规定了这个容器能装哪种东西。比如，有的只能装数字，有的只能装文字。"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.p,{children:"举个例子，在一个“智能问答”流程中："}),"\n",(0,n.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,n.jsx)("img",{style:{width:"50%"},loading:"lazy",src:"/variable/variable-biz-context-websearch-llm.png",alt:"智能问答流程"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{style:{marginTop:10},children:["1. ",(0,n.jsxs)(s.strong,{children:[(0,n.jsx)(s.code,{children:"WebSearch"})," 节点"]}),"：负责上网搜索，然后把搜到的知识（比如“今天天气怎么样？”的答案）放进一个名为 ",(0,n.jsx)(s.code,{children:"natural_language_desc"})," 的变量里。"]}),(0,n.jsxs)("p",{style:{marginTop:5},children:["2. ",(0,n.jsxs)(s.strong,{children:[(0,n.jsx)(s.code,{children:"LLM"})," 节点"]}),"：它会接过 ",(0,n.jsx)(s.code,{children:"natural_language_desc"})," 这个“信使”，读取里面的内容，然后用更自然、更友好的方式回答用户。"]}),(0,n.jsxs)("p",{style:{marginTop:5},children:["3. 在这个过程中，",(0,n.jsx)(s.code,{children:"natural_language_desc"})," 的类型就是“字符串”，因为它装的是文字内容。"]})]})]}),"\n",(0,n.jsxs)(s.h2,{id:"为什么需要变量引擎",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#为什么需要变量引擎",children:"#"}),"为什么需要变量引擎？"]}),"\n",(0,n.jsx)(s.p,{children:"随着工作流复杂度的提升，变量的数量和管理难度也随之增加。"}),"\n",(0,n.jsxs)(s.p,{children:["为了应对这一挑战，FlowGram 提供了强大的",(0,n.jsx)(s.strong,{children:"变量引擎"}),"。"]}),"\n",(0,n.jsx)(s.p,{children:"它如同一位专业的“数据管家”，能够系统化地管理所有变量，确保数据流的清晰与稳定。"}),"\n",(0,n.jsx)(s.p,{children:"启用变量引擎将为您带来以下核心优势："}),"\n",(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px"},children:[(0,n.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,n.jsx)("b",{children:"作用域约束：精准的数据访问控制"}),(0,n.jsx)("p",{className:"rs-tip",children:"变量引擎能够精确控制每个变量的有效范围（即作用域）。如同为不同房间配置专属钥匙，它确保了变量只在预期的节点中被访问，从而有效避免了数据污染和意外的逻辑错误。"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"25px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{loading:"lazy",src:"/variable/variable-scope-feature-1.png",alt:"作用域约束示例 1"}),(0,n.jsxs)("p",{style:{marginTop:"10px"},children:[(0,n.jsx)(s.code,{children:"Start"})," 节点定义的 ",(0,n.jsx)(s.code,{children:"query"})," 变量，在它后面的 ",(0,n.jsx)(s.code,{children:"LLM"})," 和 ",(0,n.jsx)(s.code,{children:"End"})," 节点都能轻松访问。"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{loading:"lazy",src:"/variable/variable-scope-feature-2.png",alt:"作用域约束示例 2"}),(0,n.jsxs)("p",{style:{marginTop:"10px"},children:[(0,n.jsx)(s.code,{children:"LLM"})," 节点在一个 ",(0,n.jsx)(s.code,{children:"Condition"})," 分支里，像是在一个独立的房间。外面的 ",(0,n.jsx)(s.code,{children:"End"})," 节点自然就拿不到它的 ",(0,n.jsx)(s.code,{children:"result"})," 变量了。"]})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"变量结构透视：轻松洞悉复杂数据"}),(0,n.jsx)("p",{className:"rs-tip",children:"当变量变得复杂时（例如一个包含许多层级的对象），变量引擎能让你像剥洋葱一样，一层层地深入探索它的内部结构，所有细节都尽在掌握。"}),(0,n.jsx)("img",{loading:"lazy",src:"/variable/variable-tree-management.gif",alt:"变量结构透视"}),(0,n.jsx)("p",{style:{marginTop:"10px"},children:"这张图里，你能看到所有节点的输出变量，以及它们之间的层级关系，像一棵枝繁叶茂的树。"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"类型自动推导：心有灵犀一点通"}),(0,n.jsx)("p",{className:"rs-tip",children:"你不用再挨个告诉每个变量它应该是什么类型，变量引擎会像你的“灵魂伴侣”一样，根据上下文自动推导出它的类型。"}),(0,n.jsx)("img",{loading:"lazy",src:"/variable/variable-batch-auto-infer.gif",alt:"类型自动推导"}),(0,n.jsxs)("p",{style:{marginTop:"10px"},children:["例如，当 ",(0,n.jsx)(s.code,{children:"Start"})," 节点中 ",(0,n.jsx)(s.code,{children:"arr"})," 变量的类型发生变更时，",(0,n.jsx)(s.code,{children:"Batch"})," 节点输出的 ",(0,n.jsx)(s.code,{children:"item"})," 类型也会自动同步更新，确保了类型的一致性。"]})]})]}),"\n",(0,n.jsxs)(s.h2,{id:"如何开启变量引擎",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#如何开启变量引擎",children:"#"}),"如何开启变量引擎？"]}),"\n",(0,n.jsx)(s.p,{children:"您可以通过简单的配置来启用变量引擎，以体验其强大的功能。"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://flowgram.ai/auto-docs/editor/interfaces/VariablePluginOptions.html",rel:"noopener noreferrer",target:"_blank",children:"> 查看 API 详情"})}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"use-editor-props.ts",children:(0,n.jsxs)(s.code,{className:"language-tsx",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 在 EditorProps 中开启变量引擎"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,n.jsxs)(s.span,{className:"line highlighted",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  variableEngine"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"    // 设置为 true 即可开启变量引擎"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    enable"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" true"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["zh%2Fguide%2Fvariable%2Fbasic.mdx"]={toc:[{id:"什么是变量",text:"什么是变量？",depth:2},{id:"为什么需要变量引擎",text:"为什么需要变量引擎？",depth:2},{id:"如何开启变量引擎",text:"如何开启变量引擎？",depth:2}],title:"介绍",headingTitle:"介绍",frontmatter:{description:"介绍什么是变量，以及变量引擎的作用"}}}}]);