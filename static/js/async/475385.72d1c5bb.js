"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["475385"],{591718:function(e,t,i){i.r(t),i.d(t,{InputsPicker:()=>p,InputsTree:()=>h});var r=i(110239),n=i(908600),l=i(374488),a=i(111886),s=i(950454),o=i(11611),u=i(414682),c=i(617704),f=i(687252);function p(e){let{inputsValues:t,onSelect:i}=e,o=(0,s.$eD)(),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s.GwP.isArray(e.items)?u(e.items,t+1):{type:e.items,depth:t}},p=(e,t)=>{let i,r=null==e?void 0:e.type;if(s.GwP.isObject(r)&&(i=(r.properties||[]).map(e=>p(e,[...t,e.key])).filter(Boolean)),s.GwP.isArray(r)){let e=u(r);s.GwP.isObject(e.type)&&(i=(e.type.properties||[]).map(i=>p(i,[...t,...Array(e.depth).fill("[0]"),i.key])).filter(Boolean))}let n=t.map((e,t)=>"[0]"===e||0===t?e:`.${e}`).join("");return{key:n,label:(0,l.Z)(t),value:n,children:i}},d=(e,t)=>{let i=t.join(".");if(f.U.isFlowValue(e)){if(f.U.isRef(e)){var r;let i=null==o||null==(r=o.available)?void 0:r.getByKeyPath(e.content||[]);if(i)return p(i,t)}return{key:i,value:i,label:(0,l.Z)(t)}}if((0,a.Z)(e))return{key:i,value:i,label:(0,l.Z)(t),children:Object.entries(e).map(e=>{let[i,r]=e;return d(r,[...t,i])}).filter(Boolean)}},h=(0,n.useMemo)(()=>Object.entries(t).map(e=>{let[t,i]=e;return d(i,[t])}).filter(Boolean),[]);return(0,r.jsx)(c.mp,{treeData:h,onSelect:e=>i(e)})}let d=["{","{}","@"];function h(e){let{inputsValues:t,triggerCharacters:i=d}=e,[l,a]=(0,n.useState)(""),[s,f]=(0,n.useState)(!1),[h,m]=(0,n.useState)(-1),v=(0,o.jE)();return(0,n.useEffect)(()=>{if(!v)return},[v,s]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.pf,{triggerCharacters:i,onOpenChange:function(e){m(e.state.selection.main.head),f(e.value)}}),(0,r.jsx)(c.J2,{visible:s,trigger:"custom",position:"topLeft",rePosKey:l,content:(0,r.jsx)("div",{style:{width:300,maxHeight:300,overflowY:"auto"},children:(0,r.jsx)(p,{inputsValues:t,onSelect:e=>{!function(e){let t=(0,u.m4)(v.$view.state);if(!t)return;let{from:i,to:r}=t;for(;"{"===v.$view.state.doc.sliceString(i-1,i);)i--;for(;"}"===v.$view.state.doc.sliceString(r,r+1);)r++;v.replaceText({...t,text:"{{"+e+"}}"}),f(!1)}(e)}})}),children:(0,r.jsx)(u.Iq,{position:h,onChange:()=>a(String(Math.random()))})})]})}}}]);