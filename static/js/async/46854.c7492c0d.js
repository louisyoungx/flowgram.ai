"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["46854"],{555328:function(e,s,l){l.d(s,{P:()=>m});var i=l(110239);l(908600);var t=l(950454),n=l(653378),a=l(551503),r=l(633988),d=l(393767),o=l(510165),c=l(244359);function m(e){let{value:s,onChange:l,style:m,readonly:u,constantProps:h,schema:j,hasError:p}=e,{list:v,updateKey:x,updateValue:g,remove:C,add:f}=(0,d.S)({value:s,onChange:l,sortIndexKey:"extra.index"});return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"gedit-m-inputs-values-rows",style:m,children:v.map(e=>(0,i.jsxs)("div",{className:"gedit-m-inputs-values-row",children:[(0,i.jsx)(c.A,{style:{width:100,minWidth:100,maxWidth:100},disabled:u,size:"small",value:e.key,onChange:s=>x(e.id,s),placeholder:t.oci.t("Input Key")}),(0,i.jsx)(o.t,{style:{flexGrow:1},readonly:u,value:e.value,onChange:s=>g(e.id,s),schema:j,hasError:p,constantProps:{...h,strategies:[...(null==h?void 0:h.strategies)||[]]}}),(0,i.jsx)(n.IconButton,{disabled:u,theme:"borderless",icon:(0,i.jsx)(a.Z,{size:"small"}),size:"small",onClick:()=>C(e.id)})]},e.id))}),(0,i.jsx)(n.Button,{disabled:u,icon:(0,i.jsx)(r.Z,{}),size:"small",onClick:()=>f({type:"constant",content:"",schema:{type:"string"}}),children:t.oci.t("Add")})]})}l(454234)},615152:function(e,s,l){l.d(s,{_:()=>P});var i=l(110239),t=l(908600),n=l(950454),a=l(653378),r=l(633988),d=l(244897),o=l(61574),c=l(77696),m=l(665114),u=l(499164),h=l(125241),j=l(244359),p=l(79367);let v=(0,i.jsxs)("svg",{className:"icon-icon icon-icon-coz_add_node ",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6.49988C11 8.64148 9.50397 10.4337 7.49995 10.8884V15.4998C7.49995 16.0521 7.94767 16.4998 8.49995 16.4998H11.208C11.0742 16.8061 11 17.1443 11 17.4998C11 17.8554 11.0742 18.1936 11.208 18.4998H8.49995C6.8431 18.4998 5.49995 17.1567 5.49995 15.4998V10.8884C3.49599 10.4336 2 8.64145 2 6.49988C2 4.0146 4.01472 1.99988 6.5 1.99988C8.98528 1.99988 11 4.0146 11 6.49988ZM6.5 8.99988C7.88071 8.99988 9 7.88059 9 6.49988C9 5.11917 7.88071 3.99988 6.5 3.99988C5.11929 3.99988 4 5.11917 4 6.49988C4 7.88059 5.11929 8.99988 6.5 8.99988Z"}),(0,i.jsx)("path",{d:"M17.5 12.4999C18.0523 12.4999 18.5 12.9476 18.5 13.4999V16.4999H21.5C22.0523 16.4999 22.5 16.9476 22.5 17.4999C22.5 18.0522 22.0523 18.4999 21.5 18.4999H18.5V21.4999C18.5 22.0522 18.0523 22.4999 17.5 22.4999C16.9477 22.4999 16.5 22.0522 16.5 21.4999V18.4999H13.5C12.9477 18.4999 12.5 18.0522 12.5 17.4999C12.5 16.9476 12.9477 16.4999 13.5 16.4999H16.5V13.4999C16.5 12.9476 16.9477 12.4999 17.5 12.4999Z"})]}),x=()=>(0,i.jsx)(p.ZPm,{size:"small",svg:v});var g=l(697497),C=l(492320),f=l(631952),y=l(937643);let k=0;function b(e,s){let l=(0,y.MT)(),i=l.getPropertiesParent(e||{}),n=l.canAddField(e||{}),[a,r]=(0,t.useState)([]),d=(0,t.useRef)(a),o=(0,t.useRef)(0),c=(0,t.useRef)(0);(0,t.useEffect)(()=>{if(o.current=o.current+1,o.current===c.current)return;o.current=c.current;let e=d.current,s=Object.entries((null==i?void 0:i.properties)||{}).sort((e,s)=>{var l,i;let[,t]=e,[,n]=s;return((null==(l=t.extra)?void 0:l.index)??0)-((null==(i=n.extra)?void 0:i.index)??0)}).map(e=>{let[s]=e;return s}),l=e.map(e=>e.name).filter(Boolean),t=(0,g.Z)(s,l),n=e.filter(e=>!e.name||s.includes(e.name)).map(e=>{var s,l;return{key:e.key,name:e.name,isPropertyRequired:(null==i||null==(s=i.required)?void 0:s.includes(e.name||""))||!1,...(null==i||null==(l=i.properties)?void 0:l[e.name||""])||e||{}}}).concat(t.map(e=>{var s,l;return{key:k++,name:e,isPropertyRequired:(null==i||null==(s=i.required)?void 0:s.includes(e))||!1,...(null==i||null==(l=i.properties)?void 0:l[e])||{}}}));d.current=n,r(n)},[i]);let m=i=>{c.current=c.current+1;let t=i(d.current);d.current=t,r(t);let n={},a=[];for(let e of t)e.name&&(n[e.name]=(0,C.Z)(e,["key","name","isPropertyRequired"]),e.isPropertyRequired&&a.push(e.name));null==s||s((0,f.Uy)(e||{},e=>{let s=l.getPropertiesParent(e);if(s){s.properties=n,s.required=a;return}}))};return(0,t.useEffect)(()=>{n||(d.current=[],r([]))},[n]),{propertyList:a,canAddField:n,onAddProperty:()=>{let e=d.current,s=[...e,{key:k++,name:"",type:"string",extra:{index:e.length+1}}];d.current=s,r(s)},onRemoveProperty:e=>{m(s=>s.filter(s=>s.key!==e))},onEditProperty:(e,s)=>{m(l=>l.map(l=>l.key===e?s:l))}}}var N=l(436767);function w(e){let{value:s,schema:l,onChange:t,placeholder:a}=e;return(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-constant-input-wrapper",children:(0,i.jsx)(N.B,{value:s,onChange:e=>t(e),schema:l||{type:"string"},placeholder:a??n.oci.t("Default value if parameter is not provided"),enableMultiLineStr:!0})})}l(301974);let z={type:"object"};function P(e){let{value:s=z,config:l={},onChange:t,readonly:d}=e,{propertyList:o,onAddProperty:c,onRemoveProperty:m,onEditProperty:u}=b(s,t);return(0,i.jsxs)("div",{className:"gedit-m-json-schema-editor-container",children:[(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-tree-items",children:o.map(e=>(0,i.jsx)(Z,{readonly:d,value:e,config:l,onChange:s=>{u(e.key,s)},onRemove:()=>{m(e.key)}},e.key))}),(0,i.jsx)(a.Button,{disabled:d,size:"small",style:{marginTop:10,marginLeft:16},icon:(0,i.jsx)(r.Z,{}),onClick:c,children:(null==l?void 0:l.addButtonText)??n.oci.t("Add")})]})}function Z(e){let{value:s,config:l,readonly:r,$level:p=0,onChange:v,onRemove:g,$isLast:C}=e,[f,y]=(0,t.useState)(!1),[k,N]=(0,t.useState)(!1),{name:z,type:P,items:R,default:V,description:B,isPropertyRequired:q}=s||{},_=(0,t.useMemo)(()=>({type:P,items:R}),[P,R]),{propertyList:A,canAddField:H,onAddProperty:I,onRemoveProperty:M,onEditProperty:T}=b(s,v),$=(e,l)=>{null==v||v({...s||{},[e]:l})},E=H&&A.length>0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:`gedit-m-json-schema-editor-tree-item-left ${p>0?"show-line":""} ${C?"is-last":""} ${E?"show-collapse":""}`,children:E&&(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-collapse-trigger",onClick:()=>N(e=>!e),children:k?(0,i.jsx)(d.Z,{size:"small"}):(0,i.jsx)(o.Z,{size:"small"})})}),(0,i.jsxs)("div",{className:"gedit-m-json-schema-editor-tree-item-right",children:[(0,i.jsxs)("div",{className:"gedit-m-json-schema-editor-tree-item-main",children:[(0,i.jsxs)("div",{className:"gedit-m-json-schema-editor-row",children:[(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-name",children:(0,i.jsx)(j.A,{disabled:r,placeholder:(null==l?void 0:l.placeholder)??n.oci.t("Input Variable Name"),size:"small",value:z,onChange:e=>$("name",e)})}),(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-type",children:(0,i.jsx)(h.E6,{value:_,readonly:r,onChange:e=>{null==v||v({...s||{},...e})}})}),(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-required",children:(0,i.jsx)(a.Checkbox,{disabled:r,checked:q,onChange:e=>$("isPropertyRequired",e.target.checked)})}),(0,i.jsxs)("div",{className:"gedit-m-json-schema-editor-actions",children:[(0,i.jsx)(a.IconButton,{disabled:r,size:"small",theme:"borderless",icon:f?(0,i.jsx)(c.Z,{size:"small"}):(0,i.jsx)(m.Z,{size:"small"}),onClick:()=>{y(e=>!e)}}),H&&(0,i.jsx)(a.IconButton,{disabled:r,size:"small",theme:"borderless",icon:(0,i.jsx)(x,{}),onClick:()=>{I(),N(!0)}}),(0,i.jsx)(a.IconButton,{disabled:r,size:"small",theme:"borderless",icon:(0,i.jsx)(u.Z,{size:"small"}),onClick:g})]})]}),f&&(0,i.jsxs)("div",{className:"gedit-m-json-schema-editor-expand-detail",children:[(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-label",children:(null==l?void 0:l.descTitle)??n.oci.t("Description")}),(0,i.jsx)(j.A,{disabled:r,size:"small",value:B,onChange:e=>$("description",e),placeholder:(null==l?void 0:l.descPlaceholder)??n.oci.t("Help LLM to understand the property")}),0===p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-label",style:{marginTop:10},children:(null==l?void 0:l.defaultValueTitle)??n.oci.t("Default Value")}),(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-default-value-wrapper",children:(0,i.jsx)(w,{value:V,schema:s,placeholder:(null==l?void 0:l.defaultValuePlaceholder)??n.oci.t("Default Value"),onChange:e=>$("default",e)})})]})]})]}),E&&(0,i.jsx)("div",{className:`gedit-m-json-schema-editor-collapsible ${k?"collapse":""}`,children:(0,i.jsx)("div",{className:"gedit-m-json-schema-editor-tree-items shrink",children:A.map((e,s)=>(0,i.jsx)(Z,{readonly:r,value:e,config:l,$level:p+1,onChange:s=>{T(e.key,s)},onRemove:()=>{M(e.key)},$isLast:s===A.length-1},e.key))})})]})]})}}}]);