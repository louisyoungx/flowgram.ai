"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["1831"],{866146:function(e,t,n){n.r(t),n.d(t,{VariableTree:()=>u});var r=n(110239),i=n(908600),a=n(11611),o=n(414682),s=n(653378),c=n(117280);let l=["{","{}","@"];function u(e){let{triggerCharacters:t=l}=e,[n,u]=(0,i.useState)(""),[f,d]=(0,i.useState)(!1),[g,h]=(0,i.useState)(-1),p=(0,a.jE)();(0,i.useEffect)(()=>{if(!p)return},[p,f]);let x=(0,c.V)({});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.pf,{triggerCharacters:t,onOpenChange:function(e){h(e.state.selection.main.head),d(e.value)}}),(0,r.jsx)(s.Popover,{visible:f,trigger:"custom",position:"topLeft",rePosKey:n,content:(0,r.jsx)("div",{style:{width:300,maxHeight:300,overflowY:"auto"},children:(0,r.jsx)(s.Tree,{treeData:x,onExpand:e=>{u(String(Math.random()))},onSelect:e=>{!function(e){let t=(0,o.m4)(p.$view.state);if(!t)return;let{from:n,to:r}=t;for(;"{"===p.$view.state.doc.sliceString(n-1,n);)n--;for(;"}"===p.$view.state.doc.sliceString(r,r+1);)r++;p.replaceText({from:n,to:r,text:"{{"+e+"}}"}),d(!1)}(e)}})}),children:(0,r.jsx)(o.Iq,{position:g,onChange:()=>u(String(Math.random()))})})]})}}}]);