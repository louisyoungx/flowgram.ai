"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["534505"],{417587:function(e,t,n){n.r(t),n.d(t,{FormHeader:()=>D,FreeFormMetaStoryBuilder:()=>X});var i=n(110239),r=n(908600),s=n(640898),a=n(549207),o=n(461249),l=n(852469),d=n(499164);let A=(0,n(524053).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5Zm10 11a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1ZM7.7 6.3a1 1 0 0 0-1.4 1.4l3.36 3.37-3.44 4.3a1 1 0 0 0 1.56 1.25l4-5a1 1 0 0 0-.07-1.33l-4-4Z",fill:"currentColor"}))},"terminal");var c=n(980317);function g(){let e=(0,s.sX$)(),t=(0,r.useMemo)(()=>{var t;return JSON.stringify((null==(t=e.document)?void 0:t.toJSON())||{},null,2)||""},[]),[n,a]=(0,r.useState)(t),[o,d]=(0,r.useState)(!1);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",gap:5,marginBottom:5},children:[(0,i.jsx)(l.zx,{onClick:()=>{var t;a(JSON.stringify((null==(t=e.document)?void 0:t.toJSON())||{},null,2)),d(!1)},children:"Refresh"}),o&&(0,i.jsx)(l.zx,{onClick:()=>{try{var t;let i=JSON.parse(n);null==(t=e.document)||t.reload(i)}catch(e){console.error("Invalid JSON",e)}},children:"Sync"})]}),(0,i.jsx)(c.V,{value:n,onChange:e=>{e!==n&&(a(e),d(!0))},options:{minHeight:300}})]})}var u=n(117280);function p(){let e=(0,u.V)({});return(0,i.jsx)(l.mp,{treeData:e,defaultExpandAll:!0})}let h=o.ZP.div`
  position: relative;
  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.1);
`,f=(0,o.ZP)(l.zx)`
  position: absolute;
  top: 0;
  right: 0;
  border-radius: 20px;
  width: ${e=>e.$isOpen?"40px":"90px"};
  height: ${e=>(e.$isOpen,"40px")};
  z-index: 999;
  top: ${e=>e.$isOpen?"10px":"0"};
  right: ${e=>e.$isOpen?"10px":"0"};
`,x=o.ZP.div`
  width: 1000px;
  border-radius: 5px;
  background-color: #fff;
  overflow: hidden;
  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.1);
  z-index: 30;

  .semi-tabs-bar {
    padding-left: 20px;
  }

  .semi-tabs-content {
    padding: 20px;
    height: 80vh;
    overflow: auto;
  }
`;function v(){let[e,t]=(0,r.useState)(!1);return(0,i.jsxs)(h,{children:[(0,i.jsx)(l.u,{content:"Toggle Debug Panel",children:(0,i.jsx)(f,{$isOpen:e,theme:e?"borderless":"light",onClick:()=>t(e=>!e),children:e?(0,i.jsx)(d.Z,{}):(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,i.jsx)(A,{}),"Debug"]})})}),(0,i.jsx)(l.qq,{isOpen:e,children:(0,i.jsx)(x,{children:(0,i.jsxs)(l.mQ,{children:[(0,i.jsx)(l.mQ.TabPane,{itemKey:"workflow_json",tab:"Workflow JSON",children:(0,i.jsx)(g,{})}),(0,i.jsx)(l.mQ.TabPane,{itemKey:"variables",tab:"Variable List",children:(0,i.jsx)(p,{})})]})})})]})}class j extends s.mh4{onReady(){this.config.onDataChange(()=>{let{scrollX:e,scrollY:t}=this.config.config;s.xFV.setStyle(this.node,{position:"absolute",right:25-e,top:t+25,zIndex:999})})}render(){return(0,i.jsx)(v,{})}}j=(0,a.gn)([(0,s.b2C)()],j);let m=(0,s.M1y)({onInit(e,t){e.playground.registerLayer(j)}});n(530371),n(774565);let b=e=>{let{registries:t,initialData:n,plugins:a=()=>[]}=e,o=(e=>{let{registries:t,initialData:n,plugins:a,onSave:o}=e;return(0,r.useMemo)(()=>({background:!0,readonly:!1,initialData:n,scroll:{enableScrollLimit:!0},nodeRegistries:t,variableEngine:{enable:!0},getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0}}),materials:{renderDefaultNode:e=>{let{form:t}=(0,s.PVB)();return(0,i.jsx)(s.IxS,{className:"demo-free-material-node",node:e.node,children:(0,i.jsx)("div",{className:"demo-free-material-node-wrapper",style:{padding:12},children:null==t?void 0:t.render()})})}},onContentChange(e,t){console.log("Auto Save: ",t,e.document.toJSON()),null==o||o(e.document.toJSON())},nodeEngine:{enable:!0},history:{enable:!0,enableChangeNode:!0},onInit:e=>{},onAllLayersRendered(e){e.get(s.sXE).handle(),e.document.fitView(!1)},onDispose(){console.log("---- Playground Dispose ----")},plugins:e=>[m({}),...(null==a?void 0:a(e))||[]]}),[])})({registries:t,initialData:n,plugins:a});return(0,i.jsx)(s.EhS,{...o,children:(0,i.jsx)("div",{className:"demo-free-container",children:(0,i.jsx)("div",{className:"demo-free-layout",children:(0,i.jsx)(s.R6T,{className:"demo-free-editor"})})})})},I=[{type:"custom",id:"custom_0",data:{title:"Custom"}},{type:"start",id:"start_0",data:{title:"Start",outputs:{type:"object",properties:{str:{type:"string"},obj:{type:"object",properties:{obj2:{type:"object",properties:{num:{type:"number"}}}}},arr:{type:"object",properties:{arr_str:{type:"array",items:{type:"string"}},arr_num:{type:"array",items:{type:"number"}},arr_bool:{type:"array",items:{type:"boolean"}},arr_int:{type:"array",items:{type:"integer"}},arr_obj:{type:"array",items:{type:"object",properties:{str:{type:"string"}}}}}}}}}},{type:"end",id:"end_0",data:{title:"End",inputsValues:{success:{type:"constant",content:!0,schema:{type:"boolean"}},message:{type:"ref",content:["start_0","str"]}}}}],C=[{sourceNodeID:"start_0",targetNodeID:"custom_0"},{sourceNodeID:"custom_0",targetNodeID:"end_0"}];var E=n(969560),y=n(125812),B=n(37156);let w=o.ZP.div`
  height: 30px;
`,Q=o.ZP.div`
  box-sizing: border-box;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  column-gap: 8px;
  border-radius: 8px 8px 0 0;
  cursor: move;

  background: linear-gradient(#f2f2ff 0%, rgb(251, 251, 251) 100%);
  overflow: hidden;

  padding: 8px;

  position: absolute;
  top: 0;
  left: 0;
  right: 0;
`,J=o.ZP.div`
  font-size: 20px;
  flex: 1;
  width: 0;
`,H=o.ZP.img`
  width: 24px;
  height: 24px;
  scale: 0.8;
  border-radius: 4px;
`;o.ZP.div`
  display: flex;
  align-items: center;
  column-gap: 4px;
`;var N=n(244359);let{Text:P}=l.Sx;function T(e){let{titleEdit:t,updateTitleEdit:n}=e,a=(0,r.useRef)();return(0,r.useEffect)(()=>{if(t){var e;null==(e=a.current)||e.focus()}},[t]),(0,i.jsx)(J,{children:(0,i.jsx)(s.gNt,{name:"title",children:e=>{let{field:{value:r,onChange:s},fieldState:o}=e;return(0,i.jsx)("div",{style:{height:24},children:t?(0,i.jsx)(N.A,{ref:a,value:r,onChange:e=>{s(e)},onBlur:()=>{n(!1)}}):(0,i.jsx)(P,{ellipsis:{showTooltip:!0},children:r})})}})})}function D(){let e=(0,s.PFB)(),[t,n]=(0,r.useState)(!1);return(0,i.jsx)(w,{children:(0,i.jsxs)(Q,{children:[(e=>{var t;let n=null==(t=e.getNodeRegistry().info)?void 0:t.icon;return n?(0,i.jsx)(H,{src:n}):null})(e),(0,i.jsx)(T,{updateTitleEdit:n,titleEdit:t})]})})}let O=n.p+"static/image/icon-start.8353312d.jpg",S=n.p+"static/image/icon-end.ac3dc81e.jpg",z={render:()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(D,{}),(0,i.jsx)("div",{children:"TODO"})]})},M={type:"start",meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,nodePanelVisible:!1,defaultPorts:[{type:"output"}],size:{width:360,height:211}},info:{icon:O,description:"You can add variables here to test variable reference"},canAdd:()=>!1,formMeta:{render:()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(D,{}),(0,i.jsx)(s.gNt,{name:"outputs",render:e=>{let{field:{value:t,onChange:n}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(E._,{value:t,onChange:e=>n(e)})})}})]}),effect:{outputs:y.X}}},R={type:"end",meta:{isEnd:!0,deleteDisable:!0,copyDisable:!0,nodePanelVisible:!1,defaultPorts:[{type:"input"}],size:{width:360,height:211}},info:{icon:S,description:"You can test variables created in the previous nodes"},canAdd:()=>!1,formMeta:{render:()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(D,{}),(0,i.jsx)(s.gNt,{name:"inputsValues",render:e=>{let{field:{value:t,onChange:n}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(B.P,{value:t,onChange:e=>n(e)})})}})]})}},F={type:"custom",meta:{deleteDisable:!0,copyDisable:!0,nodePanelVisible:!1,defaultPorts:[{type:"input"},{type:"output"}],size:{width:360,height:211}},info:{icon:"data:image/png;base64,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",description:"You can add custom form meta here"},canAdd:()=>!0,formMeta:z};function X(e){let{formMeta:t=z,initialData:n,filterEndNode:s=!1,filterStartNode:a=!1}=e,o=(0,r.useMemo)(()=>[M,R,{...F,formMeta:{...t}}],[t]),l=(0,r.useMemo)(()=>{let e=[...(null==n?void 0:n.nodes)||[],...I.filter(e=>{var t;return!(null==n||null==(t=n.nodes)?void 0:t.find(t=>t.id===e.id))}).filter(e=>"start"===e.type?!a:"end"!==e.type||!s)],t=[...(null==n?void 0:n.edges)||[],...C].filter(t=>e.find(e=>e.id===t.sourceNodeID)||e.find(e=>e.id===t.targetNodeID));return{nodes:e,edges:t}},[n,s,a]);return(0,i.jsx)("div",{children:(0,i.jsx)(b,{registries:o,initialData:l})})}}}]);