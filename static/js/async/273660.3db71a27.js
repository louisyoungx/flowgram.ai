"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["273660"],{11611:function(e,t,n){n.d(t,{G6:()=>c,KU:()=>u,Th:()=>d,Us:()=>h,jE:()=>l});var r=n(908600),o=n(228470),s=(0,r.createContext)(null),i=(0,r.createContext)(null),a=(0,r.createContext)(void 0);function l(){return(0,r.useContext)(s)}function c(){let e=(0,r.useContext)(a);if(!e)throw Error("useInjector should be used in EditorProvider");return e}function u({children:e}){let[t,n]=(0,r.useState)(null),l=(0,r.useRef)(null);return l.current||(l.current=(0,o.vH)()),r.createElement(s.Provider,{value:t},r.createElement(i.Provider,{value:n},r.createElement(a.Provider,{value:l.current},e)))}function d(e){let{plugins:t,defaultValue:n,root:s,options:a,domProps:l={},extensions:u,didMount:d,children:h}=e,[p,m]=(0,r.useState)(),f=(0,r.useRef)(null),v=(0,r.useRef)(null),g=(0,r.useRef)(null),y=(0,r.useContext)(i),x=c();return g.current=e,(0,r.useEffect)(()=>{let{render:e,eventKeys:r}=(0,o.Ue)({plugins:t,injector:x}),i=e({parent:f.current,root:s,defaultValue:n,options:a??{},extensions:u});return v.current=i,r.forEach(e=>{i.$on(e,t=>{var n;let r=null==(n=g.current)?void 0:n[`on${e.charAt(0).toUpperCase()+e.substring(1)}`];"function"==typeof r&&r(t)})}),"function"==typeof d&&d(i),m(i),()=>{i.$destroy()}},[]),(0,r.useEffect)(()=>{p&&y&&y(p)},[p,y]),(0,r.useEffect)(()=>{v.current.$set(e.options??{})},[e.options]),r.createElement(r.Fragment,null,r.createElement("div",{...l,ref:f}),h)}function h(e,t){return function(n){let o=n.extensions,s=(0,r.useMemo)(()=>[...t??[],...o??[]],[o]);return r.createElement(d,{...n,extensions:s,plugins:e})}}},916450:function(e,t,n){n.r(t),n.d(t,{VariableTagInject:()=>m});var r=n(110239),o=n(908600),s=n(374488),i=n(938573),a=n(950454),l=n(11611),c=n(617704),u=n(498080),d=n(455770),h=n(11187);n(328253);class p extends d.l9{renderVariable(e){var t;if(!e)return void this.root.render((0,r.jsxs)(c.Vp,{className:"gedit-m-coze-editor-tag",color:"amber",children:[(0,r.jsx)(u.Z,{style:{marginRight:"4px"}}),(0,r.jsx)("span",{children:"Unknown"})]}));let n=(0,s.Z)(e.parentFields)||e,o=e===n,i=(0,r.jsx)("span",{className:"gedit-m-coze-editor-root-title",children:(null==(t=n.meta)?void 0:t.title)?`${n.meta.title} ${o?"":"-"} `:""}),a=this.renderIcon(null==n?void 0:n.meta.icon);this.root.render((0,r.jsx)(c.J2,{content:(0,r.jsxs)("div",{className:"gedit-m-coze-editor-popover-content",children:[a,i,(0,r.jsx)("span",{className:"gedit-m-coze-editor-var-name",children:null==e?void 0:e.keyPath.slice(1).join(".")})]}),children:(0,r.jsxs)(c.Vp,{className:"gedit-m-coze-editor-tag",style:{display:"inline-flex",alignItems:"center"},children:[a,i,!o&&(0,r.jsx)("span",{className:"gedit-m-coze-editor-var-name",children:null==e?void 0:e.key})]})}))}toDOM(e){let t=document.createElement("span");return this.root=(0,h.s)(t),this.toDispose.push(a.JTr.create(()=>{this.root.unmount()})),this.toDispose.push(this.scope.available.trackByKeyPath(this.keyPath,e=>{this.renderVariable(e)},{triggerOnInit:!1})),this.renderVariable(this.scope.available.getByKeyPath(this.keyPath)),t}eq(e){return(0,i.Z)(this.keyPath,e.keyPath)}ignoreEvent(){return!1}destroy(e){this.toDispose.dispose()}constructor({keyPath:e,scope:t}){super(),this.toDispose=new a.K46,this.renderIcon=e=>"string"==typeof e?(0,r.jsx)("img",{style:{marginRight:8},width:12,height:12,src:e}):e,this.keyPath=e,this.scope=t}}function m(){let e=(0,l.G6)(),t=(0,a.$eD)();return(0,o.useLayoutEffect)(()=>{let n=new d.Y1({regexp:/\{\{([^\}\{]+)\}\}/g,decoration:e=>{var n;return d.p.replace({widget:new p({keyPath:(null==(n=e[1])?void 0:n.split("."))??[],scope:t})})}});return e.inject([d.lg.fromClass(class{update(){this.decorations=n.createDeco(this.view)}constructor(e){this.view=e,this.decorations=n.createDeco(e)}},{decorations:e=>e.decorations,provide:e=>d.tk.atomicRanges.of(t=>{var n;return(null==(n=t.plugin(e))?void 0:n.decorations)??d.p.none})})])},[e]),null}},11187:function(e,t,n){n.d(t,{F:()=>i,s:()=>s});var r=n(89802);let o=e=>({render(t){(0,r.render)(t,e)},unmount(){(0,r.unmountComponentAtNode)(e)}});function s(e){return o(e)}function i(e){o=e}}}]);