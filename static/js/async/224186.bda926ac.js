"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["224186"],{179304:function(e,r,s){s.r(r),s.d(r,{default:()=>d});var n=s(110239),i=s(437562),a=s(441332),l=s(321896),o=s(259239);function t(e){let r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"prompteditorwithvariables",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#prompteditorwithvariables",children:"#"}),"PromptEditorWithVariables"]}),"\n",(0,n.jsx)(r.p,{children:"PromptEditorWithVariables is an enhanced prompt editor that integrates variable management functionality. Built on PromptEditor, it provides a variable tree selector and variable tag injection, enabling users to conveniently reference and manage variables in prompt templates."}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{loading:"lazy",src:"/materials/prompt-editor-with-variables.png",alt:"Component",style:{width:"50%"}}),(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"Prompts in LLM_3 and LLM_4 reference loop batch processing variables"})})]}),"\n",(0,n.jsxs)(r.h2,{id:"demo",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#demo",children:"#"}),"Demo"]}),"\n",(0,n.jsxs)(r.h3,{id:"basic-usage",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#basic-usage",children:"#"}),"Basic Usage"]}),"\n",(0,n.jsx)(o.w,{}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,n.jsxs)(r.code,{className:"language-tsx",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" { PromptEditorWithVariables } "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/form-materials'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"prompt_template"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" defaultValue"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"              type"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'template'"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"              content"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" `# Role"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:"You are a helpful assistant"})}),"\n",(0,n.jsx)(r.span,{className:"line"}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:"# Query"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:"{{start_0.str}}`"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"            }}>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"PromptEditorWithVariables"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            value"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:".value}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"            onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(value)}"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"          />"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"variable-insertion",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-insertion",children:"#"}),"Variable Insertion"]}),"\n",(0,n.jsxs)(r.p,{children:["Enter the ",(0,n.jsx)(r.code,{children:"@"}),", ",(0,n.jsx)(r.code,{children:"{"})," characters in the editor to trigger the variable selector."]}),"\n",(0,n.jsxs)(r.p,{children:["After entering ",(0,n.jsx)(r.code,{children:"@"}),", ",(0,n.jsx)(r.code,{children:"{"}),", a list of available variables will be displayed. Selecting a variable will automatically insert it in the ",(0,n.jsx)(r.code,{children:"{{variable.path}}"})," format."]}),"\n",(0,n.jsxs)(r.h2,{id:"api-reference",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"}),"API Reference"]}),"\n",(0,n.jsxs)(r.h3,{id:"prompteditorwithvariables-props",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#prompteditorwithvariables-props",children:"#"}),"PromptEditorWithVariables Props"]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"value"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"{ type: 'template', content: string }"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Prompt template content"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"onChange"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"(value: { type: 'template', content: string }) => void"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Callback function when content changes"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"readonly"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"false"})}),(0,n.jsx)(r.td,{children:"Whether it's read-only mode"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"placeholder"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Placeholder text"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"activeLinePlaceholder"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"Current line placeholder hint"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hasError"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"false"})}),(0,n.jsx)(r.td,{children:"Whether to display error state"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"disableMarkdownHighlight"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"false"})}),(0,n.jsx)(r.td,{children:"Whether to disable Markdown highlighting"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"options"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Options"})}),(0,n.jsx)(r.td,{children:"-"}),(0,n.jsx)(r.td,{children:"CodeMirror configuration options"})]})]})]}),"\n",(0,n.jsxs)(r.h2,{id:"source-code-guide",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-guide",children:"#"}),"Source Code Guide"]}),"\n",(0,n.jsx)(l.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/prompt-editor-with-variables"}),"\n",(0,n.jsx)(r.p,{children:"Use CLI command to copy source code locally:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsx)(r.code,{className:"language-bash",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string)"},children:" components/prompt-editor-with-variables"})]})})})}),"\n",(0,n.jsxs)(r.h3,{id:"directory-structure-explanation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#directory-structure-explanation",children:"#"}),"Directory Structure Explanation"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-txt",children:[(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"prompt-editor-with-variables/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── index.tsx           # Lazy loading export file"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── editor.tsx          # Main component implementation"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"└── README.md          # Component documentation"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"prompt-editor/"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── index.tsx           # Basic prompt editor export"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── editor.tsx          # Basic prompt editor implementation"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── types.ts            # Type definitions"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"├── styles.ts           # Style components"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"└── extensions/         # Editor extensions"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"    ├── markdown.tsx    # Markdown highlighting"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"    ├── language-support.tsx # Language support"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{children:"    └── jinja.tsx       # Jinja template highlighting"})})]})})}),"\n",(0,n.jsxs)(r.h3,{id:"core-implementation-explanation",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#core-implementation-explanation",children:"#"}),"Core Implementation Explanation"]}),"\n",(0,n.jsxs)(r.h4,{id:"variable-selector-integration",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-selector-integration",children:"#"}),"Variable Selector Integration"]}),"\n",(0,n.jsx)(r.p,{children:"PromptEditorWithVariables extends the basic PromptEditor, adding variable management functionality:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,n.jsxs)(r.code,{className:"language-typescript",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" PromptEditorWithVariables"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"(props"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" PromptEditorWithVariablesProps"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"    <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"PromptEditor {"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"props}"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"EditorVariableTree "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"      <"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"EditorVariableTagInject "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"/>"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"    </"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"PromptEditor"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(r.h4,{id:"variable-tree-selector",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-tree-selector",children:"#"}),"Variable Tree Selector"]}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"EditorVariableTree"})," component provides a tree-structured variable selector:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Supports triggering variable selection with ",(0,n.jsx)(r.code,{children:"@"})]}),"\n",(0,n.jsx)(r.li,{children:"Supports tree display of nested variables"}),"\n",(0,n.jsx)(r.li,{children:"Supports searching and filtering variables"}),"\n",(0,n.jsx)(r.li,{children:"Supports variable type icon display"}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"variable-tag-injection",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#variable-tag-injection",children:"#"}),"Variable Tag Injection"]}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"EditorVariableTagInject"})," component is responsible for variable tag rendering and management:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Variable tag style rendering"}),"\n",(0,n.jsx)(r.li,{children:"Variable tag interaction handling"}),"\n",(0,n.jsx)(r.li,{children:"Variable tag validation and error prompts"}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"flowgram-apis-used",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-apis-used",children:"#"}),"Flowgram APIs Used"]}),"\n",(0,n.jsxs)(r.h4,{id:"flowgramaicoze-editorreact",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaicoze-editorreact",children:"#"}),"@flowgram.ai/coze-editor/react"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Renderer"}),": Editor renderer"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorProvider"}),": Editor provider"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"ActiveLinePlaceholder"}),": Active line placeholder"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"InferValues"}),": Type inference tool"]}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"flowgramaicoze-editorpreset-prompt",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgramaicoze-editorpreset-prompt",children:"#"}),"@flowgram.ai/coze-editor/preset-prompt"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"preset"}),": Prompt editor preset configuration"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorAPI"}),": Editor API interface"]}),"\n"]}),"\n",(0,n.jsxs)(r.h4,{id:"coze-editor-extensions-materials",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#coze-editor-extensions-materials",children:"#"}),"coze-editor-extensions materials"]}),"\n",(0,n.jsxs)(r.p,{children:["See ",(0,n.jsx)(r.a,{href:"/en/materials/components/coze-editor-extensions.html",children:"CozeEditorExtensions"})]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTree"}),": Variable tree selection trigger"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"EditorVariableTagInject"}),": Variable tag display"]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"overall-process",children:[(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#overall-process",children:"#"}),"Overall Process"]}),"\n",(0,n.jsx)(a.Z,{code:"graph TD\n    A[PromptEditorWithVariables] --\x3e B[Render PromptEditor]\n    B --\x3e C[Load preset configuration]\n    C --\x3e D[Integrate extension plugins]\n\n    D --\x3e E[MarkdownHighlight]\n    D --\x3e F[LanguageSupport]\n    D --\x3e G[JinjaHighlight]\n\n    E --\x3e H[Syntax highlighting]\n    F --\x3e I[Language support]\n    G --\x3e J[Template syntax]\n\n    A --\x3e K[Integrate variable extensions]\n    K --\x3e L[EditorVariableTree]\n    K --\x3e M[EditorVariableTagInject]\n\n    L --\x3e N[Variable selector]\n    M --\x3e O[Variable tag rendering]\n\n    N --\x3e P[Variable selection]\n    P --\x3e Q[Insert variable]\n\n    Q --\x3e R[Update template content]",config:{}})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["en%2Fmaterials%2Fcomponents%2Fprompt-editor-with-variables.mdx"]={toc:[{id:"demo",text:"Demo",depth:2},{id:"basic-usage",text:"Basic Usage",depth:3},{id:"variable-insertion",text:"Variable Insertion",depth:3},{id:"api-reference",text:"API Reference",depth:2},{id:"prompteditorwithvariables-props",text:"PromptEditorWithVariables Props",depth:3},{id:"source-code-guide",text:"Source Code Guide",depth:2},{id:"directory-structure-explanation",text:"Directory Structure Explanation",depth:3},{id:"core-implementation-explanation",text:"Core Implementation Explanation",depth:3},{id:"variable-selector-integration",text:"Variable Selector Integration",depth:4},{id:"variable-tree-selector",text:"Variable Tree Selector",depth:4},{id:"variable-tag-injection",text:"Variable Tag Injection",depth:4},{id:"flowgram-apis-used",text:"Flowgram APIs Used",depth:3},{id:"flowgramaicoze-editorreact",text:"@flowgram.ai/coze-editor/react",depth:4},{id:"flowgramaicoze-editorpreset-prompt",text:"@flowgram.ai/coze-editor/preset-prompt",depth:4},{id:"coze-editor-extensions-materials",text:"coze-editor-extensions materials",depth:4},{id:"overall-process",text:"Overall Process",depth:3}],title:"PromptEditorWithVariables",headingTitle:"PromptEditorWithVariables",frontmatter:{}}},259239:function(e,r,s){s.d(r,{w:()=>t});var n=s(110239),i=s(908600),a=s(640898),l=s(132288);let o=i.lazy(()=>Promise.all([s.e("386212"),s.e("834812"),s.e("767597"),s.e("838147"),s.e("942362"),s.e("800699"),s.e("428647"),s.e("260790"),s.e("308529"),s.e("588485"),s.e("774932")]).then(s.bind(s,929024)).then(e=>({default:e.PromptEditorWithVariables}))),t=()=>(0,n.jsx)(l.y,{filterEndNode:!0,formMeta:{render:()=>(0,n.jsxs)("div",{style:{width:400},children:[(0,n.jsx)(l.p,{}),(0,n.jsx)(a.gNt,{name:"prompt_editor",defaultValue:{type:"template",content:`# Role
You are a helpful assistant

# Query
{{start_0.str}}`},children:e=>{let{field:r}=e;return(0,n.jsx)(o,{value:r.value,onChange:e=>r.onChange(e)})}})]})}})},132288:function(e,r,s){s.d(r,{p:()=>l,y:()=>o});var n=s(110239),i=s(908600);let a=i.lazy(()=>Promise.all([s.e("386212"),s.e("717802"),s.e("234079"),s.e("633566"),s.e("688975"),s.e("834812"),s.e("767597"),s.e("800699"),s.e("475509"),s.e("541460"),s.e("428647"),s.e("260790"),s.e("308529"),s.e("534505")]).then(s.bind(s,417587)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),l=i.lazy(()=>Promise.all([s.e("386212"),s.e("717802"),s.e("234079"),s.e("633566"),s.e("688975"),s.e("834812"),s.e("767597"),s.e("800699"),s.e("475509"),s.e("541460"),s.e("428647"),s.e("260790"),s.e("308529"),s.e("534505")]).then(s.bind(s,417587)).then(e=>({default:e.FormHeader}))),o=e=>(0,n.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,n.jsx)(a,{...e})})}}]);