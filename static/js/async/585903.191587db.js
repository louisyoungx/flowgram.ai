"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["585903"],{7955:function(s,e,n){n.r(e),n.d(e,{default:()=>D});var r=n(110239),i=n(437562),l=n(944529),o=n(659722),c=n(353524),d=n(783776),a=n(405337),t=n(781281),h=n(368932),x=n(789514),j=n(486542),p=n(997011),k=n(289629),y=n(422914),u=n(741973),v=n(31197),g=n(350996),f=n(438316),m=n(775601),N=n(606182),w=n(838447),b=n(216466),A=n(322706),F=n(825898),R=n(325289),S=n(168477),E=n(9138),C=n(545906);function P(s){let e={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...(0,i.a)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"固定布局",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#固定布局",children:"#"}),"固定布局"]}),"\n","\n",(0,r.jsxs)(e.h2,{id:"step0---安装依赖",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step0---安装依赖",children:"#"}),"Step.0 - 安装依赖"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"安装编辑器包"}),"\n"]}),"\n",(0,r.jsx)(l.SU,{command:{npm:"npm install @flowgram.ai/fixed-layout-editor @flowgram.ai/fixed-semi-materials",pnpm:"pnpm add @flowgram.ai/fixed-layout-editor @flowgram.ai/fixed-semi-materials",yarn:"yarn add @flowgram.ai/fixed-layout-editor @flowgram.ai/fixed-semi-materials",bun:"bun add @flowgram.ai/fixed-layout-editor @flowgram.ai/fixed-semi-materials"}}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"安装 styled-components（若尚未安装）"}),"\n"]}),"\n",(0,r.jsx)(l.SU,{command:{npm:"npm install styled-components",pnpm:"pnpm add styled-components",yarn:"yarn add styled-components",bun:"bun add styled-components"}}),"\n",(0,r.jsxs)(e.h2,{id:"step1---引入画布组件",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step1---引入画布组件",children:"#"}),"Step.1 - 引入画布组件"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"引入样式文件，确保基础样式生效："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(e.code,{className:"language-tsx",children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/fixed-layout-editor/index.css'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]})})})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["使用 ",(0,r.jsx)(e.code,{children:"FixedLayoutEditorProvider"})," 提供编辑器上下文，",(0,r.jsx)(e.code,{children:"EditorRenderer"})," 负责渲染画布；并通过 ",(0,r.jsx)(e.code,{children:"materials.components"})," 引入默认的固定布局 Semi 组件集："]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" FlowGramApp"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"FixedLayoutEditorProvider"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"    materials"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{ components"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" defaultFixedSemiMaterials }}"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  >"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"EditorRenderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"FixedLayoutEditorProvider"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:");"})})]})})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"其余文件保持默认导出即可。"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果：页面加载后仅展示一个空白画布，无任何节点或连线。"}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":c}}),"\n",(0,r.jsxs)(e.h2,{id:"step2---实现节点组件",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step2---实现节点组件",children:"#"}),"Step.2 - 实现节点组件"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"导入节点渲染相关 API："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"useNodeRender"}),"：获取节点上下文（如拖拽、悬停、高亮、表单等）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"FlowNodeEntity"}),"：节点实体类型，用于声明 ",(0,r.jsx)(e.code,{children:"NodeRender"})," 的 props。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["创建 ",(0,r.jsx)(e.code,{children:"NodeRender"})," 组件，自定义节点尺寸与样式，并接入拖拽与表单渲染："]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { useNodeRender"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" FlowNodeEntity } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@flowgram.ai/fixed-layout-editor'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" NodeRender"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ({ node }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { node"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" FlowNodeEntity"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" }) "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"onMouseEnter"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" onMouseLeave"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" startDrag"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" form"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" dragging"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" activated"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" useNodeRender"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      onMouseEnter"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{onMouseEnter}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      onMouseLeave"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{onMouseLeave}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      onMouseDown"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{(e) "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"startDrag"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(e); "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"e"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".stopPropagation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(); }}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      style"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{ width"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 280"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" minHeight"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 88"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" background"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '#fff'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" borderRadius"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 8"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" opacity"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" dragging "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0.3"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" :"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 1"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" /* ... */"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" }}"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    >"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      {"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"form"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"?.render"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["在 ",(0,r.jsx)(e.code,{children:"FixedLayoutEditorProvider"})," 中注册："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"materials.renderDefaultNode"})," 指定默认节点渲染器为 ",(0,r.jsx)(e.code,{children:"NodeRender"}),"。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"nodeRegistries"})," 声明可用节点类型（示例为 ",(0,r.jsx)(e.code,{children:"custom"}),"）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"initialData"})," 提供一个初始节点，类型为 ",(0,r.jsx)(e.code,{children:"custom"}),"。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果：画布中出现一个可拖拽的自定义样式节点。"}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":d}}),"\n",(0,r.jsxs)(e.h2,{id:"step3---自定义添加节点组件与删除节点按钮",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step3---自定义添加节点组件与删除节点按钮",children:"#"}),"Step.3 - 自定义添加节点组件与删除节点按钮"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"为节点添加删除按钮"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"NodeRender"})," 中通过 ",(0,r.jsx)(e.code,{children:"useClientContext()"})," 获取 ",(0,r.jsx)(e.code,{children:"ctx"}),"，点击按钮调用 ",(0,r.jsx)(e.code,{children:"ctx.operation.deleteNode(node)"})," 删除当前节点。"]}),"\n",(0,r.jsxs)(e.li,{children:["注意阻止事件冒泡：",(0,r.jsx)(e.code,{children:"e.stopPropagation()"}),"，避免干扰画布的选择/拖拽行为。"]}),"\n"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" ctx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" useClientContext"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"button"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" onClick"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{(e) "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"e"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".stopPropagation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(); "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"operation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".deleteNode"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(node); }}>\xd7</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"button"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["自定义添加节点组件 ",(0,r.jsx)(e.code,{children:"Adder"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["使用 ",(0,r.jsx)(e.code,{children:"useService(FlowOperationService)"})," 与 ",(0,r.jsx)(e.code,{children:"usePlayground()"})," 封装 ",(0,r.jsx)(e.code,{children:"handleAdd"})," 方法：在指定节点之后插入一个新节点，并滚动到视图中心。"]}),"\n",(0,r.jsxs)(e.li,{children:["基于 ",(0,r.jsx)(e.code,{children:"hoverActivated"})," 切换 UI：悬停时显示加号与更大的点击区域；只读模式下不显示。"]}),"\n"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"handleAdd"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" useAddNode"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" Adder"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ({ from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" hoverActivated }) "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" onClick"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{() "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" handleAdd"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ type"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'custom'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" id"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" `custom_"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Date"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".now"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" from)}>"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    {hoverActivated "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"span"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">+</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"span"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" null"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:");"})})]})})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["在 ",(0,r.jsx)(e.code,{children:"materials.components"})," 中注册 ",(0,r.jsx)(e.code,{children:"Adder"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["通过 ",(0,r.jsx)(e.code,{children:"FlowRendererKey.ADDER"})," 覆盖默认的“添加节点”渲染器。"]}),"\n"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"materials"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  renderDefaultNode"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" NodeRender"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  components"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"defaultFixedSemiMaterials"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"FlowRendererKey"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ADDER"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]: Adder }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}}"})})]})})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"初始化数据与视图适配"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"initialData"})," 提供基础流程：",(0,r.jsx)(e.code,{children:"start -> custom -> end"}),"。"]}),"\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"onAllLayersRendered"})," 中调用 ",(0,r.jsx)(e.code,{children:"fitView"}),"，让画布自动适配内容："]}),"\n"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"onAllLayersRendered"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{(ctx) => {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  setTimeout"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    ctx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"playground"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".fitView"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ctx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"root"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"bounds"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".pad"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"30"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"));"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 10"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}}"})})]})})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果："}),"\n",(0,r.jsxs)(e.p,{children:["• 画布展示一个由 ",(0,r.jsx)(e.code,{children:"start"}),"、",(0,r.jsx)(e.code,{children:"custom"}),"、",(0,r.jsx)(e.code,{children:"end"})," 组成的基础流程，视图自动居中/缩放到合适范围。"]}),"\n",(0,r.jsxs)(e.p,{children:["• 鼠标悬停到可添加位置时出现圆形加号按钮，点击即可在当前节点之后新增一个 ",(0,r.jsx)(e.code,{children:"custom"})," 节点，并自动滚动到新节点。"]}),"\n",(0,r.jsx)(e.p,{children:"• 每个节点右上角显示“\xd7”删除按钮，点击可删除该节点（只读模式下隐藏添加组件）。"}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":a}}),"\n",(0,r.jsxs)(e.h2,{id:"step4---引入插件",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step4---引入插件",children:"#"}),"Step.4 - 引入插件"]}),"\n",(0,r.jsxs)(e.div,{className:"rspress-directive info",children:[(0,r.jsx)(e.div,{className:"rspress-directive-title",children:"INFO"}),(0,r.jsx)(e.div,{className:"rspress-directive-content",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"@flowgram.ai/minimap-plugin"}),"：迷你地图插件，提供画布的小地图视图。"]}),"\n"]})})]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"安装插件依赖"}),"\n"]}),"\n",(0,r.jsx)(l.SU,{command:{npm:"npm install @flowgram.ai/minimap-plugin",pnpm:"pnpm add @flowgram.ai/minimap-plugin",yarn:"yarn add @flowgram.ai/minimap-plugin",bun:"bun add @flowgram.ai/minimap-plugin"}}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"从对应包导入插件创建函数："}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"createMinimapPlugin"})," 用于生成画布缩略图。"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"FixedLayoutEditorProvider"})," 的 ",(0,r.jsx)(e.code,{children:"plugins"})," 属性中注册插件："]}),"\n"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"plugins"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{() => ["})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  createMinimapPlugin"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    enableDisplayAllNodes"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  })"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]}"})})]})})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果:"}),"\n",(0,r.jsx)(e.p,{children:"• 画布右上角出现可拖拽/缩放的迷你地图，点击或拖拽缩略图可快速定位主画布。"}),"\n",(0,r.jsxs)(e.p,{children:["• 启用 ",(0,r.jsx)(e.code,{children:"enableDisplayAllNodes: true"})," 后，迷你地图会显示所有节点，方便在流程较长时快速导航。"]}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":t}}),"\n",(0,r.jsxs)(e.h2,{id:"step5---拆分文件",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step5---拆分文件",children:"#"}),"Step.5 - 拆分文件"]}),"\n",(0,r.jsx)(e.p,{children:"为避免单个文件代码行数过长，我们需要将原本集中在一个组件中的编辑器配置、节点渲染、初始化数据等拆分为独立文件，便于维护、复用与协作。"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-sh",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"-"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" use-editor-props.tsx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 画布配置（集中管理 Provider 的 props）"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"-"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" node-render.tsx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"      # 节点渲染（含删除按钮）"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"-"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" initial-data.ts"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"      # 初始化数据（start/custom/end）"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"-"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" node-registries.tsx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  # 节点注册（示例仅注册 'custom'）"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"-"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" adder.tsx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"            # 自定义添加节点组件（点击新增 custom 节点）"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"-"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" App.tsx"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"              # 画布入口（挂载 EditorRenderer）"})]})]})})}),"\n",(0,r.jsx)(e.p,{children:"文件职责说明"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"use-editor-props.tsx"}),"：集中管理 FixedLayoutEditorProvider 的所有 props（插件、视图适配、材料、节点注册与初始数据）："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"plugins"}),"：注册迷你地图插件 ",(0,r.jsx)(e.code,{children:"createMinimapPlugin({ enableDisplayAllNodes: true })"}),"。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"onAllLayersRendered"}),"：渲染完成后调用 ",(0,r.jsx)(e.code,{children:"fitView"}),"，让画布自动适配内容。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"materials"}),"：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"renderDefaultNode"})," 指定默认节点渲染器为 ",(0,r.jsx)(e.code,{children:"NodeRender"}),"。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"components"})," 合并 ",(0,r.jsx)(e.code,{children:"defaultFixedSemiMaterials"}),"，并用 ",(0,r.jsx)(e.code,{children:"[FlowRendererKey.ADDER]: Adder"})," 覆盖默认添加器。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"nodeRegistries"})," 与 ",(0,r.jsx)(e.code,{children:"initialData"})," 分别来自独立文件。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"node-render.tsx"}),"：定义自定义节点渲染器 ",(0,r.jsx)(e.code,{children:"NodeRender"}),"，设置节点外观并通过 ",(0,r.jsx)(e.code,{children:"form?.render()"})," 渲染内部表单；同时在右上角提供“\xd7”删除按钮（",(0,r.jsx)(e.code,{children:"useClientContext().operation.deleteNode(node)"}),"）。"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"initial-data.ts"}),"：提供基础流程的初始数据，包含 ",(0,r.jsx)(e.code,{children:"start -> custom -> end"})," 三个节点。"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"node-registries.tsx"}),"：声明节点类型集合（示例为仅注册 ",(0,r.jsx)(e.code,{children:"'custom'"}),"）。"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"adder.tsx"}),"：实现自定义添加节点组件 ",(0,r.jsx)(e.code,{children:"Adder"}),"，悬停时显示加号；点击时通过 ",(0,r.jsx)(e.code,{children:"FlowOperationService.addFromNode"})," 在当前节点之后新增一个 ",(0,r.jsx)(e.code,{children:"custom"})," 节点，并调用 ",(0,r.jsx)(e.code,{children:"scrollToView"})," 自动定位新节点。"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"App.tsx"}),"：应用入口，从 ",(0,r.jsx)(e.code,{children:"useEditorProps"})," 获取配置并挂载 ",(0,r.jsx)(e.code,{children:"EditorRenderer"}),"。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果：通过拆分文件，代码结构更清晰、职责更明确，后续扩展与团队协作更容易；界面效果与上一节一致（基础流程、删除按钮与添加节点组件可用，且含迷你地图与自动视图适配）。"}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":h,"/use-editor-props.tsx":x,"/initial-data.ts":j,"/node-registries.tsx":p,"/node-render.tsx":k,"/adder.tsx":y}}),"\n",(0,r.jsxs)(e.h2,{id:"step6---接入表单与历史记录",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step6---接入表单与历史记录",children:"#"}),"Step.6 - 接入表单与历史记录"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"节点注册与扩展"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"condition"}),"：通过 ",(0,r.jsx)(e.code,{children:"extend: 'dynamicSplit'"})," 将其扩展为“分支节点”，并在 ",(0,r.jsx)(e.code,{children:"onAdd()"})," 中返回默认 ",(0,r.jsx)(e.code,{children:"blocks"}),"（多分支）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"custom"}),"：普通节点，在 ",(0,r.jsx)(e.code,{children:"onAdd()"})," 中为其设置默认 ",(0,r.jsx)(e.code,{children:"data.title"})," 与 ",(0,r.jsx)(e.code,{children:"data.content"}),"。"]}),"\n",(0,r.jsxs)(e.li,{children:["可选的 ",(0,r.jsx)(e.code,{children:"meta"})," 配置项可控制节点行为（是否可拖拽、选择、删除、复制、添加等）。"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"启用表单与历史"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["在 ",(0,r.jsx)(e.code,{children:"use-editor-props.tsx"})," 中："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"nodeEngine.enable = true"}),"：开启节点引擎，允许为节点类型配置 ",(0,r.jsx)(e.code,{children:"formMeta"}),"。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"history.enable = true"})," 与 ",(0,r.jsx)(e.code,{children:"history.enableChangeNode = true"}),"：启用撤销/重做，并监听节点数据变化（例如表单字段变更）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"history.onApply(ctx)"}),"：在应用历史记录后触发，可用于自动保存（示例中打印 ",(0,r.jsx)(e.code,{children:"ctx.document.toJSON()"}),"）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"getNodeDefaultRegistry(type)"}),"：为未显式注册的类型提供默认配置：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"meta.defaultExpanded = true"}),"：默认展开节点的内部内容区域。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"formMeta.render"}),"：渲染表单。本示例通过 ",(0,r.jsx)(e.code,{children:'<Field<string> name="title">'})," 与 ",(0,r.jsx)(e.code,{children:'<Field<string> name="content">'})," 分别展示标题与一个可编辑输入框。"]}),"\n"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-tsx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getNodeDefaultRegistry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(type) {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    type"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    meta"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { defaultExpanded"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    formMeta"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      render"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        <>"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"title"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">{({ field }) "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">{"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".value}</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">}</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"content"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"            <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"input"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        </>"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      )"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  };"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsx)(e.li,{children:"初始化数据与渲染"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"initial-data.ts"})," 中，包含一个 ",(0,r.jsx)(e.code,{children:"start"})," 节点、一个带三条分支的 ",(0,r.jsx)(e.code,{children:"condition"})," 节点（其中一条分支包含 ",(0,r.jsx)(e.code,{children:"custom"}),"，另一条为 ",(0,r.jsx)(e.code,{children:"break"}),"，还有一条为空），以及一个 ",(0,r.jsx)(e.code,{children:"end"})," 节点。"]}),"\n",(0,r.jsxs)(e.li,{children:["各节点携带 ",(0,r.jsx)(e.code,{children:"data.title"})," 与 ",(0,r.jsx)(e.code,{children:"data.content"}),"，",(0,r.jsx)(e.code,{children:"NodeRender"})," 中的 ",(0,r.jsx)(e.code,{children:"form?.render()"})," 会将这些表单字段渲染到节点外壳内。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"Adder"})," 组件点击后新增 ",(0,r.jsx)(e.code,{children:"custom"})," 节点，默认 ",(0,r.jsx)(e.code,{children:"title: 'New Custom Node'"})," 与 ",(0,r.jsx)(e.code,{children:"content: 'Custom Node Content'"}),"。"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果:"}),"\n",(0,r.jsxs)(e.p,{children:["• 画布包含 ",(0,r.jsx)(e.code,{children:"start"}),"、",(0,r.jsx)(e.code,{children:"condition"}),"（三分支）与 ",(0,r.jsx)(e.code,{children:"end"}),"，各节点显示其 ",(0,r.jsx)(e.code,{children:"title"})," 与 ",(0,r.jsx)(e.code,{children:"content"}),"；可通过 ",(0,r.jsx)(e.code,{children:"Adder"})," 在流程中快速新增 ",(0,r.jsx)(e.code,{children:"custom"})," 节点。"]}),"\n",(0,r.jsx)(e.p,{children:"• 撤销/重做快捷键可用，节点移动、添加、删除以及表单输入变更都会纳入历史记录；触发历史应用时将执行示例中的自动保存回调。"}),"\n",(0,r.jsx)(e.p,{children:"• 分支节点的展开区域默认打开，便于查看与编辑内部内容。"}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":u,"/use-editor-props.tsx":v,"/initial-data.ts":g,"/node-registries.tsx":f,"/node-render.tsx":m,"/adder.tsx":N}}),"\n",(0,r.jsxs)(e.h2,{id:"step7---创建工具栏",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step7---创建工具栏",children:"#"}),"Step.7 - 创建工具栏"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"引入工具栏与迷你地图组件"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"App.tsx"})," 中引入并渲染 ",(0,r.jsx)(e.code,{children:"<Tools />"})," 与自定义 ",(0,r.jsx)(e.code,{children:"<Minimap />"}),"，与 ",(0,r.jsx)(e.code,{children:"<EditorRenderer />"})," 同级放置于 ",(0,r.jsx)(e.code,{children:"FixedLayoutEditorProvider"})," 内，使其能够访问编辑器上下文与画布操作方法。"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"通过工具方法操控画布"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["使用 ",(0,r.jsx)(e.code,{children:"usePlaygroundTools()"})," 获取画布操作方法：",(0,r.jsx)(e.code,{children:"zoomin/zoomout"}),"、",(0,r.jsx)(e.code,{children:"fitView"}),"、",(0,r.jsx)(e.code,{children:"changeLayout"})," 等。"]}),"\n",(0,r.jsxs)(e.li,{children:["实时显示缩放比例：通过 ",(0,r.jsx)(e.code,{children:"tools.zoom"})," 读取当前画布缩放并展示百分比。"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsx)(e.li,{children:"接入撤销/重做状态"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["使用 ",(0,r.jsx)(e.code,{children:"useClientContext()"})," 获取 ",(0,r.jsx)(e.code,{children:"history"}),"，并监听 ",(0,r.jsx)(e.code,{children:"history.undoRedoService.onChange"})," 更新工具栏中的 ",(0,r.jsx)(e.code,{children:"Undo/Redo"})," 可用态。"]}),"\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"use-editor-props.tsx"})," 中确保开启历史：",(0,r.jsx)(e.code,{children:"history.enable = true"})," 与 ",(0,r.jsx)(e.code,{children:"history.enableChangeNode = true"}),"，使撤销/重做对节点数据与布局变更生效。"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"4",children:["\n",(0,r.jsx)(e.li,{children:"自定义迷你地图（可选）"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["使用 ",(0,r.jsx)(e.code,{children:"MinimapRender"})," 并自定义容器样式，将缩略图固定在左下角，避免遮挡主要交互区域。"]}),"\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"use-editor-props.tsx"})," 中为迷你地图插件传入：",(0,r.jsx)(e.code,{children:"disableLayer: true"})," 与 ",(0,r.jsx)(e.code,{children:"canvasStyle"}),"（",(0,r.jsx)(e.code,{children:"canvasWidth/canvasHeight/canvasPadding"}),"），获得紧凑的缩略图尺寸与边距。"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"5",children:["\n",(0,r.jsx)(e.li,{children:"保持前述功能"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"NodeRender"})," 继续通过 ",(0,r.jsx)(e.code,{children:"form?.render()"})," 渲染表单字段，并提供删除按钮；",(0,r.jsx)(e.code,{children:"Adder"})," 支持一键新增 ",(0,r.jsx)(e.code,{children:"custom"})," 节点；",(0,r.jsx)(e.code,{children:"node-registries.tsx"})," 中维持 ",(0,r.jsx)(e.code,{children:"condition/custom"})," 类型注册；",(0,r.jsx)(e.code,{children:"initial-data.ts"})," 中包含 ",(0,r.jsx)(e.code,{children:"start → condition(三分支) → end"})," 的示例流程。"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"预期效果:"}),"\n",(0,r.jsxs)(e.p,{children:["• 画面左下角出现工具栏，支持 ",(0,r.jsx)(e.code,{children:"ZoomIn/ZoomOut"}),"、",(0,r.jsx)(e.code,{children:"FitView"}),"、",(0,r.jsx)(e.code,{children:"ChangeLayout"})," 等常用操作，并实时显示缩放比例；",(0,r.jsx)(e.code,{children:"Undo/Redo"})," 按钮会根据历史状态联动更新。"]}),"\n",(0,r.jsx)(e.p,{children:"• 左下角同时展示自定义样式的迷你地图，可点击/拖拽缩略图快速定位主画布；结合工具栏形成完整的编辑工具区，操作更高效。"}),"\n"]}),"\n",(0,r.jsx)(o.B,{files:{"/App.tsx":w,"/use-editor-props.tsx":b,"/initial-data.ts":A,"/node-registries.tsx":F,"/node-render.tsx":R,"/adder.tsx":S,"/tools.tsx":E,"/minimap.tsx":C}}),"\n",(0,r.jsxs)(e.h2,{id:"step8---了解更多",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#step8---了解更多",children:"#"}),"Step.8 - 了解更多"]}),"\n",(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginTop:"1rem"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(e.p,{children:"了解更多固定布局用法"}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"/guide/fixed-layout/load.html",children:"加载与保存"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"/guide/fixed-layout/node.html",children:"节点"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"/guide/fixed-layout/composite-nodes.html",children:"复合节点"})}),"\n"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(e.p,{children:"了解 FlowGram.AI 更多功能"}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"/guide/form/form.html",children:"表单"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"/guide/variable/basic.html",children:"变量"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"/materials/introduction.html",children:"物料"})}),"\n"]})]})]})]})}function D(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.a)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(P,{...s})}):P(s)}D.__RSPRESS_PAGE_META={},D.__RSPRESS_PAGE_META["zh%2Fguide%2Fgetting-started%2Ffixed-layout.mdx"]={toc:[{id:"step0---安装依赖",text:"Step.0 - 安装依赖",depth:2},{id:"step1---引入画布组件",text:"Step.1 - 引入画布组件",depth:2},{id:"step2---实现节点组件",text:"Step.2 - 实现节点组件",depth:2},{id:"step3---自定义添加节点组件与删除节点按钮",text:"Step.3 - 自定义添加节点组件与删除节点按钮",depth:2},{id:"step4---引入插件",text:"Step.4 - 引入插件",depth:2},{id:"step5---拆分文件",text:"Step.5 - 拆分文件",depth:2},{id:"step6---接入表单与历史记录",text:"Step.6 - 接入表单与历史记录",depth:2},{id:"step7---创建工具栏",text:"Step.7 - 创建工具栏",depth:2},{id:"step8---了解更多",text:"Step.8 - 了解更多",depth:2}],title:"固定布局",headingTitle:"固定布局",frontmatter:{}}}}]);