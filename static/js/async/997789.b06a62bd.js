"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["997789"],{594520:function(e,s,n){n.r(s),n.d(s,{default:()=>h});var r=n(110239),l=n(437562),i=n(944529),a=n(599078);function o(e){let s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"displayflowvalue",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#displayflowvalue",children:"#"}),"DisplayFlowValue"]}),"\n",(0,r.jsxs)(s.p,{children:["DisplayFlowValue 是一个用于可视化展示 ",(0,r.jsx)(s.a,{href:"/materials/common/flow-value.html",children:"Flow Value"})," 数据类型的组件，它能够根据 Flow Value 的类型推断出相应的 JSON Schema，并通过友好的界面展示给用户。"]}),"\n",(0,r.jsxs)(s.h2,{id:"案例演示",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#案例演示",children:"#"}),"案例演示"]}),"\n",(0,r.jsxs)(s.h3,{id:"基本使用",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#基本使用",children:"#"}),"基本使用"]}),"\n",(0,r.jsx)(a.w,{}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"form-meta.tsx",children:(0,r.jsxs)(s.code,{className:"language-tsx",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" formMeta"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  render"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <>"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"dynamic_value_input"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"DynamicValueInput"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value} "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"onChange"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{(value) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".onChange"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(value)} />"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        )}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"dynamic_value_input"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        {({ field }) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"DisplayFlowValue"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" value"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value} "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"title"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Display Flow Value"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />}"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Field"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </>"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,r.jsxs)(s.h2,{id:"api-参考",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#api-参考",children:"#"}),"API 参考"]}),"\n",(0,r.jsxs)(s.h3,{id:"props",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#props",children:"#"}),"Props"]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"属性名"}),(0,r.jsx)(s.th,{children:"类型"}),(0,r.jsx)(s.th,{children:"必填"}),(0,r.jsx)(s.th,{children:"默认值"}),(0,r.jsx)(s.th,{children:"描述"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"value"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"IFlowValue"})}),(0,r.jsx)(s.td,{children:"否"}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"要显示的 Flow Value 数据"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"title"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"string | JSX.Element"})}),(0,r.jsx)(s.td,{children:"否"}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"显示在标签上的标题文本"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"showIconInTree"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"boolean"})}),(0,r.jsx)(s.td,{children:"否"}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"是否在 Schema 树中显示图标"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"typeManager"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"JsonSchemaTypeManager"})}),(0,r.jsx)(s.td,{children:"否"}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"用于获取类型显示信息的管理器"})]})]})]}),"\n",(0,r.jsxs)(s.h2,{id:"源码导读",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#源码导读",children:"#"}),"源码导读"]}),"\n",(0,r.jsx)(i.ZB,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/materials/form-materials/src/components/display-flow-value"}),"\n",(0,r.jsx)(s.p,{children:"使用 CLI 命令可以复制源代码到本地："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables has-highlighted",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsx)(s.code,{className:"language-bash",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npx"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" @flowgram.ai/cli@latest"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" materials"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" components/display-flow-value"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"核心实现说明",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#核心实现说明",children:"#"}),"核心实现说明"]}),"\n",(0,r.jsx)(s.p,{children:"DisplayFlowValue 组件的主要功能是将 Flow Value 转换为 JSON Schema 并可视化展示。核心实现包括："}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"类型推断"}),"：根据不同类型的 Flow Value 推断出对应的 JSON Schema"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"对于引用类型，从作用域中获取变量的类型信息"}),"\n",(0,r.jsx)(s.li,{children:"对于模板类型，默认推断为字符串类型"}),"\n",(0,r.jsx)(s.li,{children:"对于常量类型，根据常量值推断其类型"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"可视化展示"}),"：通过 DisplaySchemaTag 组件展示推断出的 Schema"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"使用半 UI 的 Popover 和 Tag 组件"}),"\n",(0,r.jsx)(s.li,{children:"点击标签可以查看详细的 Schema 树形结构"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"错误处理"}),"：当引用类型指向的变量不存在时，会显示警告颜色"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"依赖梳理",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#依赖梳理",children:"#"}),"依赖梳理"]}),"\n",(0,r.jsxs)(s.h4,{id:"flowgram-api",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#flowgram-api",children:"#"}),"flowgram API"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/common/json-schema",rel:"noopener noreferrer",target:"_blank",children:(0,r.jsx)(s.strong,{children:"@flowgram.ai/json-schema"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"JsonSchemaTypeManager"}),": 用于获取类型显示信息"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"JsonSchemaUtils"}),": 提供 JSON Schema 相关的工具函数"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://github.com/bytedance/flowgram.ai/tree/main/packages/client/editor",rel:"noopener noreferrer",target:"_blank",children:(0,r.jsx)(s.strong,{children:"@flowgram.ai/editor"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"useScopeAvailable"}),": 获取当前作用域中可用的变量"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"其他物料",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#其他物料",children:"#"}),"其他物料"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/materials/components/display-schema-tag.html",children:(0,r.jsx)(s.strong,{children:"DisplaySchemaTag"})})," 用于展示 JSON Schema 的标签组件"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/materials/common/flow-value.html",children:(0,r.jsx)(s.strong,{children:"FlowValueUtils"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/materials/common/flow-value.html#schema-%E6%8E%A8%E6%96%AD%E5%87%BD%E6%95%B0",children:"FlowValueUtils.inferJsonSchema"})}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"第三方库",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#第三方库",children:"#"}),"第三方库"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://semi.design/zh-CN/",rel:"noopener noreferrer",target:"_blank",children:(0,r.jsx)(s.strong,{children:"Semi UI"})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Popover"}),": 弹出框组件"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Tag"}),": 标签组件"]}),"\n"]})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,l.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["zh%2Fmaterials%2Fcomponents%2Fdisplay-flow-value.mdx"]={toc:[{id:"案例演示",text:"案例演示",depth:2},{id:"基本使用",text:"基本使用",depth:3},{id:"api-参考",text:"API 参考",depth:2},{id:"props",text:"Props",depth:3},{id:"源码导读",text:"源码导读",depth:2},{id:"核心实现说明",text:"核心实现说明",depth:3},{id:"依赖梳理",text:"依赖梳理",depth:3},{id:"flowgram-api",text:"flowgram API",depth:4},{id:"其他物料",text:"其他物料",depth:4},{id:"第三方库",text:"第三方库",depth:4}],title:"DisplayFlowValue",headingTitle:"DisplayFlowValue",frontmatter:{}}},599078:function(e,s,n){n.d(s,{w:()=>c});var r=n(110239),l=n(908600),i=n(640898),a=n(132288);let o=l.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("838147"),n.e("933451"),n.e("942362"),n.e("254129"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("378665"),n.e("760499")]).then(n.bind(n,129148)).then(e=>({default:e.DynamicValueInput}))),h=l.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("838147"),n.e("933451"),n.e("942362"),n.e("254129"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("378665"),n.e("760499")]).then(n.bind(n,129148)).then(e=>({default:e.DisplayFlowValue}))),c=()=>(0,r.jsx)(a.y,{filterEndNode:!0,transformInitialNode:{custom_0:e=>(e.data.dynamic_value_input={type:"constant",content:"Hello World"},e)},formMeta:{render:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.p,{}),(0,r.jsx)(i.gNt,{name:"dynamic_value_input",children:e=>{let{field:s}=e;return(0,r.jsx)(o,{value:s.value,onChange:e=>s.onChange(e)})}}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{children:(0,r.jsx)(i.gNt,{name:"dynamic_value_input",children:e=>{let{field:s}=e;return console.log("debugger field value",s),(0,r.jsx)(h,{value:s.value,title:"Display Flow Value"})}})})]})}})},132288:function(e,s,n){n.d(s,{p:()=>a,y:()=>o});var r=n(110239),l=n(908600);let i=l.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("933451"),n.e("254129"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("690536")]).then(n.bind(n,654296)).then(e=>({default:e.FreeFormMetaStoryBuilder}))),a=l.lazy(()=>Promise.all([n.e("386212"),n.e("133914"),n.e("227692"),n.e("933451"),n.e("254129"),n.e("428647"),n.e("135691"),n.e("46854"),n.e("690536")]).then(n.bind(n,654296)).then(e=>({default:e.FormHeader}))),o=e=>(0,r.jsx)("div",{style:{position:"relative",height:e.height||400},children:(0,r.jsx)(i,{...e})})}}]);