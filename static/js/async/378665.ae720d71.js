"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["378665"],{744596:function(e,t,n){n.d(t,{K:()=>d});var l=n(110239);n(908600);var r=n(653378),i=n(499164),a=n(857527),o=n(510165),s=n(244359);function d(e){var t;let{value:n={operator:"assign"},onChange:d,onDelete:c,readonly:u}=e;return(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,l.jsx)("div",{style:{width:150,minWidth:150,maxWidth:150},children:(null==n?void 0:n.operator)==="assign"?(0,l.jsx)(a.NB,{style:{width:"100%",height:26},value:null==n||null==(t=n.left)?void 0:t.content,config:{placeholder:"Select Left"},onChange:e=>null==d?void 0:d({...n,left:{type:"ref",content:e}})}):(0,l.jsx)(s.A,{style:{height:26},size:"small",placeholder:"Input Name",value:null==n?void 0:n.left,onChange:e=>null==d?void 0:d({...n,left:e})})}),(0,l.jsx)("div",{style:{flexGrow:1},children:(0,l.jsx)(o.t,{readonly:u,value:null==n?void 0:n.right,onChange:e=>null==d?void 0:d({...n,right:e})})}),c&&(0,l.jsx)("div",{children:(0,l.jsx)(r.IconButton,{size:"small",theme:"borderless",icon:(0,l.jsx)(i.Z,{}),onClick:()=>null==c?void 0:c()})})]})}},986377:function(e,t,n){n.d(t,{H:()=>s});var l=n(110239);n(908600);var r=n(950454),i=n(653378),a=n(633988),o=n(744596);function s(e){let{name:t,readonly:n}=e;return(0,l.jsx)(r.F26,{name:t,children:e=>{let{field:t}=e;return(0,l.jsxs)(l.Fragment,{children:[t.map((e,r)=>(0,l.jsx)(o.K,{readonly:n,value:e.value,onChange:t=>{e.onChange(t)},onDelete:()=>t.remove(r)},e.key)),(0,l.jsxs)("div",{style:{display:"flex",gap:5},children:[(0,l.jsx)(i.Button,{size:"small",theme:"borderless",icon:(0,l.jsx)(a.Z,{}),onClick:()=>t.append({operator:"assign"}),children:"Assign"}),(0,l.jsx)(i.Button,{size:"small",theme:"borderless",icon:(0,l.jsx)(a.Z,{}),onClick:()=>t.append({operator:"declare"}),children:"Declaration"})]})]})}})}},332208:function(e,t,n){n.d(t,{U:()=>c});var l=n(110239);n(908600);var r=n(950454),i=n(653378),a=n(551503),o=n(633988),s=n(393767),d=n(857527);function c(e){let{readonly:t,style:n}=e,{list:c,add:u,updateKey:p,updateValue:v,remove:h}=(0,s.S)(e);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"gedit-m-batch-outputs-rows",style:n,children:c.map(e=>{var n;return(0,l.jsxs)("div",{className:"gedit-m-batch-outputs-row",children:[(0,l.jsx)(i.Input,{style:{width:100},disabled:t,size:"small",value:e.key,onChange:t=>p(e.id,t)}),(0,l.jsx)(d.NB,{style:{flexGrow:1},readonly:t,value:null==(n=e.value)?void 0:n.content,onChange:t=>v(e.id,{type:"ref",content:t})}),(0,l.jsx)(i.Button,{disabled:t,icon:(0,l.jsx)(a.Z,{}),size:"small",onClick:()=>h(e.id)})]},e.id)})}),(0,l.jsx)(i.Button,{disabled:t,icon:(0,l.jsx)(o.Z,{}),size:"small",onClick:()=>u(),children:r.oci.t("Add")})]})}n(524161)},683411:function(e,t,n){n.d(t,{u:()=>o});var l=n(110239);n(908600);var r=n(950454),i=n(857527);let a={type:"array",extra:{weak:!0}};function o(e){return(0,l.jsx)(r._cB,{children:(0,l.jsx)(i.W3,{...e,includeSchema:a})})}},168059:function(e,t,n){n.d(t,{T:()=>a,y:()=>i});var l=n(669386),r=n(370516);let i=()=>Promise.all([n.e("363844"),n.e("662322"),n.e("279539")]).then(n.bind(n,984654)).then(e=>{l.Mj.register("typescript",e.typescript);let t=new Worker(new URL(n.p+n.u("780328"),n.b),Object.assign({},{type:"module"},{type:void 0}));e.typescript.languageService.initialize(t,{compilerOptions:{lib:["es2015","dom"],noImplicitAny:!1}})}),a=(0,r.h)(i,{displayName:"TypeScriptCodeEditor",fixLanguageId:"typescript"})},688660:function(e,t,n){n.d(t,{AC:()=>a,UE:()=>i,vI:()=>o});var l=n(908600),r=n(843091);let i=(0,r.f)((0,l.lazy)(()=>Promise.all([n.e("942362"),n.e("1831")]).then(n.bind(n,866146)).then(e=>({default:e.VariableTree}))),{renderKey:"EditorVariableTree"}),a=(0,r.f)((0,l.lazy)(()=>Promise.all([n.e("386212"),n.e("273660")]).then(n.bind(n,916450)).then(e=>({default:e.VariableTagInject}))),{renderKey:"EditorVariableTagInject"}),o=(0,r.f)((0,l.lazy)(()=>Promise.all([n.e("942362"),n.e("475385")]).then(n.bind(n,591718)).then(e=>({default:e.InputsTree}))),{renderKey:"EditorInputsTree"})},795486:function(e,t,n){n.d(t,{t:()=>d});var l=n(110239),r=n(908600),i=n(937643),a=n(950454),o=n(687252),s=n(993700);function d(e){let{value:t,title:n,showIconInTree:d}=e,c=(0,a.rVg)(),u=(null==t?void 0:t.type)==="ref"?c.getByKeyPath(null==t?void 0:t.content):void 0,p=(0,r.useMemo)(()=>(null==t?void 0:t.type)==="ref"?i.Kz.astToSchema(null==u?void 0:u.type):(null==t?void 0:t.type)==="template"?{type:"string"}:(null==t?void 0:t.type)==="constant"?o.U.inferConstantJsonSchema(t):{type:"unknown"},[t,null==u?void 0:u.hash]);return(0,l.jsx)(s.s,{title:n,value:p,showIconInTree:d,warning:(null==t?void 0:t.type)==="ref"&&!u})}},221191:function(e,t,n){n.d(t,{l:()=>u,y:()=>c});var l=n(110239),r=n(908600),i=n(111886),a=n(950454),o=n(687252),s=n(795486);n(703295);var d=n(993700);function c(e){let{value:t,showIconInTree:n}=e,r=Object.entries(t||{});return(0,l.jsx)("div",{className:"gedit-m-display-inputs-wrapper",children:r.map(e=>{let[t,r]=e;return o.U.isFlowValue(r)?(0,l.jsx)(s.t,{title:t,value:r,showIconInTree:n},t):(0,i.Z)(r)?(0,l.jsx)(u,{title:t,value:r,showIconInTree:n},t):null})})}function u(e){let{value:t,title:n,showIconInTree:i}=e,s=(0,a.rVg)(),c=(0,r.useMemo)(()=>o.U.inferJsonSchema(t,s.scope),[s.version,t]);return(0,l.jsx)(d.s,{title:n,value:c,showIconInTree:i})}},746640:function(e,t,n){n.d(t,{L:()=>s});var l=n(110239),r=n(908600),i=n(937643),a=n(950454),o=n(993700);function s(e){let{value:t,showIconInTree:n,displayFromScope:s}=e,d=(0,a.$eD)(),c=(0,a.JAk)();(0,r.useEffect)(()=>{if(!s||!d)return()=>null;let e=d.output.onListOrAnyVarChange(()=>{c()});return()=>{e.dispose()}},[s]);let u=Object.entries((s?((null==d?void 0:d.output.variables)||[]).reduce((e,t)=>{var n;return e={...e,...(null==(n=i.Kz.astToSchema(t.type))?void 0:n.properties)||{}}},{}):(null==t?void 0:t.properties)||{})||{});return(0,l.jsx)("div",{className:"gedit-m-display-outputs-wrapper",children:u.map(e=>{let[t,r]=e;return(0,l.jsx)(o.s,{title:t,value:r,showIconInTree:n,warning:!r},t)})})}n(104576)},993700:function(e,t,n){n.d(t,{s:()=>s});var l=n(110239),r=n(908600),i=n(653378),a=n(164910),o=n(143768);function s(e){let{value:t={},showIconInTree:n,title:s,warning:d}=e,c=(0,a.M)(),u=(null==c?void 0:c.getDisplayIcon(t))||c.getDisplayIcon({type:"unknown"});return(0,l.jsx)(i.Popover,{content:(0,l.jsx)("div",{className:"gedit-m-display-schema-tag-popover-content",children:(0,l.jsx)(o.u,{value:t,typeManager:c,showIcon:n})}),children:(0,l.jsxs)(i.Tag,{color:d?"amber":"white",className:"gedit-m-display-schema-tag-tag",children:[u&&r.cloneElement(u,{className:"tag-icon"}),s&&(0,l.jsx)("span",{className:"gedit-m-display-schema-tag-title",children:s})]})})}n(537827)},143768:function(e,t,n){n.d(t,{u:()=>a});var l=n(110239),r=n(908600),i=n(937643);function a(e){return(0,l.jsx)(o,{...e})}function o(e){let{value:t={},drilldown:n=!0,depth:a=0,showIcon:s=!0,parentKey:d=""}=e||{},c=(0,i.MT)(),u=c.getTypeBySchema(t),p=c.getComplexText(t),v=null==c?void 0:c.getDisplayIcon(t),h=Object.entries((n&&u?u.getTypeSchemaProperties(t):{})||{});return(0,l.jsxs)("div",{className:`gedit-m-display-schema-tree-item depth-${a}`,children:[(0,l.jsxs)("div",{className:"gedit-m-display-schema-tree-row",children:[0!==a&&(0,l.jsx)("div",{className:"gedit-m-display-schema-tree-horizontal-line"}),s&&v&&r.cloneElement(v,{className:"tree-icon"}),(0,l.jsx)("div",{className:"gedit-m-display-schema-tree-title",children:d?(0,l.jsxs)(l.Fragment,{children:[`${d} (`,p,")"]}):p})]}),(null==h?void 0:h.length)?(0,l.jsx)("div",{className:"gedit-m-display-schema-tree-level",children:h.map(t=>{let[n,r]=t;return(0,l.jsx)(o,{...e,parentKey:n,value:r,depth:a+1},n)})}):null]},d||"root")}n(216006)},800274:function(e,t,n){n.d(t,{s:()=>l});let l=(0,n(47430).d)(()=>n.e("642722").then(n.bind(n,499576)).then(e=>({default:e.JsonEditorWithVariables})))},637298:function(e,t,n){n.d(t,{B:()=>a});var l=n(110239);n(908600);var r=n(794297),i=n(688660);function a(e){return(0,l.jsxs)(r.Q,{...e,children:[(0,l.jsx)(i.UE,{}),(0,l.jsx)(i.AC,{})]})}},794297:function(e,t,n){n.d(t,{Q:()=>l});let l=(0,n(47430).d)(()=>Promise.all([n.e("386212"),n.e("913667"),n.e("942362"),n.e("905761"),n.e("609033")]).then(n.bind(n,130460)).then(e=>({default:e.PromptEditor})))},316374:function(e,t,n){n.d(t,{l:()=>r});var l=n(950454);let r=(0,l.W2M)({private:!0,parse:(e,t)=>{var n,r;return[l.qRT.createVariableDeclaration({key:`${t.node.id}_locals`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(r=t.node.getNodeRegistry().info)?void 0:r.icon},type:l.qRT.createObject({properties:[l.qRT.createProperty({key:"item",initializer:l.qRT.createEnumerateExpression({enumerateFor:l.qRT.createKeyPathExpression({keyPath:e.content||[]})})}),l.qRT.createProperty({key:"index",type:l.qRT.createNumber()})]})})]}})},48557:function(e,t,n){n.d(t,{F:()=>o,m:()=>a});var l=n(383909),r=n(937643),i=n(950454);let a=(0,i.W2M)({parse:(e,t)=>{var n,l;return[i.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(l=t.node.getNodeRegistry().info)?void 0:l.icon},type:i.qRT.createObject({properties:Object.entries(e).map(e=>{let[t,n]=e;return i.qRT.createProperty({key:t,initializer:i.qRT.createWrapArrayExpression({wrapFor:i.qRT.createKeyPathExpression({keyPath:(null==n?void 0:n.content)||[]})})})})})})]}}),o=(0,i.CR5)({name:"batch-outputs-plugin",onSetupFormMeta(e,t){let{mergeEffect:n,addFormatOnSubmit:o}=e,{outputKey:s,inferTargetKey:d}=t;n({[s]:a}),d&&o((e,t)=>{var n;let a=null==(n=(0,i.k6H)(t.node).output.variables)?void 0:n[0];return(null==a?void 0:a.type)&&(0,l.Z)(e,d,r.Kz.astToSchema(null==a?void 0:a.type)),e})},onInit(e,t){let{outputKey:n}=t,l=e.node.getService(i.Aub),r=e.node.flowNodeType,a=`${r}-outputs`;l.hasTransformer(a)||l.registerTransformer(a,{transformCovers:(e,t)=>{var n,l;let a=null==(n=t.scope.meta)?void 0:n.node;return(null==a||null==(l=a.parent)?void 0:l.flowNodeType)===r?[...e,(0,i.k6H)(a.parent)]:e},transformDeps(e,t){let n=t.scope.meta;if((null==n?void 0:n.type)===i.loc.private)return e;let l=null==n?void 0:n.node;if((null==l?void 0:l.flowNodeType)===r){let e=l.blocks;return[(0,i.u$R)(l),...e.map(e=>(0,i.k6H)(e))]}return e}})}})},769424:function(e,t,n){n.d(t,{n:()=>s});var l=n(689478),r=n(241787),i=n(383909),a=n(937643),o=n(950454);let s=(0,o.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,mergeEffect:s}=e,{assignKey:d,outputKey:c}=t;d&&c&&(s({[d]:(0,o.W2M)({parse:(e,t)=>{var n,i,s;let d=(s=e.filter(e=>"declare"===e.operator&&e.left&&e.right),s&&s.length?(0,r.Z)(s,(0,l.Z)("left",2)):[]);return[o.qRT.createVariableDeclaration({key:`${t.node.id}`,meta:{title:null==(n=t.node.form)?void 0:n.getValueIn("title"),icon:null==(i=t.node.getNodeRegistry().info)?void 0:i.icon},type:o.qRT.createObject({properties:d.map(e=>{var t,n,l,r;return o.qRT.createProperty({key:e.left,type:(null==(t=e.right)?void 0:t.type)==="constant"?a.Kz.schemaToAST((null==(n=e.right)?void 0:n.schema)||{}):void 0,initializer:(null==(l=e.right)?void 0:l.type)==="ref"?o.qRT.createKeyPathExpression({keyPath:(null==(r=e.right)?void 0:r.content)||[]}):{}})})})})]}})}),n((e,t)=>{var n,l;return(0,i.Z)(e,c,a.Kz.astToSchema(null==(l=(0,o.k6H)(t.node).output.variables)||null==(n=l[0])?void 0:n.type)),e}))}})},401255:function(e,t,n){n.d(t,{k:()=>c});var l=n(969134),r=n(383909),i=n(492320),a=n(631952),o=n(950454),s=n(687252);let{produce:d}=new a.Ve({autoFreeze:!1}),c=(0,o.CR5)({onSetupFormMeta(e,t){let{addFormatOnSubmit:n,addFormatOnInit:a}=e,{sourceKey:c,targetKey:u,scope:p,ignoreConstantSchema:v}=t;c&&u&&(n((e,t)=>d(e,n=>{let a=(0,l.Z)(e,c);if((0,r.Z)(n,u,s.U.inferJsonSchema(a,"private"===p?(0,o.u$R)(t.node):(0,o.k6H)(t.node))),v)for(let{value:t,path:n}of s.U.traverse(a,{includeTypes:["constant"]}))s.U.isConstant(t)&&(null==t?void 0:t.schema)&&(0,r.Z)(e,`${c}.${n}`,(0,i.Z)(t,["schema"]))})),v&&a((e,t)=>{let n=(0,l.Z)(e,u);if(!n)return e;for(let{value:t,pathArr:i}of s.U.traverse((0,l.Z)(e,c),{includeTypes:["constant"]}))if(s.U.isConstant(t)&&!(null==t?void 0:t.schema)){let e=i.map(e=>`properties.${e}`).join("."),a=(0,l.Z)(n,e);a&&(0,r.Z)(t,"schema",a)}return e}))}})}}]);